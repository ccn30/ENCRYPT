Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5522415
======
Time: Wed Oct 14 11:26:40 BST 2020
Running on master node: wbic-csm-5
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-csm-5

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 26395/20200921_U-ID49971 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 48: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original: No such file or directory
ASHS started at 11:26:40
ashs_main execution log
  timestamp:   Wed Oct 14 11:26:40 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26395 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=26395
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.R8gOH7T4/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.R8gOH7T4/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3096.75   GNORM= 51.9362
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3135.667      28.334       0.019
   2    3     -3154.506      16.276       1.000
   3    4     -3158.846      11.274       1.000
   4    5     -3161.216       6.002       1.000
   5    6     -3162.022       2.945       1.000
   6    7     -3162.346       1.747       1.000
   7    8     -3162.431       1.200       1.000
   8    9     -3162.462       0.715       1.000
   9   11     -3162.469       0.731       0.397
  10   12     -3162.472       0.520       1.000
  11   13     -3162.474       0.433       1.000
  12   14     -3162.475       0.201       1.000
  13   15     -3162.475       0.367       1.000
  14   17     -3162.476       0.452       0.444
  15   19     -3162.477       0.522       0.274
  16   20     -3162.478       0.490       1.000
  17   22     -3162.479       0.495       0.225
  18   23     -3162.481       0.457       1.000
  19   25     -3162.482       0.472       0.376
  20   26     -3162.484       0.341       1.000
  21   29     -3162.484       0.252       0.026
  22   30     -3162.484       0.304       1.000
  23   31     -3162.484       0.143       1.000
  24   34     -3162.484       0.141       0.050
  25   35     -3162.484       0.115       1.000
  26   36     -3162.484       0.127       1.000
  27   38     -3162.484       0.117       0.262
  28   39     -3162.484       0.110       1.000
  29   41     -3162.485       0.089       0.503
  30   42     -3162.485       0.076       1.000
  31   43     -3162.485       0.120       1.000
  32   44     -3162.485       0.105       1.000
  33   45     -3162.485       0.111       1.000
  34   47     -3162.485       0.152       0.234
  35   50     -3162.485       0.096       2.662
  36   52     -3162.485       0.076       0.094
  37   54     -3162.485       0.093       0.072
  38   55     -3162.485       0.090       1.000
  39   56     -3162.485       0.143       1.000
  40   57     -3162.485       0.141       1.000
  41   59     -3162.485       0.096       0.293
  42   61     -3162.485       0.140       5.000
  43   64     -3162.485       0.201       2.543
  44   66     -3162.485       0.058       0.299
  45   69     -3162.485       0.063       1.699
  46   72     -3162.485       0.076       0.035
  47   77     -3162.485       0.063       0.105
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999829 0.00564933 0.0176001 -0.440296 
-0.00586903 0.999905 0.012456 -0.4234 
-0.0175281 -0.0125572 0.999768 2.12521 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3008.54   GNORM= 87.1144
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3081.313      52.458       0.011
   2    4     -3102.540      14.996       0.399
   3    5     -3105.238      13.024       1.000
   4    6     -3110.246      13.163       1.000
   5    8     -3110.671       6.669       0.160
   6    9     -3110.869       2.263       1.000
   7   10     -3110.905       1.456       1.000
   8   11     -3110.944       1.612       1.000
   9   12     -3111.011       1.369       1.000
  10   13     -3111.032       1.730       1.000
  11   15     -3111.049       1.665       0.495
  12   16     -3111.063       0.427       1.000
  13   17     -3111.065       0.384       1.000
  14   18     -3111.065       0.249       1.000
  15   19     -3111.065       0.169       1.000
  16   21     -3111.065       0.080       0.208
  17   22     -3111.065       0.148       1.000
  18   24     -3111.065       0.186       0.152
  19   25     -3111.066       0.186       1.000
  20   26     -3111.066       0.110       1.000
  21   27     -3111.066       0.050       1.000
  22   28     -3111.066       0.039       1.000
  23   29     -3111.066       0.059       1.000
  24   30     -3111.066       0.060       1.000
  25   32     -3111.066       0.040       0.302
  26   33     -3111.066       0.039       1.000
  27   35     -3111.066       0.015       0.509
  28   37     -3111.066       0.005       0.303
  29   39     -3111.066       0.009       0.393
  30   40     -3111.066       0.003       1.000
  31   41     -3111.066       0.008       1.000
  32   42     -3111.066       0.015       1.000
  33   43     -3111.066       0.009       1.000
  34   44     -3111.066       0.004       1.000
  35   46     -3111.066       0.004       0.324
  36   47     -3111.066       0.005       1.000
  37   48     -3111.066       0.004       1.000
  38   49     -3111.066       0.008       1.000
  39   51     -3111.066       0.007       0.195
  40   53     -3111.066       0.007       5.000
  41   55     -3111.066       0.008       0.235
  42   56     -3111.066       0.007       1.000
  43   57     -3111.066       0.003       1.000
  44   60     -3111.066       0.003       1.413
  45   64     -3111.066       0.007       0.033
  46   67     -3111.066       0.008       0.021
  47   69     -3111.066       0.007       0.350
  48   71     -3111.066       0.003       0.276
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999958 0.00190551 0.00898807 -0.143678 
-0.00207332 0.999823 0.0186983 -0.467332 
-0.00895085 -0.0187162 0.999785 0.693526 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2914.83   GNORM= 160.772
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2944.698     126.337       0.006
   2    3     -2969.204      22.043       1.000
   3    4     -2969.726       8.581       1.000
   4    5     -2969.833       6.513       1.000
   5    6     -2970.195       8.371       1.000
   6    7     -2970.793      16.573       1.000
   7    8     -2971.668      20.698       1.000
   8    9     -2972.629      12.379       1.000
   9   10     -2972.714      11.571       1.000
  10   11     -2972.936       2.993       1.000
Final RAS Transform: 
0.999971 -5.93579e-05 0.00759483 -0.0871441 
-6.66634e-05 0.999862 0.0165917 -0.299279 
-0.00759477 -0.0165917 0.999834 -0.0177028 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.465
Rigid search -> Initial best: -591.37 0 0 0 -6.64918 10.431 42.4201
New best: -712.53 -0.0529471 -0.0035953 0.000703522 0.649827 15.3198 46.7045
New best: -746.715 0.0810471 0.015444 0.120831 0.755196 8.32414 43.9509
New best: -822.243 0.0215754 -0.0110612 -0.00451291 -4.71033 5.53748 48.2483
New best: -980.701 0.00395457 0.154734 -0.0127856 4.47328 3.13818 47.5419
New best: -1051.45 -0.0695452 0.0781099 -0.00469067 1.91486 4.86386 52.732
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1051.45   GNORM= 42.1605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1089.001      35.190       0.024
   2    3     -1130.616      40.127       1.000
   3    4     -1181.386       8.899       1.000
   4    5     -1184.131       5.771       1.000
   5    6     -1185.542       5.593       1.000
   6    7     -1186.137       5.965       1.000
   7    8     -1186.947       2.624       1.000
   8    9     -1186.989       2.947       1.000
   9   10     -1187.141       2.076       1.000
  10   11     -1187.482       4.382       1.000
  11   15     -1188.325       3.810       1.492
  12   17     -1188.444       3.395       0.084
  13   19     -1188.498       4.508       0.161
  14   21     -1189.021       5.762       0.394
  15   22     -1189.106       4.726       1.000
  16   23     -1189.549       3.290       1.000
  17   25     -1189.640       1.578       0.359
  18   26     -1189.668       1.197       1.000
  19   27     -1189.676       0.633       1.000
  20   28     -1189.679       0.382       1.000
  21   29     -1189.680       0.211       1.000
  22   31     -1189.680       0.219       0.246
  23   32     -1189.680       0.195       1.000
  24   33     -1189.680       0.221       1.000
  25   35     -1189.680       0.172       0.328
  26   36     -1189.680       0.078       1.000
  27   37     -1189.680       0.147       1.000
  28   38     -1189.680       0.085       1.000
  29   39     -1189.680       0.083       1.000
  30   41     -1189.680       0.159       0.117
  31   42     -1189.680       0.146       1.000
  32   43     -1189.680       0.049       1.000
  33   46     -1189.680       0.211       1.702
  34   49     -1189.680       0.167       0.051
  35   50     -1189.680       0.092       1.000
  36   52     -1189.680       0.072       0.341
  37   54     -1189.681       0.086       0.496
  38   56     -1189.681       0.070       0.228
  39   61     -1189.681       0.070       0.039
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 


real	0m59.839s
user	1m27.928s
sys	0m6.908s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.465
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1189.68   GNORM= 68.3757
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1242.995      42.959       0.015
   2    3     -1277.545      35.595       1.000
   3    4     -1292.309      25.260       1.000
   4    5     -1299.664      18.163       1.000
   5    6     -1307.245      11.375       1.000
   6    7     -1311.355      11.803       1.000
   7    9     -1312.253      11.863       0.164
   8   10     -1314.738      15.558       1.000
   9   11     -1320.429      14.343       1.000
  10   12     -1323.918      16.047       1.000
  11   13     -1328.385      11.569       1.000
  12   14     -1328.801      17.156       1.000
  13   15     -1333.185       7.971       1.000
  14   16     -1334.542       4.971       1.000
  15   17     -1334.946       5.331       1.000
  16   18     -1335.336       6.921       1.000
  17   19     -1336.728       5.136       1.000
  18   20     -1336.884       7.354       1.000
  19   21     -1337.058       4.486       1.000
  20   24     -1337.179       3.422       1.507
  21   28     -1337.243       2.907       1.267
  22   29     -1337.363       1.965       1.000
  23   30     -1337.394       1.921       1.000
  24   31     -1337.432       2.058       1.000
  25   32     -1337.449       2.055       1.000
  26   33     -1337.472       2.301       1.000
  27   35     -1337.475       1.853       0.064
  28   36     -1337.479       0.682       1.000
  29   37     -1337.481       0.727       1.000
  30   39     -1337.482       0.767       0.016
  31   46     -1337.482       1.794       0.119
  32   48     -1337.484       6.084       0.541
  33   49     -1337.494      31.920       1.000
  34   50     -1337.497       3.091       1.000
  35   54     -1337.501       1.836       3.878
  36   57     -1337.501       1.747       0.022
  37   58     -1337.504       0.972       1.000
  38   59     -1337.509       1.016       1.000
  39   62     -1337.513       1.531       0.118
  40   64     -1337.514       1.514       0.391
  41   66     -1337.517       2.287       0.339
  42   67     -1337.525       1.059       1.000
  43   69     -1337.529       1.644       0.296
  44   70     -1337.538       1.285       1.000
  45   72     -1337.550       1.720       5.000
  46   77     -1337.553       1.524       0.185
  47   78     -1337.560       2.125       1.000
  48   80     -1337.563       1.366       0.210
  49   82     -1337.565       1.285       0.214
  50   87     -1337.568       2.853       0.276
  51   88     -1337.572       1.240       1.000
  52   89     -1337.573       0.663       1.000
  53   90     -1337.575       0.878       1.000
  54   92     -1337.575       0.633       0.328
  55   93     -1337.575       0.509       1.000
  56   94     -1337.575       0.203       1.000
  57   95     -1337.575       0.168       1.000
  58   96     -1337.576       0.179       1.000
  59   98     -1337.576       0.420       0.226
  60   99     -1337.576       0.159       1.000
  61  101     -1337.576       0.210       0.501
  62  103     -1337.576       0.401       0.166
  63  104     -1337.576       0.508       1.000
  64  106     -1337.576       0.134       0.374
  65  107     -1337.576       0.158       1.000
  66  108     -1337.576       0.217       1.000
  67  109     -1337.576       0.223       1.000
  68  111     -1337.576       0.245       0.126
  69  113     -1337.576       0.225       0.497
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03765 0.0389976 0.112381 2.44519 
-0.0892824 1.00581 0.0163855 2.95347 
0.023991 0.0344722 0.968583 53.1711 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -649.896   GNORM= 19.2566
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -661.761       7.395       0.052
   2    3      -664.907       6.922       1.000
   3    4      -669.031       6.133       1.000
   4    6      -669.988       6.981       0.253
   5    7      -671.434       5.089       1.000
   6    8      -673.124       5.119       1.000
   7    9      -674.635       8.027       1.000
   8   10      -676.353       5.904       1.000
   9   11      -678.160       4.020       1.000
  10   12      -678.861       8.613       1.000
  11   13      -680.776       5.815       1.000
  12   14      -682.833       7.707       1.000
  13   15      -688.333       8.749       1.000
  14   17      -690.509       5.354       0.390
  15   18      -691.691       4.031       1.000
  16   20      -692.125       3.403       0.497
  17   22      -692.248       2.906       0.256
  18   23      -692.479       1.410       1.000
  19   24      -692.529       1.873       1.000
  20   26      -692.554       1.504       0.271
  21   27      -692.585       1.014       1.000
  22   28      -692.637       1.124       1.000
  23   30      -692.694       1.711       0.376
  24   32      -692.734       1.875       0.269
  25   33      -692.786       1.626       1.000
  26   35      -692.834       0.898       0.382
  27   36      -692.874       0.978       1.000
  28   37      -692.921       0.853       1.000
  29   39      -692.952       0.870       0.521
  30   40      -692.957       0.940       1.000
  31   43      -692.959       0.990       0.072
  32   44      -692.972       1.169       1.000
  33   46      -692.983       1.170       0.358
  34   48      -693.000       0.798       0.306
  35   50      -693.005       1.461       0.068
  36   51      -693.010       0.802       1.000
  37   55      -693.012       0.682       0.268
  38   56      -693.014       4.097       1.000
  39   58      -693.016       0.924       0.288
  40   59      -693.019       0.883       1.000
  41   60      -693.022       0.529       1.000
  42   62      -693.023       0.454       0.392
  43   63      -693.023       0.499       1.000
  44   64      -693.023       0.427       1.000
  45   69      -693.024       0.346       0.134
  46   73      -693.024       0.232       0.244
  47   75      -693.024       0.167       0.357
  48   76      -693.024       0.099       1.000
  49   77      -693.024       0.114       1.000
  50   78      -693.024       0.199       1.000
  51   79      -693.024       0.153       1.000
  52   80      -693.024       0.345       1.000
  53   81      -693.024       0.152       1.000
Final RAS Transform: 
1.03906 0.0795167 0.16453 0.984357 
-0.108357 0.993576 0.105889 0.510562 
-0.00109888 0.0293696 0.946817 52.2571 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -245.122   GNORM= 15.2115
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -257.996       9.524       0.066
   2    4      -262.987       7.504       0.417
   3    5      -265.873       7.169       1.000
   4    6      -272.094       7.608       1.000
   5    7      -274.693       6.013       1.000
   6    8      -275.690       3.760       1.000
   7    9      -277.200       6.610       1.000
   8   10      -277.891       4.060       1.000
   9   11      -278.457       1.560       1.000
  10   12      -278.653       1.311       1.000
  11   13      -278.853       2.455       1.000
  12   14      -279.109       1.591       1.000
  13   16      -279.235       1.345       0.301
  14   17      -279.240       1.941       1.000
  15   18      -279.332       1.034       1.000
  16   19      -279.360       1.057       1.000
  17   20      -279.421       2.382       1.000
  18   22      -279.465       1.671       0.246
  19   23      -279.547       2.174       1.000
  20   24      -279.817       7.229       1.000
  21   30      -279.817       1.709       0.001
  22   33      -279.841       1.251       2.015
  23   34      -279.858       1.357       1.000
  24   37      -279.868       1.190       0.085
  25   38      -279.898       3.141       1.000
  26   39      -279.908       0.711       1.000
  27   40      -279.921       1.007       1.000
  28   41      -279.930       0.831       1.000
Final RAS Transform: 
1.02839 0.0741968 0.162141 0.449897 
-0.100686 0.984738 0.1153 0.989167 
-0.0125548 0.0332108 0.917869 51.1691 
0 0 0 1 

Final RAS Transform: 
1.02839 0.0741968 0.162141 0.449897 
-0.100686 0.984738 0.1153 0.989167 
-0.0125548 0.0332108 0.917869 51.1691 
0 0 0 1 


real	3m23.291s
user	5m58.228s
sys	0m21.648s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 52.408
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =  -0.0003
Level     0,  Iter     1:    Energy =   0.0019
Level     0,  Iter     2:    Energy =   0.0046
Level     0,  Iter     3:    Energy =   0.0073
Level     0,  Iter     4:    Energy =   0.0098
Level     0,  Iter     5:    Energy =   0.0119
Level     0,  Iter     6:    Energy =   0.0141
Level     0,  Iter     7:    Energy =   0.0161
Level     0,  Iter     8:    Energy =   0.0177
Level     0,  Iter     9:    Energy =   0.0190
Level     0,  Iter    10:    Energy =   0.0203
Level     0,  Iter    11:    Energy =   0.0216
Level     0,  Iter    12:    Energy =   0.0228
Level     0,  Iter    13:    Energy =   0.0238
Level     0,  Iter    14:    Energy =   0.0245
Level     0,  Iter    15:    Energy =   0.0252
Level     0,  Iter    16:    Energy =   0.0262
Level     0,  Iter    17:    Energy =   0.0270
Level     0,  Iter    18:    Energy =   0.0279
Level     0,  Iter    19:    Energy =   0.0289
Level     0,  Iter    20:    Energy =   0.0299
Level     0,  Iter    21:    Energy =   0.0306
Level     0,  Iter    22:    Energy =   0.0310
Level     0,  Iter    23:    Energy =   0.0315
Level     0,  Iter    24:    Energy =   0.0322
Level     0,  Iter    25:    Energy =   0.0328
Level     0,  Iter    26:    Energy =   0.0334
Level     0,  Iter    27:    Energy =   0.0340
Level     0,  Iter    28:    Energy =   0.0346
Level     0,  Iter    29:    Energy =   0.0352
Level     0,  Iter    30:    Energy =   0.0357
Level     0,  Iter    31:    Energy =   0.0362
Level     0,  Iter    32:    Energy =   0.0364
Level     0,  Iter    33:    Energy =   0.0360
Level     0,  Iter    34:    Energy =   0.0363
Level     0,  Iter    35:    Energy =   0.0365
Level     0,  Iter    36:    Energy =   0.0366
Level     0,  Iter    37:    Energy =   0.0363
Level     0,  Iter    38:    Energy =   0.0366
Level     0,  Iter    39:    Energy =   0.0368
Level     0,  Iter    40:    Energy =   0.0369
Level     0,  Iter    41:    Energy =   0.0365
Level     0,  Iter    42:    Energy =   0.0370
Level     0,  Iter    43:    Energy =   0.0372
Level     0,  Iter    44:    Energy =   0.0371
Level     0,  Iter    45:    Energy =   0.0366
Level     0,  Iter    46:    Energy =   0.0372
Level     0,  Iter    47:    Energy =   0.0373
Level     0,  Iter    48:    Energy =   0.0373
Level     0,  Iter    49:    Energy =   0.0368
Level     0,  Iter    50:    Energy =   0.0373
Level     0,  Iter    51:    Energy =   0.0373
Level     0,  Iter    52:    Energy =   0.0372
Level     0,  Iter    53:    Energy =   0.0369
Level     0,  Iter    54:    Energy =   0.0374
Level     0,  Iter    55:    Energy =   0.0374
Level     0,  Iter    56:    Energy =   0.0373
Level     0,  Iter    57:    Energy =   0.0370
Level     0,  Iter    58:    Energy =   0.0376
Level     0,  Iter    59:    Energy =   0.0381
END OF LEVEL     0    DetJac Range:   0.1413  to   1.8690 
  Avg. Gradient Time  : 0.0198s  36.29% 
  Avg. Gaussian Time  : 0.0257s  46.97% 
  Avg. Iteration Time : 0.0546s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0173
Level     1,  Iter     1:    Energy =   0.0194
Level     1,  Iter     2:    Energy =   0.0210
Level     1,  Iter     3:    Energy =   0.0227
Level     1,  Iter     4:    Energy =   0.0237
Level     1,  Iter     5:    Energy =   0.0249
Level     1,  Iter     6:    Energy =   0.0262
Level     1,  Iter     7:    Energy =   0.0274
Level     1,  Iter     8:    Energy =   0.0284
Level     1,  Iter     9:    Energy =   0.0292
Level     1,  Iter    10:    Energy =   0.0301
Level     1,  Iter    11:    Energy =   0.0309
Level     1,  Iter    12:    Energy =   0.0314
Level     1,  Iter    13:    Energy =   0.0319
Level     1,  Iter    14:    Energy =   0.0323
Level     1,  Iter    15:    Energy =   0.0326
Level     1,  Iter    16:    Energy =   0.0329
Level     1,  Iter    17:    Energy =   0.0332
Level     1,  Iter    18:    Energy =   0.0334
Level     1,  Iter    19:    Energy =   0.0336
Level     1,  Iter    20:    Energy =   0.0338
Level     1,  Iter    21:    Energy =   0.0339
Level     1,  Iter    22:    Energy =   0.0338
Level     1,  Iter    23:    Energy =   0.0339
Level     1,  Iter    24:    Energy =   0.0340
Level     1,  Iter    25:    Energy =   0.0341
Level     1,  Iter    26:    Energy =   0.0342
Level     1,  Iter    27:    Energy =   0.0342
Level     1,  Iter    28:    Energy =   0.0342
Level     1,  Iter    29:    Energy =   0.0343
Level     1,  Iter    30:    Energy =   0.0346
Level     1,  Iter    31:    Energy =   0.0349
Level     1,  Iter    32:    Energy =   0.0349
Level     1,  Iter    33:    Energy =   0.0350
Level     1,  Iter    34:    Energy =   0.0350
Level     1,  Iter    35:    Energy =   0.0350
Level     1,  Iter    36:    Energy =   0.0350
Level     1,  Iter    37:    Energy =   0.0350
Level     1,  Iter    38:    Energy =   0.0351
Level     1,  Iter    39:    Energy =   0.0351
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0352
Level     1,  Iter    42:    Energy =   0.0352
Level     1,  Iter    43:    Energy =   0.0352
Level     1,  Iter    44:    Energy =   0.0352
Level     1,  Iter    45:    Energy =   0.0352
Level     1,  Iter    46:    Energy =   0.0352
Level     1,  Iter    47:    Energy =   0.0353
Level     1,  Iter    48:    Energy =   0.0354
Level     1,  Iter    49:    Energy =   0.0355
Level     1,  Iter    50:    Energy =   0.0356
Level     1,  Iter    51:    Energy =   0.0357
Level     1,  Iter    52:    Energy =   0.0358
Level     1,  Iter    53:    Energy =   0.0360
Level     1,  Iter    54:    Energy =   0.0361
Level     1,  Iter    55:    Energy =   0.0362
Level     1,  Iter    56:    Energy =   0.0363
Level     1,  Iter    57:    Energy =   0.0364
Level     1,  Iter    58:    Energy =   0.0365
Level     1,  Iter    59:    Energy =   0.0366
END OF LEVEL     1    DetJac Range:   0.0542  to   2.9533 
  Avg. Gradient Time  : 0.1159s  39.27% 
  Avg. Gaussian Time  : 0.1427s  48.31% 
  Avg. Iteration Time : 0.2953s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0206
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0224
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0241
Level     2,  Iter     7:    Energy =   0.0249
Level     2,  Iter     8:    Energy =   0.0255
Level     2,  Iter     9:    Energy =   0.0262
Level     2,  Iter    10:    Energy =   0.0268
Level     2,  Iter    11:    Energy =   0.0274
Level     2,  Iter    12:    Energy =   0.0279
Level     2,  Iter    13:    Energy =   0.0284
Level     2,  Iter    14:    Energy =   0.0287
Level     2,  Iter    15:    Energy =   0.0290
Level     2,  Iter    16:    Energy =   0.0293
Level     2,  Iter    17:    Energy =   0.0295
Level     2,  Iter    18:    Energy =   0.0298
Level     2,  Iter    19:    Energy =   0.0300
END OF LEVEL     2    DetJac Range:   0.0308  to   3.6222 
  Avg. Gradient Time  : 0.8133s  35.49% 
  Avg. Gaussian Time  : 1.2379s  54.03% 
  Avg. Iteration Time : 2.2912s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m49.590s
user	8m14.568s
sys	0m24.248s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01538
Thresholding #1
  Mapping range [0.01538, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.R8gOH7T4/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.R8gOH7T4/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01677
Thresholding #1
  Mapping range [0.01677, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.R8gOH7T4/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.R8gOH7T4/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_tse_%02d.png
++ ls /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_tse_01.png /tmp/ashs.R8gOH7T4/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_01.png /tmp/ashs.R8gOH7T4/qa.png
+ convert /tmp/ashs.R8gOH7T4/qa.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa
+ montage -label 26395:left /tmp/ashs.R8gOH7T4/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.R8gOH7T4/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.R8gOH7T4/sag_tse_%02d.png
++ ls /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.R8gOH7T4/sag_tse_01.png /tmp/ashs.R8gOH7T4/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.R8gOH7T4/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.R8gOH7T4/cor_temp_00.png /tmp/ashs.R8gOH7T4/cor_temp_01.png /tmp/ashs.R8gOH7T4/cor_temp_02.png /tmp/ashs.R8gOH7T4/cor_temp_03.png /tmp/ashs.R8gOH7T4/cor_temp_04.png /tmp/ashs.R8gOH7T4/sag_temp_00.png /tmp/ashs.R8gOH7T4/sag_temp_01.png /tmp/ashs.R8gOH7T4/cor_mprage_00.png /tmp/ashs.R8gOH7T4/cor_mprage_01.png /tmp/ashs.R8gOH7T4/cor_mprage_02.png /tmp/ashs.R8gOH7T4/cor_mprage_03.png /tmp/ashs.R8gOH7T4/cor_mprage_04.png /tmp/ashs.R8gOH7T4/sag_mprage_00.png /tmp/ashs.R8gOH7T4/sag_mprage_01.png /tmp/ashs.R8gOH7T4/cor_tse_00.png /tmp/ashs.R8gOH7T4/cor_tse_01.png /tmp/ashs.R8gOH7T4/cor_tse_02.png /tmp/ashs.R8gOH7T4/cor_tse_03.png /tmp/ashs.R8gOH7T4/cor_tse_04.png /tmp/ashs.R8gOH7T4/sag_tse_00.png /tmp/ashs.R8gOH7T4/sag_tse_01.png /tmp/ashs.R8gOH7T4/qa.png
+ convert /tmp/ashs.R8gOH7T4/qa.png -bordercolor Black -border 1x1 /tmp/ashs.R8gOH7T4/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa
+ montage -label 26395:right /tmp/ashs.R8gOH7T4/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 416.068   GNORM= 161.308
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       273.630     123.095       0.006
   2    4       -71.779      74.632       5.000
   3    5      -408.311      97.120       1.000
   4    7      -426.630     144.970       0.355
   5    9      -473.198      53.488       0.061
   6   12      -475.613      90.261       0.038
   7   13      -513.179      72.324       1.000
   8   19      -553.210    1488.572       5.963
   9   23      -570.455     285.183       0.047
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.998368 -0.0825125 0.141686 -5.0126 
-0.207279 1.16352 -0.317766 9.03892 
0.239621 -0.169336 0.996212 -7.48118 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -229.878   GNORM= 886.129
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.998368 -0.0825125 0.141686 -5.0126 
-0.207279 1.16352 -0.317766 9.03892 
0.239621 -0.169336 0.996212 -7.48118 
0 0 0 1 

Final RAS Transform: 
0.998368 -0.0825125 0.141686 -5.0126 
-0.207279 1.16352 -0.317766 9.03892 
0.239621 -0.169336 0.996212 -7.48118 
0 0 0 1 


real	0m3.384s
user	0m5.244s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.348156
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0140
Level     0,  Iter     1:    Energy =   0.0156
Level     0,  Iter     2:    Energy =   0.0176
Level     0,  Iter     3:    Energy =   0.0190
Level     0,  Iter     4:    Energy =   0.0207
Level     0,  Iter     5:    Energy =   0.0225
Level     0,  Iter     6:    Energy =   0.0234
Level     0,  Iter     7:    Energy =   0.0239
Level     0,  Iter     8:    Energy =   0.0250
Level     0,  Iter     9:    Energy =   0.0263
Level     0,  Iter    10:    Energy =   0.0272
Level     0,  Iter    11:    Energy =   0.0281
Level     0,  Iter    12:    Energy =   0.0289
Level     0,  Iter    13:    Energy =   0.0297
Level     0,  Iter    14:    Energy =   0.0303
Level     0,  Iter    15:    Energy =   0.0310
Level     0,  Iter    16:    Energy =   0.0316
Level     0,  Iter    17:    Energy =   0.0321
Level     0,  Iter    18:    Energy =   0.0326
Level     0,  Iter    19:    Energy =   0.0330
Level     0,  Iter    20:    Energy =   0.0334
Level     0,  Iter    21:    Energy =   0.0336
Level     0,  Iter    22:    Energy =   0.0340
Level     0,  Iter    23:    Energy =   0.0344
Level     0,  Iter    24:    Energy =   0.0347
Level     0,  Iter    25:    Energy =   0.0350
Level     0,  Iter    26:    Energy =   0.0352
Level     0,  Iter    27:    Energy =   0.0356
Level     0,  Iter    28:    Energy =   0.0358
Level     0,  Iter    29:    Energy =   0.0360
Level     0,  Iter    30:    Energy =   0.0362
Level     0,  Iter    31:    Energy =   0.0365
Level     0,  Iter    32:    Energy =   0.0367
Level     0,  Iter    33:    Energy =   0.0369
Level     0,  Iter    34:    Energy =   0.0371
Level     0,  Iter    35:    Energy =   0.0373
Level     0,  Iter    36:    Energy =   0.0374
Level     0,  Iter    37:    Energy =   0.0376
Level     0,  Iter    38:    Energy =   0.0377
Level     0,  Iter    39:    Energy =   0.0378
Level     0,  Iter    40:    Energy =   0.0379
Level     0,  Iter    41:    Energy =   0.0381
Level     0,  Iter    42:    Energy =   0.0382
Level     0,  Iter    43:    Energy =   0.0383
Level     0,  Iter    44:    Energy =   0.0384
Level     0,  Iter    45:    Energy =   0.0385
Level     0,  Iter    46:    Energy =   0.0386
Level     0,  Iter    47:    Energy =   0.0387
Level     0,  Iter    48:    Energy =   0.0388
Level     0,  Iter    49:    Energy =   0.0389
Level     0,  Iter    50:    Energy =   0.0390
Level     0,  Iter    51:    Energy =   0.0392
Level     0,  Iter    52:    Energy =   0.0393
Level     0,  Iter    53:    Energy =   0.0394
Level     0,  Iter    54:    Energy =   0.0396
Level     0,  Iter    55:    Energy =   0.0398
Level     0,  Iter    56:    Energy =   0.0400
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0402
Level     0,  Iter    59:    Energy =   0.0404
END OF LEVEL     0    DetJac Range:   0.1506  to   2.2307 
  Avg. Gradient Time  : 0.0071s  32.37% 
  Avg. Gaussian Time  : 0.0105s  47.87% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0239
Level     1,  Iter     1:    Energy =   0.0251
Level     1,  Iter     2:    Energy =   0.0260
Level     1,  Iter     3:    Energy =   0.0268
Level     1,  Iter     4:    Energy =   0.0275
Level     1,  Iter     5:    Energy =   0.0280
Level     1,  Iter     6:    Energy =   0.0285
Level     1,  Iter     7:    Energy =   0.0290
Level     1,  Iter     8:    Energy =   0.0294
Level     1,  Iter     9:    Energy =   0.0299
Level     1,  Iter    10:    Energy =   0.0304
Level     1,  Iter    11:    Energy =   0.0309
Level     1,  Iter    12:    Energy =   0.0314
Level     1,  Iter    13:    Energy =   0.0318
Level     1,  Iter    14:    Energy =   0.0322
Level     1,  Iter    15:    Energy =   0.0326
Level     1,  Iter    16:    Energy =   0.0330
Level     1,  Iter    17:    Energy =   0.0333
Level     1,  Iter    18:    Energy =   0.0337
Level     1,  Iter    19:    Energy =   0.0340
Level     1,  Iter    20:    Energy =   0.0342
Level     1,  Iter    21:    Energy =   0.0344
Level     1,  Iter    22:    Energy =   0.0347
Level     1,  Iter    23:    Energy =   0.0349
Level     1,  Iter    24:    Energy =   0.0351
Level     1,  Iter    25:    Energy =   0.0353
Level     1,  Iter    26:    Energy =   0.0355
Level     1,  Iter    27:    Energy =   0.0356
Level     1,  Iter    28:    Energy =   0.0358
Level     1,  Iter    29:    Energy =   0.0359
Level     1,  Iter    30:    Energy =   0.0360
Level     1,  Iter    31:    Energy =   0.0361
Level     1,  Iter    32:    Energy =   0.0362
Level     1,  Iter    33:    Energy =   0.0363
Level     1,  Iter    34:    Energy =   0.0364
Level     1,  Iter    35:    Energy =   0.0365
Level     1,  Iter    36:    Energy =   0.0366
Level     1,  Iter    37:    Energy =   0.0368
Level     1,  Iter    38:    Energy =   0.0369
Level     1,  Iter    39:    Energy =   0.0370
Level     1,  Iter    40:    Energy =   0.0371
Level     1,  Iter    41:    Energy =   0.0372
Level     1,  Iter    42:    Energy =   0.0373
Level     1,  Iter    43:    Energy =   0.0374
Level     1,  Iter    44:    Energy =   0.0376
Level     1,  Iter    45:    Energy =   0.0377
Level     1,  Iter    46:    Energy =   0.0378
Level     1,  Iter    47:    Energy =   0.0378
Level     1,  Iter    48:    Energy =   0.0379
Level     1,  Iter    49:    Energy =   0.0379
Level     1,  Iter    50:    Energy =   0.0379
Level     1,  Iter    51:    Energy =   0.0379
Level     1,  Iter    52:    Energy =   0.0379
Level     1,  Iter    53:    Energy =   0.0379
Level     1,  Iter    54:    Energy =   0.0379
Level     1,  Iter    55:    Energy =   0.0379
Level     1,  Iter    56:    Energy =   0.0379
Level     1,  Iter    57:    Energy =   0.0379
Level     1,  Iter    58:    Energy =   0.0379
Level     1,  Iter    59:    Energy =   0.0379
END OF LEVEL     1    DetJac Range:   0.0475  to   2.4922 
  Avg. Gradient Time  : 0.0284s  33.88% 
  Avg. Gaussian Time  : 0.0438s  52.22% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0179
Level     2,  Iter     1:    Energy =   0.0186
Level     2,  Iter     2:    Energy =   0.0192
Level     2,  Iter     3:    Energy =   0.0197
Level     2,  Iter     4:    Energy =   0.0202
Level     2,  Iter     5:    Energy =   0.0207
Level     2,  Iter     6:    Energy =   0.0205
Level     2,  Iter     7:    Energy =   0.0209
Level     2,  Iter     8:    Energy =   0.0213
Level     2,  Iter     9:    Energy =   0.0217
Level     2,  Iter    10:    Energy =   0.0220
Level     2,  Iter    11:    Energy =   0.0224
Level     2,  Iter    12:    Energy =   0.0227
Level     2,  Iter    13:    Energy =   0.0229
Level     2,  Iter    14:    Energy =   0.0232
Level     2,  Iter    15:    Energy =   0.0230
Level     2,  Iter    16:    Energy =   0.0232
Level     2,  Iter    17:    Energy =   0.0234
Level     2,  Iter    18:    Energy =   0.0237
Level     2,  Iter    19:    Energy =   0.0239
END OF LEVEL     2    DetJac Range:   0.0194  to   2.4826 
  Avg. Gradient Time  : 0.1861s  32.32% 
  Avg. Gaussian Time  : 0.3128s  54.32% 
  Avg. Iteration Time : 0.5759s 

real	0m20.607s
user	0m35.940s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 287.281   GNORM= 177.012
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       175.124      88.398       0.006
   2    6      -463.080     173.878       6.930
   3   10      -492.937      80.310       1.262
   4   12      -567.641     103.877       0.273
   5   14      -590.183      54.782       0.252
   6   16      -663.177      76.591       5.000
   7   18      -729.762     100.900       0.357
   8   21      -734.110      65.122       0.150
   9   22      -747.942      55.067       1.000
  10   23      -760.969      41.982       1.000
  11   24      -775.796      59.922       1.000
  12   26      -822.375      88.410       0.449
  13   27      -829.836     113.836       1.000
  14   28      -887.980     168.191       1.000
  15   30      -921.737     180.864       0.289
  16   31     -1020.601      95.406       1.000
  17   32     -1075.002      79.110       1.000
  18   33     -1090.065      60.277       1.000
  19   34     -1114.261      45.808       1.000
  20   35     -1140.932      60.763       1.000
  21   37     -1152.103      61.561       0.084
  22   39     -1162.702      53.950       0.412
  23   40     -1187.296      46.489       1.000
  24   41     -1197.931      80.264       1.000
  25   42     -1225.070      72.956       1.000
  26   43     -1381.728      84.970       1.000
  27   45     -1398.826      61.656       0.295
  28   46     -1421.566      84.161       1.000
  29   48     -1434.402      40.747       0.264
  30   49     -1440.866      54.290       1.000
  31   50     -1455.791      29.416       1.000
  32   51     -1457.818      30.948       1.000
  33   52     -1459.156      47.360       1.000
  34   53     -1465.087      59.974       1.000
  35   55     -1484.776      21.495       0.387
  36   56     -1491.338      24.010       1.000
  37   57     -1505.674      45.510       1.000
  38   58     -1539.070      57.160       1.000
  39   60     -1560.271      44.400       0.459
Final RAS Transform: 
0.27866 -0.744205 0.130547 -3.05936 
-0.412212 0.887311 -0.0697412 10.677 
0.359966 -0.477732 0.413759 -1.43419 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -760.515   GNORM= 30.5245
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -770.568      50.596       0.033
   2    3      -783.547      42.902       1.000
   3    5      -790.264      17.668       0.192
   4    6      -791.274      19.278       1.000
   5    7      -801.328      23.061       1.000
   6    9      -805.342      32.184       0.117
   7   10      -808.156      45.016       1.000
   8   11      -818.471      35.286       1.000
   9   12      -836.182      51.680       1.000
  10   13      -847.631      41.852       1.000
  11   15      -856.629      33.921       0.317
  12   17      -858.827      34.496       0.445
  13   18      -862.768      20.519       1.000
  14   19      -868.610      29.296       1.000
  15   20      -870.301      21.659       1.000
  16   21      -870.864      22.689       1.000
  17   22      -871.878      10.275       1.000
  18   23      -872.645      12.492       1.000
  19   24      -875.448      22.549       1.000
  20   25      -877.732      35.357       1.000
  21   26      -878.436      44.129       1.000
  22   27      -880.683      19.940       1.000
  23   28      -880.980      16.228       1.000
  24   29      -881.300       7.664       1.000
  25   31      -881.396       7.570       0.341
  26   32      -881.603       6.430       1.000
  27   33      -883.141      12.096       1.000
  28   35      -883.535      13.954       0.320
  29   36      -883.928       9.208       1.000
  30   37      -884.058      12.452       1.000
  31   38      -884.204       9.384       1.000
  32   39      -884.492       9.421       1.000
  33   41      -885.437      13.110       0.468
  34   42      -886.452      12.120       1.000
  35   44      -887.765      17.294       0.199
  36   45      -887.912      19.495       1.000
  37   46      -888.465      14.304       1.000
  38   47      -888.863      10.434       1.000
  39   49      -889.054      11.303       0.446
  40   50      -889.375       8.058       1.000
  41   51      -889.979      14.167       1.000
  42   52      -890.613      13.399       1.000
  43   54      -891.112      12.131       0.449
  44   55      -891.408       7.001       1.000
  45   56      -891.687      17.342       1.000
  46   57      -892.028      12.706       1.000
  47   58      -892.442       8.944       1.000
  48   59      -892.620       5.594       1.000
  49   60      -892.788       3.826       1.000
Final RAS Transform: 
0.233798 -0.818991 -4.38356e-05 -3.92758 
-0.385018 0.791528 -0.0597191 12.679 
0.430614 -0.471622 0.290672 -2.3713 
0 0 0 1 

Final RAS Transform: 
0.233798 -0.818991 -4.38356e-05 -3.92758 
-0.385018 0.791528 -0.0597191 12.679 
0.430614 -0.471622 0.290672 -2.3713 
0 0 0 1 


real	0m6.053s
user	0m10.144s
sys	0m0.676s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.343298
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0361
Level     0,  Iter     1:    Energy =   0.0383
Level     0,  Iter     2:    Energy =   0.0418
Level     0,  Iter     3:    Energy =   0.0444
Level     0,  Iter     4:    Energy =   0.0463
Level     0,  Iter     5:    Energy =   0.0476
Level     0,  Iter     6:    Energy =   0.0486
Level     0,  Iter     7:    Energy =   0.0494
Level     0,  Iter     8:    Energy =   0.0501
Level     0,  Iter     9:    Energy =   0.0508
Level     0,  Iter    10:    Energy =   0.0514
Level     0,  Iter    11:    Energy =   0.0521
Level     0,  Iter    12:    Energy =   0.0527
Level     0,  Iter    13:    Energy =   0.0533
Level     0,  Iter    14:    Energy =   0.0539
Level     0,  Iter    15:    Energy =   0.0543
Level     0,  Iter    16:    Energy =   0.0548
Level     0,  Iter    17:    Energy =   0.0553
Level     0,  Iter    18:    Energy =   0.0556
Level     0,  Iter    19:    Energy =   0.0559
Level     0,  Iter    20:    Energy =   0.0562
Level     0,  Iter    21:    Energy =   0.0566
Level     0,  Iter    22:    Energy =   0.0569
Level     0,  Iter    23:    Energy =   0.0574
Level     0,  Iter    24:    Energy =   0.0577
Level     0,  Iter    25:    Energy =   0.0580
Level     0,  Iter    26:    Energy =   0.0584
Level     0,  Iter    27:    Energy =   0.0589
Level     0,  Iter    28:    Energy =   0.0590
Level     0,  Iter    29:    Energy =   0.0594
Level     0,  Iter    30:    Energy =   0.0598
Level     0,  Iter    31:    Energy =   0.0600
Level     0,  Iter    32:    Energy =   0.0603
Level     0,  Iter    33:    Energy =   0.0606
Level     0,  Iter    34:    Energy =   0.0609
Level     0,  Iter    35:    Energy =   0.0612
Level     0,  Iter    36:    Energy =   0.0614
Level     0,  Iter    37:    Energy =   0.0618
Level     0,  Iter    38:    Energy =   0.0619
Level     0,  Iter    39:    Energy =   0.0621
Level     0,  Iter    40:    Energy =   0.0624
Level     0,  Iter    41:    Energy =   0.0626
Level     0,  Iter    42:    Energy =   0.0628
Level     0,  Iter    43:    Energy =   0.0631
Level     0,  Iter    44:    Energy =   0.0634
Level     0,  Iter    45:    Energy =   0.0637
Level     0,  Iter    46:    Energy =   0.0638
Level     0,  Iter    47:    Energy =   0.0636
Level     0,  Iter    48:    Energy =   0.0638
Level     0,  Iter    49:    Energy =   0.0639
Level     0,  Iter    50:    Energy =   0.0642
Level     0,  Iter    51:    Energy =   0.0642
Level     0,  Iter    52:    Energy =   0.0644
Level     0,  Iter    53:    Energy =   0.0643
Level     0,  Iter    54:    Energy =   0.0643
Level     0,  Iter    55:    Energy =   0.0643
Level     0,  Iter    56:    Energy =   0.0646
Level     0,  Iter    57:    Energy =   0.0644
Level     0,  Iter    58:    Energy =   0.0645
Level     0,  Iter    59:    Energy =   0.0645
END OF LEVEL     0    DetJac Range:   0.1606  to   2.3049 
  Avg. Gradient Time  : 0.0072s  33.10% 
  Avg. Gaussian Time  : 0.0105s  48.08% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0386
Level     1,  Iter     1:    Energy =   0.0402
Level     1,  Iter     2:    Energy =   0.0414
Level     1,  Iter     3:    Energy =   0.0423
Level     1,  Iter     4:    Energy =   0.0432
Level     1,  Iter     5:    Energy =   0.0438
Level     1,  Iter     6:    Energy =   0.0444
Level     1,  Iter     7:    Energy =   0.0449
Level     1,  Iter     8:    Energy =   0.0453
Level     1,  Iter     9:    Energy =   0.0457
Level     1,  Iter    10:    Energy =   0.0459
Level     1,  Iter    11:    Energy =   0.0461
Level     1,  Iter    12:    Energy =   0.0462
Level     1,  Iter    13:    Energy =   0.0464
Level     1,  Iter    14:    Energy =   0.0465
Level     1,  Iter    15:    Energy =   0.0466
Level     1,  Iter    16:    Energy =   0.0466
Level     1,  Iter    17:    Energy =   0.0467
Level     1,  Iter    18:    Energy =   0.0468
Level     1,  Iter    19:    Energy =   0.0469
Level     1,  Iter    20:    Energy =   0.0469
Level     1,  Iter    21:    Energy =   0.0469
Level     1,  Iter    22:    Energy =   0.0470
Level     1,  Iter    23:    Energy =   0.0470
Level     1,  Iter    24:    Energy =   0.0471
Level     1,  Iter    25:    Energy =   0.0471
Level     1,  Iter    26:    Energy =   0.0472
Level     1,  Iter    27:    Energy =   0.0472
Level     1,  Iter    28:    Energy =   0.0472
Level     1,  Iter    29:    Energy =   0.0472
Level     1,  Iter    30:    Energy =   0.0473
Level     1,  Iter    31:    Energy =   0.0473
Level     1,  Iter    32:    Energy =   0.0473
Level     1,  Iter    33:    Energy =   0.0473
Level     1,  Iter    34:    Energy =   0.0473
Level     1,  Iter    35:    Energy =   0.0473
Level     1,  Iter    36:    Energy =   0.0474
Level     1,  Iter    37:    Energy =   0.0474
Level     1,  Iter    38:    Energy =   0.0474
Level     1,  Iter    39:    Energy =   0.0474
Level     1,  Iter    40:    Energy =   0.0474
Level     1,  Iter    41:    Energy =   0.0474
Level     1,  Iter    42:    Energy =   0.0474
Level     1,  Iter    43:    Energy =   0.0474
Level     1,  Iter    44:    Energy =   0.0473
Level     1,  Iter    45:    Energy =   0.0474
Level     1,  Iter    46:    Energy =   0.0473
Level     1,  Iter    47:    Energy =   0.0473
Level     1,  Iter    48:    Energy =   0.0473
Level     1,  Iter    49:    Energy =   0.0473
Level     1,  Iter    50:    Energy =   0.0474
Level     1,  Iter    51:    Energy =   0.0474
Level     1,  Iter    52:    Energy =   0.0474
Level     1,  Iter    53:    Energy =   0.0474
Level     1,  Iter    54:    Energy =   0.0474
Level     1,  Iter    55:    Energy =   0.0474
Level     1,  Iter    56:    Energy =   0.0474
Level     1,  Iter    57:    Energy =   0.0474
Level     1,  Iter    58:    Energy =   0.0474
Level     1,  Iter    59:    Energy =   0.0474
END OF LEVEL     1    DetJac Range:   0.0713  to   3.1172 
  Avg. Gradient Time  : 0.0292s  34.07% 
  Avg. Gaussian Time  : 0.0448s  52.21% 
  Avg. Iteration Time : 0.0857s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0218
Level     2,  Iter     1:    Energy =   0.0225
Level     2,  Iter     2:    Energy =   0.0231
Level     2,  Iter     3:    Energy =   0.0237
Level     2,  Iter     4:    Energy =   0.0244
Level     2,  Iter     5:    Energy =   0.0250
Level     2,  Iter     6:    Energy =   0.0255
Level     2,  Iter     7:    Energy =   0.0260
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0267
Level     2,  Iter    10:    Energy =   0.0271
Level     2,  Iter    11:    Energy =   0.0273
Level     2,  Iter    12:    Energy =   0.0275
Level     2,  Iter    13:    Energy =   0.0277
Level     2,  Iter    14:    Energy =   0.0279
Level     2,  Iter    15:    Energy =   0.0280
Level     2,  Iter    16:    Energy =   0.0282
Level     2,  Iter    17:    Energy =   0.0283
Level     2,  Iter    18:    Energy =   0.0284
Level     2,  Iter    19:    Energy =   0.0285
END OF LEVEL     2    DetJac Range:   0.0598  to   2.5857 
  Avg. Gradient Time  : 0.1973s  32.90% 
  Avg. Gaussian Time  : 0.3228s  53.82% 
  Avg. Iteration Time : 0.5998s 

real	0m21.281s
user	0m37.064s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 353.236   GNORM= 198.029
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       210.989     128.419       0.005
   2    3       -21.390      64.240       1.000
   3    5      -494.812      66.566       5.000
   4   11      -542.987     153.526       0.023
   5   13      -546.237     161.711       0.036
   6   14      -562.996     142.617       1.000
   7   19      -654.102     139.893       1.521
   8   21      -668.935      89.291       0.444
   9   28      -672.126      40.308       1.042
  10   32      -672.635     111.618       0.109
  11   45      -672.754      79.309       0.000
Final RAS Transform: 
1.0149 -0.0394715 0.0980022 -3.96114 
-0.183672 1.19541 -0.322536 7.70503 
0.150102 -0.206173 0.833266 -8.07097 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -345.461   GNORM= 165.786
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -357.511     170.656       0.006
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01168 -0.0380026 0.0942895 -3.59024 
-0.18772 1.20034 -0.329686 8.37852 
0.151703 -0.209622 0.838546 -8.3831 
0 0 0 1 

Final RAS Transform: 
1.01168 -0.0380026 0.0942895 -3.59024 
-0.18772 1.20034 -0.329686 8.37852 
0.151703 -0.209622 0.838546 -8.3831 
0 0 0 1 


real	0m3.720s
user	0m5.752s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.40107
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0184
Level     0,  Iter     1:    Energy =   0.0196
Level     0,  Iter     2:    Energy =   0.0224
Level     0,  Iter     3:    Energy =   0.0255
Level     0,  Iter     4:    Energy =   0.0283
Level     0,  Iter     5:    Energy =   0.0304
Level     0,  Iter     6:    Energy =   0.0324
Level     0,  Iter     7:    Energy =   0.0339
Level     0,  Iter     8:    Energy =   0.0350
Level     0,  Iter     9:    Energy =   0.0361
Level     0,  Iter    10:    Energy =   0.0374
Level     0,  Iter    11:    Energy =   0.0386
Level     0,  Iter    12:    Energy =   0.0398
Level     0,  Iter    13:    Energy =   0.0411
Level     0,  Iter    14:    Energy =   0.0420
Level     0,  Iter    15:    Energy =   0.0428
Level     0,  Iter    16:    Energy =   0.0434
Level     0,  Iter    17:    Energy =   0.0438
Level     0,  Iter    18:    Energy =   0.0443
Level     0,  Iter    19:    Energy =   0.0448
Level     0,  Iter    20:    Energy =   0.0452
Level     0,  Iter    21:    Energy =   0.0453
Level     0,  Iter    22:    Energy =   0.0454
Level     0,  Iter    23:    Energy =   0.0457
Level     0,  Iter    24:    Energy =   0.0462
Level     0,  Iter    25:    Energy =   0.0464
Level     0,  Iter    26:    Energy =   0.0465
Level     0,  Iter    27:    Energy =   0.0466
Level     0,  Iter    28:    Energy =   0.0467
Level     0,  Iter    29:    Energy =   0.0469
Level     0,  Iter    30:    Energy =   0.0470
Level     0,  Iter    31:    Energy =   0.0471
Level     0,  Iter    32:    Energy =   0.0472
Level     0,  Iter    33:    Energy =   0.0474
Level     0,  Iter    34:    Energy =   0.0475
Level     0,  Iter    35:    Energy =   0.0477
Level     0,  Iter    36:    Energy =   0.0477
Level     0,  Iter    37:    Energy =   0.0477
Level     0,  Iter    38:    Energy =   0.0478
Level     0,  Iter    39:    Energy =   0.0479
Level     0,  Iter    40:    Energy =   0.0479
Level     0,  Iter    41:    Energy =   0.0480
Level     0,  Iter    42:    Energy =   0.0480
Level     0,  Iter    43:    Energy =   0.0481
Level     0,  Iter    44:    Energy =   0.0482
Level     0,  Iter    45:    Energy =   0.0482
Level     0,  Iter    46:    Energy =   0.0483
Level     0,  Iter    47:    Energy =   0.0484
Level     0,  Iter    48:    Energy =   0.0485
Level     0,  Iter    49:    Energy =   0.0486
Level     0,  Iter    50:    Energy =   0.0487
Level     0,  Iter    51:    Energy =   0.0488
Level     0,  Iter    52:    Energy =   0.0489
Level     0,  Iter    53:    Energy =   0.0490
Level     0,  Iter    54:    Energy =   0.0491
Level     0,  Iter    55:    Energy =   0.0492
Level     0,  Iter    56:    Energy =   0.0493
Level     0,  Iter    57:    Energy =   0.0493
Level     0,  Iter    58:    Energy =   0.0494
Level     0,  Iter    59:    Energy =   0.0495
END OF LEVEL     0    DetJac Range:   0.1308  to   2.1486 
  Avg. Gradient Time  : 0.0070s  32.82% 
  Avg. Gaussian Time  : 0.0103s  48.07% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0283
Level     1,  Iter     1:    Energy =   0.0300
Level     1,  Iter     2:    Energy =   0.0312
Level     1,  Iter     3:    Energy =   0.0325
Level     1,  Iter     4:    Energy =   0.0336
Level     1,  Iter     5:    Energy =   0.0346
Level     1,  Iter     6:    Energy =   0.0355
Level     1,  Iter     7:    Energy =   0.0362
Level     1,  Iter     8:    Energy =   0.0367
Level     1,  Iter     9:    Energy =   0.0371
Level     1,  Iter    10:    Energy =   0.0374
Level     1,  Iter    11:    Energy =   0.0376
Level     1,  Iter    12:    Energy =   0.0379
Level     1,  Iter    13:    Energy =   0.0381
Level     1,  Iter    14:    Energy =   0.0384
Level     1,  Iter    15:    Energy =   0.0388
Level     1,  Iter    16:    Energy =   0.0392
Level     1,  Iter    17:    Energy =   0.0397
Level     1,  Iter    18:    Energy =   0.0400
Level     1,  Iter    19:    Energy =   0.0404
Level     1,  Iter    20:    Energy =   0.0408
Level     1,  Iter    21:    Energy =   0.0412
Level     1,  Iter    22:    Energy =   0.0415
Level     1,  Iter    23:    Energy =   0.0418
Level     1,  Iter    24:    Energy =   0.0421
Level     1,  Iter    25:    Energy =   0.0424
Level     1,  Iter    26:    Energy =   0.0427
Level     1,  Iter    27:    Energy =   0.0429
Level     1,  Iter    28:    Energy =   0.0431
Level     1,  Iter    29:    Energy =   0.0433
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0436
Level     1,  Iter    32:    Energy =   0.0438
Level     1,  Iter    33:    Energy =   0.0440
Level     1,  Iter    34:    Energy =   0.0442
Level     1,  Iter    35:    Energy =   0.0444
Level     1,  Iter    36:    Energy =   0.0445
Level     1,  Iter    37:    Energy =   0.0446
Level     1,  Iter    38:    Energy =   0.0447
Level     1,  Iter    39:    Energy =   0.0449
Level     1,  Iter    40:    Energy =   0.0449
Level     1,  Iter    41:    Energy =   0.0451
Level     1,  Iter    42:    Energy =   0.0452
Level     1,  Iter    43:    Energy =   0.0454
Level     1,  Iter    44:    Energy =   0.0454
Level     1,  Iter    45:    Energy =   0.0456
Level     1,  Iter    46:    Energy =   0.0456
Level     1,  Iter    47:    Energy =   0.0456
Level     1,  Iter    48:    Energy =   0.0457
Level     1,  Iter    49:    Energy =   0.0459
Level     1,  Iter    50:    Energy =   0.0459
Level     1,  Iter    51:    Energy =   0.0460
Level     1,  Iter    52:    Energy =   0.0461
Level     1,  Iter    53:    Energy =   0.0462
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0463
Level     1,  Iter    56:    Energy =   0.0464
Level     1,  Iter    57:    Energy =   0.0464
Level     1,  Iter    58:    Energy =   0.0465
Level     1,  Iter    59:    Energy =   0.0466
END OF LEVEL     1    DetJac Range:   0.0236  to   4.9818 
  Avg. Gradient Time  : 0.0297s  34.03% 
  Avg. Gaussian Time  : 0.0454s  52.06% 
  Avg. Iteration Time : 0.0872s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0214
Level     2,  Iter     1:    Energy =   0.0222
Level     2,  Iter     2:    Energy =   0.0230
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0241
Level     2,  Iter     5:    Energy =   0.0245
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0251
Level     2,  Iter     8:    Energy =   0.0254
Level     2,  Iter     9:    Energy =   0.0257
Level     2,  Iter    10:    Energy =   0.0258
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0270
Level     2,  Iter    15:    Energy =   0.0273
Level     2,  Iter    16:    Energy =   0.0275
Level     2,  Iter    17:    Energy =   0.0277
Level     2,  Iter    18:    Energy =   0.0279
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0184  to   4.4773 
  Avg. Gradient Time  : 0.1925s  32.52% 
  Avg. Gaussian Time  : 0.3208s  54.21% 
  Avg. Iteration Time : 0.5918s 

real	0m21.186s
user	0m36.856s
sys	0m2.356s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 504.202   GNORM= 272.974
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       287.114     176.397       0.004
   2    3        65.000      88.337       1.000
   3    4       -20.488      75.515       1.000
   4    9      -247.891      81.883       0.136
   5   13      -327.152     248.821       0.169
   6   14      -458.935     200.839       1.000
   7   17      -506.097     146.865       0.055
   8   19      -624.474     117.371       0.526
   9   23      -664.790      95.152       0.321
  10   24      -705.813      57.453       1.000
  11   25      -737.617     101.618       1.000
  12   28      -765.546      54.975       1.974
  13   31      -804.916      71.942       0.762
  14   33      -857.184     316.863       0.256
  15   37      -858.835      59.859       0.012
  16   42      -865.558     115.817       1.142
  17   45      -876.464      84.970       0.181
  18   46      -888.509      79.720       1.000
  19   50      -889.064      63.673       0.381
  20   52      -891.963     104.508       5.000
  21   57      -896.986      40.071       0.032
  22   59      -897.277     178.548       5.000
Final RAS Transform: 
0.887745 -0.249745 0.0641054 -5.35706 
-0.106596 1.23737 -0.00969818 6.4732 
0.120774 -0.0698382 0.944802 -6.55672 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -510.071   GNORM= 152.372
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.887745 -0.249745 0.0641054 -5.35706 
-0.106596 1.23737 -0.00969818 6.4732 
0.120774 -0.0698382 0.944802 -6.55672 
0 0 0 1 

Final RAS Transform: 
0.887745 -0.249745 0.0641054 -5.35706 
-0.106596 1.23737 -0.00969818 6.4732 
0.120774 -0.0698382 0.944802 -6.55672 
0 0 0 1 


real	0m3.607s
user	0m5.452s
sys	0m0.548s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.451281
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0232
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0268
Level     0,  Iter     3:    Energy =   0.0299
Level     0,  Iter     4:    Energy =   0.0325
Level     0,  Iter     5:    Energy =   0.0342
Level     0,  Iter     6:    Energy =   0.0354
Level     0,  Iter     7:    Energy =   0.0364
Level     0,  Iter     8:    Energy =   0.0373
Level     0,  Iter     9:    Energy =   0.0382
Level     0,  Iter    10:    Energy =   0.0389
Level     0,  Iter    11:    Energy =   0.0394
Level     0,  Iter    12:    Energy =   0.0398
Level     0,  Iter    13:    Energy =   0.0402
Level     0,  Iter    14:    Energy =   0.0405
Level     0,  Iter    15:    Energy =   0.0408
Level     0,  Iter    16:    Energy =   0.0411
Level     0,  Iter    17:    Energy =   0.0415
Level     0,  Iter    18:    Energy =   0.0419
Level     0,  Iter    19:    Energy =   0.0422
Level     0,  Iter    20:    Energy =   0.0425
Level     0,  Iter    21:    Energy =   0.0427
Level     0,  Iter    22:    Energy =   0.0429
Level     0,  Iter    23:    Energy =   0.0429
Level     0,  Iter    24:    Energy =   0.0428
Level     0,  Iter    25:    Energy =   0.0427
Level     0,  Iter    26:    Energy =   0.0427
Level     0,  Iter    27:    Energy =   0.0426
Level     0,  Iter    28:    Energy =   0.0426
Level     0,  Iter    29:    Energy =   0.0426
Level     0,  Iter    30:    Energy =   0.0426
Level     0,  Iter    31:    Energy =   0.0426
Level     0,  Iter    32:    Energy =   0.0425
Level     0,  Iter    33:    Energy =   0.0425
Level     0,  Iter    34:    Energy =   0.0425
Level     0,  Iter    35:    Energy =   0.0424
Level     0,  Iter    36:    Energy =   0.0424
Level     0,  Iter    37:    Energy =   0.0425
Level     0,  Iter    38:    Energy =   0.0425
Level     0,  Iter    39:    Energy =   0.0426
Level     0,  Iter    40:    Energy =   0.0428
Level     0,  Iter    41:    Energy =   0.0429
Level     0,  Iter    42:    Energy =   0.0429
Level     0,  Iter    43:    Energy =   0.0429
Level     0,  Iter    44:    Energy =   0.0429
Level     0,  Iter    45:    Energy =   0.0429
Level     0,  Iter    46:    Energy =   0.0430
Level     0,  Iter    47:    Energy =   0.0430
Level     0,  Iter    48:    Energy =   0.0430
Level     0,  Iter    49:    Energy =   0.0431
Level     0,  Iter    50:    Energy =   0.0431
Level     0,  Iter    51:    Energy =   0.0431
Level     0,  Iter    52:    Energy =   0.0430
Level     0,  Iter    53:    Energy =   0.0430
Level     0,  Iter    54:    Energy =   0.0430
Level     0,  Iter    55:    Energy =   0.0429
Level     0,  Iter    56:    Energy =   0.0430
Level     0,  Iter    57:    Energy =   0.0429
Level     0,  Iter    58:    Energy =   0.0429
Level     0,  Iter    59:    Energy =   0.0429
END OF LEVEL     0    DetJac Range:   0.0419  to   2.1806 
  Avg. Gradient Time  : 0.0065s  32.78% 
  Avg. Gaussian Time  : 0.0095s  48.05% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0279
Level     1,  Iter     1:    Energy =   0.0293
Level     1,  Iter     2:    Energy =   0.0304
Level     1,  Iter     3:    Energy =   0.0314
Level     1,  Iter     4:    Energy =   0.0323
Level     1,  Iter     5:    Energy =   0.0332
Level     1,  Iter     6:    Energy =   0.0339
Level     1,  Iter     7:    Energy =   0.0346
Level     1,  Iter     8:    Energy =   0.0351
Level     1,  Iter     9:    Energy =   0.0357
Level     1,  Iter    10:    Energy =   0.0364
Level     1,  Iter    11:    Energy =   0.0371
Level     1,  Iter    12:    Energy =   0.0377
Level     1,  Iter    13:    Energy =   0.0383
Level     1,  Iter    14:    Energy =   0.0389
Level     1,  Iter    15:    Energy =   0.0396
Level     1,  Iter    16:    Energy =   0.0403
Level     1,  Iter    17:    Energy =   0.0409
Level     1,  Iter    18:    Energy =   0.0415
Level     1,  Iter    19:    Energy =   0.0419
Level     1,  Iter    20:    Energy =   0.0423
Level     1,  Iter    21:    Energy =   0.0427
Level     1,  Iter    22:    Energy =   0.0430
Level     1,  Iter    23:    Energy =   0.0433
Level     1,  Iter    24:    Energy =   0.0436
Level     1,  Iter    25:    Energy =   0.0438
Level     1,  Iter    26:    Energy =   0.0441
Level     1,  Iter    27:    Energy =   0.0443
Level     1,  Iter    28:    Energy =   0.0445
Level     1,  Iter    29:    Energy =   0.0447
Level     1,  Iter    30:    Energy =   0.0449
Level     1,  Iter    31:    Energy =   0.0450
Level     1,  Iter    32:    Energy =   0.0452
Level     1,  Iter    33:    Energy =   0.0454
Level     1,  Iter    34:    Energy =   0.0456
Level     1,  Iter    35:    Energy =   0.0457
Level     1,  Iter    36:    Energy =   0.0458
Level     1,  Iter    37:    Energy =   0.0459
Level     1,  Iter    38:    Energy =   0.0459
Level     1,  Iter    39:    Energy =   0.0460
Level     1,  Iter    40:    Energy =   0.0460
Level     1,  Iter    41:    Energy =   0.0460
Level     1,  Iter    42:    Energy =   0.0460
Level     1,  Iter    43:    Energy =   0.0461
Level     1,  Iter    44:    Energy =   0.0461
Level     1,  Iter    45:    Energy =   0.0462
Level     1,  Iter    46:    Energy =   0.0462
Level     1,  Iter    47:    Energy =   0.0463
Level     1,  Iter    48:    Energy =   0.0463
Level     1,  Iter    49:    Energy =   0.0464
Level     1,  Iter    50:    Energy =   0.0464
Level     1,  Iter    51:    Energy =   0.0465
Level     1,  Iter    52:    Energy =   0.0465
Level     1,  Iter    53:    Energy =   0.0466
Level     1,  Iter    54:    Energy =   0.0467
Level     1,  Iter    55:    Energy =   0.0467
Level     1,  Iter    56:    Energy =   0.0467
Level     1,  Iter    57:    Energy =   0.0468
Level     1,  Iter    58:    Energy =   0.0468
Level     1,  Iter    59:    Energy =   0.0469
END OF LEVEL     1    DetJac Range:   0.0279  to   3.9273 
  Avg. Gradient Time  : 0.0294s  33.92% 
  Avg. Gaussian Time  : 0.0453s  52.25% 
  Avg. Iteration Time : 0.0867s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0218
Level     2,  Iter     1:    Energy =   0.0225
Level     2,  Iter     2:    Energy =   0.0231
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0240
Level     2,  Iter     5:    Energy =   0.0243
Level     2,  Iter     6:    Energy =   0.0246
Level     2,  Iter     7:    Energy =   0.0250
Level     2,  Iter     8:    Energy =   0.0253
Level     2,  Iter     9:    Energy =   0.0256
Level     2,  Iter    10:    Energy =   0.0258
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0266
Level     2,  Iter    14:    Energy =   0.0269
Level     2,  Iter    15:    Energy =   0.0271
Level     2,  Iter    16:    Energy =   0.0274
Level     2,  Iter    17:    Energy =   0.0276
Level     2,  Iter    18:    Energy =   0.0279
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0207  to   4.7178 
  Avg. Gradient Time  : 0.1901s  32.53% 
  Avg. Gaussian Time  : 0.3164s  54.13% 
  Avg. Iteration Time : 0.5845s 

real	0m20.887s
user	0m36.312s
sys	0m2.340s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 438.399   GNORM= 200.337
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       324.592     114.698       0.005
   2    3       152.311      85.568       1.000
   3    5       106.772      57.636       0.276
   4    6        76.231      69.752       1.000
   5   10      -393.021      90.350       2.378
   6   13      -395.450      53.080       0.021
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01784 0.00523296 0.145707 -4.17597 
-0.0958008 1.0765 -0.234647 7.18194 
0.166987 -0.150275 0.928897 -10.0382 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -178.447   GNORM= 4526.68
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -188.429    1893.885       0.000
   2    3      -200.455    1127.799       1.000
   3    5      -200.749     563.850       0.002
   4    7      -201.388      85.012       0.554
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03041 -0.00295319 0.157848 -5.4486 
-0.0990277 1.07894 -0.237629 7.51281 
0.167152 -0.150378 0.928722 -10.0277 
0 0 0 1 

Final RAS Transform: 
1.03041 -0.00295319 0.157848 -5.4486 
-0.0990277 1.07894 -0.237629 7.51281 
0.167152 -0.150378 0.928722 -10.0277 
0 0 0 1 


real	0m3.704s
user	0m5.824s
sys	0m0.428s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.366088
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0115
Level     0,  Iter     1:    Energy =   0.0129
Level     0,  Iter     2:    Energy =   0.0158
Level     0,  Iter     3:    Energy =   0.0188
Level     0,  Iter     4:    Energy =   0.0214
Level     0,  Iter     5:    Energy =   0.0239
Level     0,  Iter     6:    Energy =   0.0264
Level     0,  Iter     7:    Energy =   0.0283
Level     0,  Iter     8:    Energy =   0.0306
Level     0,  Iter     9:    Energy =   0.0327
Level     0,  Iter    10:    Energy =   0.0345
Level     0,  Iter    11:    Energy =   0.0361
Level     0,  Iter    12:    Energy =   0.0375
Level     0,  Iter    13:    Energy =   0.0389
Level     0,  Iter    14:    Energy =   0.0403
Level     0,  Iter    15:    Energy =   0.0414
Level     0,  Iter    16:    Energy =   0.0423
Level     0,  Iter    17:    Energy =   0.0429
Level     0,  Iter    18:    Energy =   0.0434
Level     0,  Iter    19:    Energy =   0.0440
Level     0,  Iter    20:    Energy =   0.0447
Level     0,  Iter    21:    Energy =   0.0456
Level     0,  Iter    22:    Energy =   0.0463
Level     0,  Iter    23:    Energy =   0.0470
Level     0,  Iter    24:    Energy =   0.0478
Level     0,  Iter    25:    Energy =   0.0487
Level     0,  Iter    26:    Energy =   0.0489
Level     0,  Iter    27:    Energy =   0.0491
Level     0,  Iter    28:    Energy =   0.0491
Level     0,  Iter    29:    Energy =   0.0491
Level     0,  Iter    30:    Energy =   0.0492
Level     0,  Iter    31:    Energy =   0.0494
Level     0,  Iter    32:    Energy =   0.0496
Level     0,  Iter    33:    Energy =   0.0497
Level     0,  Iter    34:    Energy =   0.0500
Level     0,  Iter    35:    Energy =   0.0502
Level     0,  Iter    36:    Energy =   0.0505
Level     0,  Iter    37:    Energy =   0.0506
Level     0,  Iter    38:    Energy =   0.0509
Level     0,  Iter    39:    Energy =   0.0510
Level     0,  Iter    40:    Energy =   0.0513
Level     0,  Iter    41:    Energy =   0.0514
Level     0,  Iter    42:    Energy =   0.0517
Level     0,  Iter    43:    Energy =   0.0518
Level     0,  Iter    44:    Energy =   0.0520
Level     0,  Iter    45:    Energy =   0.0521
Level     0,  Iter    46:    Energy =   0.0524
Level     0,  Iter    47:    Energy =   0.0525
Level     0,  Iter    48:    Energy =   0.0527
Level     0,  Iter    49:    Energy =   0.0529
Level     0,  Iter    50:    Energy =   0.0529
Level     0,  Iter    51:    Energy =   0.0530
Level     0,  Iter    52:    Energy =   0.0531
Level     0,  Iter    53:    Energy =   0.0532
Level     0,  Iter    54:    Energy =   0.0533
Level     0,  Iter    55:    Energy =   0.0534
Level     0,  Iter    56:    Energy =   0.0535
Level     0,  Iter    57:    Energy =   0.0536
Level     0,  Iter    58:    Energy =   0.0537
Level     0,  Iter    59:    Energy =   0.0537
END OF LEVEL     0    DetJac Range:   0.0958  to   2.7658 
  Avg. Gradient Time  : 0.0069s  33.08% 
  Avg. Gaussian Time  : 0.0100s  48.14% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0304
Level     1,  Iter     1:    Energy =   0.0321
Level     1,  Iter     2:    Energy =   0.0334
Level     1,  Iter     3:    Energy =   0.0343
Level     1,  Iter     4:    Energy =   0.0352
Level     1,  Iter     5:    Energy =   0.0361
Level     1,  Iter     6:    Energy =   0.0370
Level     1,  Iter     7:    Energy =   0.0380
Level     1,  Iter     8:    Energy =   0.0388
Level     1,  Iter     9:    Energy =   0.0394
Level     1,  Iter    10:    Energy =   0.0400
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0408
Level     1,  Iter    13:    Energy =   0.0411
Level     1,  Iter    14:    Energy =   0.0414
Level     1,  Iter    15:    Energy =   0.0417
Level     1,  Iter    16:    Energy =   0.0419
Level     1,  Iter    17:    Energy =   0.0421
Level     1,  Iter    18:    Energy =   0.0423
Level     1,  Iter    19:    Energy =   0.0425
Level     1,  Iter    20:    Energy =   0.0426
Level     1,  Iter    21:    Energy =   0.0428
Level     1,  Iter    22:    Energy =   0.0429
Level     1,  Iter    23:    Energy =   0.0430
Level     1,  Iter    24:    Energy =   0.0431
Level     1,  Iter    25:    Energy =   0.0431
Level     1,  Iter    26:    Energy =   0.0432
Level     1,  Iter    27:    Energy =   0.0432
Level     1,  Iter    28:    Energy =   0.0433
Level     1,  Iter    29:    Energy =   0.0433
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0434
Level     1,  Iter    32:    Energy =   0.0435
Level     1,  Iter    33:    Energy =   0.0436
Level     1,  Iter    34:    Energy =   0.0437
Level     1,  Iter    35:    Energy =   0.0437
Level     1,  Iter    36:    Energy =   0.0437
Level     1,  Iter    37:    Energy =   0.0438
Level     1,  Iter    38:    Energy =   0.0438
Level     1,  Iter    39:    Energy =   0.0438
Level     1,  Iter    40:    Energy =   0.0439
Level     1,  Iter    41:    Energy =   0.0439
Level     1,  Iter    42:    Energy =   0.0439
Level     1,  Iter    43:    Energy =   0.0440
Level     1,  Iter    44:    Energy =   0.0440
Level     1,  Iter    45:    Energy =   0.0440
Level     1,  Iter    46:    Energy =   0.0441
Level     1,  Iter    47:    Energy =   0.0441
Level     1,  Iter    48:    Energy =   0.0441
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0441
Level     1,  Iter    51:    Energy =   0.0442
Level     1,  Iter    52:    Energy =   0.0442
Level     1,  Iter    53:    Energy =   0.0442
Level     1,  Iter    54:    Energy =   0.0443
Level     1,  Iter    55:    Energy =   0.0443
Level     1,  Iter    56:    Energy =   0.0443
Level     1,  Iter    57:    Energy =   0.0443
Level     1,  Iter    58:    Energy =   0.0444
Level     1,  Iter    59:    Energy =   0.0444
END OF LEVEL     1    DetJac Range:   0.0176  to   2.3218 
  Avg. Gradient Time  : 0.0280s  33.58% 
  Avg. Gaussian Time  : 0.0438s  52.39% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0203
Level     2,  Iter     1:    Energy =   0.0211
Level     2,  Iter     2:    Energy =   0.0218
Level     2,  Iter     3:    Energy =   0.0224
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0237
Level     2,  Iter     7:    Energy =   0.0241
Level     2,  Iter     8:    Energy =   0.0245
Level     2,  Iter     9:    Energy =   0.0249
Level     2,  Iter    10:    Energy =   0.0252
Level     2,  Iter    11:    Energy =   0.0255
Level     2,  Iter    12:    Energy =   0.0258
Level     2,  Iter    13:    Energy =   0.0261
Level     2,  Iter    14:    Energy =   0.0263
Level     2,  Iter    15:    Energy =   0.0266
Level     2,  Iter    16:    Energy =   0.0269
Level     2,  Iter    17:    Energy =   0.0271
Level     2,  Iter    18:    Energy =   0.0273
Level     2,  Iter    19:    Energy =   0.0275
END OF LEVEL     2    DetJac Range:   0.0087  to   2.6989 
  Avg. Gradient Time  : 0.1905s  32.80% 
  Avg. Gaussian Time  : 0.3130s  53.88% 
  Avg. Iteration Time : 0.5810s 

real	0m20.714s
user	0m35.936s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 335.068   GNORM= 108.652
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       245.041      64.864       0.009
   2    4      -392.708     234.813       5.000
   3    8      -445.131     260.238       0.024
   4    9      -617.275      86.909       1.000
   5   10      -708.747     104.634       1.000
   6   11      -775.685      54.367       1.000
   7   12      -844.717      60.376       1.000
   8   13      -865.891      77.360       1.000
   9   14      -905.092      39.269       1.000
  10   15      -995.477      52.173       1.000
  11   16     -1054.766     221.570       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.838654 -0.125001 -0.0873902 -5.3735 
-0.274106 1.04634 0.182075 12.1488 
0.316918 -0.0458662 0.87511 -7.08409 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -462.39   GNORM= 354.439
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -531.810      71.874       0.002
   2    8      -539.068      29.022       0.890
   3   13      -565.720      56.465       7.575
   4   15      -588.585      59.027       5.000
   5   22      -589.066     156.766       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.84317 -0.142041 -0.0668659 -7.20994 
-0.284324 1.0424 0.196707 12.0983 
0.315566 -0.0359479 0.870141 -5.37466 
0 0 0 1 

Final RAS Transform: 
0.84317 -0.142041 -0.0668659 -7.20994 
-0.284324 1.0424 0.196707 12.0983 
0.315566 -0.0359479 0.870141 -5.37466 
0 0 0 1 


real	0m4.660s
user	0m7.648s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.377189
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0312
Level     0,  Iter     1:    Energy =   0.0336
Level     0,  Iter     2:    Energy =   0.0384
Level     0,  Iter     3:    Energy =   0.0426
Level     0,  Iter     4:    Energy =   0.0458
Level     0,  Iter     5:    Energy =   0.0485
Level     0,  Iter     6:    Energy =   0.0506
Level     0,  Iter     7:    Energy =   0.0523
Level     0,  Iter     8:    Energy =   0.0535
Level     0,  Iter     9:    Energy =   0.0545
Level     0,  Iter    10:    Energy =   0.0554
Level     0,  Iter    11:    Energy =   0.0562
Level     0,  Iter    12:    Energy =   0.0571
Level     0,  Iter    13:    Energy =   0.0581
Level     0,  Iter    14:    Energy =   0.0589
Level     0,  Iter    15:    Energy =   0.0597
Level     0,  Iter    16:    Energy =   0.0605
Level     0,  Iter    17:    Energy =   0.0608
Level     0,  Iter    18:    Energy =   0.0614
Level     0,  Iter    19:    Energy =   0.0613
Level     0,  Iter    20:    Energy =   0.0623
Level     0,  Iter    21:    Energy =   0.0623
Level     0,  Iter    22:    Energy =   0.0633
Level     0,  Iter    23:    Energy =   0.0633
Level     0,  Iter    24:    Energy =   0.0641
Level     0,  Iter    25:    Energy =   0.0636
Level     0,  Iter    26:    Energy =   0.0644
Level     0,  Iter    27:    Energy =   0.0640
Level     0,  Iter    28:    Energy =   0.0645
Level     0,  Iter    29:    Energy =   0.0640
Level     0,  Iter    30:    Energy =   0.0646
Level     0,  Iter    31:    Energy =   0.0643
Level     0,  Iter    32:    Energy =   0.0648
Level     0,  Iter    33:    Energy =   0.0644
Level     0,  Iter    34:    Energy =   0.0649
Level     0,  Iter    35:    Energy =   0.0647
Level     0,  Iter    36:    Energy =   0.0652
Level     0,  Iter    37:    Energy =   0.0648
Level     0,  Iter    38:    Energy =   0.0653
Level     0,  Iter    39:    Energy =   0.0649
Level     0,  Iter    40:    Energy =   0.0654
Level     0,  Iter    41:    Energy =   0.0650
Level     0,  Iter    42:    Energy =   0.0655
Level     0,  Iter    43:    Energy =   0.0652
Level     0,  Iter    44:    Energy =   0.0656
Level     0,  Iter    45:    Energy =   0.0652
Level     0,  Iter    46:    Energy =   0.0657
Level     0,  Iter    47:    Energy =   0.0653
Level     0,  Iter    48:    Energy =   0.0657
Level     0,  Iter    49:    Energy =   0.0653
Level     0,  Iter    50:    Energy =   0.0658
Level     0,  Iter    51:    Energy =   0.0653
Level     0,  Iter    52:    Energy =   0.0658
Level     0,  Iter    53:    Energy =   0.0654
Level     0,  Iter    54:    Energy =   0.0658
Level     0,  Iter    55:    Energy =   0.0654
Level     0,  Iter    56:    Energy =   0.0659
Level     0,  Iter    57:    Energy =   0.0654
Level     0,  Iter    58:    Energy =   0.0659
Level     0,  Iter    59:    Energy =   0.0654
END OF LEVEL     0    DetJac Range:   0.2122  to   2.8453 
  Avg. Gradient Time  : 0.0068s  33.00% 
  Avg. Gaussian Time  : 0.0100s  48.44% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0378
Level     1,  Iter     1:    Energy =   0.0397
Level     1,  Iter     2:    Energy =   0.0413
Level     1,  Iter     3:    Energy =   0.0430
Level     1,  Iter     4:    Energy =   0.0445
Level     1,  Iter     5:    Energy =   0.0456
Level     1,  Iter     6:    Energy =   0.0464
Level     1,  Iter     7:    Energy =   0.0473
Level     1,  Iter     8:    Energy =   0.0482
Level     1,  Iter     9:    Energy =   0.0489
Level     1,  Iter    10:    Energy =   0.0496
Level     1,  Iter    11:    Energy =   0.0503
Level     1,  Iter    12:    Energy =   0.0508
Level     1,  Iter    13:    Energy =   0.0512
Level     1,  Iter    14:    Energy =   0.0515
Level     1,  Iter    15:    Energy =   0.0518
Level     1,  Iter    16:    Energy =   0.0521
Level     1,  Iter    17:    Energy =   0.0524
Level     1,  Iter    18:    Energy =   0.0527
Level     1,  Iter    19:    Energy =   0.0529
Level     1,  Iter    20:    Energy =   0.0531
Level     1,  Iter    21:    Energy =   0.0533
Level     1,  Iter    22:    Energy =   0.0535
Level     1,  Iter    23:    Energy =   0.0537
Level     1,  Iter    24:    Energy =   0.0538
Level     1,  Iter    25:    Energy =   0.0539
Level     1,  Iter    26:    Energy =   0.0541
Level     1,  Iter    27:    Energy =   0.0542
Level     1,  Iter    28:    Energy =   0.0543
Level     1,  Iter    29:    Energy =   0.0544
Level     1,  Iter    30:    Energy =   0.0545
Level     1,  Iter    31:    Energy =   0.0545
Level     1,  Iter    32:    Energy =   0.0546
Level     1,  Iter    33:    Energy =   0.0547
Level     1,  Iter    34:    Energy =   0.0547
Level     1,  Iter    35:    Energy =   0.0547
Level     1,  Iter    36:    Energy =   0.0548
Level     1,  Iter    37:    Energy =   0.0548
Level     1,  Iter    38:    Energy =   0.0549
Level     1,  Iter    39:    Energy =   0.0549
Level     1,  Iter    40:    Energy =   0.0550
Level     1,  Iter    41:    Energy =   0.0550
Level     1,  Iter    42:    Energy =   0.0550
Level     1,  Iter    43:    Energy =   0.0551
Level     1,  Iter    44:    Energy =   0.0551
Level     1,  Iter    45:    Energy =   0.0552
Level     1,  Iter    46:    Energy =   0.0552
Level     1,  Iter    47:    Energy =   0.0552
Level     1,  Iter    48:    Energy =   0.0553
Level     1,  Iter    49:    Energy =   0.0553
Level     1,  Iter    50:    Energy =   0.0553
Level     1,  Iter    51:    Energy =   0.0553
Level     1,  Iter    52:    Energy =   0.0553
Level     1,  Iter    53:    Energy =   0.0554
Level     1,  Iter    54:    Energy =   0.0554
Level     1,  Iter    55:    Energy =   0.0554
Level     1,  Iter    56:    Energy =   0.0554
Level     1,  Iter    57:    Energy =   0.0554
Level     1,  Iter    58:    Energy =   0.0554
Level     1,  Iter    59:    Energy =   0.0554
END OF LEVEL     1    DetJac Range:   0.0496  to   6.5860 
  Avg. Gradient Time  : 0.0280s  33.61% 
  Avg. Gaussian Time  : 0.0437s  52.52% 
  Avg. Iteration Time : 0.0832s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0252
Level     2,  Iter     1:    Energy =   0.0260
Level     2,  Iter     2:    Energy =   0.0267
Level     2,  Iter     3:    Energy =   0.0274
Level     2,  Iter     4:    Energy =   0.0281
Level     2,  Iter     5:    Energy =   0.0288
Level     2,  Iter     6:    Energy =   0.0294
Level     2,  Iter     7:    Energy =   0.0300
Level     2,  Iter     8:    Energy =   0.0305
Level     2,  Iter     9:    Energy =   0.0311
Level     2,  Iter    10:    Energy =   0.0315
Level     2,  Iter    11:    Energy =   0.0319
Level     2,  Iter    12:    Energy =   0.0322
Level     2,  Iter    13:    Energy =   0.0325
Level     2,  Iter    14:    Energy =   0.0327
Level     2,  Iter    15:    Energy =   0.0330
Level     2,  Iter    16:    Energy =   0.0331
Level     2,  Iter    17:    Energy =   0.0333
Level     2,  Iter    18:    Energy =   0.0335
Level     2,  Iter    19:    Energy =   0.0336
END OF LEVEL     2    DetJac Range:   0.0501  to   6.4624 
  Avg. Gradient Time  : 0.1865s  32.32% 
  Avg. Gaussian Time  : 0.3132s  54.28% 
  Avg. Iteration Time : 0.5771s 

real	0m20.576s
user	0m35.804s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 353.116   GNORM= 222.452
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       224.093     145.925       0.004
   2    3        56.783      94.630       1.000
   3    4        -4.567     291.452       1.000
   4    5      -244.860     158.036       1.000
   5    9      -448.798     245.383       1.280
   6   10      -629.280     114.353       1.000
   7   14      -629.542     176.238       0.020
   8   16      -660.182     106.652       0.469
   9   17      -677.429     103.575       1.000
  10   18      -723.514      86.556       1.000
  11   19      -810.156      60.638       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.979895 -0.102792 0.0982496 -2.83677 
-0.0259902 1.23607 -0.156527 5.84524 
0.12156 -0.0793744 0.908606 -8.2725 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -417.084   GNORM= 148142
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -447.698   40917.276       0.000
   2    5      -448.609      56.109       0.111
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.981943 -0.107025 0.102014 -3.22586 
-0.0209794 1.22793 -0.152771 5.18008 
0.122227 -0.0801865 0.908868 -8.34751 
0 0 0 1 

Final RAS Transform: 
0.981943 -0.107025 0.102014 -3.22586 
-0.0209794 1.22793 -0.152771 5.18008 
0.122227 -0.0801865 0.908868 -8.34751 
0 0 0 1 


real	0m3.581s
user	0m5.612s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.449987
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0210
Level     0,  Iter     1:    Energy =   0.0237
Level     0,  Iter     2:    Energy =   0.0272
Level     0,  Iter     3:    Energy =   0.0303
Level     0,  Iter     4:    Energy =   0.0329
Level     0,  Iter     5:    Energy =   0.0347
Level     0,  Iter     6:    Energy =   0.0361
Level     0,  Iter     7:    Energy =   0.0371
Level     0,  Iter     8:    Energy =   0.0382
Level     0,  Iter     9:    Energy =   0.0392
Level     0,  Iter    10:    Energy =   0.0401
Level     0,  Iter    11:    Energy =   0.0411
Level     0,  Iter    12:    Energy =   0.0417
Level     0,  Iter    13:    Energy =   0.0419
Level     0,  Iter    14:    Energy =   0.0422
Level     0,  Iter    15:    Energy =   0.0424
Level     0,  Iter    16:    Energy =   0.0426
Level     0,  Iter    17:    Energy =   0.0430
Level     0,  Iter    18:    Energy =   0.0435
Level     0,  Iter    19:    Energy =   0.0440
Level     0,  Iter    20:    Energy =   0.0445
Level     0,  Iter    21:    Energy =   0.0448
Level     0,  Iter    22:    Energy =   0.0452
Level     0,  Iter    23:    Energy =   0.0455
Level     0,  Iter    24:    Energy =   0.0458
Level     0,  Iter    25:    Energy =   0.0460
Level     0,  Iter    26:    Energy =   0.0462
Level     0,  Iter    27:    Energy =   0.0464
Level     0,  Iter    28:    Energy =   0.0466
Level     0,  Iter    29:    Energy =   0.0468
Level     0,  Iter    30:    Energy =   0.0469
Level     0,  Iter    31:    Energy =   0.0470
Level     0,  Iter    32:    Energy =   0.0471
Level     0,  Iter    33:    Energy =   0.0473
Level     0,  Iter    34:    Energy =   0.0475
Level     0,  Iter    35:    Energy =   0.0477
Level     0,  Iter    36:    Energy =   0.0476
Level     0,  Iter    37:    Energy =   0.0477
Level     0,  Iter    38:    Energy =   0.0477
Level     0,  Iter    39:    Energy =   0.0479
Level     0,  Iter    40:    Energy =   0.0480
Level     0,  Iter    41:    Energy =   0.0481
Level     0,  Iter    42:    Energy =   0.0482
Level     0,  Iter    43:    Energy =   0.0482
Level     0,  Iter    44:    Energy =   0.0482
Level     0,  Iter    45:    Energy =   0.0482
Level     0,  Iter    46:    Energy =   0.0482
Level     0,  Iter    47:    Energy =   0.0481
Level     0,  Iter    48:    Energy =   0.0483
Level     0,  Iter    49:    Energy =   0.0482
Level     0,  Iter    50:    Energy =   0.0483
Level     0,  Iter    51:    Energy =   0.0483
Level     0,  Iter    52:    Energy =   0.0483
Level     0,  Iter    53:    Energy =   0.0483
Level     0,  Iter    54:    Energy =   0.0484
Level     0,  Iter    55:    Energy =   0.0484
Level     0,  Iter    56:    Energy =   0.0484
Level     0,  Iter    57:    Energy =   0.0484
Level     0,  Iter    58:    Energy =   0.0485
Level     0,  Iter    59:    Energy =   0.0484
END OF LEVEL     0    DetJac Range:   0.0455  to   2.8414 
  Avg. Gradient Time  : 0.0067s  33.11% 
  Avg. Gaussian Time  : 0.0097s  48.10% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0307
Level     1,  Iter     1:    Energy =   0.0320
Level     1,  Iter     2:    Energy =   0.0330
Level     1,  Iter     3:    Energy =   0.0339
Level     1,  Iter     4:    Energy =   0.0347
Level     1,  Iter     5:    Energy =   0.0356
Level     1,  Iter     6:    Energy =   0.0365
Level     1,  Iter     7:    Energy =   0.0375
Level     1,  Iter     8:    Energy =   0.0384
Level     1,  Iter     9:    Energy =   0.0391
Level     1,  Iter    10:    Energy =   0.0397
Level     1,  Iter    11:    Energy =   0.0403
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0412
Level     1,  Iter    14:    Energy =   0.0417
Level     1,  Iter    15:    Energy =   0.0421
Level     1,  Iter    16:    Energy =   0.0425
Level     1,  Iter    17:    Energy =   0.0428
Level     1,  Iter    18:    Energy =   0.0431
Level     1,  Iter    19:    Energy =   0.0433
Level     1,  Iter    20:    Energy =   0.0435
Level     1,  Iter    21:    Energy =   0.0437
Level     1,  Iter    22:    Energy =   0.0439
Level     1,  Iter    23:    Energy =   0.0441
Level     1,  Iter    24:    Energy =   0.0443
Level     1,  Iter    25:    Energy =   0.0444
Level     1,  Iter    26:    Energy =   0.0446
Level     1,  Iter    27:    Energy =   0.0447
Level     1,  Iter    28:    Energy =   0.0449
Level     1,  Iter    29:    Energy =   0.0450
Level     1,  Iter    30:    Energy =   0.0452
Level     1,  Iter    31:    Energy =   0.0453
Level     1,  Iter    32:    Energy =   0.0454
Level     1,  Iter    33:    Energy =   0.0455
Level     1,  Iter    34:    Energy =   0.0457
Level     1,  Iter    35:    Energy =   0.0458
Level     1,  Iter    36:    Energy =   0.0459
Level     1,  Iter    37:    Energy =   0.0460
Level     1,  Iter    38:    Energy =   0.0461
Level     1,  Iter    39:    Energy =   0.0462
Level     1,  Iter    40:    Energy =   0.0462
Level     1,  Iter    41:    Energy =   0.0463
Level     1,  Iter    42:    Energy =   0.0464
Level     1,  Iter    43:    Energy =   0.0465
Level     1,  Iter    44:    Energy =   0.0466
Level     1,  Iter    45:    Energy =   0.0466
Level     1,  Iter    46:    Energy =   0.0467
Level     1,  Iter    47:    Energy =   0.0468
Level     1,  Iter    48:    Energy =   0.0468
Level     1,  Iter    49:    Energy =   0.0469
Level     1,  Iter    50:    Energy =   0.0469
Level     1,  Iter    51:    Energy =   0.0469
Level     1,  Iter    52:    Energy =   0.0469
Level     1,  Iter    53:    Energy =   0.0470
Level     1,  Iter    54:    Energy =   0.0470
Level     1,  Iter    55:    Energy =   0.0471
Level     1,  Iter    56:    Energy =   0.0472
Level     1,  Iter    57:    Energy =   0.0472
Level     1,  Iter    58:    Energy =   0.0472
Level     1,  Iter    59:    Energy =   0.0472
END OF LEVEL     1    DetJac Range:   0.0191  to   3.3406 
  Avg. Gradient Time  : 0.0280s  33.92% 
  Avg. Gaussian Time  : 0.0431s  52.24% 
  Avg. Iteration Time : 0.0825s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0215
Level     2,  Iter     1:    Energy =   0.0220
Level     2,  Iter     2:    Energy =   0.0224
Level     2,  Iter     3:    Energy =   0.0228
Level     2,  Iter     4:    Energy =   0.0231
Level     2,  Iter     5:    Energy =   0.0234
Level     2,  Iter     6:    Energy =   0.0237
Level     2,  Iter     7:    Energy =   0.0240
Level     2,  Iter     8:    Energy =   0.0243
Level     2,  Iter     9:    Energy =   0.0245
Level     2,  Iter    10:    Energy =   0.0248
Level     2,  Iter    11:    Energy =   0.0250
Level     2,  Iter    12:    Energy =   0.0253
Level     2,  Iter    13:    Energy =   0.0255
Level     2,  Iter    14:    Energy =   0.0257
Level     2,  Iter    15:    Energy =   0.0259
Level     2,  Iter    16:    Energy =   0.0261
Level     2,  Iter    17:    Energy =   0.0262
Level     2,  Iter    18:    Energy =   0.0264
Level     2,  Iter    19:    Energy =   0.0265
END OF LEVEL     2    DetJac Range:   0.0175  to   3.4007 
  Avg. Gradient Time  : 0.1800s  32.08% 
  Avg. Gaussian Time  : 0.3050s  54.38% 
  Avg. Iteration Time : 0.5610s 

real	0m20.170s
user	0m35.040s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 347.118   GNORM= 174.226
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       199.486     117.561       0.006
   2    3       -39.680     125.142       1.000
   3    7      -680.746     107.325       0.210
   4    8      -758.978     155.670       1.000
   5   13      -768.871      82.245       0.002
   6   17      -837.188      57.176       1.478
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02339 -0.0823165 0.0801691 -3.75361 
-0.150015 1.09987 -0.194883 6.81355 
0.158604 -0.114533 1.04666 -5.14737 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -359.765   GNORM= 42.3315
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -360.859     240.300       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02398 -0.0827083 0.0811113 -3.82663 
-0.150142 1.09983 -0.194714 6.8165 
0.158427 -0.11444 1.04675 -5.11022 
0 0 0 1 

Final RAS Transform: 
1.02398 -0.0827083 0.0811113 -3.82663 
-0.150142 1.09983 -0.194714 6.8165 
0.158427 -0.11444 1.04675 -5.11022 
0 0 0 1 


real	0m3.403s
user	0m5.300s
sys	0m0.376s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.327584
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0203
Level     0,  Iter     1:    Energy =   0.0226
Level     0,  Iter     2:    Energy =   0.0243
Level     0,  Iter     3:    Energy =   0.0274
Level     0,  Iter     4:    Energy =   0.0303
Level     0,  Iter     5:    Energy =   0.0330
Level     0,  Iter     6:    Energy =   0.0358
Level     0,  Iter     7:    Energy =   0.0382
Level     0,  Iter     8:    Energy =   0.0405
Level     0,  Iter     9:    Energy =   0.0427
Level     0,  Iter    10:    Energy =   0.0446
Level     0,  Iter    11:    Energy =   0.0462
Level     0,  Iter    12:    Energy =   0.0473
Level     0,  Iter    13:    Energy =   0.0481
Level     0,  Iter    14:    Energy =   0.0485
Level     0,  Iter    15:    Energy =   0.0490
Level     0,  Iter    16:    Energy =   0.0495
Level     0,  Iter    17:    Energy =   0.0500
Level     0,  Iter    18:    Energy =   0.0506
Level     0,  Iter    19:    Energy =   0.0512
Level     0,  Iter    20:    Energy =   0.0520
Level     0,  Iter    21:    Energy =   0.0523
Level     0,  Iter    22:    Energy =   0.0524
Level     0,  Iter    23:    Energy =   0.0532
Level     0,  Iter    24:    Energy =   0.0536
Level     0,  Iter    25:    Energy =   0.0538
Level     0,  Iter    26:    Energy =   0.0541
Level     0,  Iter    27:    Energy =   0.0544
Level     0,  Iter    28:    Energy =   0.0544
Level     0,  Iter    29:    Energy =   0.0544
Level     0,  Iter    30:    Energy =   0.0545
Level     0,  Iter    31:    Energy =   0.0547
Level     0,  Iter    32:    Energy =   0.0549
Level     0,  Iter    33:    Energy =   0.0551
Level     0,  Iter    34:    Energy =   0.0552
Level     0,  Iter    35:    Energy =   0.0552
Level     0,  Iter    36:    Energy =   0.0553
Level     0,  Iter    37:    Energy =   0.0553
Level     0,  Iter    38:    Energy =   0.0554
Level     0,  Iter    39:    Energy =   0.0554
Level     0,  Iter    40:    Energy =   0.0553
Level     0,  Iter    41:    Energy =   0.0552
Level     0,  Iter    42:    Energy =   0.0548
Level     0,  Iter    43:    Energy =   0.0547
Level     0,  Iter    44:    Energy =   0.0546
Level     0,  Iter    45:    Energy =   0.0546
Level     0,  Iter    46:    Energy =   0.0543
Level     0,  Iter    47:    Energy =   0.0543
Level     0,  Iter    48:    Energy =   0.0542
Level     0,  Iter    49:    Energy =   0.0541
Level     0,  Iter    50:    Energy =   0.0539
Level     0,  Iter    51:    Energy =   0.0539
Level     0,  Iter    52:    Energy =   0.0538
Level     0,  Iter    53:    Energy =   0.0537
Level     0,  Iter    54:    Energy =   0.0536
Level     0,  Iter    55:    Energy =   0.0536
Level     0,  Iter    56:    Energy =   0.0534
Level     0,  Iter    57:    Energy =   0.0534
Level     0,  Iter    58:    Energy =   0.0533
Level     0,  Iter    59:    Energy =   0.0533
END OF LEVEL     0    DetJac Range:   0.0925  to   2.4160 
  Avg. Gradient Time  : 0.0067s  32.91% 
  Avg. Gaussian Time  : 0.0098s  48.10% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0284
Level     1,  Iter     1:    Energy =   0.0302
Level     1,  Iter     2:    Energy =   0.0320
Level     1,  Iter     3:    Energy =   0.0336
Level     1,  Iter     4:    Energy =   0.0350
Level     1,  Iter     5:    Energy =   0.0362
Level     1,  Iter     6:    Energy =   0.0372
Level     1,  Iter     7:    Energy =   0.0379
Level     1,  Iter     8:    Energy =   0.0387
Level     1,  Iter     9:    Energy =   0.0393
Level     1,  Iter    10:    Energy =   0.0399
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0409
Level     1,  Iter    13:    Energy =   0.0413
Level     1,  Iter    14:    Energy =   0.0417
Level     1,  Iter    15:    Energy =   0.0420
Level     1,  Iter    16:    Energy =   0.0423
Level     1,  Iter    17:    Energy =   0.0426
Level     1,  Iter    18:    Energy =   0.0428
Level     1,  Iter    19:    Energy =   0.0432
Level     1,  Iter    20:    Energy =   0.0434
Level     1,  Iter    21:    Energy =   0.0437
Level     1,  Iter    22:    Energy =   0.0439
Level     1,  Iter    23:    Energy =   0.0442
Level     1,  Iter    24:    Energy =   0.0443
Level     1,  Iter    25:    Energy =   0.0445
Level     1,  Iter    26:    Energy =   0.0446
Level     1,  Iter    27:    Energy =   0.0448
Level     1,  Iter    28:    Energy =   0.0450
Level     1,  Iter    29:    Energy =   0.0452
Level     1,  Iter    30:    Energy =   0.0453
Level     1,  Iter    31:    Energy =   0.0455
Level     1,  Iter    32:    Energy =   0.0457
Level     1,  Iter    33:    Energy =   0.0458
Level     1,  Iter    34:    Energy =   0.0460
Level     1,  Iter    35:    Energy =   0.0461
Level     1,  Iter    36:    Energy =   0.0463
Level     1,  Iter    37:    Energy =   0.0465
Level     1,  Iter    38:    Energy =   0.0466
Level     1,  Iter    39:    Energy =   0.0467
Level     1,  Iter    40:    Energy =   0.0468
Level     1,  Iter    41:    Energy =   0.0469
Level     1,  Iter    42:    Energy =   0.0470
Level     1,  Iter    43:    Energy =   0.0472
Level     1,  Iter    44:    Energy =   0.0473
Level     1,  Iter    45:    Energy =   0.0475
Level     1,  Iter    46:    Energy =   0.0476
Level     1,  Iter    47:    Energy =   0.0477
Level     1,  Iter    48:    Energy =   0.0478
Level     1,  Iter    49:    Energy =   0.0479
Level     1,  Iter    50:    Energy =   0.0480
Level     1,  Iter    51:    Energy =   0.0481
Level     1,  Iter    52:    Energy =   0.0480
Level     1,  Iter    53:    Energy =   0.0481
Level     1,  Iter    54:    Energy =   0.0482
Level     1,  Iter    55:    Energy =   0.0482
Level     1,  Iter    56:    Energy =   0.0482
Level     1,  Iter    57:    Energy =   0.0483
Level     1,  Iter    58:    Energy =   0.0482
Level     1,  Iter    59:    Energy =   0.0482
END OF LEVEL     1    DetJac Range:   0.0439  to   5.5416 
  Avg. Gradient Time  : 0.0282s  33.87% 
  Avg. Gaussian Time  : 0.0436s  52.30% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0216
Level     2,  Iter     1:    Energy =   0.0223
Level     2,  Iter     2:    Energy =   0.0228
Level     2,  Iter     3:    Energy =   0.0233
Level     2,  Iter     4:    Energy =   0.0237
Level     2,  Iter     5:    Energy =   0.0241
Level     2,  Iter     6:    Energy =   0.0245
Level     2,  Iter     7:    Energy =   0.0248
Level     2,  Iter     8:    Energy =   0.0251
Level     2,  Iter     9:    Energy =   0.0254
Level     2,  Iter    10:    Energy =   0.0258
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0263
Level     2,  Iter    13:    Energy =   0.0264
Level     2,  Iter    14:    Energy =   0.0265
Level     2,  Iter    15:    Energy =   0.0266
Level     2,  Iter    16:    Energy =   0.0267
Level     2,  Iter    17:    Energy =   0.0268
Level     2,  Iter    18:    Energy =   0.0269
Level     2,  Iter    19:    Energy =   0.0270
END OF LEVEL     2    DetJac Range:   0.0294  to   4.9703 
  Avg. Gradient Time  : 0.1818s  32.39% 
  Avg. Gaussian Time  : 0.3039s  54.14% 
  Avg. Iteration Time : 0.5613s 

real	0m20.266s
user	0m35.428s
sys	0m2.008s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 435.007   GNORM= 222.911
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       250.780     131.464       0.004
   2    3       142.828      79.201       1.000
   3    7      -225.185     174.131       3.723
   4    9      -238.529     102.014       0.351
   5   12      -524.266     128.786       1.522
   6   13      -602.530     173.961       1.000
   7   14      -654.490     203.236       1.000
   8   16      -767.377     144.627       0.238
   9   18      -819.771     181.290       0.492
  10   25      -819.974      59.056       0.000
  11   26      -831.206      45.290       1.000
  12   27      -893.560      87.418       1.000
  13   30      -966.721      66.901       0.752
  14   31      -980.623     209.411       1.000
  15   32     -1093.116      86.331       1.000
  16   35     -1105.055      84.055       0.107
  17   36     -1124.073     127.328       1.000
  18   37     -1168.983      76.206       1.000
  19   41     -1170.234      71.097       0.006
  20   43     -1177.453     168.082       0.056
  21   46     -1182.053      78.861       0.028
  22   49     -1184.261      67.225       0.893
  23   50     -1197.895      41.152       1.000
  24   51     -1206.820      51.713       1.000
  25   52     -1211.804      59.399       1.000
  26   53     -1218.066      47.494       1.000
  27   54     -1223.560     101.030       1.000
  28   55     -1242.701     100.997       1.000
  29   56     -1288.931      62.404       1.000
  30   57     -1289.305      46.428       1.000
  31   58     -1298.694      37.249       1.000
  32   59     -1303.255      31.242       1.000
  33   60     -1316.939      42.212       1.000
  34   61     -1325.519      39.451       1.000
Final RAS Transform: 
0.937763 -0.131331 0.286936 -0.077691 
-0.415421 1.07359 0.250909 8.95912 
0.275602 -0.0646562 0.888271 -5.85018 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -681.222   GNORM= 218.676
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -689.461     318.918       0.005
   2    6      -689.755     379.302       0.037
   3   14      -690.009      62.500       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.944348 -0.139875 0.284932 -0.630445 
-0.417464 1.07686 0.254203 9.0039 
0.278559 -0.0593602 0.893307 -6.02601 
0 0 0 1 

Final RAS Transform: 
0.944348 -0.139875 0.284932 -0.630445 
-0.417464 1.07686 0.254203 9.0039 
0.278559 -0.0593602 0.893307 -6.02601 
0 0 0 1 


real	0m4.315s
user	0m6.888s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.4051
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0323
Level     0,  Iter     1:    Energy =   0.0349
Level     0,  Iter     2:    Energy =   0.0386
Level     0,  Iter     3:    Energy =   0.0424
Level     0,  Iter     4:    Energy =   0.0452
Level     0,  Iter     5:    Energy =   0.0474
Level     0,  Iter     6:    Energy =   0.0490
Level     0,  Iter     7:    Energy =   0.0508
Level     0,  Iter     8:    Energy =   0.0522
Level     0,  Iter     9:    Energy =   0.0532
Level     0,  Iter    10:    Energy =   0.0542
Level     0,  Iter    11:    Energy =   0.0550
Level     0,  Iter    12:    Energy =   0.0558
Level     0,  Iter    13:    Energy =   0.0566
Level     0,  Iter    14:    Energy =   0.0573
Level     0,  Iter    15:    Energy =   0.0579
Level     0,  Iter    16:    Energy =   0.0584
Level     0,  Iter    17:    Energy =   0.0589
Level     0,  Iter    18:    Energy =   0.0594
Level     0,  Iter    19:    Energy =   0.0599
Level     0,  Iter    20:    Energy =   0.0603
Level     0,  Iter    21:    Energy =   0.0607
Level     0,  Iter    22:    Energy =   0.0611
Level     0,  Iter    23:    Energy =   0.0614
Level     0,  Iter    24:    Energy =   0.0617
Level     0,  Iter    25:    Energy =   0.0620
Level     0,  Iter    26:    Energy =   0.0622
Level     0,  Iter    27:    Energy =   0.0623
Level     0,  Iter    28:    Energy =   0.0625
Level     0,  Iter    29:    Energy =   0.0627
Level     0,  Iter    30:    Energy =   0.0628
Level     0,  Iter    31:    Energy =   0.0629
Level     0,  Iter    32:    Energy =   0.0630
Level     0,  Iter    33:    Energy =   0.0632
Level     0,  Iter    34:    Energy =   0.0632
Level     0,  Iter    35:    Energy =   0.0633
Level     0,  Iter    36:    Energy =   0.0634
Level     0,  Iter    37:    Energy =   0.0635
Level     0,  Iter    38:    Energy =   0.0636
Level     0,  Iter    39:    Energy =   0.0637
Level     0,  Iter    40:    Energy =   0.0637
Level     0,  Iter    41:    Energy =   0.0637
Level     0,  Iter    42:    Energy =   0.0637
Level     0,  Iter    43:    Energy =   0.0637
Level     0,  Iter    44:    Energy =   0.0639
Level     0,  Iter    45:    Energy =   0.0638
Level     0,  Iter    46:    Energy =   0.0639
Level     0,  Iter    47:    Energy =   0.0639
Level     0,  Iter    48:    Energy =   0.0640
Level     0,  Iter    49:    Energy =   0.0640
Level     0,  Iter    50:    Energy =   0.0640
Level     0,  Iter    51:    Energy =   0.0641
Level     0,  Iter    52:    Energy =   0.0641
Level     0,  Iter    53:    Energy =   0.0642
Level     0,  Iter    54:    Energy =   0.0642
Level     0,  Iter    55:    Energy =   0.0642
Level     0,  Iter    56:    Energy =   0.0643
Level     0,  Iter    57:    Energy =   0.0643
Level     0,  Iter    58:    Energy =   0.0643
Level     0,  Iter    59:    Energy =   0.0643
END OF LEVEL     0    DetJac Range:   0.1268  to   2.4122 
  Avg. Gradient Time  : 0.0067s  32.75% 
  Avg. Gaussian Time  : 0.0099s  48.23% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0378
Level     1,  Iter     1:    Energy =   0.0398
Level     1,  Iter     2:    Energy =   0.0411
Level     1,  Iter     3:    Energy =   0.0425
Level     1,  Iter     4:    Energy =   0.0439
Level     1,  Iter     5:    Energy =   0.0451
Level     1,  Iter     6:    Energy =   0.0461
Level     1,  Iter     7:    Energy =   0.0470
Level     1,  Iter     8:    Energy =   0.0476
Level     1,  Iter     9:    Energy =   0.0481
Level     1,  Iter    10:    Energy =   0.0486
Level     1,  Iter    11:    Energy =   0.0491
Level     1,  Iter    12:    Energy =   0.0495
Level     1,  Iter    13:    Energy =   0.0499
Level     1,  Iter    14:    Energy =   0.0502
Level     1,  Iter    15:    Energy =   0.0505
Level     1,  Iter    16:    Energy =   0.0507
Level     1,  Iter    17:    Energy =   0.0510
Level     1,  Iter    18:    Energy =   0.0513
Level     1,  Iter    19:    Energy =   0.0516
Level     1,  Iter    20:    Energy =   0.0519
Level     1,  Iter    21:    Energy =   0.0521
Level     1,  Iter    22:    Energy =   0.0524
Level     1,  Iter    23:    Energy =   0.0526
Level     1,  Iter    24:    Energy =   0.0528
Level     1,  Iter    25:    Energy =   0.0530
Level     1,  Iter    26:    Energy =   0.0533
Level     1,  Iter    27:    Energy =   0.0535
Level     1,  Iter    28:    Energy =   0.0538
Level     1,  Iter    29:    Energy =   0.0540
Level     1,  Iter    30:    Energy =   0.0543
Level     1,  Iter    31:    Energy =   0.0545
Level     1,  Iter    32:    Energy =   0.0547
Level     1,  Iter    33:    Energy =   0.0549
Level     1,  Iter    34:    Energy =   0.0551
Level     1,  Iter    35:    Energy =   0.0553
Level     1,  Iter    36:    Energy =   0.0554
Level     1,  Iter    37:    Energy =   0.0556
Level     1,  Iter    38:    Energy =   0.0558
Level     1,  Iter    39:    Energy =   0.0559
Level     1,  Iter    40:    Energy =   0.0561
Level     1,  Iter    41:    Energy =   0.0563
Level     1,  Iter    42:    Energy =   0.0565
Level     1,  Iter    43:    Energy =   0.0567
Level     1,  Iter    44:    Energy =   0.0568
Level     1,  Iter    45:    Energy =   0.0569
Level     1,  Iter    46:    Energy =   0.0571
Level     1,  Iter    47:    Energy =   0.0573
Level     1,  Iter    48:    Energy =   0.0574
Level     1,  Iter    49:    Energy =   0.0575
Level     1,  Iter    50:    Energy =   0.0573
Level     1,  Iter    51:    Energy =   0.0575
Level     1,  Iter    52:    Energy =   0.0575
Level     1,  Iter    53:    Energy =   0.0577
Level     1,  Iter    54:    Energy =   0.0576
Level     1,  Iter    55:    Energy =   0.0578
Level     1,  Iter    56:    Energy =   0.0579
Level     1,  Iter    57:    Energy =   0.0581
Level     1,  Iter    58:    Energy =   0.0581
Level     1,  Iter    59:    Energy =   0.0582
END OF LEVEL     1    DetJac Range:   0.0381  to   5.4330 
  Avg. Gradient Time  : 0.0283s  33.61% 
  Avg. Gaussian Time  : 0.0443s  52.51% 
  Avg. Iteration Time : 0.0843s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0268
Level     2,  Iter     1:    Energy =   0.0276
Level     2,  Iter     2:    Energy =   0.0283
Level     2,  Iter     3:    Energy =   0.0289
Level     2,  Iter     4:    Energy =   0.0294
Level     2,  Iter     5:    Energy =   0.0298
Level     2,  Iter     6:    Energy =   0.0302
Level     2,  Iter     7:    Energy =   0.0305
Level     2,  Iter     8:    Energy =   0.0308
Level     2,  Iter     9:    Energy =   0.0310
Level     2,  Iter    10:    Energy =   0.0313
Level     2,  Iter    11:    Energy =   0.0315
Level     2,  Iter    12:    Energy =   0.0316
Level     2,  Iter    13:    Energy =   0.0318
Level     2,  Iter    14:    Energy =   0.0320
Level     2,  Iter    15:    Energy =   0.0321
Level     2,  Iter    16:    Energy =   0.0323
Level     2,  Iter    17:    Energy =   0.0324
Level     2,  Iter    18:    Energy =   0.0326
Level     2,  Iter    19:    Energy =   0.0327
END OF LEVEL     2    DetJac Range:   0.0366  to   4.6059 
  Avg. Gradient Time  : 0.1798s  32.21% 
  Avg. Gaussian Time  : 0.3039s  54.44% 
  Avg. Iteration Time : 0.5582s 

real	0m20.203s
user	0m35.124s
sys	0m2.252s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 405.541   GNORM= 248.177
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       235.635     125.490       0.004
   2    3       112.621      79.487       1.000
   3    4        43.414      96.415       1.000
   4    5       -18.854      89.081       1.000
   5    8       -76.785      90.148       0.102
   6    9      -159.595     101.325       1.000
   7   11      -241.627     139.333       0.216
   8   15      -370.318      62.602       1.486
   9   16      -438.894      60.750       1.000
  10   17      -593.857     145.591       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00444 0.0191199 0.152924 -2.32948 
-0.224385 0.98285 -0.341582 9.84742 
0.317369 0.104363 0.657036 -8.17262 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -250.202   GNORM= 14367.7
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00444 0.0191199 0.152924 -2.32948 
-0.224385 0.98285 -0.341582 9.84742 
0.317369 0.104363 0.657036 -8.17262 
0 0 0 1 

Final RAS Transform: 
1.00444 0.0191199 0.152924 -2.32948 
-0.224385 0.98285 -0.341582 9.84742 
0.317369 0.104363 0.657036 -8.17262 
0 0 0 1 


real	0m3.294s
user	0m5.000s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.418613
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0145
Level     0,  Iter     1:    Energy =   0.0160
Level     0,  Iter     2:    Energy =   0.0190
Level     0,  Iter     3:    Energy =   0.0219
Level     0,  Iter     4:    Energy =   0.0244
Level     0,  Iter     5:    Energy =   0.0263
Level     0,  Iter     6:    Energy =   0.0280
Level     0,  Iter     7:    Energy =   0.0296
Level     0,  Iter     8:    Energy =   0.0312
Level     0,  Iter     9:    Energy =   0.0326
Level     0,  Iter    10:    Energy =   0.0338
Level     0,  Iter    11:    Energy =   0.0349
Level     0,  Iter    12:    Energy =   0.0360
Level     0,  Iter    13:    Energy =   0.0370
Level     0,  Iter    14:    Energy =   0.0378
Level     0,  Iter    15:    Energy =   0.0386
Level     0,  Iter    16:    Energy =   0.0393
Level     0,  Iter    17:    Energy =   0.0400
Level     0,  Iter    18:    Energy =   0.0408
Level     0,  Iter    19:    Energy =   0.0418
Level     0,  Iter    20:    Energy =   0.0425
Level     0,  Iter    21:    Energy =   0.0429
Level     0,  Iter    22:    Energy =   0.0432
Level     0,  Iter    23:    Energy =   0.0435
Level     0,  Iter    24:    Energy =   0.0437
Level     0,  Iter    25:    Energy =   0.0439
Level     0,  Iter    26:    Energy =   0.0440
Level     0,  Iter    27:    Energy =   0.0442
Level     0,  Iter    28:    Energy =   0.0443
Level     0,  Iter    29:    Energy =   0.0445
Level     0,  Iter    30:    Energy =   0.0446
Level     0,  Iter    31:    Energy =   0.0447
Level     0,  Iter    32:    Energy =   0.0449
Level     0,  Iter    33:    Energy =   0.0450
Level     0,  Iter    34:    Energy =   0.0451
Level     0,  Iter    35:    Energy =   0.0452
Level     0,  Iter    36:    Energy =   0.0452
Level     0,  Iter    37:    Energy =   0.0453
Level     0,  Iter    38:    Energy =   0.0453
Level     0,  Iter    39:    Energy =   0.0453
Level     0,  Iter    40:    Energy =   0.0454
Level     0,  Iter    41:    Energy =   0.0455
Level     0,  Iter    42:    Energy =   0.0456
Level     0,  Iter    43:    Energy =   0.0457
Level     0,  Iter    44:    Energy =   0.0458
Level     0,  Iter    45:    Energy =   0.0458
Level     0,  Iter    46:    Energy =   0.0459
Level     0,  Iter    47:    Energy =   0.0460
Level     0,  Iter    48:    Energy =   0.0461
Level     0,  Iter    49:    Energy =   0.0462
Level     0,  Iter    50:    Energy =   0.0463
Level     0,  Iter    51:    Energy =   0.0464
Level     0,  Iter    52:    Energy =   0.0465
Level     0,  Iter    53:    Energy =   0.0465
Level     0,  Iter    54:    Energy =   0.0466
Level     0,  Iter    55:    Energy =   0.0467
Level     0,  Iter    56:    Energy =   0.0469
Level     0,  Iter    57:    Energy =   0.0473
Level     0,  Iter    58:    Energy =   0.0478
Level     0,  Iter    59:    Energy =   0.0481
END OF LEVEL     0    DetJac Range:   0.1315  to   3.6910 
  Avg. Gradient Time  : 0.0068s  32.68% 
  Avg. Gaussian Time  : 0.0100s  47.74% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0239
Level     1,  Iter     1:    Energy =   0.0252
Level     1,  Iter     2:    Energy =   0.0262
Level     1,  Iter     3:    Energy =   0.0272
Level     1,  Iter     4:    Energy =   0.0281
Level     1,  Iter     5:    Energy =   0.0288
Level     1,  Iter     6:    Energy =   0.0294
Level     1,  Iter     7:    Energy =   0.0300
Level     1,  Iter     8:    Energy =   0.0305
Level     1,  Iter     9:    Energy =   0.0309
Level     1,  Iter    10:    Energy =   0.0313
Level     1,  Iter    11:    Energy =   0.0317
Level     1,  Iter    12:    Energy =   0.0321
Level     1,  Iter    13:    Energy =   0.0325
Level     1,  Iter    14:    Energy =   0.0328
Level     1,  Iter    15:    Energy =   0.0332
Level     1,  Iter    16:    Energy =   0.0335
Level     1,  Iter    17:    Energy =   0.0338
Level     1,  Iter    18:    Energy =   0.0341
Level     1,  Iter    19:    Energy =   0.0344
Level     1,  Iter    20:    Energy =   0.0347
Level     1,  Iter    21:    Energy =   0.0350
Level     1,  Iter    22:    Energy =   0.0353
Level     1,  Iter    23:    Energy =   0.0355
Level     1,  Iter    24:    Energy =   0.0357
Level     1,  Iter    25:    Energy =   0.0359
Level     1,  Iter    26:    Energy =   0.0361
Level     1,  Iter    27:    Energy =   0.0362
Level     1,  Iter    28:    Energy =   0.0363
Level     1,  Iter    29:    Energy =   0.0364
Level     1,  Iter    30:    Energy =   0.0365
Level     1,  Iter    31:    Energy =   0.0366
Level     1,  Iter    32:    Energy =   0.0366
Level     1,  Iter    33:    Energy =   0.0367
Level     1,  Iter    34:    Energy =   0.0367
Level     1,  Iter    35:    Energy =   0.0367
Level     1,  Iter    36:    Energy =   0.0367
Level     1,  Iter    37:    Energy =   0.0367
Level     1,  Iter    38:    Energy =   0.0367
Level     1,  Iter    39:    Energy =   0.0366
Level     1,  Iter    40:    Energy =   0.0366
Level     1,  Iter    41:    Energy =   0.0366
Level     1,  Iter    42:    Energy =   0.0366
Level     1,  Iter    43:    Energy =   0.0366
Level     1,  Iter    44:    Energy =   0.0366
Level     1,  Iter    45:    Energy =   0.0366
Level     1,  Iter    46:    Energy =   0.0366
Level     1,  Iter    47:    Energy =   0.0366
Level     1,  Iter    48:    Energy =   0.0366
Level     1,  Iter    49:    Energy =   0.0366
Level     1,  Iter    50:    Energy =   0.0367
Level     1,  Iter    51:    Energy =   0.0367
Level     1,  Iter    52:    Energy =   0.0368
Level     1,  Iter    53:    Energy =   0.0368
Level     1,  Iter    54:    Energy =   0.0368
Level     1,  Iter    55:    Energy =   0.0368
Level     1,  Iter    56:    Energy =   0.0368
Level     1,  Iter    57:    Energy =   0.0369
Level     1,  Iter    58:    Energy =   0.0369
Level     1,  Iter    59:    Energy =   0.0369
END OF LEVEL     1    DetJac Range:   0.0359  to   3.0561 
  Avg. Gradient Time  : 0.0288s  34.04% 
  Avg. Gaussian Time  : 0.0441s  52.20% 
  Avg. Iteration Time : 0.0845s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0167
Level     2,  Iter     1:    Energy =   0.0173
Level     2,  Iter     2:    Energy =   0.0180
Level     2,  Iter     3:    Energy =   0.0185
Level     2,  Iter     4:    Energy =   0.0190
Level     2,  Iter     5:    Energy =   0.0195
Level     2,  Iter     6:    Energy =   0.0200
Level     2,  Iter     7:    Energy =   0.0205
Level     2,  Iter     8:    Energy =   0.0208
Level     2,  Iter     9:    Energy =   0.0212
Level     2,  Iter    10:    Energy =   0.0216
Level     2,  Iter    11:    Energy =   0.0219
Level     2,  Iter    12:    Energy =   0.0222
Level     2,  Iter    13:    Energy =   0.0224
Level     2,  Iter    14:    Energy =   0.0226
Level     2,  Iter    15:    Energy =   0.0227
Level     2,  Iter    16:    Energy =   0.0229
Level     2,  Iter    17:    Energy =   0.0230
Level     2,  Iter    18:    Energy =   0.0231
Level     2,  Iter    19:    Energy =   0.0232
END OF LEVEL     2    DetJac Range:   0.0239  to   3.1715 
  Avg. Gradient Time  : 0.1809s  32.33% 
  Avg. Gaussian Time  : 0.3035s  54.26% 
  Avg. Iteration Time : 0.5594s 

real	0m20.295s
user	0m35.252s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 444.969   GNORM= 172.985
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       317.457     104.953       0.006
   2    3       125.652      97.788       1.000
   3    4      -120.925      84.119       1.000
   4    5      -222.859      87.258       1.000
   5   10      -223.023      80.827       0.000
   6   11      -257.199      22.386       1.000
   7   14      -282.230      29.239       2.298
   8   15      -288.671      19.421       1.000
   9   19      -301.212      49.743       3.646
  10   20      -315.188      56.548       1.000
  11   23      -397.977      72.800       0.672
  12   27      -697.240      29.715       0.283
  13   29      -701.656      34.155       0.073
  14   31      -708.223      45.730       0.353
  15   36      -728.363      75.718       6.718
  16   40      -734.956      68.878       0.215
  17   41      -759.988      34.075       1.000
  18   42      -764.803      27.166       1.000
  19   43      -778.711      44.281       1.000
  20   44      -792.082      56.128       1.000
  21   46      -795.620      35.319       0.344
  22   47      -801.127      42.269       1.000
  23   49      -808.645     110.142       5.000
Final RAS Transform: 
0.704807 -0.187844 0.165246 -8.55749 
-0.762242 0.773691 0.334145 3.72655 
0.0914569 0.119979 1.71708 -14.4517 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -351.278   GNORM= 946.252
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -360.381      32.111       0.001
   2    3      -361.531      43.053       1.000
   3    4      -374.979      24.915       1.000
   4    6      -379.960      19.519       0.428
   5    8      -380.191      44.977       0.015
   6   11      -380.405      84.500       1.893
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.704148 -0.185951 0.164971 -8.38052 
-0.763209 0.77602 0.342272 3.20046 
0.0842261 0.132972 1.71392 -13.545 
0 0 0 1 

Final RAS Transform: 
0.704148 -0.185951 0.164971 -8.38052 
-0.763209 0.77602 0.342272 3.20046 
0.0842261 0.132972 1.71392 -13.545 
0 0 0 1 


real	0m4.122s
user	0m6.596s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.343961
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0197
Level     0,  Iter     1:    Energy =   0.0212
Level     0,  Iter     2:    Energy =   0.0228
Level     0,  Iter     3:    Energy =   0.0244
Level     0,  Iter     4:    Energy =   0.0258
Level     0,  Iter     5:    Energy =   0.0268
Level     0,  Iter     6:    Energy =   0.0275
Level     0,  Iter     7:    Energy =   0.0280
Level     0,  Iter     8:    Energy =   0.0285
Level     0,  Iter     9:    Energy =   0.0289
Level     0,  Iter    10:    Energy =   0.0296
Level     0,  Iter    11:    Energy =   0.0301
Level     0,  Iter    12:    Energy =   0.0308
Level     0,  Iter    13:    Energy =   0.0315
Level     0,  Iter    14:    Energy =   0.0320
Level     0,  Iter    15:    Energy =   0.0326
Level     0,  Iter    16:    Energy =   0.0330
Level     0,  Iter    17:    Energy =   0.0334
Level     0,  Iter    18:    Energy =   0.0337
Level     0,  Iter    19:    Energy =   0.0341
Level     0,  Iter    20:    Energy =   0.0344
Level     0,  Iter    21:    Energy =   0.0348
Level     0,  Iter    22:    Energy =   0.0351
Level     0,  Iter    23:    Energy =   0.0355
Level     0,  Iter    24:    Energy =   0.0357
Level     0,  Iter    25:    Energy =   0.0359
Level     0,  Iter    26:    Energy =   0.0361
Level     0,  Iter    27:    Energy =   0.0364
Level     0,  Iter    28:    Energy =   0.0367
Level     0,  Iter    29:    Energy =   0.0369
Level     0,  Iter    30:    Energy =   0.0372
Level     0,  Iter    31:    Energy =   0.0375
Level     0,  Iter    32:    Energy =   0.0377
Level     0,  Iter    33:    Energy =   0.0379
Level     0,  Iter    34:    Energy =   0.0381
Level     0,  Iter    35:    Energy =   0.0385
Level     0,  Iter    36:    Energy =   0.0386
Level     0,  Iter    37:    Energy =   0.0389
Level     0,  Iter    38:    Energy =   0.0391
Level     0,  Iter    39:    Energy =   0.0396
Level     0,  Iter    40:    Energy =   0.0396
Level     0,  Iter    41:    Energy =   0.0400
Level     0,  Iter    42:    Energy =   0.0401
Level     0,  Iter    43:    Energy =   0.0404
Level     0,  Iter    44:    Energy =   0.0406
Level     0,  Iter    45:    Energy =   0.0409
Level     0,  Iter    46:    Energy =   0.0410
Level     0,  Iter    47:    Energy =   0.0413
Level     0,  Iter    48:    Energy =   0.0414
Level     0,  Iter    49:    Energy =   0.0416
Level     0,  Iter    50:    Energy =   0.0417
Level     0,  Iter    51:    Energy =   0.0421
Level     0,  Iter    52:    Energy =   0.0423
Level     0,  Iter    53:    Energy =   0.0425
Level     0,  Iter    54:    Energy =   0.0426
Level     0,  Iter    55:    Energy =   0.0428
Level     0,  Iter    56:    Energy =   0.0430
Level     0,  Iter    57:    Energy =   0.0432
Level     0,  Iter    58:    Energy =   0.0433
Level     0,  Iter    59:    Energy =   0.0435
END OF LEVEL     0    DetJac Range:   0.0305  to   2.3706 
  Avg. Gradient Time  : 0.0068s  33.19% 
  Avg. Gaussian Time  : 0.0099s  47.96% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0220
Level     1,  Iter     1:    Energy =   0.0228
Level     1,  Iter     2:    Energy =   0.0234
Level     1,  Iter     3:    Energy =   0.0239
Level     1,  Iter     4:    Energy =   0.0244
Level     1,  Iter     5:    Energy =   0.0250
Level     1,  Iter     6:    Energy =   0.0254
Level     1,  Iter     7:    Energy =   0.0259
Level     1,  Iter     8:    Energy =   0.0264
Level     1,  Iter     9:    Energy =   0.0268
Level     1,  Iter    10:    Energy =   0.0272
Level     1,  Iter    11:    Energy =   0.0276
Level     1,  Iter    12:    Energy =   0.0280
Level     1,  Iter    13:    Energy =   0.0283
Level     1,  Iter    14:    Energy =   0.0286
Level     1,  Iter    15:    Energy =   0.0289
Level     1,  Iter    16:    Energy =   0.0292
Level     1,  Iter    17:    Energy =   0.0294
Level     1,  Iter    18:    Energy =   0.0297
Level     1,  Iter    19:    Energy =   0.0300
Level     1,  Iter    20:    Energy =   0.0302
Level     1,  Iter    21:    Energy =   0.0305
Level     1,  Iter    22:    Energy =   0.0307
Level     1,  Iter    23:    Energy =   0.0310
Level     1,  Iter    24:    Energy =   0.0311
Level     1,  Iter    25:    Energy =   0.0313
Level     1,  Iter    26:    Energy =   0.0315
Level     1,  Iter    27:    Energy =   0.0317
Level     1,  Iter    28:    Energy =   0.0319
Level     1,  Iter    29:    Energy =   0.0321
Level     1,  Iter    30:    Energy =   0.0322
Level     1,  Iter    31:    Energy =   0.0323
Level     1,  Iter    32:    Energy =   0.0324
Level     1,  Iter    33:    Energy =   0.0324
Level     1,  Iter    34:    Energy =   0.0325
Level     1,  Iter    35:    Energy =   0.0325
Level     1,  Iter    36:    Energy =   0.0326
Level     1,  Iter    37:    Energy =   0.0326
Level     1,  Iter    38:    Energy =   0.0326
Level     1,  Iter    39:    Energy =   0.0326
Level     1,  Iter    40:    Energy =   0.0327
Level     1,  Iter    41:    Energy =   0.0327
Level     1,  Iter    42:    Energy =   0.0328
Level     1,  Iter    43:    Energy =   0.0328
Level     1,  Iter    44:    Energy =   0.0329
Level     1,  Iter    45:    Energy =   0.0328
Level     1,  Iter    46:    Energy =   0.0329
Level     1,  Iter    47:    Energy =   0.0329
Level     1,  Iter    48:    Energy =   0.0330
Level     1,  Iter    49:    Energy =   0.0330
Level     1,  Iter    50:    Energy =   0.0331
Level     1,  Iter    51:    Energy =   0.0330
Level     1,  Iter    52:    Energy =   0.0331
Level     1,  Iter    53:    Energy =   0.0331
Level     1,  Iter    54:    Energy =   0.0331
Level     1,  Iter    55:    Energy =   0.0331
Level     1,  Iter    56:    Energy =   0.0331
Level     1,  Iter    57:    Energy =   0.0331
Level     1,  Iter    58:    Energy =   0.0332
Level     1,  Iter    59:    Energy =   0.0332
END OF LEVEL     1    DetJac Range:   0.0059  to   2.3816 
  Avg. Gradient Time  : 0.0286s  33.83% 
  Avg. Gaussian Time  : 0.0442s  52.33% 
  Avg. Iteration Time : 0.0844s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0146
Level     2,  Iter     2:    Energy =   0.0151
Level     2,  Iter     3:    Energy =   0.0156
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0164
Level     2,  Iter     6:    Energy =   0.0167
Level     2,  Iter     7:    Energy =   0.0170
Level     2,  Iter     8:    Energy =   0.0172
Level     2,  Iter     9:    Energy =   0.0175
Level     2,  Iter    10:    Energy =   0.0177
Level     2,  Iter    11:    Energy =   0.0179
Level     2,  Iter    12:    Energy =   0.0180
Level     2,  Iter    13:    Energy =   0.0182
Level     2,  Iter    14:    Energy =   0.0183
Level     2,  Iter    15:    Energy =   0.0184
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0187
Level     2,  Iter    18:    Energy =   0.0188
Level     2,  Iter    19:    Energy =   0.0189
END OF LEVEL     2    DetJac Range:   0.0051  to   2.1823 
  Avg. Gradient Time  : 0.1869s  32.32% 
  Avg. Gaussian Time  : 0.3135s  54.21% 
  Avg. Iteration Time : 0.5783s 

real	0m20.606s
user	0m35.876s
sys	0m2.296s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 319.257   GNORM= 273.812
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       141.383     131.913       0.004
   2    3        30.429      79.229       1.000
   3    5       -60.056     147.352       5.000
   4    7      -277.944      92.332       0.324
   5    8      -356.159      65.706       1.000
   6    9      -403.882      32.864       1.000
   7   12      -408.794      27.708       0.061
   8   13      -420.867      55.844       1.000
   9   14      -435.291      47.248       1.000
  10   15      -461.021      31.645       1.000
  11   16      -501.525      45.952       1.000
  12   17      -515.877      28.377       1.000
  13   19      -520.301      23.109       0.214
  14   20      -523.214      55.236       1.000
  15   21      -531.926      16.929       1.000
  16   23      -546.812      46.005       5.000
  17   24      -554.867      77.949       1.000
  18   27      -557.503      89.665       0.137
  19   28      -576.361      58.697       1.000
  20   33      -577.715      28.736       1.137
  21   34      -618.233      48.666       1.000
  22   35      -644.343      41.866       1.000
  23   36      -710.919      85.357       1.000
  24   37      -744.611      93.366       1.000
  25   39      -810.781      92.993       0.094
  26   41      -842.012      55.037       0.101
  27   42      -856.108      52.334       1.000
  28   44      -872.137      36.666       0.040
  29   46      -907.847      31.717       0.427
  30   48      -914.760      48.196       0.265
  31   49      -925.743      33.499       1.000
  32   52      -929.127      72.998       0.606
  33   53      -947.961      46.918       1.000
  34   55      -960.748      37.184       0.091
  35   56      -966.766      38.736       1.000
  36   57      -988.427      25.998       1.000
  37   58      -994.623      41.021       1.000
  38   59     -1001.846     134.661       1.000
Final RAS Transform: 
0.985768 -0.192649 0.456894 -6.77946 
-0.404365 0.868392 -0.0746862 8.69747 
0.778052 0.281694 0.580631 -19.9265 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -441.357   GNORM= 48.919
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -446.917      40.796       0.020
   2    3      -453.030      15.379       1.000
   3    4      -453.871      12.903       1.000
   4    9      -457.386      12.291       1.026
   5   11      -457.795      50.210       0.076
   6   15      -458.785      15.984       1.596
   7   18      -462.520      22.996       0.760
   8   20      -468.593      44.396       5.000
   9   21      -477.320      92.269       1.000
  10   22      -488.590      26.862       1.000
  11   26      -495.827      47.942       0.415
  12   27      -502.446      41.334       1.000
  13   28      -532.132      58.535       1.000
  14   29      -549.906      50.840       1.000
  15   32      -551.688      49.365       0.203
  16   36      -555.948     112.422       0.507
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.967454 -0.259954 0.4445 -4.79684 
-0.247632 0.721207 -0.0907833 13.8599 
0.467854 0.310673 0.597941 -27.1222 
0 0 0 1 

Final RAS Transform: 
0.967454 -0.259954 0.4445 -4.79684 
-0.247632 0.721207 -0.0907833 13.8599 
0.467854 0.310673 0.597941 -27.1222 
0 0 0 1 


real	0m5.862s
user	0m9.740s
sys	0m0.660s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.271627
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0292
Level     0,  Iter     1:    Energy =   0.0313
Level     0,  Iter     2:    Energy =   0.0338
Level     0,  Iter     3:    Energy =   0.0362
Level     0,  Iter     4:    Energy =   0.0381
Level     0,  Iter     5:    Energy =   0.0393
Level     0,  Iter     6:    Energy =   0.0402
Level     0,  Iter     7:    Energy =   0.0409
Level     0,  Iter     8:    Energy =   0.0417
Level     0,  Iter     9:    Energy =   0.0424
Level     0,  Iter    10:    Energy =   0.0434
Level     0,  Iter    11:    Energy =   0.0442
Level     0,  Iter    12:    Energy =   0.0450
Level     0,  Iter    13:    Energy =   0.0456
Level     0,  Iter    14:    Energy =   0.0461
Level     0,  Iter    15:    Energy =   0.0466
Level     0,  Iter    16:    Energy =   0.0469
Level     0,  Iter    17:    Energy =   0.0473
Level     0,  Iter    18:    Energy =   0.0474
Level     0,  Iter    19:    Energy =   0.0475
Level     0,  Iter    20:    Energy =   0.0474
Level     0,  Iter    21:    Energy =   0.0477
Level     0,  Iter    22:    Energy =   0.0476
Level     0,  Iter    23:    Energy =   0.0478
Level     0,  Iter    24:    Energy =   0.0477
Level     0,  Iter    25:    Energy =   0.0480
Level     0,  Iter    26:    Energy =   0.0478
Level     0,  Iter    27:    Energy =   0.0480
Level     0,  Iter    28:    Energy =   0.0480
Level     0,  Iter    29:    Energy =   0.0482
Level     0,  Iter    30:    Energy =   0.0481
Level     0,  Iter    31:    Energy =   0.0483
Level     0,  Iter    32:    Energy =   0.0483
Level     0,  Iter    33:    Energy =   0.0483
Level     0,  Iter    34:    Energy =   0.0484
Level     0,  Iter    35:    Energy =   0.0485
Level     0,  Iter    36:    Energy =   0.0486
Level     0,  Iter    37:    Energy =   0.0486
Level     0,  Iter    38:    Energy =   0.0487
Level     0,  Iter    39:    Energy =   0.0487
Level     0,  Iter    40:    Energy =   0.0488
Level     0,  Iter    41:    Energy =   0.0489
Level     0,  Iter    42:    Energy =   0.0489
Level     0,  Iter    43:    Energy =   0.0490
Level     0,  Iter    44:    Energy =   0.0490
Level     0,  Iter    45:    Energy =   0.0489
Level     0,  Iter    46:    Energy =   0.0491
Level     0,  Iter    47:    Energy =   0.0490
Level     0,  Iter    48:    Energy =   0.0491
Level     0,  Iter    49:    Energy =   0.0490
Level     0,  Iter    50:    Energy =   0.0492
Level     0,  Iter    51:    Energy =   0.0492
Level     0,  Iter    52:    Energy =   0.0493
Level     0,  Iter    53:    Energy =   0.0492
Level     0,  Iter    54:    Energy =   0.0494
Level     0,  Iter    55:    Energy =   0.0493
Level     0,  Iter    56:    Energy =   0.0494
Level     0,  Iter    57:    Energy =   0.0495
Level     0,  Iter    58:    Energy =   0.0496
Level     0,  Iter    59:    Energy =   0.0494
END OF LEVEL     0    DetJac Range:   0.1900  to   2.3557 
  Avg. Gradient Time  : 0.0070s  32.99% 
  Avg. Gaussian Time  : 0.0103s  48.43% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0280
Level     1,  Iter     1:    Energy =   0.0297
Level     1,  Iter     2:    Energy =   0.0309
Level     1,  Iter     3:    Energy =   0.0317
Level     1,  Iter     4:    Energy =   0.0324
Level     1,  Iter     5:    Energy =   0.0331
Level     1,  Iter     6:    Energy =   0.0336
Level     1,  Iter     7:    Energy =   0.0342
Level     1,  Iter     8:    Energy =   0.0346
Level     1,  Iter     9:    Energy =   0.0351
Level     1,  Iter    10:    Energy =   0.0355
Level     1,  Iter    11:    Energy =   0.0359
Level     1,  Iter    12:    Energy =   0.0364
Level     1,  Iter    13:    Energy =   0.0368
Level     1,  Iter    14:    Energy =   0.0372
Level     1,  Iter    15:    Energy =   0.0376
Level     1,  Iter    16:    Energy =   0.0379
Level     1,  Iter    17:    Energy =   0.0382
Level     1,  Iter    18:    Energy =   0.0385
Level     1,  Iter    19:    Energy =   0.0387
Level     1,  Iter    20:    Energy =   0.0389
Level     1,  Iter    21:    Energy =   0.0391
Level     1,  Iter    22:    Energy =   0.0392
Level     1,  Iter    23:    Energy =   0.0394
Level     1,  Iter    24:    Energy =   0.0396
Level     1,  Iter    25:    Energy =   0.0397
Level     1,  Iter    26:    Energy =   0.0398
Level     1,  Iter    27:    Energy =   0.0399
Level     1,  Iter    28:    Energy =   0.0399
Level     1,  Iter    29:    Energy =   0.0399
Level     1,  Iter    30:    Energy =   0.0400
Level     1,  Iter    31:    Energy =   0.0400
Level     1,  Iter    32:    Energy =   0.0401
Level     1,  Iter    33:    Energy =   0.0401
Level     1,  Iter    34:    Energy =   0.0401
Level     1,  Iter    35:    Energy =   0.0401
Level     1,  Iter    36:    Energy =   0.0402
Level     1,  Iter    37:    Energy =   0.0402
Level     1,  Iter    38:    Energy =   0.0403
Level     1,  Iter    39:    Energy =   0.0403
Level     1,  Iter    40:    Energy =   0.0404
Level     1,  Iter    41:    Energy =   0.0403
Level     1,  Iter    42:    Energy =   0.0404
Level     1,  Iter    43:    Energy =   0.0404
Level     1,  Iter    44:    Energy =   0.0405
Level     1,  Iter    45:    Energy =   0.0405
Level     1,  Iter    46:    Energy =   0.0405
Level     1,  Iter    47:    Energy =   0.0405
Level     1,  Iter    48:    Energy =   0.0406
Level     1,  Iter    49:    Energy =   0.0405
Level     1,  Iter    50:    Energy =   0.0406
Level     1,  Iter    51:    Energy =   0.0406
Level     1,  Iter    52:    Energy =   0.0407
Level     1,  Iter    53:    Energy =   0.0406
Level     1,  Iter    54:    Energy =   0.0407
Level     1,  Iter    55:    Energy =   0.0407
Level     1,  Iter    56:    Energy =   0.0408
Level     1,  Iter    57:    Energy =   0.0407
Level     1,  Iter    58:    Energy =   0.0408
Level     1,  Iter    59:    Energy =   0.0407
END OF LEVEL     1    DetJac Range:   0.0392  to   3.0529 
  Avg. Gradient Time  : 0.0299s  34.07% 
  Avg. Gaussian Time  : 0.0457s  52.10% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0188
Level     2,  Iter     1:    Energy =   0.0196
Level     2,  Iter     2:    Energy =   0.0203
Level     2,  Iter     3:    Energy =   0.0208
Level     2,  Iter     4:    Energy =   0.0212
Level     2,  Iter     5:    Energy =   0.0215
Level     2,  Iter     6:    Energy =   0.0218
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0224
Level     2,  Iter     9:    Energy =   0.0226
Level     2,  Iter    10:    Energy =   0.0229
Level     2,  Iter    11:    Energy =   0.0231
Level     2,  Iter    12:    Energy =   0.0234
Level     2,  Iter    13:    Energy =   0.0236
Level     2,  Iter    14:    Energy =   0.0238
Level     2,  Iter    15:    Energy =   0.0239
Level     2,  Iter    16:    Energy =   0.0241
Level     2,  Iter    17:    Energy =   0.0242
Level     2,  Iter    18:    Energy =   0.0244
Level     2,  Iter    19:    Energy =   0.0246
END OF LEVEL     2    DetJac Range:   0.0213  to   2.8783 
  Avg. Gradient Time  : 0.1864s  32.08% 
  Avg. Gaussian Time  : 0.3167s  54.50% 
  Avg. Iteration Time : 0.5810s 

real	0m20.969s
user	0m36.444s
sys	0m2.392s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 506.467   GNORM= 134.935
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       408.388      71.249       0.007
   2    4       -48.641     197.028       5.000
   3    5      -307.289     110.552       1.000
   4    7      -390.398      93.565       0.569
   5    8      -416.989     185.812       1.000
   6   14      -696.345     134.193       3.920
   7   16      -725.344      76.512       0.237
   8   18      -822.182      69.995       0.289
   9   19      -862.378      66.515       1.000
  10   21      -903.012      59.941       0.143
  11   22      -945.206     166.329       1.000
  12   24     -1198.970     125.490       5.000
  13   25     -1249.816      79.099       1.000
  14   26     -1259.829      33.693       1.000
  15   27     -1269.588      52.697       1.000
  16   28     -1299.474      68.692       1.000
  17   30     -1327.218      96.517       0.332
  18   31     -1361.019      66.111       1.000
  19   32     -1378.215      74.382       1.000
  20   33     -1387.262      34.505       1.000
  21   34     -1393.160      46.701       1.000
  22   35     -1396.764      33.387       1.000
  23   36     -1398.813      34.196       1.000
  24   37     -1401.950      41.876       1.000
  25   38     -1408.525      23.138       1.000
  26   40     -1411.302      21.502       0.228
  27   41     -1416.771      28.644       1.000
  28   42     -1422.045      61.312       1.000
  29   43     -1429.832      44.886       1.000
  30   45     -1436.761      36.159       0.482
  31   47     -1437.045      47.680       0.169
  32   48     -1437.528      34.990       1.000
  33   49     -1439.138      33.502       1.000
  34   50     -1440.301      23.518       1.000
  35   51     -1440.884      45.484       1.000
  36   52     -1443.385      25.921       1.000
  37   53     -1444.011      25.409       1.000
  38   54     -1444.312      13.708       1.000
  39   55     -1444.625      19.520       1.000
  40   56     -1446.072      20.821       1.000
  41   57     -1448.725      17.549       1.000
  42   58     -1450.206      19.781       1.000
  43   59     -1450.470      33.967       1.000
  44   60     -1451.557      17.606       1.000
  45   61     -1451.965      19.761       1.000
Final RAS Transform: 
0.933428 -0.332854 -0.0521094 -4.23783 
-0.200422 1.07144 0.230547 12.9089 
0.382462 -0.183119 0.751371 -2.93602 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -715.707   GNORM= 1053.43
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -725.997      35.299       0.000
   2    8      -727.961      32.272      36.525
   3    9      -730.840      19.131       1.000
   4   10      -731.886      15.328       1.000
   5   11      -732.735      18.490       1.000
   6   12      -735.236      39.909       1.000
   7   13      -739.993      63.426       1.000
   8   14      -742.333      20.901       1.000
   9   16      -745.935      10.291       5.000
  10   18      -746.935      16.467       0.353
  11   19      -748.632      13.034       1.000
  12   20      -749.640     234.462       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.966192 -0.330792 -0.0858667 -4.28826 
-0.172351 1.08939 0.296517 15.2196 
0.38444 -0.149538 0.77384 -2.76975 
0 0 0 1 

Final RAS Transform: 
0.966192 -0.330792 -0.0858667 -4.28826 
-0.172351 1.08939 0.296517 15.2196 
0.38444 -0.149538 0.77384 -2.76975 
0 0 0 1 


real	0m4.957s
user	0m7.956s
sys	0m0.668s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.408205
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0343
Level     0,  Iter     1:    Energy =   0.0367
Level     0,  Iter     2:    Energy =   0.0415
Level     0,  Iter     3:    Energy =   0.0454
Level     0,  Iter     4:    Energy =   0.0486
Level     0,  Iter     5:    Energy =   0.0510
Level     0,  Iter     6:    Energy =   0.0524
Level     0,  Iter     7:    Energy =   0.0539
Level     0,  Iter     8:    Energy =   0.0555
Level     0,  Iter     9:    Energy =   0.0569
Level     0,  Iter    10:    Energy =   0.0578
Level     0,  Iter    11:    Energy =   0.0589
Level     0,  Iter    12:    Energy =   0.0597
Level     0,  Iter    13:    Energy =   0.0608
Level     0,  Iter    14:    Energy =   0.0619
Level     0,  Iter    15:    Energy =   0.0627
Level     0,  Iter    16:    Energy =   0.0633
Level     0,  Iter    17:    Energy =   0.0638
Level     0,  Iter    18:    Energy =   0.0643
Level     0,  Iter    19:    Energy =   0.0648
Level     0,  Iter    20:    Energy =   0.0652
Level     0,  Iter    21:    Energy =   0.0655
Level     0,  Iter    22:    Energy =   0.0659
Level     0,  Iter    23:    Energy =   0.0660
Level     0,  Iter    24:    Energy =   0.0664
Level     0,  Iter    25:    Energy =   0.0665
Level     0,  Iter    26:    Energy =   0.0667
Level     0,  Iter    27:    Energy =   0.0676
Level     0,  Iter    28:    Energy =   0.0685
Level     0,  Iter    29:    Energy =   0.0687
Level     0,  Iter    30:    Energy =   0.0692
Level     0,  Iter    31:    Energy =   0.0698
Level     0,  Iter    32:    Energy =   0.0700
Level     0,  Iter    33:    Energy =   0.0702
Level     0,  Iter    34:    Energy =   0.0702
Level     0,  Iter    35:    Energy =   0.0701
Level     0,  Iter    36:    Energy =   0.0698
Level     0,  Iter    37:    Energy =   0.0702
Level     0,  Iter    38:    Energy =   0.0699
Level     0,  Iter    39:    Energy =   0.0700
Level     0,  Iter    40:    Energy =   0.0697
Level     0,  Iter    41:    Energy =   0.0701
Level     0,  Iter    42:    Energy =   0.0699
Level     0,  Iter    43:    Energy =   0.0699
Level     0,  Iter    44:    Energy =   0.0699
Level     0,  Iter    45:    Energy =   0.0702
Level     0,  Iter    46:    Energy =   0.0701
Level     0,  Iter    47:    Energy =   0.0701
Level     0,  Iter    48:    Energy =   0.0700
Level     0,  Iter    49:    Energy =   0.0702
Level     0,  Iter    50:    Energy =   0.0700
Level     0,  Iter    51:    Energy =   0.0701
Level     0,  Iter    52:    Energy =   0.0701
Level     0,  Iter    53:    Energy =   0.0703
Level     0,  Iter    54:    Energy =   0.0702
Level     0,  Iter    55:    Energy =   0.0704
Level     0,  Iter    56:    Energy =   0.0704
Level     0,  Iter    57:    Energy =   0.0706
Level     0,  Iter    58:    Energy =   0.0704
Level     0,  Iter    59:    Energy =   0.0705
END OF LEVEL     0    DetJac Range:   0.1658  to   2.2326 
  Avg. Gradient Time  : 0.0070s  32.96% 
  Avg. Gaussian Time  : 0.0103s  48.15% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0412
Level     1,  Iter     1:    Energy =   0.0439
Level     1,  Iter     2:    Energy =   0.0458
Level     1,  Iter     3:    Energy =   0.0473
Level     1,  Iter     4:    Energy =   0.0487
Level     1,  Iter     5:    Energy =   0.0498
Level     1,  Iter     6:    Energy =   0.0506
Level     1,  Iter     7:    Energy =   0.0514
Level     1,  Iter     8:    Energy =   0.0523
Level     1,  Iter     9:    Energy =   0.0532
Level     1,  Iter    10:    Energy =   0.0538
Level     1,  Iter    11:    Energy =   0.0543
Level     1,  Iter    12:    Energy =   0.0546
Level     1,  Iter    13:    Energy =   0.0549
Level     1,  Iter    14:    Energy =   0.0554
Level     1,  Iter    15:    Energy =   0.0558
Level     1,  Iter    16:    Energy =   0.0562
Level     1,  Iter    17:    Energy =   0.0567
Level     1,  Iter    18:    Energy =   0.0571
Level     1,  Iter    19:    Energy =   0.0576
Level     1,  Iter    20:    Energy =   0.0581
Level     1,  Iter    21:    Energy =   0.0584
Level     1,  Iter    22:    Energy =   0.0587
Level     1,  Iter    23:    Energy =   0.0591
Level     1,  Iter    24:    Energy =   0.0594
Level     1,  Iter    25:    Energy =   0.0597
Level     1,  Iter    26:    Energy =   0.0598
Level     1,  Iter    27:    Energy =   0.0601
Level     1,  Iter    28:    Energy =   0.0603
Level     1,  Iter    29:    Energy =   0.0605
Level     1,  Iter    30:    Energy =   0.0605
Level     1,  Iter    31:    Energy =   0.0604
Level     1,  Iter    32:    Energy =   0.0604
Level     1,  Iter    33:    Energy =   0.0606
Level     1,  Iter    34:    Energy =   0.0609
Level     1,  Iter    35:    Energy =   0.0610
Level     1,  Iter    36:    Energy =   0.0611
Level     1,  Iter    37:    Energy =   0.0613
Level     1,  Iter    38:    Energy =   0.0614
Level     1,  Iter    39:    Energy =   0.0615
Level     1,  Iter    40:    Energy =   0.0615
Level     1,  Iter    41:    Energy =   0.0616
Level     1,  Iter    42:    Energy =   0.0614
Level     1,  Iter    43:    Energy =   0.0615
Level     1,  Iter    44:    Energy =   0.0616
Level     1,  Iter    45:    Energy =   0.0617
Level     1,  Iter    46:    Energy =   0.0618
Level     1,  Iter    47:    Energy =   0.0619
Level     1,  Iter    48:    Energy =   0.0619
Level     1,  Iter    49:    Energy =   0.0620
Level     1,  Iter    50:    Energy =   0.0621
Level     1,  Iter    51:    Energy =   0.0622
Level     1,  Iter    52:    Energy =   0.0623
Level     1,  Iter    53:    Energy =   0.0623
Level     1,  Iter    54:    Energy =   0.0622
Level     1,  Iter    55:    Energy =   0.0621
Level     1,  Iter    56:    Energy =   0.0621
Level     1,  Iter    57:    Energy =   0.0620
Level     1,  Iter    58:    Energy =   0.0621
Level     1,  Iter    59:    Energy =   0.0620
END OF LEVEL     1    DetJac Range:   0.0532  to   3.9566 
  Avg. Gradient Time  : 0.0300s  34.19% 
  Avg. Gaussian Time  : 0.0456s  51.96% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0275
Level     2,  Iter     1:    Energy =   0.0282
Level     2,  Iter     2:    Energy =   0.0289
Level     2,  Iter     3:    Energy =   0.0295
Level     2,  Iter     4:    Energy =   0.0301
Level     2,  Iter     5:    Energy =   0.0306
Level     2,  Iter     6:    Energy =   0.0310
Level     2,  Iter     7:    Energy =   0.0314
Level     2,  Iter     8:    Energy =   0.0318
Level     2,  Iter     9:    Energy =   0.0321
Level     2,  Iter    10:    Energy =   0.0325
Level     2,  Iter    11:    Energy =   0.0328
Level     2,  Iter    12:    Energy =   0.0331
Level     2,  Iter    13:    Energy =   0.0334
Level     2,  Iter    14:    Energy =   0.0337
Level     2,  Iter    15:    Energy =   0.0340
Level     2,  Iter    16:    Energy =   0.0342
Level     2,  Iter    17:    Energy =   0.0344
Level     2,  Iter    18:    Energy =   0.0346
Level     2,  Iter    19:    Energy =   0.0348
END OF LEVEL     2    DetJac Range:   0.0301  to   3.5676 
  Avg. Gradient Time  : 0.1882s  32.11% 
  Avg. Gaussian Time  : 0.3193s  54.48% 
  Avg. Iteration Time : 0.5861s 

real	0m21.131s
user	0m36.796s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 310.717   GNORM= 118.935
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       200.098     100.932       0.008
   2    3      -383.436     209.165       1.000
   3    5      -504.140     325.140       0.197
   4   10      -504.859      54.637       0.215
   5   11      -534.700     291.706       1.000
   6   18      -596.391      71.636       0.206
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01861 -0.049462 0.0559288 -3.8192 
-0.116983 1.07336 -0.155298 5.40516 
0.122847 -0.172875 0.917317 -7.23103 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -299.869   GNORM= 349.077
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01861 -0.049462 0.0559288 -3.81919 
-0.116983 1.07336 -0.155298 5.40516 
0.122847 -0.172875 0.917317 -7.23103 
0 0 0 1 

Final RAS Transform: 
1.01861 -0.049462 0.0559288 -3.81919 
-0.116983 1.07336 -0.155298 5.40516 
0.122847 -0.172875 0.917317 -7.23103 
0 0 0 1 


real	0m3.454s
user	0m5.316s
sys	0m0.436s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.323614
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0156
Level     0,  Iter     1:    Energy =   0.0172
Level     0,  Iter     2:    Energy =   0.0208
Level     0,  Iter     3:    Energy =   0.0241
Level     0,  Iter     4:    Energy =   0.0274
Level     0,  Iter     5:    Energy =   0.0307
Level     0,  Iter     6:    Energy =   0.0332
Level     0,  Iter     7:    Energy =   0.0352
Level     0,  Iter     8:    Energy =   0.0372
Level     0,  Iter     9:    Energy =   0.0391
Level     0,  Iter    10:    Energy =   0.0406
Level     0,  Iter    11:    Energy =   0.0422
Level     0,  Iter    12:    Energy =   0.0435
Level     0,  Iter    13:    Energy =   0.0447
Level     0,  Iter    14:    Energy =   0.0457
Level     0,  Iter    15:    Energy =   0.0467
Level     0,  Iter    16:    Energy =   0.0473
Level     0,  Iter    17:    Energy =   0.0481
Level     0,  Iter    18:    Energy =   0.0489
Level     0,  Iter    19:    Energy =   0.0496
Level     0,  Iter    20:    Energy =   0.0503
Level     0,  Iter    21:    Energy =   0.0507
Level     0,  Iter    22:    Energy =   0.0512
Level     0,  Iter    23:    Energy =   0.0514
Level     0,  Iter    24:    Energy =   0.0517
Level     0,  Iter    25:    Energy =   0.0521
Level     0,  Iter    26:    Energy =   0.0524
Level     0,  Iter    27:    Energy =   0.0526
Level     0,  Iter    28:    Energy =   0.0529
Level     0,  Iter    29:    Energy =   0.0529
Level     0,  Iter    30:    Energy =   0.0531
Level     0,  Iter    31:    Energy =   0.0533
Level     0,  Iter    32:    Energy =   0.0534
Level     0,  Iter    33:    Energy =   0.0536
Level     0,  Iter    34:    Energy =   0.0538
Level     0,  Iter    35:    Energy =   0.0539
Level     0,  Iter    36:    Energy =   0.0543
Level     0,  Iter    37:    Energy =   0.0543
Level     0,  Iter    38:    Energy =   0.0544
Level     0,  Iter    39:    Energy =   0.0543
Level     0,  Iter    40:    Energy =   0.0544
Level     0,  Iter    41:    Energy =   0.0541
Level     0,  Iter    42:    Energy =   0.0541
Level     0,  Iter    43:    Energy =   0.0539
Level     0,  Iter    44:    Energy =   0.0538
Level     0,  Iter    45:    Energy =   0.0536
Level     0,  Iter    46:    Energy =   0.0535
Level     0,  Iter    47:    Energy =   0.0534
Level     0,  Iter    48:    Energy =   0.0533
Level     0,  Iter    49:    Energy =   0.0532
Level     0,  Iter    50:    Energy =   0.0530
Level     0,  Iter    51:    Energy =   0.0529
Level     0,  Iter    52:    Energy =   0.0526
Level     0,  Iter    53:    Energy =   0.0525
Level     0,  Iter    54:    Energy =   0.0523
Level     0,  Iter    55:    Energy =   0.0522
Level     0,  Iter    56:    Energy =   0.0520
Level     0,  Iter    57:    Energy =   0.0520
Level     0,  Iter    58:    Energy =   0.0519
Level     0,  Iter    59:    Energy =   0.0519
END OF LEVEL     0    DetJac Range:   0.0745  to   2.3549 
  Avg. Gradient Time  : 0.0071s  33.15% 
  Avg. Gaussian Time  : 0.0103s  48.18% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0274
Level     1,  Iter     1:    Energy =   0.0292
Level     1,  Iter     2:    Energy =   0.0307
Level     1,  Iter     3:    Energy =   0.0320
Level     1,  Iter     4:    Energy =   0.0330
Level     1,  Iter     5:    Energy =   0.0340
Level     1,  Iter     6:    Energy =   0.0348
Level     1,  Iter     7:    Energy =   0.0356
Level     1,  Iter     8:    Energy =   0.0362
Level     1,  Iter     9:    Energy =   0.0369
Level     1,  Iter    10:    Energy =   0.0374
Level     1,  Iter    11:    Energy =   0.0379
Level     1,  Iter    12:    Energy =   0.0384
Level     1,  Iter    13:    Energy =   0.0388
Level     1,  Iter    14:    Energy =   0.0390
Level     1,  Iter    15:    Energy =   0.0392
Level     1,  Iter    16:    Energy =   0.0394
Level     1,  Iter    17:    Energy =   0.0396
Level     1,  Iter    18:    Energy =   0.0398
Level     1,  Iter    19:    Energy =   0.0399
Level     1,  Iter    20:    Energy =   0.0401
Level     1,  Iter    21:    Energy =   0.0403
Level     1,  Iter    22:    Energy =   0.0406
Level     1,  Iter    23:    Energy =   0.0408
Level     1,  Iter    24:    Energy =   0.0410
Level     1,  Iter    25:    Energy =   0.0411
Level     1,  Iter    26:    Energy =   0.0413
Level     1,  Iter    27:    Energy =   0.0415
Level     1,  Iter    28:    Energy =   0.0416
Level     1,  Iter    29:    Energy =   0.0417
Level     1,  Iter    30:    Energy =   0.0418
Level     1,  Iter    31:    Energy =   0.0419
Level     1,  Iter    32:    Energy =   0.0420
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0422
Level     1,  Iter    35:    Energy =   0.0423
Level     1,  Iter    36:    Energy =   0.0424
Level     1,  Iter    37:    Energy =   0.0424
Level     1,  Iter    38:    Energy =   0.0425
Level     1,  Iter    39:    Energy =   0.0426
Level     1,  Iter    40:    Energy =   0.0426
Level     1,  Iter    41:    Energy =   0.0427
Level     1,  Iter    42:    Energy =   0.0427
Level     1,  Iter    43:    Energy =   0.0428
Level     1,  Iter    44:    Energy =   0.0428
Level     1,  Iter    45:    Energy =   0.0429
Level     1,  Iter    46:    Energy =   0.0429
Level     1,  Iter    47:    Energy =   0.0430
Level     1,  Iter    48:    Energy =   0.0431
Level     1,  Iter    49:    Energy =   0.0431
Level     1,  Iter    50:    Energy =   0.0432
Level     1,  Iter    51:    Energy =   0.0433
Level     1,  Iter    52:    Energy =   0.0433
Level     1,  Iter    53:    Energy =   0.0434
Level     1,  Iter    54:    Energy =   0.0435
Level     1,  Iter    55:    Energy =   0.0435
Level     1,  Iter    56:    Energy =   0.0436
Level     1,  Iter    57:    Energy =   0.0436
Level     1,  Iter    58:    Energy =   0.0437
Level     1,  Iter    59:    Energy =   0.0438
END OF LEVEL     1    DetJac Range:   0.0550  to   2.9920 
  Avg. Gradient Time  : 0.0298s  34.17% 
  Avg. Gaussian Time  : 0.0453s  51.91% 
  Avg. Iteration Time : 0.0873s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0198
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0217
Level     2,  Iter     3:    Energy =   0.0224
Level     2,  Iter     4:    Energy =   0.0230
Level     2,  Iter     5:    Energy =   0.0236
Level     2,  Iter     6:    Energy =   0.0241
Level     2,  Iter     7:    Energy =   0.0245
Level     2,  Iter     8:    Energy =   0.0249
Level     2,  Iter     9:    Energy =   0.0251
Level     2,  Iter    10:    Energy =   0.0253
Level     2,  Iter    11:    Energy =   0.0255
Level     2,  Iter    12:    Energy =   0.0256
Level     2,  Iter    13:    Energy =   0.0257
Level     2,  Iter    14:    Energy =   0.0258
Level     2,  Iter    15:    Energy =   0.0259
Level     2,  Iter    16:    Energy =   0.0259
Level     2,  Iter    17:    Energy =   0.0260
Level     2,  Iter    18:    Energy =   0.0260
Level     2,  Iter    19:    Energy =   0.0261
END OF LEVEL     2    DetJac Range:   0.0435  to   3.2531 
  Avg. Gradient Time  : 0.1903s  32.43% 
  Avg. Gaussian Time  : 0.3185s  54.27% 
  Avg. Iteration Time : 0.5870s 

real	0m21.160s
user	0m36.732s
sys	0m2.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 429.821   GNORM= 142.519
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       294.472      98.694       0.007
   2    5         3.462       0.920      21.000
   3    8         0.016       0.043      21.000
   4   10         0.003       0.015       5.000
   5   11         0.001       0.008       1.000
   6   12        -0.000       0.004       1.000
   7   13        -0.000       0.001       1.000
   8   14        -0.001       0.000       1.000
   9   15        -0.001       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.09681 -0.132431 0.157391 -7.74555 
-0.064693 1.0212 -0.164551 4.7826 
0.0652054 -0.198346 0.915928 -6.59134 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -217.598   GNORM= 98.0171
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -236.316      22.676       0.010
   2    6      -246.861      47.458       8.290
   3    7      -263.995      63.677       1.000
   4    9      -283.124      35.609       0.394
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.08358 -0.127776 0.148274 -6.08077 
-0.0652497 1.0334 -0.1533 3.94276 
0.0803244 -0.184026 0.930518 -7.3433 
0 0 0 1 

Final RAS Transform: 
1.08358 -0.127776 0.148274 -6.08077 
-0.0652497 1.0334 -0.1533 3.94276 
0.0803244 -0.184026 0.930518 -7.3433 
0 0 0 1 


real	0m3.595s
user	0m5.776s
sys	0m0.324s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.354668
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0122
Level     0,  Iter     1:    Energy =   0.0136
Level     0,  Iter     2:    Energy =   0.0163
Level     0,  Iter     3:    Energy =   0.0194
Level     0,  Iter     4:    Energy =   0.0221
Level     0,  Iter     5:    Energy =   0.0247
Level     0,  Iter     6:    Energy =   0.0266
Level     0,  Iter     7:    Energy =   0.0288
Level     0,  Iter     8:    Energy =   0.0309
Level     0,  Iter     9:    Energy =   0.0328
Level     0,  Iter    10:    Energy =   0.0342
Level     0,  Iter    11:    Energy =   0.0354
Level     0,  Iter    12:    Energy =   0.0367
Level     0,  Iter    13:    Energy =   0.0373
Level     0,  Iter    14:    Energy =   0.0384
Level     0,  Iter    15:    Energy =   0.0385
Level     0,  Iter    16:    Energy =   0.0396
Level     0,  Iter    17:    Energy =   0.0395
Level     0,  Iter    18:    Energy =   0.0403
Level     0,  Iter    19:    Energy =   0.0403
Level     0,  Iter    20:    Energy =   0.0410
Level     0,  Iter    21:    Energy =   0.0414
Level     0,  Iter    22:    Energy =   0.0420
Level     0,  Iter    23:    Energy =   0.0425
Level     0,  Iter    24:    Energy =   0.0431
Level     0,  Iter    25:    Energy =   0.0442
Level     0,  Iter    26:    Energy =   0.0446
Level     0,  Iter    27:    Energy =   0.0449
Level     0,  Iter    28:    Energy =   0.0463
Level     0,  Iter    29:    Energy =   0.0463
Level     0,  Iter    30:    Energy =   0.0470
Level     0,  Iter    31:    Energy =   0.0480
Level     0,  Iter    32:    Energy =   0.0490
Level     0,  Iter    33:    Energy =   0.0498
Level     0,  Iter    34:    Energy =   0.0506
Level     0,  Iter    35:    Energy =   0.0512
Level     0,  Iter    36:    Energy =   0.0519
Level     0,  Iter    37:    Energy =   0.0528
Level     0,  Iter    38:    Energy =   0.0534
Level     0,  Iter    39:    Energy =   0.0540
Level     0,  Iter    40:    Energy =   0.0547
Level     0,  Iter    41:    Energy =   0.0553
Level     0,  Iter    42:    Energy =   0.0559
Level     0,  Iter    43:    Energy =   0.0563
Level     0,  Iter    44:    Energy =   0.0566
Level     0,  Iter    45:    Energy =   0.0567
Level     0,  Iter    46:    Energy =   0.0572
Level     0,  Iter    47:    Energy =   0.0574
Level     0,  Iter    48:    Energy =   0.0577
Level     0,  Iter    49:    Energy =   0.0579
Level     0,  Iter    50:    Energy =   0.0582
Level     0,  Iter    51:    Energy =   0.0584
Level     0,  Iter    52:    Energy =   0.0588
Level     0,  Iter    53:    Energy =   0.0590
Level     0,  Iter    54:    Energy =   0.0593
Level     0,  Iter    55:    Energy =   0.0596
Level     0,  Iter    56:    Energy =   0.0599
Level     0,  Iter    57:    Energy =   0.0598
Level     0,  Iter    58:    Energy =   0.0603
Level     0,  Iter    59:    Energy =   0.0604
END OF LEVEL     0    DetJac Range:   0.0828  to   3.3975 
  Avg. Gradient Time  : 0.0071s  32.87% 
  Avg. Gaussian Time  : 0.0104s  48.13% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0352
Level     1,  Iter     1:    Energy =   0.0371
Level     1,  Iter     2:    Energy =   0.0384
Level     1,  Iter     3:    Energy =   0.0394
Level     1,  Iter     4:    Energy =   0.0402
Level     1,  Iter     5:    Energy =   0.0409
Level     1,  Iter     6:    Energy =   0.0415
Level     1,  Iter     7:    Energy =   0.0421
Level     1,  Iter     8:    Energy =   0.0426
Level     1,  Iter     9:    Energy =   0.0431
Level     1,  Iter    10:    Energy =   0.0437
Level     1,  Iter    11:    Energy =   0.0441
Level     1,  Iter    12:    Energy =   0.0446
Level     1,  Iter    13:    Energy =   0.0452
Level     1,  Iter    14:    Energy =   0.0457
Level     1,  Iter    15:    Energy =   0.0462
Level     1,  Iter    16:    Energy =   0.0468
Level     1,  Iter    17:    Energy =   0.0472
Level     1,  Iter    18:    Energy =   0.0475
Level     1,  Iter    19:    Energy =   0.0478
Level     1,  Iter    20:    Energy =   0.0481
Level     1,  Iter    21:    Energy =   0.0484
Level     1,  Iter    22:    Energy =   0.0486
Level     1,  Iter    23:    Energy =   0.0488
Level     1,  Iter    24:    Energy =   0.0489
Level     1,  Iter    25:    Energy =   0.0489
Level     1,  Iter    26:    Energy =   0.0490
Level     1,  Iter    27:    Energy =   0.0491
Level     1,  Iter    28:    Energy =   0.0491
Level     1,  Iter    29:    Energy =   0.0491
Level     1,  Iter    30:    Energy =   0.0490
Level     1,  Iter    31:    Energy =   0.0490
Level     1,  Iter    32:    Energy =   0.0490
Level     1,  Iter    33:    Energy =   0.0489
Level     1,  Iter    34:    Energy =   0.0488
Level     1,  Iter    35:    Energy =   0.0487
Level     1,  Iter    36:    Energy =   0.0486
Level     1,  Iter    37:    Energy =   0.0484
Level     1,  Iter    38:    Energy =   0.0483
Level     1,  Iter    39:    Energy =   0.0483
Level     1,  Iter    40:    Energy =   0.0482
Level     1,  Iter    41:    Energy =   0.0481
Level     1,  Iter    42:    Energy =   0.0481
Level     1,  Iter    43:    Energy =   0.0480
Level     1,  Iter    44:    Energy =   0.0480
Level     1,  Iter    45:    Energy =   0.0480
Level     1,  Iter    46:    Energy =   0.0480
Level     1,  Iter    47:    Energy =   0.0480
Level     1,  Iter    48:    Energy =   0.0479
Level     1,  Iter    49:    Energy =   0.0479
Level     1,  Iter    50:    Energy =   0.0480
Level     1,  Iter    51:    Energy =   0.0480
Level     1,  Iter    52:    Energy =   0.0480
Level     1,  Iter    53:    Energy =   0.0481
Level     1,  Iter    54:    Energy =   0.0481
Level     1,  Iter    55:    Energy =   0.0482
Level     1,  Iter    56:    Energy =   0.0482
Level     1,  Iter    57:    Energy =   0.0483
Level     1,  Iter    58:    Energy =   0.0483
Level     1,  Iter    59:    Energy =   0.0484
END OF LEVEL     1    DetJac Range:   0.0233  to   4.1624 
  Avg. Gradient Time  : 0.0301s  34.14% 
  Avg. Gaussian Time  : 0.0458s  52.02% 
  Avg. Iteration Time : 0.0881s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0212
Level     2,  Iter     1:    Energy =   0.0221
Level     2,  Iter     2:    Energy =   0.0229
Level     2,  Iter     3:    Energy =   0.0235
Level     2,  Iter     4:    Energy =   0.0239
Level     2,  Iter     5:    Energy =   0.0243
Level     2,  Iter     6:    Energy =   0.0246
Level     2,  Iter     7:    Energy =   0.0251
Level     2,  Iter     8:    Energy =   0.0256
Level     2,  Iter     9:    Energy =   0.0261
Level     2,  Iter    10:    Energy =   0.0267
Level     2,  Iter    11:    Energy =   0.0272
Level     2,  Iter    12:    Energy =   0.0275
Level     2,  Iter    13:    Energy =   0.0278
Level     2,  Iter    14:    Energy =   0.0281
Level     2,  Iter    15:    Energy =   0.0284
Level     2,  Iter    16:    Energy =   0.0286
Level     2,  Iter    17:    Energy =   0.0288
Level     2,  Iter    18:    Energy =   0.0290
Level     2,  Iter    19:    Energy =   0.0292
END OF LEVEL     2    DetJac Range:   0.0159  to   3.8343 
  Avg. Gradient Time  : 0.1931s  32.78% 
  Avg. Gaussian Time  : 0.3180s  53.99% 
  Avg. Iteration Time : 0.5890s 

real	0m21.248s
user	0m36.860s
sys	0m2.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 409.789   GNORM= 170.379
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       272.328      93.863       0.006
   2    3       170.722      83.344       1.000
   3    5      -310.675      84.215       5.000
   4    9      -371.496      58.046       1.442
   5   11      -462.728      56.496       0.416
   6   12      -475.797      60.135       1.000
   7   13      -512.004      56.916       1.000
   8   16      -680.376      55.633       2.448
   9   17      -847.105      86.751       1.000
  10   20      -920.522      59.363       0.040
  11   21      -921.883      56.746       1.000
  12   22      -928.121      55.043       1.000
  13   23      -933.146     118.879       1.000
  14   32      -933.350      20.269       0.010
  15   33      -933.730      13.707       1.000
  16   35      -934.620      18.331       0.086
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02304 -0.158561 0.217095 -8.5891 
-0.358487 0.938497 -0.13434 3.1583 
0.401859 0.0254027 0.545792 -18.2889 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -471.23   GNORM= 51.2436
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -487.421      29.243       0.013
   2   10      -490.677      40.627       0.483
   3   14      -509.644      96.662       1.417
   4   16      -536.337      97.933       5.000
   5   19      -542.137      69.560       0.773
   6   21      -543.636      51.433       0.084
   7   26      -543.690     192.003       0.135
   8   30      -544.156      38.416       0.002
   9   31      -546.523      36.134       1.000
  10   39      -546.655      33.931       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01531 -0.139662 0.194212 -6.03185 
-0.351356 0.930507 -0.137495 2.97056 
0.397106 0.0266094 0.549596 -18.3846 
0 0 0 1 

Final RAS Transform: 
1.01531 -0.139662 0.194212 -6.03185 
-0.351356 0.930507 -0.137495 2.97056 
0.397106 0.0266094 0.549596 -18.3846 
0 0 0 1 


real	0m5.914s
user	0m9.824s
sys	0m0.716s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.283778
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0241
Level     0,  Iter     1:    Energy =   0.0258
Level     0,  Iter     2:    Energy =   0.0291
Level     0,  Iter     3:    Energy =   0.0317
Level     0,  Iter     4:    Energy =   0.0338
Level     0,  Iter     5:    Energy =   0.0356
Level     0,  Iter     6:    Energy =   0.0370
Level     0,  Iter     7:    Energy =   0.0386
Level     0,  Iter     8:    Energy =   0.0394
Level     0,  Iter     9:    Energy =   0.0402
Level     0,  Iter    10:    Energy =   0.0413
Level     0,  Iter    11:    Energy =   0.0418
Level     0,  Iter    12:    Energy =   0.0427
Level     0,  Iter    13:    Energy =   0.0435
Level     0,  Iter    14:    Energy =   0.0445
Level     0,  Iter    15:    Energy =   0.0446
Level     0,  Iter    16:    Energy =   0.0450
Level     0,  Iter    17:    Energy =   0.0448
Level     0,  Iter    18:    Energy =   0.0455
Level     0,  Iter    19:    Energy =   0.0453
Level     0,  Iter    20:    Energy =   0.0458
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0464
Level     0,  Iter    23:    Energy =   0.0464
Level     0,  Iter    24:    Energy =   0.0471
Level     0,  Iter    25:    Energy =   0.0469
Level     0,  Iter    26:    Energy =   0.0475
Level     0,  Iter    27:    Energy =   0.0476
Level     0,  Iter    28:    Energy =   0.0478
Level     0,  Iter    29:    Energy =   0.0480
Level     0,  Iter    30:    Energy =   0.0484
Level     0,  Iter    31:    Energy =   0.0485
Level     0,  Iter    32:    Energy =   0.0489
Level     0,  Iter    33:    Energy =   0.0489
Level     0,  Iter    34:    Energy =   0.0494
Level     0,  Iter    35:    Energy =   0.0494
Level     0,  Iter    36:    Energy =   0.0497
Level     0,  Iter    37:    Energy =   0.0498
Level     0,  Iter    38:    Energy =   0.0505
Level     0,  Iter    39:    Energy =   0.0501
Level     0,  Iter    40:    Energy =   0.0506
Level     0,  Iter    41:    Energy =   0.0502
Level     0,  Iter    42:    Energy =   0.0509
Level     0,  Iter    43:    Energy =   0.0506
Level     0,  Iter    44:    Energy =   0.0512
Level     0,  Iter    45:    Energy =   0.0508
Level     0,  Iter    46:    Energy =   0.0513
Level     0,  Iter    47:    Energy =   0.0509
Level     0,  Iter    48:    Energy =   0.0514
Level     0,  Iter    49:    Energy =   0.0512
Level     0,  Iter    50:    Energy =   0.0516
Level     0,  Iter    51:    Energy =   0.0517
Level     0,  Iter    52:    Energy =   0.0523
Level     0,  Iter    53:    Energy =   0.0524
Level     0,  Iter    54:    Energy =   0.0531
Level     0,  Iter    55:    Energy =   0.0529
Level     0,  Iter    56:    Energy =   0.0536
Level     0,  Iter    57:    Energy =   0.0532
Level     0,  Iter    58:    Energy =   0.0539
Level     0,  Iter    59:    Energy =   0.0534
END OF LEVEL     0    DetJac Range:   0.1322  to   2.5791 
  Avg. Gradient Time  : 0.0072s  33.09% 
  Avg. Gaussian Time  : 0.0105s  48.16% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0299
Level     1,  Iter     1:    Energy =   0.0317
Level     1,  Iter     2:    Energy =   0.0333
Level     1,  Iter     3:    Energy =   0.0347
Level     1,  Iter     4:    Energy =   0.0359
Level     1,  Iter     5:    Energy =   0.0368
Level     1,  Iter     6:    Energy =   0.0378
Level     1,  Iter     7:    Energy =   0.0386
Level     1,  Iter     8:    Energy =   0.0393
Level     1,  Iter     9:    Energy =   0.0400
Level     1,  Iter    10:    Energy =   0.0406
Level     1,  Iter    11:    Energy =   0.0412
Level     1,  Iter    12:    Energy =   0.0416
Level     1,  Iter    13:    Energy =   0.0422
Level     1,  Iter    14:    Energy =   0.0424
Level     1,  Iter    15:    Energy =   0.0427
Level     1,  Iter    16:    Energy =   0.0428
Level     1,  Iter    17:    Energy =   0.0430
Level     1,  Iter    18:    Energy =   0.0429
Level     1,  Iter    19:    Energy =   0.0432
Level     1,  Iter    20:    Energy =   0.0432
Level     1,  Iter    21:    Energy =   0.0434
Level     1,  Iter    22:    Energy =   0.0434
Level     1,  Iter    23:    Energy =   0.0436
Level     1,  Iter    24:    Energy =   0.0436
Level     1,  Iter    25:    Energy =   0.0439
Level     1,  Iter    26:    Energy =   0.0438
Level     1,  Iter    27:    Energy =   0.0441
Level     1,  Iter    28:    Energy =   0.0440
Level     1,  Iter    29:    Energy =   0.0442
Level     1,  Iter    30:    Energy =   0.0441
Level     1,  Iter    31:    Energy =   0.0444
Level     1,  Iter    32:    Energy =   0.0443
Level     1,  Iter    33:    Energy =   0.0445
Level     1,  Iter    34:    Energy =   0.0444
Level     1,  Iter    35:    Energy =   0.0446
Level     1,  Iter    36:    Energy =   0.0445
Level     1,  Iter    37:    Energy =   0.0447
Level     1,  Iter    38:    Energy =   0.0445
Level     1,  Iter    39:    Energy =   0.0447
Level     1,  Iter    40:    Energy =   0.0446
Level     1,  Iter    41:    Energy =   0.0448
Level     1,  Iter    42:    Energy =   0.0446
Level     1,  Iter    43:    Energy =   0.0448
Level     1,  Iter    44:    Energy =   0.0447
Level     1,  Iter    45:    Energy =   0.0449
Level     1,  Iter    46:    Energy =   0.0447
Level     1,  Iter    47:    Energy =   0.0449
Level     1,  Iter    48:    Energy =   0.0447
Level     1,  Iter    49:    Energy =   0.0449
Level     1,  Iter    50:    Energy =   0.0447
Level     1,  Iter    51:    Energy =   0.0449
Level     1,  Iter    52:    Energy =   0.0448
Level     1,  Iter    53:    Energy =   0.0449
Level     1,  Iter    54:    Energy =   0.0448
Level     1,  Iter    55:    Energy =   0.0449
Level     1,  Iter    56:    Energy =   0.0448
Level     1,  Iter    57:    Energy =   0.0449
Level     1,  Iter    58:    Energy =   0.0448
Level     1,  Iter    59:    Energy =   0.0449
END OF LEVEL     1    DetJac Range:   0.0409  to   3.2324 
  Avg. Gradient Time  : 0.0302s  34.08% 
  Avg. Gaussian Time  : 0.0461s  52.06% 
  Avg. Iteration Time : 0.0886s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0206
Level     2,  Iter     1:    Energy =   0.0218
Level     2,  Iter     2:    Energy =   0.0228
Level     2,  Iter     3:    Energy =   0.0237
Level     2,  Iter     4:    Energy =   0.0245
Level     2,  Iter     5:    Energy =   0.0251
Level     2,  Iter     6:    Energy =   0.0256
Level     2,  Iter     7:    Energy =   0.0260
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0267
Level     2,  Iter    10:    Energy =   0.0269
Level     2,  Iter    11:    Energy =   0.0271
Level     2,  Iter    12:    Energy =   0.0273
Level     2,  Iter    13:    Energy =   0.0275
Level     2,  Iter    14:    Energy =   0.0276
Level     2,  Iter    15:    Energy =   0.0278
Level     2,  Iter    16:    Energy =   0.0279
Level     2,  Iter    17:    Energy =   0.0280
Level     2,  Iter    18:    Energy =   0.0281
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0334  to   3.2377 
  Avg. Gradient Time  : 0.1898s  32.25% 
  Avg. Gaussian Time  : 0.3203s  54.42% 
  Avg. Iteration Time : 0.5887s 

real	0m21.257s
user	0m36.932s
sys	0m2.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 509.028   GNORM= 264.604
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       288.084     169.525       0.004
   2    3        52.308      66.746       1.000
   3    5      -265.081     311.677       5.000
   4    9      -285.811     224.889       0.019
   5   10      -378.985     108.596       1.000
   6   12      -380.422     107.121       0.025
   7   14      -404.802      68.386       0.194
   8   15      -425.372      74.093       1.000
   9   18      -462.304      74.720       0.668
  10   21      -474.697      91.251       0.770
  11   22      -483.006      61.473       1.000
  12   25      -494.872      68.512       0.146
  13   26      -533.882      73.026       1.000
  14   27      -647.488     120.951       1.000
  15   30      -723.763      76.216       1.774
  16   36      -873.586     136.949       1.630
  17   37      -940.079      99.570       1.000
  18   39      -952.788      58.672       0.160
  19   40     -1028.174      62.959       1.000
  20   42     -1069.248      77.266       0.307
  21   46     -1077.353      56.454       0.051
  22   48     -1084.405      92.503       0.083
  23   52     -1085.524      46.942       0.374
  24   53     -1110.579      50.494       1.000
  25   55     -1113.892     112.694       0.355
  26   56     -1133.324      77.309       1.000
  27   57     -1160.785      59.321       1.000
  28   59     -1185.894     113.721       0.522
  29   60     -1220.189      76.841       1.000
Final RAS Transform: 
0.305062 -0.810233 0.69392 14.1828 
-0.241435 1.20892 0.176931 10.357 
0.428713 -0.116929 0.847208 -2.29071 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -526.714   GNORM= 2412.92
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.305062 -0.810233 0.69392 14.1828 
-0.241435 1.20892 0.176931 10.357 
0.428713 -0.116929 0.847208 -2.29071 
0 0 0 1 

Final RAS Transform: 
0.305062 -0.810233 0.69392 14.1828 
-0.241435 1.20892 0.176931 10.357 
0.428713 -0.116929 0.847208 -2.29071 
0 0 0 1 


real	0m3.702s
user	0m5.744s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.43879
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0312
Level     0,  Iter     1:    Energy =   0.0335
Level     0,  Iter     2:    Energy =   0.0367
Level     0,  Iter     3:    Energy =   0.0405
Level     0,  Iter     4:    Energy =   0.0441
Level     0,  Iter     5:    Energy =   0.0472
Level     0,  Iter     6:    Energy =   0.0494
Level     0,  Iter     7:    Energy =   0.0513
Level     0,  Iter     8:    Energy =   0.0531
Level     0,  Iter     9:    Energy =   0.0545
Level     0,  Iter    10:    Energy =   0.0559
Level     0,  Iter    11:    Energy =   0.0573
Level     0,  Iter    12:    Energy =   0.0589
Level     0,  Iter    13:    Energy =   0.0601
Level     0,  Iter    14:    Energy =   0.0609
Level     0,  Iter    15:    Energy =   0.0616
Level     0,  Iter    16:    Energy =   0.0621
Level     0,  Iter    17:    Energy =   0.0626
Level     0,  Iter    18:    Energy =   0.0628
Level     0,  Iter    19:    Energy =   0.0630
Level     0,  Iter    20:    Energy =   0.0639
Level     0,  Iter    21:    Energy =   0.0649
Level     0,  Iter    22:    Energy =   0.0658
Level     0,  Iter    23:    Energy =   0.0663
Level     0,  Iter    24:    Energy =   0.0669
Level     0,  Iter    25:    Energy =   0.0675
Level     0,  Iter    26:    Energy =   0.0679
Level     0,  Iter    27:    Energy =   0.0684
Level     0,  Iter    28:    Energy =   0.0689
Level     0,  Iter    29:    Energy =   0.0691
Level     0,  Iter    30:    Energy =   0.0695
Level     0,  Iter    31:    Energy =   0.0697
Level     0,  Iter    32:    Energy =   0.0701
Level     0,  Iter    33:    Energy =   0.0703
Level     0,  Iter    34:    Energy =   0.0707
Level     0,  Iter    35:    Energy =   0.0709
Level     0,  Iter    36:    Energy =   0.0712
Level     0,  Iter    37:    Energy =   0.0714
Level     0,  Iter    38:    Energy =   0.0717
Level     0,  Iter    39:    Energy =   0.0718
Level     0,  Iter    40:    Energy =   0.0721
Level     0,  Iter    41:    Energy =   0.0722
Level     0,  Iter    42:    Energy =   0.0724
Level     0,  Iter    43:    Energy =   0.0726
Level     0,  Iter    44:    Energy =   0.0730
Level     0,  Iter    45:    Energy =   0.0731
Level     0,  Iter    46:    Energy =   0.0734
Level     0,  Iter    47:    Energy =   0.0735
Level     0,  Iter    48:    Energy =   0.0737
Level     0,  Iter    49:    Energy =   0.0738
Level     0,  Iter    50:    Energy =   0.0739
Level     0,  Iter    51:    Energy =   0.0740
Level     0,  Iter    52:    Energy =   0.0741
Level     0,  Iter    53:    Energy =   0.0742
Level     0,  Iter    54:    Energy =   0.0742
Level     0,  Iter    55:    Energy =   0.0743
Level     0,  Iter    56:    Energy =   0.0743
Level     0,  Iter    57:    Energy =   0.0744
Level     0,  Iter    58:    Energy =   0.0744
Level     0,  Iter    59:    Energy =   0.0744
END OF LEVEL     0    DetJac Range:   0.0537  to   2.2585 
  Avg. Gradient Time  : 0.0071s  33.44% 
  Avg. Gaussian Time  : 0.0101s  47.62% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0405
Level     1,  Iter     1:    Energy =   0.0424
Level     1,  Iter     2:    Energy =   0.0440
Level     1,  Iter     3:    Energy =   0.0454
Level     1,  Iter     4:    Energy =   0.0465
Level     1,  Iter     5:    Energy =   0.0476
Level     1,  Iter     6:    Energy =   0.0485
Level     1,  Iter     7:    Energy =   0.0493
Level     1,  Iter     8:    Energy =   0.0499
Level     1,  Iter     9:    Energy =   0.0506
Level     1,  Iter    10:    Energy =   0.0511
Level     1,  Iter    11:    Energy =   0.0516
Level     1,  Iter    12:    Energy =   0.0519
Level     1,  Iter    13:    Energy =   0.0521
Level     1,  Iter    14:    Energy =   0.0523
Level     1,  Iter    15:    Energy =   0.0525
Level     1,  Iter    16:    Energy =   0.0527
Level     1,  Iter    17:    Energy =   0.0529
Level     1,  Iter    18:    Energy =   0.0531
Level     1,  Iter    19:    Energy =   0.0532
Level     1,  Iter    20:    Energy =   0.0533
Level     1,  Iter    21:    Energy =   0.0534
Level     1,  Iter    22:    Energy =   0.0535
Level     1,  Iter    23:    Energy =   0.0536
Level     1,  Iter    24:    Energy =   0.0537
Level     1,  Iter    25:    Energy =   0.0538
Level     1,  Iter    26:    Energy =   0.0539
Level     1,  Iter    27:    Energy =   0.0539
Level     1,  Iter    28:    Energy =   0.0540
Level     1,  Iter    29:    Energy =   0.0541
Level     1,  Iter    30:    Energy =   0.0541
Level     1,  Iter    31:    Energy =   0.0542
Level     1,  Iter    32:    Energy =   0.0542
Level     1,  Iter    33:    Energy =   0.0542
Level     1,  Iter    34:    Energy =   0.0543
Level     1,  Iter    35:    Energy =   0.0543
Level     1,  Iter    36:    Energy =   0.0543
Level     1,  Iter    37:    Energy =   0.0544
Level     1,  Iter    38:    Energy =   0.0544
Level     1,  Iter    39:    Energy =   0.0544
Level     1,  Iter    40:    Energy =   0.0544
Level     1,  Iter    41:    Energy =   0.0544
Level     1,  Iter    42:    Energy =   0.0544
Level     1,  Iter    43:    Energy =   0.0545
Level     1,  Iter    44:    Energy =   0.0544
Level     1,  Iter    45:    Energy =   0.0544
Level     1,  Iter    46:    Energy =   0.0544
Level     1,  Iter    47:    Energy =   0.0544
Level     1,  Iter    48:    Energy =   0.0544
Level     1,  Iter    49:    Energy =   0.0544
Level     1,  Iter    50:    Energy =   0.0544
Level     1,  Iter    51:    Energy =   0.0544
Level     1,  Iter    52:    Energy =   0.0543
Level     1,  Iter    53:    Energy =   0.0543
Level     1,  Iter    54:    Energy =   0.0543
Level     1,  Iter    55:    Energy =   0.0543
Level     1,  Iter    56:    Energy =   0.0543
Level     1,  Iter    57:    Energy =   0.0543
Level     1,  Iter    58:    Energy =   0.0543
Level     1,  Iter    59:    Energy =   0.0543
END OF LEVEL     1    DetJac Range:   0.0335  to   3.5226 
  Avg. Gradient Time  : 0.0301s  34.02% 
  Avg. Gaussian Time  : 0.0461s  52.13% 
  Avg. Iteration Time : 0.0885s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0236
Level     2,  Iter     1:    Energy =   0.0245
Level     2,  Iter     2:    Energy =   0.0254
Level     2,  Iter     3:    Energy =   0.0261
Level     2,  Iter     4:    Energy =   0.0268
Level     2,  Iter     5:    Energy =   0.0273
Level     2,  Iter     6:    Energy =   0.0278
Level     2,  Iter     7:    Energy =   0.0283
Level     2,  Iter     8:    Energy =   0.0287
Level     2,  Iter     9:    Energy =   0.0291
Level     2,  Iter    10:    Energy =   0.0294
Level     2,  Iter    11:    Energy =   0.0297
Level     2,  Iter    12:    Energy =   0.0300
Level     2,  Iter    13:    Energy =   0.0303
Level     2,  Iter    14:    Energy =   0.0305
Level     2,  Iter    15:    Energy =   0.0308
Level     2,  Iter    16:    Energy =   0.0310
Level     2,  Iter    17:    Energy =   0.0312
Level     2,  Iter    18:    Energy =   0.0314
Level     2,  Iter    19:    Energy =   0.0316
END OF LEVEL     2    DetJac Range:   0.0350  to   3.7540 
  Avg. Gradient Time  : 0.1946s  32.71% 
  Avg. Gaussian Time  : 0.3216s  54.06% 
  Avg. Iteration Time : 0.5949s 

real	0m21.293s
user	0m37.064s
sys	0m2.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 376.223   GNORM= 162.322
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       278.063      72.278       0.006
   2    3       214.605      59.333       1.000
   3    5       -97.814      51.071       5.000
   4    6      -274.652     114.165       1.000
   5    9      -277.058      91.922       0.006
   6   10      -321.244      98.125       1.000
   7   11      -366.256     128.658       1.000
   8   12      -761.307     182.892       1.000
   9   15      -826.132      91.557       0.063
  10   16      -893.256      50.158       1.000
  11   18     -1004.727     104.291       5.000
  12   20     -1100.338     310.810       0.353
  13   22     -1110.053     204.616       0.278
  14   23     -1260.330     106.546       1.000
  15   24     -1311.069      56.103       1.000
  16   25     -1370.095      50.513       1.000
  17   27     -1399.356      62.950       0.097
  18   28     -1411.753      52.675       1.000
  19   29     -1422.442      43.801       1.000
  20   30     -1429.282      42.883       1.000
  21   31     -1436.391      36.308       1.000
  22   33     -1439.201      44.410       0.285
  23   34     -1445.817      71.449       1.000
  24   36     -1448.934      28.658       0.440
  25   38     -1453.594      53.951       5.000
  26   39     -1456.696      37.302       1.000
  27   41     -1458.362      36.404       0.272
  28   42     -1460.661      15.503       1.000
  29   43     -1461.091      15.231       1.000
  30   45     -1461.828      29.610       0.500
  31   47     -1462.080      33.958       0.349
  32   48     -1463.603      19.991       1.000
  33   49     -1464.341      30.816       1.000
  34   50     -1465.360      24.115       1.000
  35   51     -1472.602      36.245       1.000
  36   52     -1477.310      51.424       1.000
  37   53     -1489.377      79.204       1.000
  38   54     -1496.556      53.620       1.000
  39   55     -1501.368      40.716       1.000
  40   56     -1503.317      29.684       1.000
  41   57     -1504.343      46.427       1.000
  42   58     -1507.997      58.850       1.000
  43   59     -1511.424      35.656       1.000
  44   60     -1517.433      36.764       1.000
Final RAS Transform: 
0.824554 -0.0493726 0.0188175 -8.78247 
-0.26327 1.14284 0.349486 14.4936 
0.27758 0.220245 0.768834 -14.601 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -820.826   GNORM= 79.1552
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -837.852      42.968       0.006
   2    4      -844.496      30.575       1.000
   3    6      -848.334      25.271       0.451
   4    7      -851.186      30.008       1.000
   5   12      -861.316      32.353       6.927
   6   14      -892.900      70.641       5.000
   7   15      -907.681      35.365       1.000
   8   16      -909.881      38.690       1.000
   9   18      -910.397      21.604       0.398
  10   19      -911.116      10.462       1.000
  11   20      -911.276       8.302       1.000
  12   21      -911.560       7.097       1.000
  13   22      -912.683      12.398       1.000
  14   23      -914.430      21.469       1.000
  15   24      -915.115      17.189       1.000
  16   25      -915.661       3.859       1.000
  17   26      -915.816       3.993       1.000
  18   28      -915.843       3.274       0.260
  19   30      -915.855       5.308       0.176
  20   31      -915.931       4.901       1.000
  21   32      -916.000       7.157       1.000
  22   34      -916.093       7.322       0.469
  23   35      -916.399      12.530       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.841788 0.00837314 -0.0116799 -10.5256 
-0.287808 1.13961 0.397049 13.8892 
0.248699 0.235431 0.708946 -16.8845 
0 0 0 1 

Final RAS Transform: 
0.841788 0.00837314 -0.0116799 -10.5256 
-0.287808 1.13961 0.397049 13.8892 
0.248699 0.235431 0.708946 -16.8845 
0 0 0 1 


real	0m5.921s
user	0m9.876s
sys	0m0.636s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.443013
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0359
Level     0,  Iter     1:    Energy =   0.0392
Level     0,  Iter     2:    Energy =   0.0454
Level     0,  Iter     3:    Energy =   0.0501
Level     0,  Iter     4:    Energy =   0.0538
Level     0,  Iter     5:    Energy =   0.0567
Level     0,  Iter     6:    Energy =   0.0591
Level     0,  Iter     7:    Energy =   0.0610
Level     0,  Iter     8:    Energy =   0.0627
Level     0,  Iter     9:    Energy =   0.0640
Level     0,  Iter    10:    Energy =   0.0656
Level     0,  Iter    11:    Energy =   0.0663
Level     0,  Iter    12:    Energy =   0.0673
Level     0,  Iter    13:    Energy =   0.0680
Level     0,  Iter    14:    Energy =   0.0687
Level     0,  Iter    15:    Energy =   0.0686
Level     0,  Iter    16:    Energy =   0.0690
Level     0,  Iter    17:    Energy =   0.0689
Level     0,  Iter    18:    Energy =   0.0693
Level     0,  Iter    19:    Energy =   0.0693
Level     0,  Iter    20:    Energy =   0.0698
Level     0,  Iter    21:    Energy =   0.0697
Level     0,  Iter    22:    Energy =   0.0702
Level     0,  Iter    23:    Energy =   0.0700
Level     0,  Iter    24:    Energy =   0.0705
Level     0,  Iter    25:    Energy =   0.0703
Level     0,  Iter    26:    Energy =   0.0707
Level     0,  Iter    27:    Energy =   0.0705
Level     0,  Iter    28:    Energy =   0.0710
Level     0,  Iter    29:    Energy =   0.0708
Level     0,  Iter    30:    Energy =   0.0712
Level     0,  Iter    31:    Energy =   0.0710
Level     0,  Iter    32:    Energy =   0.0713
Level     0,  Iter    33:    Energy =   0.0711
Level     0,  Iter    34:    Energy =   0.0715
Level     0,  Iter    35:    Energy =   0.0713
Level     0,  Iter    36:    Energy =   0.0716
Level     0,  Iter    37:    Energy =   0.0713
Level     0,  Iter    38:    Energy =   0.0717
Level     0,  Iter    39:    Energy =   0.0715
Level     0,  Iter    40:    Energy =   0.0718
Level     0,  Iter    41:    Energy =   0.0715
Level     0,  Iter    42:    Energy =   0.0718
Level     0,  Iter    43:    Energy =   0.0716
Level     0,  Iter    44:    Energy =   0.0719
Level     0,  Iter    45:    Energy =   0.0717
Level     0,  Iter    46:    Energy =   0.0720
Level     0,  Iter    47:    Energy =   0.0717
Level     0,  Iter    48:    Energy =   0.0720
Level     0,  Iter    49:    Energy =   0.0717
Level     0,  Iter    50:    Energy =   0.0720
Level     0,  Iter    51:    Energy =   0.0718
Level     0,  Iter    52:    Energy =   0.0721
Level     0,  Iter    53:    Energy =   0.0718
Level     0,  Iter    54:    Energy =   0.0722
Level     0,  Iter    55:    Energy =   0.0719
Level     0,  Iter    56:    Energy =   0.0722
Level     0,  Iter    57:    Energy =   0.0720
Level     0,  Iter    58:    Energy =   0.0723
Level     0,  Iter    59:    Energy =   0.0720
END OF LEVEL     0    DetJac Range:   0.1832  to   2.2157 
  Avg. Gradient Time  : 0.0071s  33.04% 
  Avg. Gaussian Time  : 0.0103s  47.95% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0430
Level     1,  Iter     1:    Energy =   0.0453
Level     1,  Iter     2:    Energy =   0.0472
Level     1,  Iter     3:    Energy =   0.0488
Level     1,  Iter     4:    Energy =   0.0502
Level     1,  Iter     5:    Energy =   0.0516
Level     1,  Iter     6:    Energy =   0.0526
Level     1,  Iter     7:    Energy =   0.0535
Level     1,  Iter     8:    Energy =   0.0544
Level     1,  Iter     9:    Energy =   0.0551
Level     1,  Iter    10:    Energy =   0.0558
Level     1,  Iter    11:    Energy =   0.0564
Level     1,  Iter    12:    Energy =   0.0568
Level     1,  Iter    13:    Energy =   0.0572
Level     1,  Iter    14:    Energy =   0.0576
Level     1,  Iter    15:    Energy =   0.0579
Level     1,  Iter    16:    Energy =   0.0582
Level     1,  Iter    17:    Energy =   0.0586
Level     1,  Iter    18:    Energy =   0.0589
Level     1,  Iter    19:    Energy =   0.0591
Level     1,  Iter    20:    Energy =   0.0594
Level     1,  Iter    21:    Energy =   0.0595
Level     1,  Iter    22:    Energy =   0.0596
Level     1,  Iter    23:    Energy =   0.0597
Level     1,  Iter    24:    Energy =   0.0598
Level     1,  Iter    25:    Energy =   0.0599
Level     1,  Iter    26:    Energy =   0.0597
Level     1,  Iter    27:    Energy =   0.0599
Level     1,  Iter    28:    Energy =   0.0597
Level     1,  Iter    29:    Energy =   0.0600
Level     1,  Iter    30:    Energy =   0.0598
Level     1,  Iter    31:    Energy =   0.0601
Level     1,  Iter    32:    Energy =   0.0599
Level     1,  Iter    33:    Energy =   0.0601
Level     1,  Iter    34:    Energy =   0.0600
Level     1,  Iter    35:    Energy =   0.0602
Level     1,  Iter    36:    Energy =   0.0600
Level     1,  Iter    37:    Energy =   0.0603
Level     1,  Iter    38:    Energy =   0.0601
Level     1,  Iter    39:    Energy =   0.0604
Level     1,  Iter    40:    Energy =   0.0601
Level     1,  Iter    41:    Energy =   0.0604
Level     1,  Iter    42:    Energy =   0.0602
Level     1,  Iter    43:    Energy =   0.0605
Level     1,  Iter    44:    Energy =   0.0603
Level     1,  Iter    45:    Energy =   0.0605
Level     1,  Iter    46:    Energy =   0.0603
Level     1,  Iter    47:    Energy =   0.0606
Level     1,  Iter    48:    Energy =   0.0604
Level     1,  Iter    49:    Energy =   0.0606
Level     1,  Iter    50:    Energy =   0.0604
Level     1,  Iter    51:    Energy =   0.0606
Level     1,  Iter    52:    Energy =   0.0604
Level     1,  Iter    53:    Energy =   0.0604
Level     1,  Iter    54:    Energy =   0.0606
Level     1,  Iter    55:    Energy =   0.0607
Level     1,  Iter    56:    Energy =   0.0605
Level     1,  Iter    57:    Energy =   0.0608
Level     1,  Iter    58:    Energy =   0.0605
Level     1,  Iter    59:    Energy =   0.0608
END OF LEVEL     1    DetJac Range:   0.0637  to   2.8862 
  Avg. Gradient Time  : 0.0301s  33.90% 
  Avg. Gaussian Time  : 0.0463s  52.20% 
  Avg. Iteration Time : 0.0887s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0281
Level     2,  Iter     1:    Energy =   0.0294
Level     2,  Iter     2:    Energy =   0.0304
Level     2,  Iter     3:    Energy =   0.0313
Level     2,  Iter     4:    Energy =   0.0320
Level     2,  Iter     5:    Energy =   0.0326
Level     2,  Iter     6:    Energy =   0.0332
Level     2,  Iter     7:    Energy =   0.0337
Level     2,  Iter     8:    Energy =   0.0344
Level     2,  Iter     9:    Energy =   0.0349
Level     2,  Iter    10:    Energy =   0.0354
Level     2,  Iter    11:    Energy =   0.0358
Level     2,  Iter    12:    Energy =   0.0361
Level     2,  Iter    13:    Energy =   0.0364
Level     2,  Iter    14:    Energy =   0.0367
Level     2,  Iter    15:    Energy =   0.0369
Level     2,  Iter    16:    Energy =   0.0371
Level     2,  Iter    17:    Energy =   0.0373
Level     2,  Iter    18:    Energy =   0.0376
Level     2,  Iter    19:    Energy =   0.0377
END OF LEVEL     2    DetJac Range:   0.0202  to   3.4152 
  Avg. Gradient Time  : 0.1931s  32.25% 
  Avg. Gaussian Time  : 0.3257s  54.40% 
  Avg. Iteration Time : 0.5986s 

real	0m21.456s
user	0m37.324s
sys	0m2.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 519.811   GNORM= 134.648
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -103.508      88.354       0.156
   2    5      -432.374     187.317       1.000
   3   10      -553.595     279.639       0.004
   4   12      -595.962     117.480       0.385
   5   14      -607.419      94.729       0.083
   6   16      -822.267      95.684       5.000
   7   20      -870.082     132.694       1.408
   8   21      -885.412      48.020       1.000
   9   24      -925.772      52.672       2.487
  10   25      -981.878      53.162       1.000
  11   27     -1072.485      94.307       0.281
  12   28     -1139.631      98.626       1.000
  13   29     -1214.375     199.390       1.000
  14   34     -1219.244      99.074       0.001
  15   35     -1227.175      85.863       1.000
  16   36     -1282.444      71.405       1.000
  17   37     -1295.417     427.510       1.000
  18   38     -1297.414      99.438       1.000
  19   39     -1307.327      88.989       1.000
  20   41     -1345.688      84.750       0.451
  21   43     -1352.882     135.953       0.223
  22   44     -1384.310     100.842       1.000
  23   46     -1399.842      51.508       0.130
  24   47     -1402.033      30.198       1.000
  25   48     -1403.717      32.190       1.000
  26   50     -1406.800      28.377       0.238
  27   51     -1410.011      47.528       1.000
  28   52     -1418.771      51.311       1.000
  29   53     -1439.773      71.483       1.000
  30   55     -1443.847      78.963       0.269
  31   56     -1451.201      55.524       1.000
  32   57     -1456.740      81.264       1.000
  33   58     -1461.106      48.427       1.000
  34   59     -1461.556      21.814       1.000
  35   60     -1463.750      24.221       1.000
  36   61     -1465.576      19.919       1.000
Final RAS Transform: 
0.696245 -0.345962 0.113372 -3.06375 
-0.20136 1.0628 0.232289 13.1772 
0.381906 -0.180108 0.826004 -0.657815 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -821.192   GNORM= 41.127
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -823.531      48.779       0.007
   2    4      -827.399      34.290       1.000
   3    5      -831.218      28.655       1.000
   4    6      -833.760      13.372       1.000
   5    7      -834.769      15.693       1.000
   6    9      -838.897      30.513       5.000
   7   10      -843.644      30.938       1.000
   8   12      -853.280      28.581       0.481
   9   13      -862.910      26.148       1.000
  10   14      -866.825      24.870       1.000
  11   15      -870.720      11.900       1.000
  12   17      -871.844      10.243       0.476
  13   18      -872.620      21.418       1.000
  14   19      -876.046      52.336       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.756881 -0.379429 0.0872607 -0.652757 
-0.183048 1.07726 0.373428 16.4977 
0.349424 -0.130535 0.854132 -1.85819 
0 0 0 1 

Final RAS Transform: 
0.756881 -0.379429 0.0872607 -0.652757 
-0.183048 1.07726 0.373428 16.4977 
0.349424 -0.130535 0.854132 -1.85819 
0 0 0 1 


real	0m4.975s
user	0m8.144s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.410869
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0350
Level     0,  Iter     1:    Energy =   0.0374
Level     0,  Iter     2:    Energy =   0.0419
Level     0,  Iter     3:    Energy =   0.0452
Level     0,  Iter     4:    Energy =   0.0485
Level     0,  Iter     5:    Energy =   0.0511
Level     0,  Iter     6:    Energy =   0.0530
Level     0,  Iter     7:    Energy =   0.0542
Level     0,  Iter     8:    Energy =   0.0562
Level     0,  Iter     9:    Energy =   0.0578
Level     0,  Iter    10:    Energy =   0.0593
Level     0,  Iter    11:    Energy =   0.0605
Level     0,  Iter    12:    Energy =   0.0616
Level     0,  Iter    13:    Energy =   0.0626
Level     0,  Iter    14:    Energy =   0.0635
Level     0,  Iter    15:    Energy =   0.0644
Level     0,  Iter    16:    Energy =   0.0651
Level     0,  Iter    17:    Energy =   0.0658
Level     0,  Iter    18:    Energy =   0.0664
Level     0,  Iter    19:    Energy =   0.0668
Level     0,  Iter    20:    Energy =   0.0671
Level     0,  Iter    21:    Energy =   0.0671
Level     0,  Iter    22:    Energy =   0.0675
Level     0,  Iter    23:    Energy =   0.0674
Level     0,  Iter    24:    Energy =   0.0677
Level     0,  Iter    25:    Energy =   0.0675
Level     0,  Iter    26:    Energy =   0.0680
Level     0,  Iter    27:    Energy =   0.0680
Level     0,  Iter    28:    Energy =   0.0681
Level     0,  Iter    29:    Energy =   0.0679
Level     0,  Iter    30:    Energy =   0.0684
Level     0,  Iter    31:    Energy =   0.0689
Level     0,  Iter    32:    Energy =   0.0690
Level     0,  Iter    33:    Energy =   0.0689
Level     0,  Iter    34:    Energy =   0.0692
Level     0,  Iter    35:    Energy =   0.0692
Level     0,  Iter    36:    Energy =   0.0691
Level     0,  Iter    37:    Energy =   0.0690
Level     0,  Iter    38:    Energy =   0.0693
Level     0,  Iter    39:    Energy =   0.0697
Level     0,  Iter    40:    Energy =   0.0696
Level     0,  Iter    41:    Energy =   0.0694
Level     0,  Iter    42:    Energy =   0.0697
Level     0,  Iter    43:    Energy =   0.0700
Level     0,  Iter    44:    Energy =   0.0700
Level     0,  Iter    45:    Energy =   0.0697
Level     0,  Iter    46:    Energy =   0.0702
Level     0,  Iter    47:    Energy =   0.0706
Level     0,  Iter    48:    Energy =   0.0705
Level     0,  Iter    49:    Energy =   0.0702
Level     0,  Iter    50:    Energy =   0.0706
Level     0,  Iter    51:    Energy =   0.0706
Level     0,  Iter    52:    Energy =   0.0704
Level     0,  Iter    53:    Energy =   0.0701
Level     0,  Iter    54:    Energy =   0.0706
Level     0,  Iter    55:    Energy =   0.0708
Level     0,  Iter    56:    Energy =   0.0707
Level     0,  Iter    57:    Energy =   0.0703
Level     0,  Iter    58:    Energy =   0.0707
Level     0,  Iter    59:    Energy =   0.0704
END OF LEVEL     0    DetJac Range:   0.1086  to   2.8579 
  Avg. Gradient Time  : 0.0071s  33.23% 
  Avg. Gaussian Time  : 0.0103s  47.92% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0396
Level     1,  Iter     1:    Energy =   0.0421
Level     1,  Iter     2:    Energy =   0.0438
Level     1,  Iter     3:    Energy =   0.0453
Level     1,  Iter     4:    Energy =   0.0470
Level     1,  Iter     5:    Energy =   0.0484
Level     1,  Iter     6:    Energy =   0.0495
Level     1,  Iter     7:    Energy =   0.0504
Level     1,  Iter     8:    Energy =   0.0511
Level     1,  Iter     9:    Energy =   0.0517
Level     1,  Iter    10:    Energy =   0.0522
Level     1,  Iter    11:    Energy =   0.0527
Level     1,  Iter    12:    Energy =   0.0530
Level     1,  Iter    13:    Energy =   0.0534
Level     1,  Iter    14:    Energy =   0.0536
Level     1,  Iter    15:    Energy =   0.0538
Level     1,  Iter    16:    Energy =   0.0541
Level     1,  Iter    17:    Energy =   0.0542
Level     1,  Iter    18:    Energy =   0.0544
Level     1,  Iter    19:    Energy =   0.0545
Level     1,  Iter    20:    Energy =   0.0546
Level     1,  Iter    21:    Energy =   0.0547
Level     1,  Iter    22:    Energy =   0.0548
Level     1,  Iter    23:    Energy =   0.0548
Level     1,  Iter    24:    Energy =   0.0549
Level     1,  Iter    25:    Energy =   0.0549
Level     1,  Iter    26:    Energy =   0.0550
Level     1,  Iter    27:    Energy =   0.0550
Level     1,  Iter    28:    Energy =   0.0551
Level     1,  Iter    29:    Energy =   0.0551
Level     1,  Iter    30:    Energy =   0.0551
Level     1,  Iter    31:    Energy =   0.0551
Level     1,  Iter    32:    Energy =   0.0552
Level     1,  Iter    33:    Energy =   0.0552
Level     1,  Iter    34:    Energy =   0.0552
Level     1,  Iter    35:    Energy =   0.0553
Level     1,  Iter    36:    Energy =   0.0552
Level     1,  Iter    37:    Energy =   0.0553
Level     1,  Iter    38:    Energy =   0.0553
Level     1,  Iter    39:    Energy =   0.0553
Level     1,  Iter    40:    Energy =   0.0554
Level     1,  Iter    41:    Energy =   0.0554
Level     1,  Iter    42:    Energy =   0.0555
Level     1,  Iter    43:    Energy =   0.0555
Level     1,  Iter    44:    Energy =   0.0555
Level     1,  Iter    45:    Energy =   0.0556
Level     1,  Iter    46:    Energy =   0.0556
Level     1,  Iter    47:    Energy =   0.0556
Level     1,  Iter    48:    Energy =   0.0556
Level     1,  Iter    49:    Energy =   0.0556
Level     1,  Iter    50:    Energy =   0.0556
Level     1,  Iter    51:    Energy =   0.0557
Level     1,  Iter    52:    Energy =   0.0557
Level     1,  Iter    53:    Energy =   0.0557
Level     1,  Iter    54:    Energy =   0.0557
Level     1,  Iter    55:    Energy =   0.0557
Level     1,  Iter    56:    Energy =   0.0557
Level     1,  Iter    57:    Energy =   0.0557
Level     1,  Iter    58:    Energy =   0.0557
Level     1,  Iter    59:    Energy =   0.0557
END OF LEVEL     1    DetJac Range:   0.0435  to   3.2455 
  Avg. Gradient Time  : 0.0299s  33.76% 
  Avg. Gaussian Time  : 0.0464s  52.50% 
  Avg. Iteration Time : 0.0885s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0249
Level     2,  Iter     1:    Energy =   0.0258
Level     2,  Iter     2:    Energy =   0.0266
Level     2,  Iter     3:    Energy =   0.0274
Level     2,  Iter     4:    Energy =   0.0280
Level     2,  Iter     5:    Energy =   0.0285
Level     2,  Iter     6:    Energy =   0.0291
Level     2,  Iter     7:    Energy =   0.0297
Level     2,  Iter     8:    Energy =   0.0302
Level     2,  Iter     9:    Energy =   0.0308
Level     2,  Iter    10:    Energy =   0.0314
Level     2,  Iter    11:    Energy =   0.0319
Level     2,  Iter    12:    Energy =   0.0323
Level     2,  Iter    13:    Energy =   0.0327
Level     2,  Iter    14:    Energy =   0.0331
Level     2,  Iter    15:    Energy =   0.0335
Level     2,  Iter    16:    Energy =   0.0338
Level     2,  Iter    17:    Energy =   0.0341
Level     2,  Iter    18:    Energy =   0.0341
Level     2,  Iter    19:    Energy =   0.0343
END OF LEVEL     2    DetJac Range:   0.0084  to   4.0485 
  Avg. Gradient Time  : 0.1944s  32.11% 
  Avg. Gaussian Time  : 0.3291s  54.34% 
  Avg. Iteration Time : 0.6056s 

real	0m21.643s
user	0m37.744s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 427.742   GNORM= 174.042
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       292.796     123.208       0.006
   2    3         3.160     152.365       1.000
   3    4      -140.057     231.435       1.000
   4    8      -468.067     204.410       0.496
   5   11      -485.643     181.791       0.014
   6   14      -643.133     153.819       2.737
   7   16      -668.620     127.405       0.227
   8   17      -768.644      99.040       1.000
   9   18      -799.535      96.312       1.000
  10   22      -864.884      89.041       0.193
  11   23      -936.165     109.233       1.000
  12   24      -943.979     162.285       1.000
  13   26     -1012.719     129.602       0.496
  14   27     -1067.688      89.913       1.000
  15   28     -1093.492     269.551       1.000
  16   30     -1108.738      96.637       0.200
  17   35     -1123.194      65.227       1.561
  18   39     -1124.464      38.368       0.021
  19   40     -1130.648     297.784       1.000
  20   42     -1161.380     128.013       0.360
  21   44     -1173.308     109.469       0.094
Final RAS Transform: 
0.87679 -0.206767 0.21599 -1.50959 
-0.354696 1.03868 0.0288408 7.35414 
0.322728 -0.0048701 0.889857 -6.3634 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -535.004   GNORM= 6609.54
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -535.133    1251.592       0.000
   2   10      -535.363     366.896       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.87679 -0.206767 0.215988 -1.50948 
-0.354698 1.03869 0.0288521 7.35406 
0.322742 -0.00488859 0.889894 -6.3657 
0 0 0 1 

Final RAS Transform: 
0.87679 -0.206767 0.215988 -1.50948 
-0.354698 1.03869 0.0288521 7.35406 
0.322742 -0.00488859 0.889894 -6.3657 
0 0 0 1 


real	0m4.405s
user	0m6.956s
sys	0m0.604s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.454121
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0276
Level     0,  Iter     1:    Energy =   0.0306
Level     0,  Iter     2:    Energy =   0.0341
Level     0,  Iter     3:    Energy =   0.0368
Level     0,  Iter     4:    Energy =   0.0392
Level     0,  Iter     5:    Energy =   0.0411
Level     0,  Iter     6:    Energy =   0.0424
Level     0,  Iter     7:    Energy =   0.0439
Level     0,  Iter     8:    Energy =   0.0448
Level     0,  Iter     9:    Energy =   0.0462
Level     0,  Iter    10:    Energy =   0.0473
Level     0,  Iter    11:    Energy =   0.0481
Level     0,  Iter    12:    Energy =   0.0489
Level     0,  Iter    13:    Energy =   0.0496
Level     0,  Iter    14:    Energy =   0.0505
Level     0,  Iter    15:    Energy =   0.0510
Level     0,  Iter    16:    Energy =   0.0520
Level     0,  Iter    17:    Energy =   0.0528
Level     0,  Iter    18:    Energy =   0.0534
Level     0,  Iter    19:    Energy =   0.0542
Level     0,  Iter    20:    Energy =   0.0548
Level     0,  Iter    21:    Energy =   0.0554
Level     0,  Iter    22:    Energy =   0.0558
Level     0,  Iter    23:    Energy =   0.0566
Level     0,  Iter    24:    Energy =   0.0570
Level     0,  Iter    25:    Energy =   0.0576
Level     0,  Iter    26:    Energy =   0.0578
Level     0,  Iter    27:    Energy =   0.0581
Level     0,  Iter    28:    Energy =   0.0584
Level     0,  Iter    29:    Energy =   0.0588
Level     0,  Iter    30:    Energy =   0.0593
Level     0,  Iter    31:    Energy =   0.0598
Level     0,  Iter    32:    Energy =   0.0601
Level     0,  Iter    33:    Energy =   0.0604
Level     0,  Iter    34:    Energy =   0.0609
Level     0,  Iter    35:    Energy =   0.0613
Level     0,  Iter    36:    Energy =   0.0619
Level     0,  Iter    37:    Energy =   0.0625
Level     0,  Iter    38:    Energy =   0.0630
Level     0,  Iter    39:    Energy =   0.0634
Level     0,  Iter    40:    Energy =   0.0638
Level     0,  Iter    41:    Energy =   0.0642
Level     0,  Iter    42:    Energy =   0.0646
Level     0,  Iter    43:    Energy =   0.0648
Level     0,  Iter    44:    Energy =   0.0651
Level     0,  Iter    45:    Energy =   0.0651
Level     0,  Iter    46:    Energy =   0.0655
Level     0,  Iter    47:    Energy =   0.0656
Level     0,  Iter    48:    Energy =   0.0658
Level     0,  Iter    49:    Energy =   0.0660
Level     0,  Iter    50:    Energy =   0.0663
Level     0,  Iter    51:    Energy =   0.0665
Level     0,  Iter    52:    Energy =   0.0668
Level     0,  Iter    53:    Energy =   0.0668
Level     0,  Iter    54:    Energy =   0.0671
Level     0,  Iter    55:    Energy =   0.0670
Level     0,  Iter    56:    Energy =   0.0674
Level     0,  Iter    57:    Energy =   0.0673
Level     0,  Iter    58:    Energy =   0.0677
Level     0,  Iter    59:    Energy =   0.0677
END OF LEVEL     0    DetJac Range:   0.0877  to   2.7219 
  Avg. Gradient Time  : 0.0074s  33.42% 
  Avg. Gaussian Time  : 0.0105s  47.62% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0392
Level     1,  Iter     1:    Energy =   0.0410
Level     1,  Iter     2:    Energy =   0.0425
Level     1,  Iter     3:    Energy =   0.0439
Level     1,  Iter     4:    Energy =   0.0451
Level     1,  Iter     5:    Energy =   0.0461
Level     1,  Iter     6:    Energy =   0.0469
Level     1,  Iter     7:    Energy =   0.0475
Level     1,  Iter     8:    Energy =   0.0482
Level     1,  Iter     9:    Energy =   0.0489
Level     1,  Iter    10:    Energy =   0.0495
Level     1,  Iter    11:    Energy =   0.0500
Level     1,  Iter    12:    Energy =   0.0505
Level     1,  Iter    13:    Energy =   0.0509
Level     1,  Iter    14:    Energy =   0.0512
Level     1,  Iter    15:    Energy =   0.0515
Level     1,  Iter    16:    Energy =   0.0517
Level     1,  Iter    17:    Energy =   0.0519
Level     1,  Iter    18:    Energy =   0.0520
Level     1,  Iter    19:    Energy =   0.0521
Level     1,  Iter    20:    Energy =   0.0523
Level     1,  Iter    21:    Energy =   0.0525
Level     1,  Iter    22:    Energy =   0.0527
Level     1,  Iter    23:    Energy =   0.0529
Level     1,  Iter    24:    Energy =   0.0531
Level     1,  Iter    25:    Energy =   0.0533
Level     1,  Iter    26:    Energy =   0.0534
Level     1,  Iter    27:    Energy =   0.0536
Level     1,  Iter    28:    Energy =   0.0538
Level     1,  Iter    29:    Energy =   0.0539
Level     1,  Iter    30:    Energy =   0.0540
Level     1,  Iter    31:    Energy =   0.0541
Level     1,  Iter    32:    Energy =   0.0542
Level     1,  Iter    33:    Energy =   0.0543
Level     1,  Iter    34:    Energy =   0.0544
Level     1,  Iter    35:    Energy =   0.0545
Level     1,  Iter    36:    Energy =   0.0546
Level     1,  Iter    37:    Energy =   0.0546
Level     1,  Iter    38:    Energy =   0.0546
Level     1,  Iter    39:    Energy =   0.0547
Level     1,  Iter    40:    Energy =   0.0547
Level     1,  Iter    41:    Energy =   0.0547
Level     1,  Iter    42:    Energy =   0.0548
Level     1,  Iter    43:    Energy =   0.0548
Level     1,  Iter    44:    Energy =   0.0548
Level     1,  Iter    45:    Energy =   0.0548
Level     1,  Iter    46:    Energy =   0.0548
Level     1,  Iter    47:    Energy =   0.0549
Level     1,  Iter    48:    Energy =   0.0549
Level     1,  Iter    49:    Energy =   0.0549
Level     1,  Iter    50:    Energy =   0.0549
Level     1,  Iter    51:    Energy =   0.0550
Level     1,  Iter    52:    Energy =   0.0550
Level     1,  Iter    53:    Energy =   0.0550
Level     1,  Iter    54:    Energy =   0.0550
Level     1,  Iter    55:    Energy =   0.0550
Level     1,  Iter    56:    Energy =   0.0550
Level     1,  Iter    57:    Energy =   0.0550
Level     1,  Iter    58:    Energy =   0.0550
Level     1,  Iter    59:    Energy =   0.0550
END OF LEVEL     1    DetJac Range:   0.0383  to   3.3854 
  Avg. Gradient Time  : 0.0303s  33.96% 
  Avg. Gaussian Time  : 0.0464s  52.14% 
  Avg. Iteration Time : 0.0891s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0246
Level     2,  Iter     1:    Energy =   0.0258
Level     2,  Iter     2:    Energy =   0.0266
Level     2,  Iter     3:    Energy =   0.0272
Level     2,  Iter     4:    Energy =   0.0278
Level     2,  Iter     5:    Energy =   0.0282
Level     2,  Iter     6:    Energy =   0.0287
Level     2,  Iter     7:    Energy =   0.0290
Level     2,  Iter     8:    Energy =   0.0293
Level     2,  Iter     9:    Energy =   0.0295
Level     2,  Iter    10:    Energy =   0.0298
Level     2,  Iter    11:    Energy =   0.0301
Level     2,  Iter    12:    Energy =   0.0304
Level     2,  Iter    13:    Energy =   0.0307
Level     2,  Iter    14:    Energy =   0.0310
Level     2,  Iter    15:    Energy =   0.0312
Level     2,  Iter    16:    Energy =   0.0315
Level     2,  Iter    17:    Energy =   0.0317
Level     2,  Iter    18:    Energy =   0.0319
Level     2,  Iter    19:    Energy =   0.0320
END OF LEVEL     2    DetJac Range:   0.0384  to   3.5331 
  Avg. Gradient Time  : 0.2014s  32.84% 
  Avg. Gaussian Time  : 0.3308s  53.94% 
  Avg. Iteration Time : 0.6133s 

real	0m21.887s
user	0m38.148s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 412.735   GNORM= 131.822
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       287.113     120.183       0.008
   2    3       -22.831      53.801       1.000
   3    4      -322.166      67.774       1.000
   4    9      -343.081      96.669       0.036
   5   11      -364.190      59.498       0.245
   6   12      -416.747      53.842       1.000
   7   16      -420.030      63.854       0.886
   8   17      -424.647     151.525       1.000
   9   18      -496.424     242.917       1.000
  10   22      -507.246     110.077       0.067
  11   25      -507.924      75.926       0.000
  12   26      -543.887      53.572       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.14579 -0.0448273 0.120477 -5.02799 
-0.186767 0.942745 -0.132298 6.74904 
0.212975 -0.186507 1.26954 -7.87619 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -274.403   GNORM= 54779.6
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -287.653      84.122       0.000
   2    3      -288.228      50.344       1.000
   3    7      -288.446      60.139       0.017
   4    9      -288.548      36.375       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.14521 -0.0421631 0.119475 -4.83688 
-0.187427 0.942407 -0.131056 6.65626 
0.212283 -0.179192 1.26247 -7.08834 
0 0 0 1 

Final RAS Transform: 
1.14521 -0.0421631 0.119475 -4.83688 
-0.187427 0.942407 -0.131056 6.65626 
0.212283 -0.179192 1.26247 -7.08834 
0 0 0 1 


real	0m4.147s
user	0m6.540s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.303591
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0137
Level     0,  Iter     1:    Energy =   0.0155
Level     0,  Iter     2:    Energy =   0.0173
Level     0,  Iter     3:    Energy =   0.0191
Level     0,  Iter     4:    Energy =   0.0207
Level     0,  Iter     5:    Energy =   0.0227
Level     0,  Iter     6:    Energy =   0.0245
Level     0,  Iter     7:    Energy =   0.0259
Level     0,  Iter     8:    Energy =   0.0272
Level     0,  Iter     9:    Energy =   0.0283
Level     0,  Iter    10:    Energy =   0.0292
Level     0,  Iter    11:    Energy =   0.0300
Level     0,  Iter    12:    Energy =   0.0308
Level     0,  Iter    13:    Energy =   0.0315
Level     0,  Iter    14:    Energy =   0.0319
Level     0,  Iter    15:    Energy =   0.0323
Level     0,  Iter    16:    Energy =   0.0327
Level     0,  Iter    17:    Energy =   0.0331
Level     0,  Iter    18:    Energy =   0.0334
Level     0,  Iter    19:    Energy =   0.0337
Level     0,  Iter    20:    Energy =   0.0340
Level     0,  Iter    21:    Energy =   0.0342
Level     0,  Iter    22:    Energy =   0.0345
Level     0,  Iter    23:    Energy =   0.0348
Level     0,  Iter    24:    Energy =   0.0352
Level     0,  Iter    25:    Energy =   0.0355
Level     0,  Iter    26:    Energy =   0.0359
Level     0,  Iter    27:    Energy =   0.0362
Level     0,  Iter    28:    Energy =   0.0365
Level     0,  Iter    29:    Energy =   0.0367
Level     0,  Iter    30:    Energy =   0.0370
Level     0,  Iter    31:    Energy =   0.0373
Level     0,  Iter    32:    Energy =   0.0377
Level     0,  Iter    33:    Energy =   0.0380
Level     0,  Iter    34:    Energy =   0.0384
Level     0,  Iter    35:    Energy =   0.0388
Level     0,  Iter    36:    Energy =   0.0393
Level     0,  Iter    37:    Energy =   0.0397
Level     0,  Iter    38:    Energy =   0.0400
Level     0,  Iter    39:    Energy =   0.0402
Level     0,  Iter    40:    Energy =   0.0405
Level     0,  Iter    41:    Energy =   0.0409
Level     0,  Iter    42:    Energy =   0.0412
Level     0,  Iter    43:    Energy =   0.0414
Level     0,  Iter    44:    Energy =   0.0415
Level     0,  Iter    45:    Energy =   0.0418
Level     0,  Iter    46:    Energy =   0.0420
Level     0,  Iter    47:    Energy =   0.0421
Level     0,  Iter    48:    Energy =   0.0423
Level     0,  Iter    49:    Energy =   0.0426
Level     0,  Iter    50:    Energy =   0.0429
Level     0,  Iter    51:    Energy =   0.0430
Level     0,  Iter    52:    Energy =   0.0433
Level     0,  Iter    53:    Energy =   0.0435
Level     0,  Iter    54:    Energy =   0.0437
Level     0,  Iter    55:    Energy =   0.0440
Level     0,  Iter    56:    Energy =   0.0440
Level     0,  Iter    57:    Energy =   0.0441
Level     0,  Iter    58:    Energy =   0.0442
Level     0,  Iter    59:    Energy =   0.0443
END OF LEVEL     0    DetJac Range:   0.0234  to   2.3508 
  Avg. Gradient Time  : 0.0074s  33.09% 
  Avg. Gaussian Time  : 0.0107s  48.08% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0272
Level     1,  Iter     2:    Energy =   0.0286
Level     1,  Iter     3:    Energy =   0.0293
Level     1,  Iter     4:    Energy =   0.0302
Level     1,  Iter     5:    Energy =   0.0309
Level     1,  Iter     6:    Energy =   0.0316
Level     1,  Iter     7:    Energy =   0.0322
Level     1,  Iter     8:    Energy =   0.0325
Level     1,  Iter     9:    Energy =   0.0328
Level     1,  Iter    10:    Energy =   0.0332
Level     1,  Iter    11:    Energy =   0.0337
Level     1,  Iter    12:    Energy =   0.0339
Level     1,  Iter    13:    Energy =   0.0342
Level     1,  Iter    14:    Energy =   0.0346
Level     1,  Iter    15:    Energy =   0.0351
Level     1,  Iter    16:    Energy =   0.0355
Level     1,  Iter    17:    Energy =   0.0357
Level     1,  Iter    18:    Energy =   0.0360
Level     1,  Iter    19:    Energy =   0.0363
Level     1,  Iter    20:    Energy =   0.0364
Level     1,  Iter    21:    Energy =   0.0366
Level     1,  Iter    22:    Energy =   0.0369
Level     1,  Iter    23:    Energy =   0.0371
Level     1,  Iter    24:    Energy =   0.0373
Level     1,  Iter    25:    Energy =   0.0375
Level     1,  Iter    26:    Energy =   0.0377
Level     1,  Iter    27:    Energy =   0.0379
Level     1,  Iter    28:    Energy =   0.0381
Level     1,  Iter    29:    Energy =   0.0382
Level     1,  Iter    30:    Energy =   0.0384
Level     1,  Iter    31:    Energy =   0.0385
Level     1,  Iter    32:    Energy =   0.0387
Level     1,  Iter    33:    Energy =   0.0388
Level     1,  Iter    34:    Energy =   0.0389
Level     1,  Iter    35:    Energy =   0.0391
Level     1,  Iter    36:    Energy =   0.0392
Level     1,  Iter    37:    Energy =   0.0394
Level     1,  Iter    38:    Energy =   0.0396
Level     1,  Iter    39:    Energy =   0.0397
Level     1,  Iter    40:    Energy =   0.0399
Level     1,  Iter    41:    Energy =   0.0400
Level     1,  Iter    42:    Energy =   0.0402
Level     1,  Iter    43:    Energy =   0.0404
Level     1,  Iter    44:    Energy =   0.0405
Level     1,  Iter    45:    Energy =   0.0406
Level     1,  Iter    46:    Energy =   0.0408
Level     1,  Iter    47:    Energy =   0.0409
Level     1,  Iter    48:    Energy =   0.0410
Level     1,  Iter    49:    Energy =   0.0411
Level     1,  Iter    50:    Energy =   0.0412
Level     1,  Iter    51:    Energy =   0.0412
Level     1,  Iter    52:    Energy =   0.0413
Level     1,  Iter    53:    Energy =   0.0414
Level     1,  Iter    54:    Energy =   0.0414
Level     1,  Iter    55:    Energy =   0.0415
Level     1,  Iter    56:    Energy =   0.0416
Level     1,  Iter    57:    Energy =   0.0416
Level     1,  Iter    58:    Energy =   0.0417
Level     1,  Iter    59:    Energy =   0.0418
END OF LEVEL     1    DetJac Range:   0.0132  to   2.6900 
  Avg. Gradient Time  : 0.0304s  33.89% 
  Avg. Gaussian Time  : 0.0469s  52.28% 
  Avg. Iteration Time : 0.0897s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0185
Level     2,  Iter     2:    Energy =   0.0191
Level     2,  Iter     3:    Energy =   0.0195
Level     2,  Iter     4:    Energy =   0.0199
Level     2,  Iter     5:    Energy =   0.0203
Level     2,  Iter     6:    Energy =   0.0208
Level     2,  Iter     7:    Energy =   0.0214
Level     2,  Iter     8:    Energy =   0.0220
Level     2,  Iter     9:    Energy =   0.0225
Level     2,  Iter    10:    Energy =   0.0230
Level     2,  Iter    11:    Energy =   0.0234
Level     2,  Iter    12:    Energy =   0.0237
Level     2,  Iter    13:    Energy =   0.0240
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0246
Level     2,  Iter    17:    Energy =   0.0248
Level     2,  Iter    18:    Energy =   0.0249
Level     2,  Iter    19:    Energy =   0.0251
END OF LEVEL     2    DetJac Range:   0.0088  to   2.8542 
  Avg. Gradient Time  : 0.1982s  32.72% 
  Avg. Gaussian Time  : 0.3272s  54.01% 
  Avg. Iteration Time : 0.6058s 

real	0m21.730s
user	0m37.928s
sys	0m2.324s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 358.743   GNORM= 228.281
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       177.615     146.490       0.004
   2    3       -26.601     142.857       1.000
   3    4      -414.320     227.041       1.000
   4   10      -425.509     349.363       0.050
   5   11      -525.890     138.273       1.000
   6   14      -594.341      58.999       1.162
   7   16      -598.739      72.576       0.054
   8   17      -608.320      69.833       1.000
   9   19      -630.484      47.884       5.000
  10   21      -681.056      60.456       0.159
  11   24      -692.960      66.319       0.669
  12   27      -731.112      36.178       2.254
  13   28      -734.650      69.771       1.000
  14   29      -739.474      38.300       1.000
  15   30      -741.232      43.138       1.000
  16   31      -742.481      41.479       1.000
  17   32      -746.110      34.098       1.000
  18   33      -754.477      21.290       1.000
  19   34      -767.740      20.817       1.000
  20   36      -771.456      44.870       0.494
  21   37      -772.864      52.571       1.000
  22   38      -777.523      41.942       1.000
  23   40      -781.515      71.800       0.204
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.903295 -0.0284077 -0.027387 -1.97826 
-0.0036716 1.13146 0.0303956 10.7905 
0.123534 -0.041428 1.00027 -5.44049 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -451.393   GNORM= 546.043
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -452.509      89.191       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.903295 -0.0284077 -0.027387 -1.97826 
-0.0036716 1.13146 0.0303956 10.7905 
0.123534 -0.041428 1.00027 -5.44049 
0 0 0 1 

Final RAS Transform: 
0.903295 -0.0284077 -0.027387 -1.97826 
-0.0036716 1.13146 0.0303956 10.7905 
0.123534 -0.041428 1.00027 -5.44049 
0 0 0 1 


real	0m4.017s
user	0m6.316s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.444811
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0193
Level     0,  Iter     1:    Energy =   0.0211
Level     0,  Iter     2:    Energy =   0.0234
Level     0,  Iter     3:    Energy =   0.0253
Level     0,  Iter     4:    Energy =   0.0270
Level     0,  Iter     5:    Energy =   0.0284
Level     0,  Iter     6:    Energy =   0.0295
Level     0,  Iter     7:    Energy =   0.0305
Level     0,  Iter     8:    Energy =   0.0314
Level     0,  Iter     9:    Energy =   0.0321
Level     0,  Iter    10:    Energy =   0.0326
Level     0,  Iter    11:    Energy =   0.0332
Level     0,  Iter    12:    Energy =   0.0336
Level     0,  Iter    13:    Energy =   0.0341
Level     0,  Iter    14:    Energy =   0.0347
Level     0,  Iter    15:    Energy =   0.0351
Level     0,  Iter    16:    Energy =   0.0356
Level     0,  Iter    17:    Energy =   0.0360
Level     0,  Iter    18:    Energy =   0.0362
Level     0,  Iter    19:    Energy =   0.0364
Level     0,  Iter    20:    Energy =   0.0364
Level     0,  Iter    21:    Energy =   0.0364
Level     0,  Iter    22:    Energy =   0.0364
Level     0,  Iter    23:    Energy =   0.0365
Level     0,  Iter    24:    Energy =   0.0366
Level     0,  Iter    25:    Energy =   0.0368
Level     0,  Iter    26:    Energy =   0.0370
Level     0,  Iter    27:    Energy =   0.0370
Level     0,  Iter    28:    Energy =   0.0371
Level     0,  Iter    29:    Energy =   0.0372
Level     0,  Iter    30:    Energy =   0.0373
Level     0,  Iter    31:    Energy =   0.0373
Level     0,  Iter    32:    Energy =   0.0373
Level     0,  Iter    33:    Energy =   0.0373
Level     0,  Iter    34:    Energy =   0.0372
Level     0,  Iter    35:    Energy =   0.0372
Level     0,  Iter    36:    Energy =   0.0372
Level     0,  Iter    37:    Energy =   0.0372
Level     0,  Iter    38:    Energy =   0.0372
Level     0,  Iter    39:    Energy =   0.0372
Level     0,  Iter    40:    Energy =   0.0371
Level     0,  Iter    41:    Energy =   0.0372
Level     0,  Iter    42:    Energy =   0.0371
Level     0,  Iter    43:    Energy =   0.0371
Level     0,  Iter    44:    Energy =   0.0371
Level     0,  Iter    45:    Energy =   0.0371
Level     0,  Iter    46:    Energy =   0.0371
Level     0,  Iter    47:    Energy =   0.0371
Level     0,  Iter    48:    Energy =   0.0371
Level     0,  Iter    49:    Energy =   0.0371
Level     0,  Iter    50:    Energy =   0.0371
Level     0,  Iter    51:    Energy =   0.0371
Level     0,  Iter    52:    Energy =   0.0372
Level     0,  Iter    53:    Energy =   0.0372
Level     0,  Iter    54:    Energy =   0.0371
Level     0,  Iter    55:    Energy =   0.0371
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0372
Level     0,  Iter    58:    Energy =   0.0373
Level     0,  Iter    59:    Energy =   0.0373
END OF LEVEL     0    DetJac Range:   0.0724  to   2.0659 
  Avg. Gradient Time  : 0.0067s  33.04% 
  Avg. Gaussian Time  : 0.0098s  48.14% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0243
Level     1,  Iter     1:    Energy =   0.0260
Level     1,  Iter     2:    Energy =   0.0276
Level     1,  Iter     3:    Energy =   0.0288
Level     1,  Iter     4:    Energy =   0.0300
Level     1,  Iter     5:    Energy =   0.0313
Level     1,  Iter     6:    Energy =   0.0323
Level     1,  Iter     7:    Energy =   0.0331
Level     1,  Iter     8:    Energy =   0.0338
Level     1,  Iter     9:    Energy =   0.0344
Level     1,  Iter    10:    Energy =   0.0350
Level     1,  Iter    11:    Energy =   0.0355
Level     1,  Iter    12:    Energy =   0.0359
Level     1,  Iter    13:    Energy =   0.0363
Level     1,  Iter    14:    Energy =   0.0366
Level     1,  Iter    15:    Energy =   0.0369
Level     1,  Iter    16:    Energy =   0.0372
Level     1,  Iter    17:    Energy =   0.0375
Level     1,  Iter    18:    Energy =   0.0377
Level     1,  Iter    19:    Energy =   0.0380
Level     1,  Iter    20:    Energy =   0.0382
Level     1,  Iter    21:    Energy =   0.0384
Level     1,  Iter    22:    Energy =   0.0385
Level     1,  Iter    23:    Energy =   0.0387
Level     1,  Iter    24:    Energy =   0.0388
Level     1,  Iter    25:    Energy =   0.0390
Level     1,  Iter    26:    Energy =   0.0392
Level     1,  Iter    27:    Energy =   0.0393
Level     1,  Iter    28:    Energy =   0.0394
Level     1,  Iter    29:    Energy =   0.0395
Level     1,  Iter    30:    Energy =   0.0396
Level     1,  Iter    31:    Energy =   0.0398
Level     1,  Iter    32:    Energy =   0.0399
Level     1,  Iter    33:    Energy =   0.0400
Level     1,  Iter    34:    Energy =   0.0401
Level     1,  Iter    35:    Energy =   0.0403
Level     1,  Iter    36:    Energy =   0.0404
Level     1,  Iter    37:    Energy =   0.0405
Level     1,  Iter    38:    Energy =   0.0406
Level     1,  Iter    39:    Energy =   0.0407
Level     1,  Iter    40:    Energy =   0.0407
Level     1,  Iter    41:    Energy =   0.0408
Level     1,  Iter    42:    Energy =   0.0408
Level     1,  Iter    43:    Energy =   0.0408
Level     1,  Iter    44:    Energy =   0.0409
Level     1,  Iter    45:    Energy =   0.0409
Level     1,  Iter    46:    Energy =   0.0410
Level     1,  Iter    47:    Energy =   0.0410
Level     1,  Iter    48:    Energy =   0.0410
Level     1,  Iter    49:    Energy =   0.0411
Level     1,  Iter    50:    Energy =   0.0411
Level     1,  Iter    51:    Energy =   0.0412
Level     1,  Iter    52:    Energy =   0.0412
Level     1,  Iter    53:    Energy =   0.0413
Level     1,  Iter    54:    Energy =   0.0413
Level     1,  Iter    55:    Energy =   0.0414
Level     1,  Iter    56:    Energy =   0.0414
Level     1,  Iter    57:    Energy =   0.0414
Level     1,  Iter    58:    Energy =   0.0415
Level     1,  Iter    59:    Energy =   0.0415
END OF LEVEL     1    DetJac Range:   0.0313  to   3.1644 
  Avg. Gradient Time  : 0.0280s  33.58% 
  Avg. Gaussian Time  : 0.0438s  52.55% 
  Avg. Iteration Time : 0.0834s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0197
Level     2,  Iter     1:    Energy =   0.0206
Level     2,  Iter     2:    Energy =   0.0214
Level     2,  Iter     3:    Energy =   0.0220
Level     2,  Iter     4:    Energy =   0.0227
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0239
Level     2,  Iter     7:    Energy =   0.0245
Level     2,  Iter     8:    Energy =   0.0251
Level     2,  Iter     9:    Energy =   0.0256
Level     2,  Iter    10:    Energy =   0.0261
Level     2,  Iter    11:    Energy =   0.0265
Level     2,  Iter    12:    Energy =   0.0269
Level     2,  Iter    13:    Energy =   0.0271
Level     2,  Iter    14:    Energy =   0.0273
Level     2,  Iter    15:    Energy =   0.0276
Level     2,  Iter    16:    Energy =   0.0279
Level     2,  Iter    17:    Energy =   0.0280
Level     2,  Iter    18:    Energy =   0.0282
Level     2,  Iter    19:    Energy =   0.0284
END OF LEVEL     2    DetJac Range:   0.0204  to   3.4816 
  Avg. Gradient Time  : 0.1804s  32.25% 
  Avg. Gaussian Time  : 0.3040s  54.36% 
  Avg. Iteration Time : 0.5593s 

real	0m20.191s
user	0m35.136s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 465.282   GNORM= 167.445
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       331.760      82.902       0.006
   2    3       283.818     104.624       1.000
   3    5       251.960     100.803       0.372
   4    7        97.622     111.104       5.000
   5    8        52.030     112.401       1.000
   6    9        24.909      46.533       1.000
   7   12        -0.001       0.000      21.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
0.979365 0.0544385 0.0818613 -5.72243 
0.170714 0.694609 0.135955 -3.17165 
0.0473685 0.00464898 0.465104 -9.24617 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -20.2022   GNORM= 109.325
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -112.458      77.989       0.009
   2    3      -120.537      81.571       1.000
   3    4      -204.255      62.282       1.000
   4    6      -227.788      50.377       0.137
   5    7      -253.204      63.612       1.000
   6    8      -279.703      51.999       1.000
   7   10      -310.884      42.941       0.352
   8   12      -325.051      68.388       0.323
   9   13      -332.493      75.742       1.000
  10   14      -362.853      46.533       1.000
  11   15      -399.634      66.222       1.000
  12   16      -415.611      24.708       1.000
  13   17      -425.218      21.969       1.000
  14   19      -430.971      24.556       0.494
  15   20      -435.316      45.177       1.000
  16   21      -440.622      32.828       1.000
  17   26      -441.672      99.993       1.028
  18   27      -463.697      39.206       1.000
  19   28      -481.262      25.447       1.000
  20   29      -487.132      57.302       1.000
  21   30      -501.644      26.539       1.000
  22   31      -504.942      12.731       1.000
  23   32      -506.379      10.401       1.000
  24   33      -507.771      18.487       1.000
  25   35      -515.333      35.538       5.000
  26   36      -520.176      53.178       1.000
  27   37      -525.766      16.348       1.000
  28   38      -526.991      11.441       1.000
  29   39      -528.306      17.922       1.000
  30   41      -528.435      19.326       0.293
  31   42      -529.885      14.257       1.000
  32   43      -530.758      11.314       1.000
  33   47      -534.176      25.412       8.764
  34   50      -535.434      22.328       1.203
  35   51      -537.574      12.353       1.000
  36   53      -539.380      62.503       0.407
  37   56      -562.643      95.245       1.995
  38   59      -630.812     146.361       1.768
Final RAS Transform: 
0.737527 -0.0604905 0.222592 -11.3383 
-0.171122 0.664282 -0.00634591 -16.1558 
0.375136 -0.0712422 0.247667 -3.28752 
0 0 0 1 

Final RAS Transform: 
0.737527 -0.0604905 0.222592 -11.3383 
-0.171122 0.664282 -0.00634591 -16.1558 
0.375136 -0.0712422 0.247667 -3.28752 
0 0 0 1 


real	0m5.437s
user	0m9.284s
sys	0m0.424s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.323639
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0229
Level     0,  Iter     1:    Energy =   0.0252
Level     0,  Iter     2:    Energy =   0.0279
Level     0,  Iter     3:    Energy =   0.0300
Level     0,  Iter     4:    Energy =   0.0319
Level     0,  Iter     5:    Energy =   0.0337
Level     0,  Iter     6:    Energy =   0.0352
Level     0,  Iter     7:    Energy =   0.0365
Level     0,  Iter     8:    Energy =   0.0377
Level     0,  Iter     9:    Energy =   0.0386
Level     0,  Iter    10:    Energy =   0.0396
Level     0,  Iter    11:    Energy =   0.0405
Level     0,  Iter    12:    Energy =   0.0414
Level     0,  Iter    13:    Energy =   0.0421
Level     0,  Iter    14:    Energy =   0.0427
Level     0,  Iter    15:    Energy =   0.0432
Level     0,  Iter    16:    Energy =   0.0437
Level     0,  Iter    17:    Energy =   0.0442
Level     0,  Iter    18:    Energy =   0.0447
Level     0,  Iter    19:    Energy =   0.0451
Level     0,  Iter    20:    Energy =   0.0454
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0460
Level     0,  Iter    23:    Energy =   0.0463
Level     0,  Iter    24:    Energy =   0.0465
Level     0,  Iter    25:    Energy =   0.0467
Level     0,  Iter    26:    Energy =   0.0468
Level     0,  Iter    27:    Energy =   0.0470
Level     0,  Iter    28:    Energy =   0.0472
Level     0,  Iter    29:    Energy =   0.0473
Level     0,  Iter    30:    Energy =   0.0473
Level     0,  Iter    31:    Energy =   0.0473
Level     0,  Iter    32:    Energy =   0.0473
Level     0,  Iter    33:    Energy =   0.0473
Level     0,  Iter    34:    Energy =   0.0474
Level     0,  Iter    35:    Energy =   0.0475
Level     0,  Iter    36:    Energy =   0.0475
Level     0,  Iter    37:    Energy =   0.0476
Level     0,  Iter    38:    Energy =   0.0476
Level     0,  Iter    39:    Energy =   0.0476
Level     0,  Iter    40:    Energy =   0.0477
Level     0,  Iter    41:    Energy =   0.0477
Level     0,  Iter    42:    Energy =   0.0477
Level     0,  Iter    43:    Energy =   0.0478
Level     0,  Iter    44:    Energy =   0.0478
Level     0,  Iter    45:    Energy =   0.0479
Level     0,  Iter    46:    Energy =   0.0479
Level     0,  Iter    47:    Energy =   0.0479
Level     0,  Iter    48:    Energy =   0.0480
Level     0,  Iter    49:    Energy =   0.0480
Level     0,  Iter    50:    Energy =   0.0480
Level     0,  Iter    51:    Energy =   0.0480
Level     0,  Iter    52:    Energy =   0.0480
Level     0,  Iter    53:    Energy =   0.0481
Level     0,  Iter    54:    Energy =   0.0481
Level     0,  Iter    55:    Energy =   0.0481
Level     0,  Iter    56:    Energy =   0.0482
Level     0,  Iter    57:    Energy =   0.0482
Level     0,  Iter    58:    Energy =   0.0482
Level     0,  Iter    59:    Energy =   0.0482
END OF LEVEL     0    DetJac Range:   0.1333  to   1.9918 
  Avg. Gradient Time  : 0.0066s  32.70% 
  Avg. Gaussian Time  : 0.0098s  48.41% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0413
Level     1,  Iter     1:    Energy =   0.0425
Level     1,  Iter     2:    Energy =   0.0438
Level     1,  Iter     3:    Energy =   0.0448
Level     1,  Iter     4:    Energy =   0.0456
Level     1,  Iter     5:    Energy =   0.0463
Level     1,  Iter     6:    Energy =   0.0469
Level     1,  Iter     7:    Energy =   0.0474
Level     1,  Iter     8:    Energy =   0.0479
Level     1,  Iter     9:    Energy =   0.0482
Level     1,  Iter    10:    Energy =   0.0486
Level     1,  Iter    11:    Energy =   0.0488
Level     1,  Iter    12:    Energy =   0.0490
Level     1,  Iter    13:    Energy =   0.0492
Level     1,  Iter    14:    Energy =   0.0494
Level     1,  Iter    15:    Energy =   0.0495
Level     1,  Iter    16:    Energy =   0.0497
Level     1,  Iter    17:    Energy =   0.0498
Level     1,  Iter    18:    Energy =   0.0499
Level     1,  Iter    19:    Energy =   0.0500
Level     1,  Iter    20:    Energy =   0.0501
Level     1,  Iter    21:    Energy =   0.0502
Level     1,  Iter    22:    Energy =   0.0503
Level     1,  Iter    23:    Energy =   0.0504
Level     1,  Iter    24:    Energy =   0.0504
Level     1,  Iter    25:    Energy =   0.0505
Level     1,  Iter    26:    Energy =   0.0505
Level     1,  Iter    27:    Energy =   0.0506
Level     1,  Iter    28:    Energy =   0.0506
Level     1,  Iter    29:    Energy =   0.0507
Level     1,  Iter    30:    Energy =   0.0507
Level     1,  Iter    31:    Energy =   0.0507
Level     1,  Iter    32:    Energy =   0.0507
Level     1,  Iter    33:    Energy =   0.0508
Level     1,  Iter    34:    Energy =   0.0508
Level     1,  Iter    35:    Energy =   0.0508
Level     1,  Iter    36:    Energy =   0.0509
Level     1,  Iter    37:    Energy =   0.0509
Level     1,  Iter    38:    Energy =   0.0510
Level     1,  Iter    39:    Energy =   0.0510
Level     1,  Iter    40:    Energy =   0.0511
Level     1,  Iter    41:    Energy =   0.0511
Level     1,  Iter    42:    Energy =   0.0511
Level     1,  Iter    43:    Energy =   0.0512
Level     1,  Iter    44:    Energy =   0.0512
Level     1,  Iter    45:    Energy =   0.0513
Level     1,  Iter    46:    Energy =   0.0513
Level     1,  Iter    47:    Energy =   0.0513
Level     1,  Iter    48:    Energy =   0.0514
Level     1,  Iter    49:    Energy =   0.0514
Level     1,  Iter    50:    Energy =   0.0514
Level     1,  Iter    51:    Energy =   0.0514
Level     1,  Iter    52:    Energy =   0.0514
Level     1,  Iter    53:    Energy =   0.0515
Level     1,  Iter    54:    Energy =   0.0515
Level     1,  Iter    55:    Energy =   0.0515
Level     1,  Iter    56:    Energy =   0.0515
Level     1,  Iter    57:    Energy =   0.0515
Level     1,  Iter    58:    Energy =   0.0515
Level     1,  Iter    59:    Energy =   0.0515
END OF LEVEL     1    DetJac Range:   0.0294  to   2.1234 
  Avg. Gradient Time  : 0.0282s  33.61% 
  Avg. Gaussian Time  : 0.0440s  52.46% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0264
Level     2,  Iter     1:    Energy =   0.0273
Level     2,  Iter     2:    Energy =   0.0281
Level     2,  Iter     3:    Energy =   0.0287
Level     2,  Iter     4:    Energy =   0.0293
Level     2,  Iter     5:    Energy =   0.0299
Level     2,  Iter     6:    Energy =   0.0305
Level     2,  Iter     7:    Energy =   0.0309
Level     2,  Iter     8:    Energy =   0.0312
Level     2,  Iter     9:    Energy =   0.0316
Level     2,  Iter    10:    Energy =   0.0319
Level     2,  Iter    11:    Energy =   0.0322
Level     2,  Iter    12:    Energy =   0.0324
Level     2,  Iter    13:    Energy =   0.0326
Level     2,  Iter    14:    Energy =   0.0327
Level     2,  Iter    15:    Energy =   0.0329
Level     2,  Iter    16:    Energy =   0.0330
Level     2,  Iter    17:    Energy =   0.0331
Level     2,  Iter    18:    Energy =   0.0332
Level     2,  Iter    19:    Energy =   0.0333
END OF LEVEL     2    DetJac Range:   0.0143  to   2.3615 
  Avg. Gradient Time  : 0.1807s  32.17% 
  Avg. Gaussian Time  : 0.3053s  54.34% 
  Avg. Iteration Time : 0.5618s 

real	0m20.275s
user	0m35.328s
sys	0m2.176s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 577.273   GNORM= 138.641
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        84.753     107.755       0.036
   2    4      -467.951     219.560       1.000
   3    7      -512.279     132.636       0.021
   4   11      -612.468     141.454       2.342
   5   13      -641.452      96.294       0.100
   6   15      -706.235     304.407       0.431
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03057 -0.10603 0.114054 -3.21111 
-0.118452 1.12061 -0.183225 5.25024 
0.0903534 -0.154104 1.04541 -5.6715 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -390.879   GNORM= 2076.79
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03057 -0.10603 0.114054 -3.21111 
-0.118452 1.12061 -0.183225 5.25024 
0.0903534 -0.154104 1.04541 -5.6715 
0 0 0 1 

Final RAS Transform: 
1.03057 -0.10603 0.114054 -3.21111 
-0.118452 1.12061 -0.183225 5.25024 
0.0903534 -0.154104 1.04541 -5.6715 
0 0 0 1 


real	0m3.268s
user	0m5.016s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.386164
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0222
Level     0,  Iter     2:    Energy =   0.0244
Level     0,  Iter     3:    Energy =   0.0270
Level     0,  Iter     4:    Energy =   0.0301
Level     0,  Iter     5:    Energy =   0.0323
Level     0,  Iter     6:    Energy =   0.0339
Level     0,  Iter     7:    Energy =   0.0355
Level     0,  Iter     8:    Energy =   0.0365
Level     0,  Iter     9:    Energy =   0.0376
Level     0,  Iter    10:    Energy =   0.0386
Level     0,  Iter    11:    Energy =   0.0397
Level     0,  Iter    12:    Energy =   0.0408
Level     0,  Iter    13:    Energy =   0.0414
Level     0,  Iter    14:    Energy =   0.0420
Level     0,  Iter    15:    Energy =   0.0425
Level     0,  Iter    16:    Energy =   0.0432
Level     0,  Iter    17:    Energy =   0.0436
Level     0,  Iter    18:    Energy =   0.0444
Level     0,  Iter    19:    Energy =   0.0450
Level     0,  Iter    20:    Energy =   0.0456
Level     0,  Iter    21:    Energy =   0.0461
Level     0,  Iter    22:    Energy =   0.0466
Level     0,  Iter    23:    Energy =   0.0472
Level     0,  Iter    24:    Energy =   0.0477
Level     0,  Iter    25:    Energy =   0.0480
Level     0,  Iter    26:    Energy =   0.0484
Level     0,  Iter    27:    Energy =   0.0485
Level     0,  Iter    28:    Energy =   0.0487
Level     0,  Iter    29:    Energy =   0.0488
Level     0,  Iter    30:    Energy =   0.0489
Level     0,  Iter    31:    Energy =   0.0490
Level     0,  Iter    32:    Energy =   0.0491
Level     0,  Iter    33:    Energy =   0.0492
Level     0,  Iter    34:    Energy =   0.0493
Level     0,  Iter    35:    Energy =   0.0493
Level     0,  Iter    36:    Energy =   0.0494
Level     0,  Iter    37:    Energy =   0.0494
Level     0,  Iter    38:    Energy =   0.0495
Level     0,  Iter    39:    Energy =   0.0494
Level     0,  Iter    40:    Energy =   0.0495
Level     0,  Iter    41:    Energy =   0.0495
Level     0,  Iter    42:    Energy =   0.0496
Level     0,  Iter    43:    Energy =   0.0496
Level     0,  Iter    44:    Energy =   0.0496
Level     0,  Iter    45:    Energy =   0.0497
Level     0,  Iter    46:    Energy =   0.0497
Level     0,  Iter    47:    Energy =   0.0497
Level     0,  Iter    48:    Energy =   0.0497
Level     0,  Iter    49:    Energy =   0.0498
Level     0,  Iter    50:    Energy =   0.0498
Level     0,  Iter    51:    Energy =   0.0499
Level     0,  Iter    52:    Energy =   0.0499
Level     0,  Iter    53:    Energy =   0.0501
Level     0,  Iter    54:    Energy =   0.0500
Level     0,  Iter    55:    Energy =   0.0501
Level     0,  Iter    56:    Energy =   0.0505
Level     0,  Iter    57:    Energy =   0.0508
Level     0,  Iter    58:    Energy =   0.0509
Level     0,  Iter    59:    Energy =   0.0509
END OF LEVEL     0    DetJac Range:   0.1342  to   2.1009 
  Avg. Gradient Time  : 0.0068s  33.01% 
  Avg. Gaussian Time  : 0.0099s  48.21% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0311
Level     1,  Iter     1:    Energy =   0.0331
Level     1,  Iter     2:    Energy =   0.0346
Level     1,  Iter     3:    Energy =   0.0357
Level     1,  Iter     4:    Energy =   0.0366
Level     1,  Iter     5:    Energy =   0.0373
Level     1,  Iter     6:    Energy =   0.0379
Level     1,  Iter     7:    Energy =   0.0385
Level     1,  Iter     8:    Energy =   0.0390
Level     1,  Iter     9:    Energy =   0.0395
Level     1,  Iter    10:    Energy =   0.0400
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0409
Level     1,  Iter    14:    Energy =   0.0410
Level     1,  Iter    15:    Energy =   0.0412
Level     1,  Iter    16:    Energy =   0.0413
Level     1,  Iter    17:    Energy =   0.0415
Level     1,  Iter    18:    Energy =   0.0416
Level     1,  Iter    19:    Energy =   0.0417
Level     1,  Iter    20:    Energy =   0.0418
Level     1,  Iter    21:    Energy =   0.0419
Level     1,  Iter    22:    Energy =   0.0420
Level     1,  Iter    23:    Energy =   0.0420
Level     1,  Iter    24:    Energy =   0.0421
Level     1,  Iter    25:    Energy =   0.0421
Level     1,  Iter    26:    Energy =   0.0422
Level     1,  Iter    27:    Energy =   0.0422
Level     1,  Iter    28:    Energy =   0.0423
Level     1,  Iter    29:    Energy =   0.0423
Level     1,  Iter    30:    Energy =   0.0424
Level     1,  Iter    31:    Energy =   0.0424
Level     1,  Iter    32:    Energy =   0.0424
Level     1,  Iter    33:    Energy =   0.0425
Level     1,  Iter    34:    Energy =   0.0425
Level     1,  Iter    35:    Energy =   0.0425
Level     1,  Iter    36:    Energy =   0.0425
Level     1,  Iter    37:    Energy =   0.0426
Level     1,  Iter    38:    Energy =   0.0426
Level     1,  Iter    39:    Energy =   0.0426
Level     1,  Iter    40:    Energy =   0.0426
Level     1,  Iter    41:    Energy =   0.0426
Level     1,  Iter    42:    Energy =   0.0426
Level     1,  Iter    43:    Energy =   0.0426
Level     1,  Iter    44:    Energy =   0.0427
Level     1,  Iter    45:    Energy =   0.0427
Level     1,  Iter    46:    Energy =   0.0427
Level     1,  Iter    47:    Energy =   0.0427
Level     1,  Iter    48:    Energy =   0.0427
Level     1,  Iter    49:    Energy =   0.0428
Level     1,  Iter    50:    Energy =   0.0428
Level     1,  Iter    51:    Energy =   0.0428
Level     1,  Iter    52:    Energy =   0.0428
Level     1,  Iter    53:    Energy =   0.0428
Level     1,  Iter    54:    Energy =   0.0428
Level     1,  Iter    55:    Energy =   0.0428
Level     1,  Iter    56:    Energy =   0.0428
Level     1,  Iter    57:    Energy =   0.0428
Level     1,  Iter    58:    Energy =   0.0428
Level     1,  Iter    59:    Energy =   0.0428
END OF LEVEL     1    DetJac Range:   0.0252  to   2.4991 
  Avg. Gradient Time  : 0.0285s  33.95% 
  Avg. Gaussian Time  : 0.0439s  52.26% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0190
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0205
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0214
Level     2,  Iter     6:    Energy =   0.0220
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0236
Level     2,  Iter    10:    Energy =   0.0239
Level     2,  Iter    11:    Energy =   0.0243
Level     2,  Iter    12:    Energy =   0.0245
Level     2,  Iter    13:    Energy =   0.0247
Level     2,  Iter    14:    Energy =   0.0249
Level     2,  Iter    15:    Energy =   0.0251
Level     2,  Iter    16:    Energy =   0.0252
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0253
Level     2,  Iter    19:    Energy =   0.0254
END OF LEVEL     2    DetJac Range:   0.0145  to   2.8971 
  Avg. Gradient Time  : 0.1767s  31.84% 
  Avg. Gaussian Time  : 0.3032s  54.62% 
  Avg. Iteration Time : 0.5551s 

real	0m20.176s
user	0m35.200s
sys	0m2.064s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 401.567   GNORM= 186.428
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       247.008     121.896       0.005
   2    3        61.217      46.618       1.000
   3    7      -307.337     240.051       4.322
   4   14      -522.990     157.104       1.467
   5   17      -603.041     221.729       2.322
   6   19      -669.952     173.064       0.417
   7   22      -673.755      77.512       0.023
   8   23      -691.809      68.304       1.000
   9   24      -696.997      70.146       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01375 -0.0368911 0.0519997 -3.20131 
-0.044147 1.12263 -0.126041 6.78357 
0.144673 -0.0632914 0.931309 -7.08841 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -437.227   GNORM= 83.9839
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -453.158    1125.396       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01502 -0.0364002 0.0527776 -3.28142 
-0.041123 1.12173 -0.122524 6.4322 
0.145888 -0.0641844 0.93116 -7.30074 
0 0 0 1 

Final RAS Transform: 
1.01502 -0.0364002 0.0527776 -3.28142 
-0.041123 1.12173 -0.122524 6.4322 
0.145888 -0.0641844 0.93116 -7.30074 
0 0 0 1 


real	0m3.700s
user	0m5.764s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.435846
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0213
Level     0,  Iter     2:    Energy =   0.0246
Level     0,  Iter     3:    Energy =   0.0271
Level     0,  Iter     4:    Energy =   0.0295
Level     0,  Iter     5:    Energy =   0.0315
Level     0,  Iter     6:    Energy =   0.0335
Level     0,  Iter     7:    Energy =   0.0348
Level     0,  Iter     8:    Energy =   0.0360
Level     0,  Iter     9:    Energy =   0.0374
Level     0,  Iter    10:    Energy =   0.0386
Level     0,  Iter    11:    Energy =   0.0397
Level     0,  Iter    12:    Energy =   0.0403
Level     0,  Iter    13:    Energy =   0.0408
Level     0,  Iter    14:    Energy =   0.0414
Level     0,  Iter    15:    Energy =   0.0422
Level     0,  Iter    16:    Energy =   0.0428
Level     0,  Iter    17:    Energy =   0.0431
Level     0,  Iter    18:    Energy =   0.0435
Level     0,  Iter    19:    Energy =   0.0438
Level     0,  Iter    20:    Energy =   0.0442
Level     0,  Iter    21:    Energy =   0.0445
Level     0,  Iter    22:    Energy =   0.0448
Level     0,  Iter    23:    Energy =   0.0451
Level     0,  Iter    24:    Energy =   0.0453
Level     0,  Iter    25:    Energy =   0.0457
Level     0,  Iter    26:    Energy =   0.0460
Level     0,  Iter    27:    Energy =   0.0463
Level     0,  Iter    28:    Energy =   0.0467
Level     0,  Iter    29:    Energy =   0.0471
Level     0,  Iter    30:    Energy =   0.0474
Level     0,  Iter    31:    Energy =   0.0477
Level     0,  Iter    32:    Energy =   0.0479
Level     0,  Iter    33:    Energy =   0.0482
Level     0,  Iter    34:    Energy =   0.0484
Level     0,  Iter    35:    Energy =   0.0486
Level     0,  Iter    36:    Energy =   0.0489
Level     0,  Iter    37:    Energy =   0.0491
Level     0,  Iter    38:    Energy =   0.0493
Level     0,  Iter    39:    Energy =   0.0495
Level     0,  Iter    40:    Energy =   0.0497
Level     0,  Iter    41:    Energy =   0.0499
Level     0,  Iter    42:    Energy =   0.0501
Level     0,  Iter    43:    Energy =   0.0503
Level     0,  Iter    44:    Energy =   0.0505
Level     0,  Iter    45:    Energy =   0.0506
Level     0,  Iter    46:    Energy =   0.0508
Level     0,  Iter    47:    Energy =   0.0509
Level     0,  Iter    48:    Energy =   0.0510
Level     0,  Iter    49:    Energy =   0.0512
Level     0,  Iter    50:    Energy =   0.0513
Level     0,  Iter    51:    Energy =   0.0514
Level     0,  Iter    52:    Energy =   0.0514
Level     0,  Iter    53:    Energy =   0.0516
Level     0,  Iter    54:    Energy =   0.0516
Level     0,  Iter    55:    Energy =   0.0518
Level     0,  Iter    56:    Energy =   0.0517
Level     0,  Iter    57:    Energy =   0.0520
Level     0,  Iter    58:    Energy =   0.0519
Level     0,  Iter    59:    Energy =   0.0521
END OF LEVEL     0    DetJac Range:   0.0472  to   2.4810 
  Avg. Gradient Time  : 0.0068s  33.03% 
  Avg. Gaussian Time  : 0.0099s  48.28% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0303
Level     1,  Iter     1:    Energy =   0.0324
Level     1,  Iter     2:    Energy =   0.0343
Level     1,  Iter     3:    Energy =   0.0360
Level     1,  Iter     4:    Energy =   0.0374
Level     1,  Iter     5:    Energy =   0.0387
Level     1,  Iter     6:    Energy =   0.0398
Level     1,  Iter     7:    Energy =   0.0406
Level     1,  Iter     8:    Energy =   0.0413
Level     1,  Iter     9:    Energy =   0.0419
Level     1,  Iter    10:    Energy =   0.0424
Level     1,  Iter    11:    Energy =   0.0428
Level     1,  Iter    12:    Energy =   0.0431
Level     1,  Iter    13:    Energy =   0.0435
Level     1,  Iter    14:    Energy =   0.0437
Level     1,  Iter    15:    Energy =   0.0440
Level     1,  Iter    16:    Energy =   0.0442
Level     1,  Iter    17:    Energy =   0.0445
Level     1,  Iter    18:    Energy =   0.0447
Level     1,  Iter    19:    Energy =   0.0449
Level     1,  Iter    20:    Energy =   0.0450
Level     1,  Iter    21:    Energy =   0.0452
Level     1,  Iter    22:    Energy =   0.0453
Level     1,  Iter    23:    Energy =   0.0455
Level     1,  Iter    24:    Energy =   0.0456
Level     1,  Iter    25:    Energy =   0.0457
Level     1,  Iter    26:    Energy =   0.0458
Level     1,  Iter    27:    Energy =   0.0459
Level     1,  Iter    28:    Energy =   0.0460
Level     1,  Iter    29:    Energy =   0.0462
Level     1,  Iter    30:    Energy =   0.0463
Level     1,  Iter    31:    Energy =   0.0464
Level     1,  Iter    32:    Energy =   0.0465
Level     1,  Iter    33:    Energy =   0.0467
Level     1,  Iter    34:    Energy =   0.0467
Level     1,  Iter    35:    Energy =   0.0468
Level     1,  Iter    36:    Energy =   0.0469
Level     1,  Iter    37:    Energy =   0.0470
Level     1,  Iter    38:    Energy =   0.0471
Level     1,  Iter    39:    Energy =   0.0472
Level     1,  Iter    40:    Energy =   0.0473
Level     1,  Iter    41:    Energy =   0.0474
Level     1,  Iter    42:    Energy =   0.0475
Level     1,  Iter    43:    Energy =   0.0476
Level     1,  Iter    44:    Energy =   0.0476
Level     1,  Iter    45:    Energy =   0.0477
Level     1,  Iter    46:    Energy =   0.0477
Level     1,  Iter    47:    Energy =   0.0477
Level     1,  Iter    48:    Energy =   0.0478
Level     1,  Iter    49:    Energy =   0.0479
Level     1,  Iter    50:    Energy =   0.0480
Level     1,  Iter    51:    Energy =   0.0480
Level     1,  Iter    52:    Energy =   0.0481
Level     1,  Iter    53:    Energy =   0.0482
Level     1,  Iter    54:    Energy =   0.0482
Level     1,  Iter    55:    Energy =   0.0483
Level     1,  Iter    56:    Energy =   0.0483
Level     1,  Iter    57:    Energy =   0.0484
Level     1,  Iter    58:    Energy =   0.0484
Level     1,  Iter    59:    Energy =   0.0485
END OF LEVEL     1    DetJac Range:   0.0390  to   3.8000 
  Avg. Gradient Time  : 0.0279s  33.50% 
  Avg. Gaussian Time  : 0.0437s  52.57% 
  Avg. Iteration Time : 0.0832s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0227
Level     2,  Iter     1:    Energy =   0.0237
Level     2,  Iter     2:    Energy =   0.0244
Level     2,  Iter     3:    Energy =   0.0249
Level     2,  Iter     4:    Energy =   0.0254
Level     2,  Iter     5:    Energy =   0.0258
Level     2,  Iter     6:    Energy =   0.0263
Level     2,  Iter     7:    Energy =   0.0268
Level     2,  Iter     8:    Energy =   0.0273
Level     2,  Iter     9:    Energy =   0.0278
Level     2,  Iter    10:    Energy =   0.0282
Level     2,  Iter    11:    Energy =   0.0287
Level     2,  Iter    12:    Energy =   0.0290
Level     2,  Iter    13:    Energy =   0.0293
Level     2,  Iter    14:    Energy =   0.0296
Level     2,  Iter    15:    Energy =   0.0298
Level     2,  Iter    16:    Energy =   0.0300
Level     2,  Iter    17:    Energy =   0.0301
Level     2,  Iter    18:    Energy =   0.0302
Level     2,  Iter    19:    Energy =   0.0304
END OF LEVEL     2    DetJac Range:   0.0247  to   3.7258 
  Avg. Gradient Time  : 0.1792s  31.99% 
  Avg. Gaussian Time  : 0.3049s  54.43% 
  Avg. Iteration Time : 0.5602s 

real	0m20.235s
user	0m35.256s
sys	0m2.080s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 457.146   GNORM= 273.482
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       205.948     237.547       0.004
   2    3      -225.249     133.259       1.000
   3    4      -241.005      74.722       1.000
   4   10      -355.924     183.626       0.993
   5   14      -566.843     176.306       0.157
   6   16      -591.817     115.886       0.244
   7   18      -609.979      82.077       0.228
   8   19      -623.628      74.618       1.000
   9   20      -676.060     116.803       1.000
  10   22      -681.554      53.067       0.075
  11   24      -699.785     162.287       0.124
  12   33      -931.855      71.294       1.124
  13   38      -935.141      61.828       0.026
  14   39      -974.430      56.608       1.000
  15   40      -987.592      45.006       1.000
  16   42      -997.475      58.455       0.127
  17   44     -1046.942     103.367       5.000
  18   45     -1144.200      65.990       1.000
  19   46     -1165.340      22.989       1.000
  20   47     -1169.170      31.978       1.000
  21   52     -1174.181      34.707       0.061
  22   53     -1177.530      83.265       1.000
  23   56     -1228.053      66.386       1.467
  24   58     -1229.041      74.282       0.121
  25   61     -1229.062      70.700       0.000
Final RAS Transform: 
0.349439 -0.637264 -0.311246 6.94555 
-0.537206 1.10039 -0.18858 -2.06485 
0.479051 -0.249441 0.810173 -8.99177 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -589.4   GNORM= 26.5545
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -589.426      23.243       0.000
   2    6      -589.893      23.033       2.344
   3    7      -593.398      32.132       1.000
   4    9      -601.401      20.871       5.000
   5   14      -604.831      53.448       8.234
   6   22      -626.409     337.234       1.384
   7   28      -626.501      44.138       0.002
   8   30      -628.464      52.763       0.312
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.365706 -0.614145 -0.257603 7.71548 
-0.56689 1.08167 -0.161451 1.18309 
0.476856 -0.222366 0.764399 -7.76523 
0 0 0 1 

Final RAS Transform: 
0.365706 -0.614145 -0.257603 7.71548 
-0.56689 1.08167 -0.161451 1.18309 
0.476856 -0.222366 0.764399 -7.76523 
0 0 0 1 


real	0m5.329s
user	0m8.764s
sys	0m0.600s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.472056
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0322
Level     0,  Iter     1:    Energy =   0.0337
Level     0,  Iter     2:    Energy =   0.0356
Level     0,  Iter     3:    Energy =   0.0381
Level     0,  Iter     4:    Energy =   0.0400
Level     0,  Iter     5:    Energy =   0.0416
Level     0,  Iter     6:    Energy =   0.0433
Level     0,  Iter     7:    Energy =   0.0448
Level     0,  Iter     8:    Energy =   0.0459
Level     0,  Iter     9:    Energy =   0.0471
Level     0,  Iter    10:    Energy =   0.0482
Level     0,  Iter    11:    Energy =   0.0490
Level     0,  Iter    12:    Energy =   0.0501
Level     0,  Iter    13:    Energy =   0.0513
Level     0,  Iter    14:    Energy =   0.0521
Level     0,  Iter    15:    Energy =   0.0529
Level     0,  Iter    16:    Energy =   0.0534
Level     0,  Iter    17:    Energy =   0.0538
Level     0,  Iter    18:    Energy =   0.0539
Level     0,  Iter    19:    Energy =   0.0545
Level     0,  Iter    20:    Energy =   0.0545
Level     0,  Iter    21:    Energy =   0.0551
Level     0,  Iter    22:    Energy =   0.0552
Level     0,  Iter    23:    Energy =   0.0558
Level     0,  Iter    24:    Energy =   0.0559
Level     0,  Iter    25:    Energy =   0.0565
Level     0,  Iter    26:    Energy =   0.0565
Level     0,  Iter    27:    Energy =   0.0572
Level     0,  Iter    28:    Energy =   0.0571
Level     0,  Iter    29:    Energy =   0.0575
Level     0,  Iter    30:    Energy =   0.0579
Level     0,  Iter    31:    Energy =   0.0582
Level     0,  Iter    32:    Energy =   0.0582
Level     0,  Iter    33:    Energy =   0.0583
Level     0,  Iter    34:    Energy =   0.0585
Level     0,  Iter    35:    Energy =   0.0587
Level     0,  Iter    36:    Energy =   0.0591
Level     0,  Iter    37:    Energy =   0.0593
Level     0,  Iter    38:    Energy =   0.0596
Level     0,  Iter    39:    Energy =   0.0598
Level     0,  Iter    40:    Energy =   0.0601
Level     0,  Iter    41:    Energy =   0.0603
Level     0,  Iter    42:    Energy =   0.0606
Level     0,  Iter    43:    Energy =   0.0607
Level     0,  Iter    44:    Energy =   0.0609
Level     0,  Iter    45:    Energy =   0.0612
Level     0,  Iter    46:    Energy =   0.0614
Level     0,  Iter    47:    Energy =   0.0615
Level     0,  Iter    48:    Energy =   0.0617
Level     0,  Iter    49:    Energy =   0.0618
Level     0,  Iter    50:    Energy =   0.0620
Level     0,  Iter    51:    Energy =   0.0622
Level     0,  Iter    52:    Energy =   0.0622
Level     0,  Iter    53:    Energy =   0.0623
Level     0,  Iter    54:    Energy =   0.0624
Level     0,  Iter    55:    Energy =   0.0624
Level     0,  Iter    56:    Energy =   0.0625
Level     0,  Iter    57:    Energy =   0.0625
Level     0,  Iter    58:    Energy =   0.0625
Level     0,  Iter    59:    Energy =   0.0625
END OF LEVEL     0    DetJac Range:   0.1850  to   2.8852 
  Avg. Gradient Time  : 0.0067s  33.13% 
  Avg. Gaussian Time  : 0.0098s  48.10% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0348
Level     1,  Iter     1:    Energy =   0.0367
Level     1,  Iter     2:    Energy =   0.0381
Level     1,  Iter     3:    Energy =   0.0391
Level     1,  Iter     4:    Energy =   0.0400
Level     1,  Iter     5:    Energy =   0.0408
Level     1,  Iter     6:    Energy =   0.0417
Level     1,  Iter     7:    Energy =   0.0423
Level     1,  Iter     8:    Energy =   0.0429
Level     1,  Iter     9:    Energy =   0.0435
Level     1,  Iter    10:    Energy =   0.0441
Level     1,  Iter    11:    Energy =   0.0447
Level     1,  Iter    12:    Energy =   0.0451
Level     1,  Iter    13:    Energy =   0.0456
Level     1,  Iter    14:    Energy =   0.0460
Level     1,  Iter    15:    Energy =   0.0463
Level     1,  Iter    16:    Energy =   0.0466
Level     1,  Iter    17:    Energy =   0.0470
Level     1,  Iter    18:    Energy =   0.0472
Level     1,  Iter    19:    Energy =   0.0475
Level     1,  Iter    20:    Energy =   0.0478
Level     1,  Iter    21:    Energy =   0.0481
Level     1,  Iter    22:    Energy =   0.0480
Level     1,  Iter    23:    Energy =   0.0480
Level     1,  Iter    24:    Energy =   0.0481
Level     1,  Iter    25:    Energy =   0.0481
Level     1,  Iter    26:    Energy =   0.0481
Level     1,  Iter    27:    Energy =   0.0481
Level     1,  Iter    28:    Energy =   0.0482
Level     1,  Iter    29:    Energy =   0.0484
Level     1,  Iter    30:    Energy =   0.0482
Level     1,  Iter    31:    Energy =   0.0483
Level     1,  Iter    32:    Energy =   0.0481
Level     1,  Iter    33:    Energy =   0.0482
Level     1,  Iter    34:    Energy =   0.0481
Level     1,  Iter    35:    Energy =   0.0482
Level     1,  Iter    36:    Energy =   0.0480
Level     1,  Iter    37:    Energy =   0.0481
Level     1,  Iter    38:    Energy =   0.0481
Level     1,  Iter    39:    Energy =   0.0482
Level     1,  Iter    40:    Energy =   0.0481
Level     1,  Iter    41:    Energy =   0.0482
Level     1,  Iter    42:    Energy =   0.0482
Level     1,  Iter    43:    Energy =   0.0483
Level     1,  Iter    44:    Energy =   0.0482
Level     1,  Iter    45:    Energy =   0.0483
Level     1,  Iter    46:    Energy =   0.0483
Level     1,  Iter    47:    Energy =   0.0484
Level     1,  Iter    48:    Energy =   0.0483
Level     1,  Iter    49:    Energy =   0.0484
Level     1,  Iter    50:    Energy =   0.0483
Level     1,  Iter    51:    Energy =   0.0484
Level     1,  Iter    52:    Energy =   0.0484
Level     1,  Iter    53:    Energy =   0.0485
Level     1,  Iter    54:    Energy =   0.0484
Level     1,  Iter    55:    Energy =   0.0485
Level     1,  Iter    56:    Energy =   0.0485
Level     1,  Iter    57:    Energy =   0.0486
Level     1,  Iter    58:    Energy =   0.0485
Level     1,  Iter    59:    Energy =   0.0486
END OF LEVEL     1    DetJac Range:   0.0824  to   3.8404 
  Avg. Gradient Time  : 0.0279s  33.45% 
  Avg. Gaussian Time  : 0.0438s  52.57% 
  Avg. Iteration Time : 0.0834s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0199
Level     2,  Iter     1:    Energy =   0.0208
Level     2,  Iter     2:    Energy =   0.0216
Level     2,  Iter     3:    Energy =   0.0222
Level     2,  Iter     4:    Energy =   0.0226
Level     2,  Iter     5:    Energy =   0.0230
Level     2,  Iter     6:    Energy =   0.0233
Level     2,  Iter     7:    Energy =   0.0236
Level     2,  Iter     8:    Energy =   0.0238
Level     2,  Iter     9:    Energy =   0.0240
Level     2,  Iter    10:    Energy =   0.0242
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0252
Level     2,  Iter    15:    Energy =   0.0254
Level     2,  Iter    16:    Energy =   0.0255
Level     2,  Iter    17:    Energy =   0.0255
Level     2,  Iter    18:    Energy =   0.0257
Level     2,  Iter    19:    Energy =   0.0258
END OF LEVEL     2    DetJac Range:   0.0463  to   3.2711 
  Avg. Gradient Time  : 0.1807s  32.18% 
  Avg. Gaussian Time  : 0.3051s  54.35% 
  Avg. Iteration Time : 0.5614s 

real	0m20.157s
user	0m35.132s
sys	0m2.120s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 291.339   GNORM= 222.049
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       172.390      96.096       0.005
   2    3       117.722      56.311       1.000
   3    4        67.785      55.672       1.000
   4    5         5.606      79.807       1.000
   5    6      -337.531      93.615       1.000
   6   13      -342.927     104.423       0.066
   7   14      -432.458     111.464       1.000
   8   16      -586.850     164.261       0.494
   9   20      -615.249     152.536       0.019
  10   22      -680.290     148.592       5.000
  11   23      -814.491      54.185       1.000
  12   24      -830.959      51.969       1.000
  13   25      -843.734      48.367       1.000
  14   26      -851.812      99.917       1.000
  15   27      -885.982      76.203       1.000
  16   29      -891.619      75.715       0.264
  17   30      -905.450      27.269       1.000
  18   34     -1025.439      76.014      12.888
  19   36     -1032.972      70.149       0.188
  20   37     -1058.345      60.757       1.000
  21   38     -1076.933      56.783       1.000
  22   40     -1082.873      42.895       0.132
  23   41     -1086.836      25.117       1.000
  24   42     -1092.442      53.245       1.000
  25   43     -1096.550      43.276       1.000
  26   44     -1105.774      20.119       1.000
  27   45     -1112.063      41.276       1.000
  28   46     -1116.543      47.035       1.000
  29   47     -1123.086      29.414       1.000
  30   48     -1136.519      25.301       1.000
  31   52     -1150.197      46.206       0.035
  32   54     -1154.280      75.206       0.337
  33   56     -1159.373      93.569       0.147
  34   57     -1165.535      82.489       1.000
  35   58     -1171.266      94.453       1.000
  36   59     -1185.458      27.856       1.000
  37   60     -1191.771      47.263       1.000
  38   61     -1195.827      57.069       1.000
Final RAS Transform: 
0.621665 -0.0146379 -0.074766 -15.8568 
-0.520283 1.03735 -0.0110713 4.61114 
0.237401 -0.257703 0.534033 -9.42071 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -629.834   GNORM= 68.3047
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -665.659      18.093       0.015
   2    3      -668.214      18.414       1.000
   3    5      -668.641      16.600       0.253
   4    6      -669.463      14.978       1.000
   5    7      -670.011      14.493       1.000
   6    8      -671.312      13.351       1.000
   7    9      -679.857      10.494       1.000
   8   11      -682.475      14.150       0.239
   9   12      -683.695      15.474       1.000
  10   14      -685.455      14.652       0.495
  11   16      -686.414      12.330       0.420
  12   17      -688.204       8.538       1.000
  13   18      -689.033      16.080       1.000
  14   19      -690.573      14.001       1.000
  15   20      -691.699      29.764       1.000
  16   22      -692.989      18.179       0.297
  17   23      -694.532       7.243       1.000
  18   24      -694.632      16.012       1.000
  19   25      -695.171       8.877       1.000
  20   26      -695.321      14.666       1.000
  21   27      -695.879       7.712       1.000
  22   28      -696.373       6.291       1.000
  23   29      -696.908       7.555       1.000
  24   32      -699.253       8.532       2.660
  25   34      -699.492       6.037       0.248
  26   36      -699.651       8.843       0.403
  27   38      -700.403      15.346       5.000
  28   39      -700.912       6.811       1.000
  29   40      -701.297       5.908       1.000
  30   41      -701.407       5.838       1.000
  31   42      -701.586       6.255       1.000
  32   43      -701.703       9.528       1.000
  33   44      -701.892       9.332       1.000
  34   45      -702.507       3.133       1.000
  35   46      -703.461       9.040       1.000
  36   48      -704.006      10.491       0.343
  37   50      -704.061      13.478       0.137
  38   51      -704.313       6.831       1.000
  39   53      -705.025       8.613       5.000
  40   55      -705.891      14.997       0.017
  41   56      -706.182      13.393       1.000
  42   58      -706.597       9.915       0.443
  43   59      -706.759      15.033       1.000
  44   60      -707.259      13.068       1.000
  45   61      -707.531       6.320       1.000
Final RAS Transform: 
0.63216 -0.000485373 -0.141974 -18.0581 
-0.53593 1.1389 0.0857186 4.38161 
0.151788 -0.185805 0.465325 -13.7162 
0 0 0 1 

Final RAS Transform: 
0.63216 -0.000485373 -0.141974 -18.0581 
-0.53593 1.1389 0.0857186 4.38161 
0.151788 -0.185805 0.465325 -13.7162 
0 0 0 1 


real	0m6.036s
user	0m10.084s
sys	0m0.664s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.391668
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0298
Level     0,  Iter     1:    Energy =   0.0322
Level     0,  Iter     2:    Energy =   0.0366
Level     0,  Iter     3:    Energy =   0.0398
Level     0,  Iter     4:    Energy =   0.0419
Level     0,  Iter     5:    Energy =   0.0437
Level     0,  Iter     6:    Energy =   0.0448
Level     0,  Iter     7:    Energy =   0.0458
Level     0,  Iter     8:    Energy =   0.0467
Level     0,  Iter     9:    Energy =   0.0475
Level     0,  Iter    10:    Energy =   0.0483
Level     0,  Iter    11:    Energy =   0.0490
Level     0,  Iter    12:    Energy =   0.0499
Level     0,  Iter    13:    Energy =   0.0505
Level     0,  Iter    14:    Energy =   0.0514
Level     0,  Iter    15:    Energy =   0.0520
Level     0,  Iter    16:    Energy =   0.0527
Level     0,  Iter    17:    Energy =   0.0533
Level     0,  Iter    18:    Energy =   0.0539
Level     0,  Iter    19:    Energy =   0.0544
Level     0,  Iter    20:    Energy =   0.0548
Level     0,  Iter    21:    Energy =   0.0552
Level     0,  Iter    22:    Energy =   0.0558
Level     0,  Iter    23:    Energy =   0.0563
Level     0,  Iter    24:    Energy =   0.0568
Level     0,  Iter    25:    Energy =   0.0572
Level     0,  Iter    26:    Energy =   0.0578
Level     0,  Iter    27:    Energy =   0.0579
Level     0,  Iter    28:    Energy =   0.0582
Level     0,  Iter    29:    Energy =   0.0582
Level     0,  Iter    30:    Energy =   0.0584
Level     0,  Iter    31:    Energy =   0.0584
Level     0,  Iter    32:    Energy =   0.0587
Level     0,  Iter    33:    Energy =   0.0587
Level     0,  Iter    34:    Energy =   0.0589
Level     0,  Iter    35:    Energy =   0.0590
Level     0,  Iter    36:    Energy =   0.0593
Level     0,  Iter    37:    Energy =   0.0591
Level     0,  Iter    38:    Energy =   0.0595
Level     0,  Iter    39:    Energy =   0.0594
Level     0,  Iter    40:    Energy =   0.0595
Level     0,  Iter    41:    Energy =   0.0594
Level     0,  Iter    42:    Energy =   0.0593
Level     0,  Iter    43:    Energy =   0.0593
Level     0,  Iter    44:    Energy =   0.0593
Level     0,  Iter    45:    Energy =   0.0593
Level     0,  Iter    46:    Energy =   0.0593
Level     0,  Iter    47:    Energy =   0.0593
Level     0,  Iter    48:    Energy =   0.0593
Level     0,  Iter    49:    Energy =   0.0593
Level     0,  Iter    50:    Energy =   0.0593
Level     0,  Iter    51:    Energy =   0.0593
Level     0,  Iter    52:    Energy =   0.0593
Level     0,  Iter    53:    Energy =   0.0593
Level     0,  Iter    54:    Energy =   0.0594
Level     0,  Iter    55:    Energy =   0.0592
Level     0,  Iter    56:    Energy =   0.0594
Level     0,  Iter    57:    Energy =   0.0593
Level     0,  Iter    58:    Energy =   0.0595
Level     0,  Iter    59:    Energy =   0.0594
END OF LEVEL     0    DetJac Range:   0.0929  to   2.8958 
  Avg. Gradient Time  : 0.0067s  33.06% 
  Avg. Gaussian Time  : 0.0098s  48.19% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0350
Level     1,  Iter     1:    Energy =   0.0369
Level     1,  Iter     2:    Energy =   0.0386
Level     1,  Iter     3:    Energy =   0.0401
Level     1,  Iter     4:    Energy =   0.0412
Level     1,  Iter     5:    Energy =   0.0424
Level     1,  Iter     6:    Energy =   0.0433
Level     1,  Iter     7:    Energy =   0.0441
Level     1,  Iter     8:    Energy =   0.0448
Level     1,  Iter     9:    Energy =   0.0454
Level     1,  Iter    10:    Energy =   0.0459
Level     1,  Iter    11:    Energy =   0.0465
Level     1,  Iter    12:    Energy =   0.0469
Level     1,  Iter    13:    Energy =   0.0473
Level     1,  Iter    14:    Energy =   0.0477
Level     1,  Iter    15:    Energy =   0.0480
Level     1,  Iter    16:    Energy =   0.0481
Level     1,  Iter    17:    Energy =   0.0480
Level     1,  Iter    18:    Energy =   0.0483
Level     1,  Iter    19:    Energy =   0.0485
Level     1,  Iter    20:    Energy =   0.0487
Level     1,  Iter    21:    Energy =   0.0489
Level     1,  Iter    22:    Energy =   0.0490
Level     1,  Iter    23:    Energy =   0.0492
Level     1,  Iter    24:    Energy =   0.0493
Level     1,  Iter    25:    Energy =   0.0495
Level     1,  Iter    26:    Energy =   0.0496
Level     1,  Iter    27:    Energy =   0.0497
Level     1,  Iter    28:    Energy =   0.0498
Level     1,  Iter    29:    Energy =   0.0499
Level     1,  Iter    30:    Energy =   0.0500
Level     1,  Iter    31:    Energy =   0.0501
Level     1,  Iter    32:    Energy =   0.0502
Level     1,  Iter    33:    Energy =   0.0502
Level     1,  Iter    34:    Energy =   0.0503
Level     1,  Iter    35:    Energy =   0.0503
Level     1,  Iter    36:    Energy =   0.0503
Level     1,  Iter    37:    Energy =   0.0504
Level     1,  Iter    38:    Energy =   0.0504
Level     1,  Iter    39:    Energy =   0.0504
Level     1,  Iter    40:    Energy =   0.0505
Level     1,  Iter    41:    Energy =   0.0505
Level     1,  Iter    42:    Energy =   0.0505
Level     1,  Iter    43:    Energy =   0.0505
Level     1,  Iter    44:    Energy =   0.0506
Level     1,  Iter    45:    Energy =   0.0505
Level     1,  Iter    46:    Energy =   0.0505
Level     1,  Iter    47:    Energy =   0.0505
Level     1,  Iter    48:    Energy =   0.0505
Level     1,  Iter    49:    Energy =   0.0505
Level     1,  Iter    50:    Energy =   0.0505
Level     1,  Iter    51:    Energy =   0.0505
Level     1,  Iter    52:    Energy =   0.0505
Level     1,  Iter    53:    Energy =   0.0505
Level     1,  Iter    54:    Energy =   0.0505
Level     1,  Iter    55:    Energy =   0.0505
Level     1,  Iter    56:    Energy =   0.0505
Level     1,  Iter    57:    Energy =   0.0505
Level     1,  Iter    58:    Energy =   0.0505
Level     1,  Iter    59:    Energy =   0.0505
END OF LEVEL     1    DetJac Range:   0.0686  to   2.9042 
  Avg. Gradient Time  : 0.0281s  33.65% 
  Avg. Gaussian Time  : 0.0438s  52.41% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0246
Level     2,  Iter     1:    Energy =   0.0258
Level     2,  Iter     2:    Energy =   0.0267
Level     2,  Iter     3:    Energy =   0.0275
Level     2,  Iter     4:    Energy =   0.0282
Level     2,  Iter     5:    Energy =   0.0290
Level     2,  Iter     6:    Energy =   0.0296
Level     2,  Iter     7:    Energy =   0.0301
Level     2,  Iter     8:    Energy =   0.0305
Level     2,  Iter     9:    Energy =   0.0309
Level     2,  Iter    10:    Energy =   0.0312
Level     2,  Iter    11:    Energy =   0.0315
Level     2,  Iter    12:    Energy =   0.0317
Level     2,  Iter    13:    Energy =   0.0318
Level     2,  Iter    14:    Energy =   0.0319
Level     2,  Iter    15:    Energy =   0.0321
Level     2,  Iter    16:    Energy =   0.0323
Level     2,  Iter    17:    Energy =   0.0325
Level     2,  Iter    18:    Energy =   0.0327
Level     2,  Iter    19:    Energy =   0.0328
END OF LEVEL     2    DetJac Range:   0.0457  to   4.2276 
  Avg. Gradient Time  : 0.1802s  32.20% 
  Avg. Gaussian Time  : 0.3049s  54.49% 
  Avg. Iteration Time : 0.5596s 

real	0m20.230s
user	0m35.136s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 379.601   GNORM= 190.368
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       245.410     119.084       0.005
   2    3       127.458      66.491       1.000
   3    6      -180.229     315.716      21.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01527 0.0267224 -0.00379901 -0.951439 
-0.0440576 1.08736 -0.107723 3.49929 
0.0905581 -0.0469848 0.942264 -5.10118 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -126.932   GNORM= 124.987
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -211.883      62.585       0.008
   2    5      -273.664     126.248       1.684
   3    7      -275.737     347.117       0.032
   4    9      -323.274      96.433       0.442
   5   11      -323.626      60.244       0.008
   6   20      -328.680      69.569       5.022
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01306 0.0288009 -0.00180749 -0.986401 
-0.0585785 1.10992 -0.122016 5.83279 
0.105632 -0.0555814 0.970122 -7.22071 
0 0 0 1 

Final RAS Transform: 
1.01306 0.0288009 -0.00180749 -0.986401 
-0.0585785 1.10992 -0.122016 5.83279 
0.105632 -0.0555814 0.970122 -7.22071 
0 0 0 1 


real	0m4.367s
user	0m7.200s
sys	0m0.372s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.432726
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0121
Level     0,  Iter     1:    Energy =   0.0143
Level     0,  Iter     2:    Energy =   0.0175
Level     0,  Iter     3:    Energy =   0.0200
Level     0,  Iter     4:    Energy =   0.0226
Level     0,  Iter     5:    Energy =   0.0244
Level     0,  Iter     6:    Energy =   0.0258
Level     0,  Iter     7:    Energy =   0.0272
Level     0,  Iter     8:    Energy =   0.0282
Level     0,  Iter     9:    Energy =   0.0290
Level     0,  Iter    10:    Energy =   0.0296
Level     0,  Iter    11:    Energy =   0.0302
Level     0,  Iter    12:    Energy =   0.0307
Level     0,  Iter    13:    Energy =   0.0311
Level     0,  Iter    14:    Energy =   0.0314
Level     0,  Iter    15:    Energy =   0.0317
Level     0,  Iter    16:    Energy =   0.0321
Level     0,  Iter    17:    Energy =   0.0324
Level     0,  Iter    18:    Energy =   0.0328
Level     0,  Iter    19:    Energy =   0.0331
Level     0,  Iter    20:    Energy =   0.0334
Level     0,  Iter    21:    Energy =   0.0336
Level     0,  Iter    22:    Energy =   0.0338
Level     0,  Iter    23:    Energy =   0.0340
Level     0,  Iter    24:    Energy =   0.0341
Level     0,  Iter    25:    Energy =   0.0344
Level     0,  Iter    26:    Energy =   0.0345
Level     0,  Iter    27:    Energy =   0.0347
Level     0,  Iter    28:    Energy =   0.0349
Level     0,  Iter    29:    Energy =   0.0350
Level     0,  Iter    30:    Energy =   0.0352
Level     0,  Iter    31:    Energy =   0.0353
Level     0,  Iter    32:    Energy =   0.0355
Level     0,  Iter    33:    Energy =   0.0356
Level     0,  Iter    34:    Energy =   0.0358
Level     0,  Iter    35:    Energy =   0.0359
Level     0,  Iter    36:    Energy =   0.0360
Level     0,  Iter    37:    Energy =   0.0361
Level     0,  Iter    38:    Energy =   0.0363
Level     0,  Iter    39:    Energy =   0.0364
Level     0,  Iter    40:    Energy =   0.0365
Level     0,  Iter    41:    Energy =   0.0365
Level     0,  Iter    42:    Energy =   0.0366
Level     0,  Iter    43:    Energy =   0.0366
Level     0,  Iter    44:    Energy =   0.0367
Level     0,  Iter    45:    Energy =   0.0368
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0369
Level     0,  Iter    48:    Energy =   0.0369
Level     0,  Iter    49:    Energy =   0.0370
Level     0,  Iter    50:    Energy =   0.0370
Level     0,  Iter    51:    Energy =   0.0371
Level     0,  Iter    52:    Energy =   0.0371
Level     0,  Iter    53:    Energy =   0.0372
Level     0,  Iter    54:    Energy =   0.0372
Level     0,  Iter    55:    Energy =   0.0373
Level     0,  Iter    56:    Energy =   0.0373
Level     0,  Iter    57:    Energy =   0.0374
Level     0,  Iter    58:    Energy =   0.0374
Level     0,  Iter    59:    Energy =   0.0375
END OF LEVEL     0    DetJac Range:   0.0829  to   2.5377 
  Avg. Gradient Time  : 0.0068s  33.17% 
  Avg. Gaussian Time  : 0.0098s  47.96% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0235
Level     1,  Iter     1:    Energy =   0.0253
Level     1,  Iter     2:    Energy =   0.0269
Level     1,  Iter     3:    Energy =   0.0284
Level     1,  Iter     4:    Energy =   0.0297
Level     1,  Iter     5:    Energy =   0.0308
Level     1,  Iter     6:    Energy =   0.0317
Level     1,  Iter     7:    Energy =   0.0326
Level     1,  Iter     8:    Energy =   0.0333
Level     1,  Iter     9:    Energy =   0.0339
Level     1,  Iter    10:    Energy =   0.0345
Level     1,  Iter    11:    Energy =   0.0350
Level     1,  Iter    12:    Energy =   0.0354
Level     1,  Iter    13:    Energy =   0.0357
Level     1,  Iter    14:    Energy =   0.0360
Level     1,  Iter    15:    Energy =   0.0363
Level     1,  Iter    16:    Energy =   0.0365
Level     1,  Iter    17:    Energy =   0.0367
Level     1,  Iter    18:    Energy =   0.0369
Level     1,  Iter    19:    Energy =   0.0370
Level     1,  Iter    20:    Energy =   0.0372
Level     1,  Iter    21:    Energy =   0.0373
Level     1,  Iter    22:    Energy =   0.0374
Level     1,  Iter    23:    Energy =   0.0375
Level     1,  Iter    24:    Energy =   0.0376
Level     1,  Iter    25:    Energy =   0.0377
Level     1,  Iter    26:    Energy =   0.0378
Level     1,  Iter    27:    Energy =   0.0379
Level     1,  Iter    28:    Energy =   0.0380
Level     1,  Iter    29:    Energy =   0.0381
Level     1,  Iter    30:    Energy =   0.0381
Level     1,  Iter    31:    Energy =   0.0382
Level     1,  Iter    32:    Energy =   0.0383
Level     1,  Iter    33:    Energy =   0.0383
Level     1,  Iter    34:    Energy =   0.0384
Level     1,  Iter    35:    Energy =   0.0385
Level     1,  Iter    36:    Energy =   0.0385
Level     1,  Iter    37:    Energy =   0.0386
Level     1,  Iter    38:    Energy =   0.0386
Level     1,  Iter    39:    Energy =   0.0387
Level     1,  Iter    40:    Energy =   0.0387
Level     1,  Iter    41:    Energy =   0.0387
Level     1,  Iter    42:    Energy =   0.0388
Level     1,  Iter    43:    Energy =   0.0388
Level     1,  Iter    44:    Energy =   0.0388
Level     1,  Iter    45:    Energy =   0.0388
Level     1,  Iter    46:    Energy =   0.0389
Level     1,  Iter    47:    Energy =   0.0389
Level     1,  Iter    48:    Energy =   0.0389
Level     1,  Iter    49:    Energy =   0.0389
Level     1,  Iter    50:    Energy =   0.0389
Level     1,  Iter    51:    Energy =   0.0389
Level     1,  Iter    52:    Energy =   0.0389
Level     1,  Iter    53:    Energy =   0.0389
Level     1,  Iter    54:    Energy =   0.0389
Level     1,  Iter    55:    Energy =   0.0390
Level     1,  Iter    56:    Energy =   0.0390
Level     1,  Iter    57:    Energy =   0.0390
Level     1,  Iter    58:    Energy =   0.0390
Level     1,  Iter    59:    Energy =   0.0390
END OF LEVEL     1    DetJac Range:   0.0269  to   3.2223 
  Avg. Gradient Time  : 0.0279s  33.50% 
  Avg. Gaussian Time  : 0.0438s  52.66% 
  Avg. Iteration Time : 0.0832s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0184
Level     2,  Iter     1:    Energy =   0.0193
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0206
Level     2,  Iter     4:    Energy =   0.0212
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0220
Level     2,  Iter     7:    Energy =   0.0224
Level     2,  Iter     8:    Energy =   0.0228
Level     2,  Iter     9:    Energy =   0.0232
Level     2,  Iter    10:    Energy =   0.0235
Level     2,  Iter    11:    Energy =   0.0240
Level     2,  Iter    12:    Energy =   0.0243
Level     2,  Iter    13:    Energy =   0.0246
Level     2,  Iter    14:    Energy =   0.0250
Level     2,  Iter    15:    Energy =   0.0253
Level     2,  Iter    16:    Energy =   0.0255
Level     2,  Iter    17:    Energy =   0.0257
Level     2,  Iter    18:    Energy =   0.0259
Level     2,  Iter    19:    Energy =   0.0261
END OF LEVEL     2    DetJac Range:   0.0108  to   3.3413 
  Avg. Gradient Time  : 0.1797s  32.10% 
  Avg. Gaussian Time  : 0.3048s  54.44% 
  Avg. Iteration Time : 0.5598s 

real	0m20.234s
user	0m35.328s
sys	0m2.024s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 328.911   GNORM= 165.889
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       195.698     101.181       0.006
   2    3        28.917      93.719       1.000
   3    4       -54.136      87.530       1.000
   4    6      -109.316      61.595       0.201
   5   10      -135.873      35.408       0.015
   6   14      -159.045      42.349       1.535
   7   15      -188.906     116.515       1.000
   8   16      -251.709      82.916       1.000
   9   17      -315.565      41.713       1.000
  10   18      -346.956      40.265       1.000
  11   21      -379.388      58.517       0.208
  12   23      -405.241      79.891       0.225
  13   24      -424.376      85.387       1.000
  14   25      -457.718      36.297       1.000
  15   26      -470.172      25.941       1.000
  16   27      -471.837      93.183       1.000
  17   31      -472.510      80.080       0.012
  18   32      -483.134      65.293       1.000
  19   34      -501.594      69.344       0.234
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.839864 -0.354002 0.0327304 -9.542 
-0.0519363 0.854062 0.0700484 5.08991 
-0.114112 -0.621496 1.30183 -4.49578 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -324.323   GNORM= 35.9444
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -346.239      53.800       0.028
   2    4      -346.438      50.007       0.169
   3    5      -357.182      39.456       1.000
   4    7      -361.900      26.417       0.051
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.831309 -0.354871 0.025804 -8.78952 
-0.05417 0.853661 0.0647276 6.0002 
-0.105181 -0.62109 1.30911 -5.39389 
0 0 0 1 

Final RAS Transform: 
0.831309 -0.354871 0.025804 -8.78952 
-0.05417 0.853661 0.0647276 6.0002 
-0.105181 -0.62109 1.30911 -5.39389 
0 0 0 1 


real	0m3.861s
user	0m6.080s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.348879
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0137
Level     0,  Iter     1:    Energy =   0.0150
Level     0,  Iter     2:    Energy =   0.0164
Level     0,  Iter     3:    Energy =   0.0186
Level     0,  Iter     4:    Energy =   0.0203
Level     0,  Iter     5:    Energy =   0.0220
Level     0,  Iter     6:    Energy =   0.0233
Level     0,  Iter     7:    Energy =   0.0246
Level     0,  Iter     8:    Energy =   0.0253
Level     0,  Iter     9:    Energy =   0.0258
Level     0,  Iter    10:    Energy =   0.0265
Level     0,  Iter    11:    Energy =   0.0272
Level     0,  Iter    12:    Energy =   0.0283
Level     0,  Iter    13:    Energy =   0.0289
Level     0,  Iter    14:    Energy =   0.0293
Level     0,  Iter    15:    Energy =   0.0296
Level     0,  Iter    16:    Energy =   0.0298
Level     0,  Iter    17:    Energy =   0.0301
Level     0,  Iter    18:    Energy =   0.0305
Level     0,  Iter    19:    Energy =   0.0309
Level     0,  Iter    20:    Energy =   0.0311
Level     0,  Iter    21:    Energy =   0.0316
Level     0,  Iter    22:    Energy =   0.0319
Level     0,  Iter    23:    Energy =   0.0322
Level     0,  Iter    24:    Energy =   0.0324
Level     0,  Iter    25:    Energy =   0.0325
Level     0,  Iter    26:    Energy =   0.0326
Level     0,  Iter    27:    Energy =   0.0327
Level     0,  Iter    28:    Energy =   0.0327
Level     0,  Iter    29:    Energy =   0.0328
Level     0,  Iter    30:    Energy =   0.0328
Level     0,  Iter    31:    Energy =   0.0329
Level     0,  Iter    32:    Energy =   0.0329
Level     0,  Iter    33:    Energy =   0.0330
Level     0,  Iter    34:    Energy =   0.0330
Level     0,  Iter    35:    Energy =   0.0331
Level     0,  Iter    36:    Energy =   0.0331
Level     0,  Iter    37:    Energy =   0.0333
Level     0,  Iter    38:    Energy =   0.0333
Level     0,  Iter    39:    Energy =   0.0334
Level     0,  Iter    40:    Energy =   0.0335
Level     0,  Iter    41:    Energy =   0.0336
Level     0,  Iter    42:    Energy =   0.0338
Level     0,  Iter    43:    Energy =   0.0339
Level     0,  Iter    44:    Energy =   0.0340
Level     0,  Iter    45:    Energy =   0.0342
Level     0,  Iter    46:    Energy =   0.0344
Level     0,  Iter    47:    Energy =   0.0345
Level     0,  Iter    48:    Energy =   0.0346
Level     0,  Iter    49:    Energy =   0.0346
Level     0,  Iter    50:    Energy =   0.0348
Level     0,  Iter    51:    Energy =   0.0348
Level     0,  Iter    52:    Energy =   0.0349
Level     0,  Iter    53:    Energy =   0.0351
Level     0,  Iter    54:    Energy =   0.0352
Level     0,  Iter    55:    Energy =   0.0352
Level     0,  Iter    56:    Energy =   0.0353
Level     0,  Iter    57:    Energy =   0.0354
Level     0,  Iter    58:    Energy =   0.0355
Level     0,  Iter    59:    Energy =   0.0355
END OF LEVEL     0    DetJac Range:   0.0806  to   1.7616 
  Avg. Gradient Time  : 0.0069s  32.44% 
  Avg. Gaussian Time  : 0.0104s  49.14% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0230
Level     1,  Iter     1:    Energy =   0.0241
Level     1,  Iter     2:    Energy =   0.0252
Level     1,  Iter     3:    Energy =   0.0263
Level     1,  Iter     4:    Energy =   0.0274
Level     1,  Iter     5:    Energy =   0.0282
Level     1,  Iter     6:    Energy =   0.0290
Level     1,  Iter     7:    Energy =   0.0296
Level     1,  Iter     8:    Energy =   0.0303
Level     1,  Iter     9:    Energy =   0.0308
Level     1,  Iter    10:    Energy =   0.0312
Level     1,  Iter    11:    Energy =   0.0317
Level     1,  Iter    12:    Energy =   0.0320
Level     1,  Iter    13:    Energy =   0.0324
Level     1,  Iter    14:    Energy =   0.0328
Level     1,  Iter    15:    Energy =   0.0330
Level     1,  Iter    16:    Energy =   0.0333
Level     1,  Iter    17:    Energy =   0.0335
Level     1,  Iter    18:    Energy =   0.0337
Level     1,  Iter    19:    Energy =   0.0339
Level     1,  Iter    20:    Energy =   0.0340
Level     1,  Iter    21:    Energy =   0.0342
Level     1,  Iter    22:    Energy =   0.0343
Level     1,  Iter    23:    Energy =   0.0344
Level     1,  Iter    24:    Energy =   0.0346
Level     1,  Iter    25:    Energy =   0.0348
Level     1,  Iter    26:    Energy =   0.0350
Level     1,  Iter    27:    Energy =   0.0351
Level     1,  Iter    28:    Energy =   0.0352
Level     1,  Iter    29:    Energy =   0.0353
Level     1,  Iter    30:    Energy =   0.0354
Level     1,  Iter    31:    Energy =   0.0356
Level     1,  Iter    32:    Energy =   0.0357
Level     1,  Iter    33:    Energy =   0.0357
Level     1,  Iter    34:    Energy =   0.0357
Level     1,  Iter    35:    Energy =   0.0358
Level     1,  Iter    36:    Energy =   0.0358
Level     1,  Iter    37:    Energy =   0.0358
Level     1,  Iter    38:    Energy =   0.0359
Level     1,  Iter    39:    Energy =   0.0359
Level     1,  Iter    40:    Energy =   0.0359
Level     1,  Iter    41:    Energy =   0.0360
Level     1,  Iter    42:    Energy =   0.0360
Level     1,  Iter    43:    Energy =   0.0360
Level     1,  Iter    44:    Energy =   0.0361
Level     1,  Iter    45:    Energy =   0.0361
Level     1,  Iter    46:    Energy =   0.0361
Level     1,  Iter    47:    Energy =   0.0362
Level     1,  Iter    48:    Energy =   0.0362
Level     1,  Iter    49:    Energy =   0.0362
Level     1,  Iter    50:    Energy =   0.0362
Level     1,  Iter    51:    Energy =   0.0362
Level     1,  Iter    52:    Energy =   0.0362
Level     1,  Iter    53:    Energy =   0.0362
Level     1,  Iter    54:    Energy =   0.0362
Level     1,  Iter    55:    Energy =   0.0362
Level     1,  Iter    56:    Energy =   0.0362
Level     1,  Iter    57:    Energy =   0.0362
Level     1,  Iter    58:    Energy =   0.0361
Level     1,  Iter    59:    Energy =   0.0361
END OF LEVEL     1    DetJac Range:   0.0256  to   2.4627 
  Avg. Gradient Time  : 0.0290s  34.03% 
  Avg. Gaussian Time  : 0.0444s  52.14% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0155
Level     2,  Iter     1:    Energy =   0.0159
Level     2,  Iter     2:    Energy =   0.0164
Level     2,  Iter     3:    Energy =   0.0167
Level     2,  Iter     4:    Energy =   0.0170
Level     2,  Iter     5:    Energy =   0.0174
Level     2,  Iter     6:    Energy =   0.0178
Level     2,  Iter     7:    Energy =   0.0183
Level     2,  Iter     8:    Energy =   0.0188
Level     2,  Iter     9:    Energy =   0.0192
Level     2,  Iter    10:    Energy =   0.0195
Level     2,  Iter    11:    Energy =   0.0198
Level     2,  Iter    12:    Energy =   0.0201
Level     2,  Iter    13:    Energy =   0.0204
Level     2,  Iter    14:    Energy =   0.0206
Level     2,  Iter    15:    Energy =   0.0208
Level     2,  Iter    16:    Energy =   0.0211
Level     2,  Iter    17:    Energy =   0.0213
Level     2,  Iter    18:    Energy =   0.0214
Level     2,  Iter    19:    Energy =   0.0214
END OF LEVEL     2    DetJac Range:   0.0146  to   3.1877 
  Avg. Gradient Time  : 0.1848s  32.13% 
  Avg. Gaussian Time  : 0.3133s  54.49% 
  Avg. Iteration Time : 0.5750s 

real	0m20.703s
user	0m35.916s
sys	0m2.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 408.374   GNORM= 207.938
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       291.615      87.565       0.005
   2    3       238.710      76.207       1.000
   3    4        85.834      66.589       1.000
   4    7        -0.001       0.000      21.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.08247 -0.0759066 0.207373 -5.84393 
0.122115 0.80067 0.159924 -3.5097 
0.105933 -0.185161 0.894146 -9.18118 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -118.167   GNORM= 48.5172
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -124.576     257.538       0.103
   2    5      -177.837     179.396       0.233
   3    9      -195.289      42.018       0.024
   4   10      -197.941      54.351       1.000
   5   11      -258.975      61.128       1.000
   6   14      -278.991      21.440       0.081
   7   18      -284.320      38.506       1.012
   8   21      -287.196      31.200       0.028
   9   26      -302.983     160.081       1.685
  10   32      -302.988      97.134       0.036
  11   33      -331.151     107.288       1.000
  12   36      -346.653      59.886       2.339
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0563 -0.0770941 0.330918 -10.8272 
0.207377 0.893339 0.218061 -13.7513 
0.137389 -0.213909 0.884047 -11.7429 
0 0 0 1 

Final RAS Transform: 
1.0563 -0.0770941 0.330918 -10.8272 
0.207377 0.893339 0.218061 -13.7513 
0.137389 -0.213909 0.884047 -11.7429 
0 0 0 1 


real	0m5.137s
user	0m8.656s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.296372
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0187
Level     0,  Iter     1:    Energy =   0.0206
Level     0,  Iter     2:    Energy =   0.0228
Level     0,  Iter     3:    Energy =   0.0248
Level     0,  Iter     4:    Energy =   0.0264
Level     0,  Iter     5:    Energy =   0.0277
Level     0,  Iter     6:    Energy =   0.0289
Level     0,  Iter     7:    Energy =   0.0299
Level     0,  Iter     8:    Energy =   0.0310
Level     0,  Iter     9:    Energy =   0.0318
Level     0,  Iter    10:    Energy =   0.0325
Level     0,  Iter    11:    Energy =   0.0332
Level     0,  Iter    12:    Energy =   0.0338
Level     0,  Iter    13:    Energy =   0.0344
Level     0,  Iter    14:    Energy =   0.0352
Level     0,  Iter    15:    Energy =   0.0355
Level     0,  Iter    16:    Energy =   0.0361
Level     0,  Iter    17:    Energy =   0.0366
Level     0,  Iter    18:    Energy =   0.0371
Level     0,  Iter    19:    Energy =   0.0378
Level     0,  Iter    20:    Energy =   0.0382
Level     0,  Iter    21:    Energy =   0.0388
Level     0,  Iter    22:    Energy =   0.0389
Level     0,  Iter    23:    Energy =   0.0395
Level     0,  Iter    24:    Energy =   0.0396
Level     0,  Iter    25:    Energy =   0.0403
Level     0,  Iter    26:    Energy =   0.0403
Level     0,  Iter    27:    Energy =   0.0407
Level     0,  Iter    28:    Energy =   0.0408
Level     0,  Iter    29:    Energy =   0.0414
Level     0,  Iter    30:    Energy =   0.0414
Level     0,  Iter    31:    Energy =   0.0420
Level     0,  Iter    32:    Energy =   0.0420
Level     0,  Iter    33:    Energy =   0.0424
Level     0,  Iter    34:    Energy =   0.0427
Level     0,  Iter    35:    Energy =   0.0429
Level     0,  Iter    36:    Energy =   0.0428
Level     0,  Iter    37:    Energy =   0.0433
Level     0,  Iter    38:    Energy =   0.0436
Level     0,  Iter    39:    Energy =   0.0438
Level     0,  Iter    40:    Energy =   0.0436
Level     0,  Iter    41:    Energy =   0.0441
Level     0,  Iter    42:    Energy =   0.0443
Level     0,  Iter    43:    Energy =   0.0444
Level     0,  Iter    44:    Energy =   0.0441
Level     0,  Iter    45:    Energy =   0.0446
Level     0,  Iter    46:    Energy =   0.0446
Level     0,  Iter    47:    Energy =   0.0448
Level     0,  Iter    48:    Energy =   0.0446
Level     0,  Iter    49:    Energy =   0.0450
Level     0,  Iter    50:    Energy =   0.0454
Level     0,  Iter    51:    Energy =   0.0454
Level     0,  Iter    52:    Energy =   0.0457
Level     0,  Iter    53:    Energy =   0.0457
Level     0,  Iter    54:    Energy =   0.0461
Level     0,  Iter    55:    Energy =   0.0462
Level     0,  Iter    56:    Energy =   0.0463
Level     0,  Iter    57:    Energy =   0.0464
Level     0,  Iter    58:    Energy =   0.0466
Level     0,  Iter    59:    Energy =   0.0467
END OF LEVEL     0    DetJac Range:   0.0232  to   3.4347 
  Avg. Gradient Time  : 0.0069s  33.04% 
  Avg. Gaussian Time  : 0.0101s  48.23% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0255
Level     1,  Iter     2:    Energy =   0.0262
Level     1,  Iter     3:    Energy =   0.0268
Level     1,  Iter     4:    Energy =   0.0274
Level     1,  Iter     5:    Energy =   0.0280
Level     1,  Iter     6:    Energy =   0.0286
Level     1,  Iter     7:    Energy =   0.0291
Level     1,  Iter     8:    Energy =   0.0294
Level     1,  Iter     9:    Energy =   0.0297
Level     1,  Iter    10:    Energy =   0.0300
Level     1,  Iter    11:    Energy =   0.0303
Level     1,  Iter    12:    Energy =   0.0308
Level     1,  Iter    13:    Energy =   0.0316
Level     1,  Iter    14:    Energy =   0.0323
Level     1,  Iter    15:    Energy =   0.0328
Level     1,  Iter    16:    Energy =   0.0333
Level     1,  Iter    17:    Energy =   0.0336
Level     1,  Iter    18:    Energy =   0.0339
Level     1,  Iter    19:    Energy =   0.0342
Level     1,  Iter    20:    Energy =   0.0344
Level     1,  Iter    21:    Energy =   0.0346
Level     1,  Iter    22:    Energy =   0.0348
Level     1,  Iter    23:    Energy =   0.0349
Level     1,  Iter    24:    Energy =   0.0351
Level     1,  Iter    25:    Energy =   0.0352
Level     1,  Iter    26:    Energy =   0.0354
Level     1,  Iter    27:    Energy =   0.0355
Level     1,  Iter    28:    Energy =   0.0356
Level     1,  Iter    29:    Energy =   0.0356
Level     1,  Iter    30:    Energy =   0.0358
Level     1,  Iter    31:    Energy =   0.0358
Level     1,  Iter    32:    Energy =   0.0358
Level     1,  Iter    33:    Energy =   0.0358
Level     1,  Iter    34:    Energy =   0.0356
Level     1,  Iter    35:    Energy =   0.0354
Level     1,  Iter    36:    Energy =   0.0355
Level     1,  Iter    37:    Energy =   0.0356
Level     1,  Iter    38:    Energy =   0.0358
Level     1,  Iter    39:    Energy =   0.0359
Level     1,  Iter    40:    Energy =   0.0356
Level     1,  Iter    41:    Energy =   0.0357
Level     1,  Iter    42:    Energy =   0.0359
Level     1,  Iter    43:    Energy =   0.0361
Level     1,  Iter    44:    Energy =   0.0362
Level     1,  Iter    45:    Energy =   0.0363
Level     1,  Iter    46:    Energy =   0.0364
Level     1,  Iter    47:    Energy =   0.0365
Level     1,  Iter    48:    Energy =   0.0363
Level     1,  Iter    49:    Energy =   0.0365
Level     1,  Iter    50:    Energy =   0.0366
Level     1,  Iter    51:    Energy =   0.0367
Level     1,  Iter    52:    Energy =   0.0367
Level     1,  Iter    53:    Energy =   0.0368
Level     1,  Iter    54:    Energy =   0.0368
Level     1,  Iter    55:    Energy =   0.0369
Level     1,  Iter    56:    Energy =   0.0370
Level     1,  Iter    57:    Energy =   0.0371
Level     1,  Iter    58:    Energy =   0.0371
Level     1,  Iter    59:    Energy =   0.0372
END OF LEVEL     1    DetJac Range:   0.0237  to   2.8386 
  Avg. Gradient Time  : 0.0287s  33.63% 
  Avg. Gaussian Time  : 0.0448s  52.49% 
  Avg. Iteration Time : 0.0854s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0132
Level     2,  Iter     1:    Energy =   0.0138
Level     2,  Iter     2:    Energy =   0.0144
Level     2,  Iter     3:    Energy =   0.0150
Level     2,  Iter     4:    Energy =   0.0154
Level     2,  Iter     5:    Energy =   0.0160
Level     2,  Iter     6:    Energy =   0.0164
Level     2,  Iter     7:    Energy =   0.0170
Level     2,  Iter     8:    Energy =   0.0174
Level     2,  Iter     9:    Energy =   0.0177
Level     2,  Iter    10:    Energy =   0.0180
Level     2,  Iter    11:    Energy =   0.0182
Level     2,  Iter    12:    Energy =   0.0185
Level     2,  Iter    13:    Energy =   0.0187
Level     2,  Iter    14:    Energy =   0.0189
Level     2,  Iter    15:    Energy =   0.0191
Level     2,  Iter    16:    Energy =   0.0191
Level     2,  Iter    17:    Energy =   0.0193
Level     2,  Iter    18:    Energy =   0.0194
Level     2,  Iter    19:    Energy =   0.0196
END OF LEVEL     2    DetJac Range:   0.0194  to   3.8153 
  Avg. Gradient Time  : 0.1853s  32.15% 
  Avg. Gaussian Time  : 0.3137s  54.44% 
  Avg. Iteration Time : 0.5762s 

real	0m20.692s
user	0m36.204s
sys	0m2.084s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 321.45   GNORM= 231.453
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       131.467     184.919       0.004
   2    3      -354.033     160.368       1.000
   3    5      -599.009     265.237       0.286
   4   12      -673.328     289.820       1.016
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06615 -0.129305 0.151887 -4.29453 
-0.103701 1.15897 -0.179077 5.6547 
0.120249 -0.182066 1.03973 -6.21532 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -312.063   GNORM= 365.171
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -313.654     157.069       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06575 -0.129804 0.150234 -4.21954 
-0.102029 1.15778 -0.176059 5.42045 
0.120141 -0.182067 1.03996 -6.2126 
0 0 0 1 

Final RAS Transform: 
1.06575 -0.129804 0.150234 -4.21954 
-0.102029 1.15778 -0.176059 5.42045 
0.120141 -0.182067 1.03996 -6.2126 
0 0 0 1 


real	0m3.422s
user	0m5.328s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.395077
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0168
Level     0,  Iter     1:    Energy =   0.0189
Level     0,  Iter     2:    Energy =   0.0209
Level     0,  Iter     3:    Energy =   0.0241
Level     0,  Iter     4:    Energy =   0.0267
Level     0,  Iter     5:    Energy =   0.0292
Level     0,  Iter     6:    Energy =   0.0310
Level     0,  Iter     7:    Energy =   0.0327
Level     0,  Iter     8:    Energy =   0.0343
Level     0,  Iter     9:    Energy =   0.0355
Level     0,  Iter    10:    Energy =   0.0373
Level     0,  Iter    11:    Energy =   0.0378
Level     0,  Iter    12:    Energy =   0.0387
Level     0,  Iter    13:    Energy =   0.0403
Level     0,  Iter    14:    Energy =   0.0409
Level     0,  Iter    15:    Energy =   0.0419
Level     0,  Iter    16:    Energy =   0.0428
Level     0,  Iter    17:    Energy =   0.0438
Level     0,  Iter    18:    Energy =   0.0450
Level     0,  Iter    19:    Energy =   0.0459
Level     0,  Iter    20:    Energy =   0.0468
Level     0,  Iter    21:    Energy =   0.0479
Level     0,  Iter    22:    Energy =   0.0490
Level     0,  Iter    23:    Energy =   0.0501
Level     0,  Iter    24:    Energy =   0.0509
Level     0,  Iter    25:    Energy =   0.0515
Level     0,  Iter    26:    Energy =   0.0521
Level     0,  Iter    27:    Energy =   0.0527
Level     0,  Iter    28:    Energy =   0.0534
Level     0,  Iter    29:    Energy =   0.0544
Level     0,  Iter    30:    Energy =   0.0551
Level     0,  Iter    31:    Energy =   0.0559
Level     0,  Iter    32:    Energy =   0.0563
Level     0,  Iter    33:    Energy =   0.0567
Level     0,  Iter    34:    Energy =   0.0569
Level     0,  Iter    35:    Energy =   0.0572
Level     0,  Iter    36:    Energy =   0.0573
Level     0,  Iter    37:    Energy =   0.0576
Level     0,  Iter    38:    Energy =   0.0576
Level     0,  Iter    39:    Energy =   0.0579
Level     0,  Iter    40:    Energy =   0.0579
Level     0,  Iter    41:    Energy =   0.0582
Level     0,  Iter    42:    Energy =   0.0582
Level     0,  Iter    43:    Energy =   0.0584
Level     0,  Iter    44:    Energy =   0.0583
Level     0,  Iter    45:    Energy =   0.0586
Level     0,  Iter    46:    Energy =   0.0585
Level     0,  Iter    47:    Energy =   0.0588
Level     0,  Iter    48:    Energy =   0.0587
Level     0,  Iter    49:    Energy =   0.0591
Level     0,  Iter    50:    Energy =   0.0590
Level     0,  Iter    51:    Energy =   0.0592
Level     0,  Iter    52:    Energy =   0.0591
Level     0,  Iter    53:    Energy =   0.0594
Level     0,  Iter    54:    Energy =   0.0592
Level     0,  Iter    55:    Energy =   0.0594
Level     0,  Iter    56:    Energy =   0.0593
Level     0,  Iter    57:    Energy =   0.0596
Level     0,  Iter    58:    Energy =   0.0594
Level     0,  Iter    59:    Energy =   0.0597
END OF LEVEL     0    DetJac Range:   0.0817  to   3.1356 
  Avg. Gradient Time  : 0.0071s  33.02% 
  Avg. Gaussian Time  : 0.0103s  48.08% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0349
Level     1,  Iter     1:    Energy =   0.0363
Level     1,  Iter     2:    Energy =   0.0374
Level     1,  Iter     3:    Energy =   0.0387
Level     1,  Iter     4:    Energy =   0.0398
Level     1,  Iter     5:    Energy =   0.0406
Level     1,  Iter     6:    Energy =   0.0412
Level     1,  Iter     7:    Energy =   0.0419
Level     1,  Iter     8:    Energy =   0.0425
Level     1,  Iter     9:    Energy =   0.0430
Level     1,  Iter    10:    Energy =   0.0436
Level     1,  Iter    11:    Energy =   0.0440
Level     1,  Iter    12:    Energy =   0.0446
Level     1,  Iter    13:    Energy =   0.0450
Level     1,  Iter    14:    Energy =   0.0451
Level     1,  Iter    15:    Energy =   0.0454
Level     1,  Iter    16:    Energy =   0.0457
Level     1,  Iter    17:    Energy =   0.0460
Level     1,  Iter    18:    Energy =   0.0463
Level     1,  Iter    19:    Energy =   0.0464
Level     1,  Iter    20:    Energy =   0.0465
Level     1,  Iter    21:    Energy =   0.0466
Level     1,  Iter    22:    Energy =   0.0467
Level     1,  Iter    23:    Energy =   0.0469
Level     1,  Iter    24:    Energy =   0.0471
Level     1,  Iter    25:    Energy =   0.0473
Level     1,  Iter    26:    Energy =   0.0475
Level     1,  Iter    27:    Energy =   0.0477
Level     1,  Iter    28:    Energy =   0.0478
Level     1,  Iter    29:    Energy =   0.0479
Level     1,  Iter    30:    Energy =   0.0480
Level     1,  Iter    31:    Energy =   0.0480
Level     1,  Iter    32:    Energy =   0.0480
Level     1,  Iter    33:    Energy =   0.0481
Level     1,  Iter    34:    Energy =   0.0481
Level     1,  Iter    35:    Energy =   0.0481
Level     1,  Iter    36:    Energy =   0.0482
Level     1,  Iter    37:    Energy =   0.0483
Level     1,  Iter    38:    Energy =   0.0483
Level     1,  Iter    39:    Energy =   0.0484
Level     1,  Iter    40:    Energy =   0.0484
Level     1,  Iter    41:    Energy =   0.0485
Level     1,  Iter    42:    Energy =   0.0485
Level     1,  Iter    43:    Energy =   0.0485
Level     1,  Iter    44:    Energy =   0.0485
Level     1,  Iter    45:    Energy =   0.0485
Level     1,  Iter    46:    Energy =   0.0485
Level     1,  Iter    47:    Energy =   0.0485
Level     1,  Iter    48:    Energy =   0.0485
Level     1,  Iter    49:    Energy =   0.0486
Level     1,  Iter    50:    Energy =   0.0486
Level     1,  Iter    51:    Energy =   0.0486
Level     1,  Iter    52:    Energy =   0.0486
Level     1,  Iter    53:    Energy =   0.0487
Level     1,  Iter    54:    Energy =   0.0487
Level     1,  Iter    55:    Energy =   0.0487
Level     1,  Iter    56:    Energy =   0.0487
Level     1,  Iter    57:    Energy =   0.0488
Level     1,  Iter    58:    Energy =   0.0488
Level     1,  Iter    59:    Energy =   0.0489
END OF LEVEL     1    DetJac Range:   0.0148  to   4.1770 
  Avg. Gradient Time  : 0.0296s  34.27% 
  Avg. Gaussian Time  : 0.0449s  51.93% 
  Avg. Iteration Time : 0.0865s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0224
Level     2,  Iter     1:    Energy =   0.0234
Level     2,  Iter     2:    Energy =   0.0241
Level     2,  Iter     3:    Energy =   0.0247
Level     2,  Iter     4:    Energy =   0.0252
Level     2,  Iter     5:    Energy =   0.0258
Level     2,  Iter     6:    Energy =   0.0263
Level     2,  Iter     7:    Energy =   0.0268
Level     2,  Iter     8:    Energy =   0.0271
Level     2,  Iter     9:    Energy =   0.0274
Level     2,  Iter    10:    Energy =   0.0277
Level     2,  Iter    11:    Energy =   0.0279
Level     2,  Iter    12:    Energy =   0.0281
Level     2,  Iter    13:    Energy =   0.0282
Level     2,  Iter    14:    Energy =   0.0284
Level     2,  Iter    15:    Energy =   0.0285
Level     2,  Iter    16:    Energy =   0.0286
Level     2,  Iter    17:    Energy =   0.0287
Level     2,  Iter    18:    Energy =   0.0288
Level     2,  Iter    19:    Energy =   0.0288
END OF LEVEL     2    DetJac Range:   0.0136  to   3.7262 
  Avg. Gradient Time  : 0.1909s  32.59% 
  Avg. Gaussian Time  : 0.3171s  54.14% 
  Avg. Iteration Time : 0.5857s 

real	0m21.052s
user	0m36.632s
sys	0m2.320s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 353.332   GNORM= 252.448
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       141.505     190.033       0.004
   2    3       -63.549     112.015       1.000
   3    4      -142.432      44.659       1.000
   4    5      -164.037      49.209       1.000
   5    7      -207.890     127.693       0.384
   6    9      -216.420     186.108       0.065
   7   11      -507.824     211.616       5.000
   8   12      -532.918     141.696       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01938 -0.0489091 0.172278 -3.43344 
-0.0772809 1.12998 -0.21452 5.37625 
0.212038 -0.0679225 0.962262 -7.68057 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -190.902   GNORM= 6020.86
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -279.093    1244.136       0.000
   2    4      -280.430    1276.267       0.036
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01839 -0.048371 0.171205 -3.31893 
-0.0827957 1.1341 -0.221348 5.98208 
0.208506 -0.0655551 0.957535 -7.28489 
0 0 0 1 

Final RAS Transform: 
1.01839 -0.048371 0.171205 -3.31893 
-0.0827957 1.1341 -0.221348 5.98208 
0.208506 -0.0655551 0.957535 -7.28489 
0 0 0 1 


real	0m3.554s
user	0m5.544s
sys	0m0.368s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.382303
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0147
Level     0,  Iter     1:    Energy =   0.0166
Level     0,  Iter     2:    Energy =   0.0200
Level     0,  Iter     3:    Energy =   0.0227
Level     0,  Iter     4:    Energy =   0.0247
Level     0,  Iter     5:    Energy =   0.0267
Level     0,  Iter     6:    Energy =   0.0291
Level     0,  Iter     7:    Energy =   0.0317
Level     0,  Iter     8:    Energy =   0.0337
Level     0,  Iter     9:    Energy =   0.0353
Level     0,  Iter    10:    Energy =   0.0367
Level     0,  Iter    11:    Energy =   0.0379
Level     0,  Iter    12:    Energy =   0.0390
Level     0,  Iter    13:    Energy =   0.0400
Level     0,  Iter    14:    Energy =   0.0408
Level     0,  Iter    15:    Energy =   0.0414
Level     0,  Iter    16:    Energy =   0.0419
Level     0,  Iter    17:    Energy =   0.0425
Level     0,  Iter    18:    Energy =   0.0429
Level     0,  Iter    19:    Energy =   0.0433
Level     0,  Iter    20:    Energy =   0.0438
Level     0,  Iter    21:    Energy =   0.0442
Level     0,  Iter    22:    Energy =   0.0446
Level     0,  Iter    23:    Energy =   0.0451
Level     0,  Iter    24:    Energy =   0.0454
Level     0,  Iter    25:    Energy =   0.0457
Level     0,  Iter    26:    Energy =   0.0459
Level     0,  Iter    27:    Energy =   0.0462
Level     0,  Iter    28:    Energy =   0.0463
Level     0,  Iter    29:    Energy =   0.0465
Level     0,  Iter    30:    Energy =   0.0467
Level     0,  Iter    31:    Energy =   0.0469
Level     0,  Iter    32:    Energy =   0.0470
Level     0,  Iter    33:    Energy =   0.0469
Level     0,  Iter    34:    Energy =   0.0469
Level     0,  Iter    35:    Energy =   0.0469
Level     0,  Iter    36:    Energy =   0.0469
Level     0,  Iter    37:    Energy =   0.0468
Level     0,  Iter    38:    Energy =   0.0467
Level     0,  Iter    39:    Energy =   0.0467
Level     0,  Iter    40:    Energy =   0.0468
Level     0,  Iter    41:    Energy =   0.0468
Level     0,  Iter    42:    Energy =   0.0468
Level     0,  Iter    43:    Energy =   0.0467
Level     0,  Iter    44:    Energy =   0.0467
Level     0,  Iter    45:    Energy =   0.0465
Level     0,  Iter    46:    Energy =   0.0464
Level     0,  Iter    47:    Energy =   0.0463
Level     0,  Iter    48:    Energy =   0.0462
Level     0,  Iter    49:    Energy =   0.0461
Level     0,  Iter    50:    Energy =   0.0460
Level     0,  Iter    51:    Energy =   0.0460
Level     0,  Iter    52:    Energy =   0.0459
Level     0,  Iter    53:    Energy =   0.0459
Level     0,  Iter    54:    Energy =   0.0458
Level     0,  Iter    55:    Energy =   0.0457
Level     0,  Iter    56:    Energy =   0.0457
Level     0,  Iter    57:    Energy =   0.0456
Level     0,  Iter    58:    Energy =   0.0455
Level     0,  Iter    59:    Energy =   0.0455
END OF LEVEL     0    DetJac Range:   0.0430  to   2.0228 
  Avg. Gradient Time  : 0.0070s  32.85% 
  Avg. Gaussian Time  : 0.0103s  48.33% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0256
Level     1,  Iter     1:    Energy =   0.0267
Level     1,  Iter     2:    Energy =   0.0279
Level     1,  Iter     3:    Energy =   0.0290
Level     1,  Iter     4:    Energy =   0.0300
Level     1,  Iter     5:    Energy =   0.0310
Level     1,  Iter     6:    Energy =   0.0320
Level     1,  Iter     7:    Energy =   0.0329
Level     1,  Iter     8:    Energy =   0.0338
Level     1,  Iter     9:    Energy =   0.0345
Level     1,  Iter    10:    Energy =   0.0352
Level     1,  Iter    11:    Energy =   0.0358
Level     1,  Iter    12:    Energy =   0.0363
Level     1,  Iter    13:    Energy =   0.0367
Level     1,  Iter    14:    Energy =   0.0371
Level     1,  Iter    15:    Energy =   0.0374
Level     1,  Iter    16:    Energy =   0.0377
Level     1,  Iter    17:    Energy =   0.0380
Level     1,  Iter    18:    Energy =   0.0383
Level     1,  Iter    19:    Energy =   0.0386
Level     1,  Iter    20:    Energy =   0.0389
Level     1,  Iter    21:    Energy =   0.0391
Level     1,  Iter    22:    Energy =   0.0393
Level     1,  Iter    23:    Energy =   0.0396
Level     1,  Iter    24:    Energy =   0.0398
Level     1,  Iter    25:    Energy =   0.0400
Level     1,  Iter    26:    Energy =   0.0402
Level     1,  Iter    27:    Energy =   0.0404
Level     1,  Iter    28:    Energy =   0.0406
Level     1,  Iter    29:    Energy =   0.0408
Level     1,  Iter    30:    Energy =   0.0409
Level     1,  Iter    31:    Energy =   0.0410
Level     1,  Iter    32:    Energy =   0.0411
Level     1,  Iter    33:    Energy =   0.0412
Level     1,  Iter    34:    Energy =   0.0413
Level     1,  Iter    35:    Energy =   0.0414
Level     1,  Iter    36:    Energy =   0.0415
Level     1,  Iter    37:    Energy =   0.0415
Level     1,  Iter    38:    Energy =   0.0416
Level     1,  Iter    39:    Energy =   0.0417
Level     1,  Iter    40:    Energy =   0.0417
Level     1,  Iter    41:    Energy =   0.0418
Level     1,  Iter    42:    Energy =   0.0419
Level     1,  Iter    43:    Energy =   0.0419
Level     1,  Iter    44:    Energy =   0.0420
Level     1,  Iter    45:    Energy =   0.0420
Level     1,  Iter    46:    Energy =   0.0421
Level     1,  Iter    47:    Energy =   0.0422
Level     1,  Iter    48:    Energy =   0.0422
Level     1,  Iter    49:    Energy =   0.0423
Level     1,  Iter    50:    Energy =   0.0423
Level     1,  Iter    51:    Energy =   0.0424
Level     1,  Iter    52:    Energy =   0.0424
Level     1,  Iter    53:    Energy =   0.0424
Level     1,  Iter    54:    Energy =   0.0425
Level     1,  Iter    55:    Energy =   0.0425
Level     1,  Iter    56:    Energy =   0.0425
Level     1,  Iter    57:    Energy =   0.0426
Level     1,  Iter    58:    Energy =   0.0426
Level     1,  Iter    59:    Energy =   0.0426
END OF LEVEL     1    DetJac Range:   0.0822  to   3.6537 
  Avg. Gradient Time  : 0.0298s  33.90% 
  Avg. Gaussian Time  : 0.0459s  52.27% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0205
Level     2,  Iter     1:    Energy =   0.0215
Level     2,  Iter     2:    Energy =   0.0224
Level     2,  Iter     3:    Energy =   0.0232
Level     2,  Iter     4:    Energy =   0.0239
Level     2,  Iter     5:    Energy =   0.0245
Level     2,  Iter     6:    Energy =   0.0250
Level     2,  Iter     7:    Energy =   0.0253
Level     2,  Iter     8:    Energy =   0.0257
Level     2,  Iter     9:    Energy =   0.0261
Level     2,  Iter    10:    Energy =   0.0264
Level     2,  Iter    11:    Energy =   0.0267
Level     2,  Iter    12:    Energy =   0.0269
Level     2,  Iter    13:    Energy =   0.0271
Level     2,  Iter    14:    Energy =   0.0273
Level     2,  Iter    15:    Energy =   0.0275
Level     2,  Iter    16:    Energy =   0.0277
Level     2,  Iter    17:    Energy =   0.0278
Level     2,  Iter    18:    Energy =   0.0279
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0431  to   4.9275 
  Avg. Gradient Time  : 0.1897s  32.25% 
  Avg. Gaussian Time  : 0.3197s  54.34% 
  Avg. Iteration Time : 0.5883s 

real	0m21.187s
user	0m36.848s
sys	0m2.344s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 477.257   GNORM= 247.039
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       297.181     145.682       0.004
   2    3       110.743     100.547       1.000
   3    4      -478.171      99.921       1.000
   4    6      -735.995     110.186       0.339
   5   10      -780.411     131.116       0.143
   6   11      -805.517     139.517       1.000
   7   18      -805.574      97.441       0.010
   8   20      -818.625     107.930       0.523
   9   23      -826.785      61.596       0.250
  10   25      -829.523      43.775       0.502
  11   26      -841.999     171.762       1.000
  12   27      -845.279      33.824       1.000
  13   32      -846.319      43.047       0.102
  14   33      -849.511     169.694       1.000
  15   35      -852.598      93.174       0.119
  16   38      -863.666      54.817       3.267
  17   45      -876.293      43.879       2.402
  18   46      -886.236      28.288       1.000
  19   49      -912.987      79.858       1.770
  20   50      -920.031      72.358       1.000
  21   51      -955.739      71.849       1.000
  22   52     -1004.776      99.696       1.000
  23   54     -1036.392     256.643       0.486
  24   55     -1147.347     164.028       1.000
  25   57     -1187.647      80.610       0.428
  26   58     -1244.193      78.570       1.000
  27   60     -1277.867      28.018       0.268
  28   61     -1302.255     107.540       1.000
Final RAS Transform: 
0.492229 -0.500611 0.352825 -1.63325 
-0.214337 1.16291 0.149906 10.338 
0.455838 -0.233552 0.700254 0.948609 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -577.716   GNORM= 38.1704
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -601.151      44.320       0.026
   2    5      -601.451      43.908       0.026
   3    6      -608.923      42.957       1.000
   4    9      -614.366      27.575       0.175
   5   11      -620.343      31.212       5.000
   6   13      -627.732      61.235       5.000
   7   15      -645.293      71.361       0.241
   8   17      -648.245      78.117       0.172
   9   20      -695.567      50.930       2.869
  10   21      -711.027      25.164       1.000
  11   22      -720.440      38.415       1.000
  12   26      -723.730      33.087       0.315
  13   27      -729.986      17.591       1.000
  14   28      -731.371      31.584       1.000
  15   29      -736.437      33.551       1.000
  16   31      -740.834      54.538       0.330
  17   32      -742.949      28.885       1.000
  18   34      -757.522      55.820       5.000
  19   35      -762.670      25.447       1.000
  20   36      -763.439      25.597       1.000
  21   37      -765.197      13.115       1.000
  22   38      -766.426      15.239       1.000
  23   39      -768.194      21.267       1.000
  24   40      -773.888      20.389       1.000
  25   41      -778.970      17.978       1.000
  26   42      -783.586      27.744       1.000
  27   43      -787.078      28.914       1.000
  28   44      -790.617      18.347       1.000
  29   47      -813.971      28.181       2.004
  30   50      -814.896      51.913       0.020
  31   51      -818.513      25.908       1.000
  32   52      -819.803      12.113       1.000
  33   53      -820.253      13.566       1.000
  34   54      -821.312      15.735       1.000
  35   56      -828.398      36.687       5.000
  36   57      -832.902      12.969       1.000
  37   58      -836.945       8.027       1.000
  38   59      -839.024      49.208       1.000
  39   60      -843.875      27.792       1.000
  40   61      -845.388      12.052       1.000
Final RAS Transform: 
0.394891 -0.52636 0.425522 -6.47667 
-0.303472 1.33278 0.406376 9.39943 
0.515888 -0.137186 0.619941 0.439281 
0 0 0 1 

Final RAS Transform: 
0.394891 -0.52636 0.425522 -6.47667 
-0.303472 1.33278 0.406376 9.39943 
0.515888 -0.137186 0.619941 0.439281 
0 0 0 1 


real	0m6.191s
user	0m10.452s
sys	0m0.624s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.396771
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0297
Level     0,  Iter     1:    Energy =   0.0318
Level     0,  Iter     2:    Energy =   0.0349
Level     0,  Iter     3:    Energy =   0.0381
Level     0,  Iter     4:    Energy =   0.0408
Level     0,  Iter     5:    Energy =   0.0433
Level     0,  Iter     6:    Energy =   0.0455
Level     0,  Iter     7:    Energy =   0.0472
Level     0,  Iter     8:    Energy =   0.0489
Level     0,  Iter     9:    Energy =   0.0505
Level     0,  Iter    10:    Energy =   0.0522
Level     0,  Iter    11:    Energy =   0.0535
Level     0,  Iter    12:    Energy =   0.0549
Level     0,  Iter    13:    Energy =   0.0561
Level     0,  Iter    14:    Energy =   0.0572
Level     0,  Iter    15:    Energy =   0.0580
Level     0,  Iter    16:    Energy =   0.0587
Level     0,  Iter    17:    Energy =   0.0594
Level     0,  Iter    18:    Energy =   0.0600
Level     0,  Iter    19:    Energy =   0.0604
Level     0,  Iter    20:    Energy =   0.0605
Level     0,  Iter    21:    Energy =   0.0609
Level     0,  Iter    22:    Energy =   0.0612
Level     0,  Iter    23:    Energy =   0.0615
Level     0,  Iter    24:    Energy =   0.0614
Level     0,  Iter    25:    Energy =   0.0618
Level     0,  Iter    26:    Energy =   0.0620
Level     0,  Iter    27:    Energy =   0.0623
Level     0,  Iter    28:    Energy =   0.0622
Level     0,  Iter    29:    Energy =   0.0625
Level     0,  Iter    30:    Energy =   0.0626
Level     0,  Iter    31:    Energy =   0.0628
Level     0,  Iter    32:    Energy =   0.0627
Level     0,  Iter    33:    Energy =   0.0630
Level     0,  Iter    34:    Energy =   0.0633
Level     0,  Iter    35:    Energy =   0.0635
Level     0,  Iter    36:    Energy =   0.0634
Level     0,  Iter    37:    Energy =   0.0637
Level     0,  Iter    38:    Energy =   0.0638
Level     0,  Iter    39:    Energy =   0.0639
Level     0,  Iter    40:    Energy =   0.0637
Level     0,  Iter    41:    Energy =   0.0639
Level     0,  Iter    42:    Energy =   0.0640
Level     0,  Iter    43:    Energy =   0.0640
Level     0,  Iter    44:    Energy =   0.0639
Level     0,  Iter    45:    Energy =   0.0640
Level     0,  Iter    46:    Energy =   0.0641
Level     0,  Iter    47:    Energy =   0.0641
Level     0,  Iter    48:    Energy =   0.0640
Level     0,  Iter    49:    Energy =   0.0641
Level     0,  Iter    50:    Energy =   0.0642
Level     0,  Iter    51:    Energy =   0.0641
Level     0,  Iter    52:    Energy =   0.0641
Level     0,  Iter    53:    Energy =   0.0642
Level     0,  Iter    54:    Energy =   0.0642
Level     0,  Iter    55:    Energy =   0.0642
Level     0,  Iter    56:    Energy =   0.0642
Level     0,  Iter    57:    Energy =   0.0643
Level     0,  Iter    58:    Energy =   0.0643
Level     0,  Iter    59:    Energy =   0.0644
END OF LEVEL     0    DetJac Range:   0.0564  to   2.5716 
  Avg. Gradient Time  : 0.0070s  32.90% 
  Avg. Gaussian Time  : 0.0103s  48.41% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0396
Level     1,  Iter     1:    Energy =   0.0418
Level     1,  Iter     2:    Energy =   0.0436
Level     1,  Iter     3:    Energy =   0.0450
Level     1,  Iter     4:    Energy =   0.0460
Level     1,  Iter     5:    Energy =   0.0469
Level     1,  Iter     6:    Energy =   0.0477
Level     1,  Iter     7:    Energy =   0.0483
Level     1,  Iter     8:    Energy =   0.0488
Level     1,  Iter     9:    Energy =   0.0492
Level     1,  Iter    10:    Energy =   0.0495
Level     1,  Iter    11:    Energy =   0.0499
Level     1,  Iter    12:    Energy =   0.0503
Level     1,  Iter    13:    Energy =   0.0506
Level     1,  Iter    14:    Energy =   0.0508
Level     1,  Iter    15:    Energy =   0.0510
Level     1,  Iter    16:    Energy =   0.0512
Level     1,  Iter    17:    Energy =   0.0514
Level     1,  Iter    18:    Energy =   0.0515
Level     1,  Iter    19:    Energy =   0.0517
Level     1,  Iter    20:    Energy =   0.0518
Level     1,  Iter    21:    Energy =   0.0519
Level     1,  Iter    22:    Energy =   0.0520
Level     1,  Iter    23:    Energy =   0.0522
Level     1,  Iter    24:    Energy =   0.0523
Level     1,  Iter    25:    Energy =   0.0524
Level     1,  Iter    26:    Energy =   0.0525
Level     1,  Iter    27:    Energy =   0.0525
Level     1,  Iter    28:    Energy =   0.0526
Level     1,  Iter    29:    Energy =   0.0527
Level     1,  Iter    30:    Energy =   0.0527
Level     1,  Iter    31:    Energy =   0.0528
Level     1,  Iter    32:    Energy =   0.0529
Level     1,  Iter    33:    Energy =   0.0530
Level     1,  Iter    34:    Energy =   0.0531
Level     1,  Iter    35:    Energy =   0.0532
Level     1,  Iter    36:    Energy =   0.0533
Level     1,  Iter    37:    Energy =   0.0534
Level     1,  Iter    38:    Energy =   0.0535
Level     1,  Iter    39:    Energy =   0.0535
Level     1,  Iter    40:    Energy =   0.0536
Level     1,  Iter    41:    Energy =   0.0537
Level     1,  Iter    42:    Energy =   0.0538
Level     1,  Iter    43:    Energy =   0.0538
Level     1,  Iter    44:    Energy =   0.0539
Level     1,  Iter    45:    Energy =   0.0539
Level     1,  Iter    46:    Energy =   0.0539
Level     1,  Iter    47:    Energy =   0.0540
Level     1,  Iter    48:    Energy =   0.0540
Level     1,  Iter    49:    Energy =   0.0541
Level     1,  Iter    50:    Energy =   0.0541
Level     1,  Iter    51:    Energy =   0.0542
Level     1,  Iter    52:    Energy =   0.0542
Level     1,  Iter    53:    Energy =   0.0542
Level     1,  Iter    54:    Energy =   0.0543
Level     1,  Iter    55:    Energy =   0.0543
Level     1,  Iter    56:    Energy =   0.0544
Level     1,  Iter    57:    Energy =   0.0545
Level     1,  Iter    58:    Energy =   0.0545
Level     1,  Iter    59:    Energy =   0.0546
END OF LEVEL     1    DetJac Range:   0.0212  to   3.0353 
  Avg. Gradient Time  : 0.0296s  33.89% 
  Avg. Gaussian Time  : 0.0455s  52.10% 
  Avg. Iteration Time : 0.0874s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0241
Level     2,  Iter     1:    Energy =   0.0251
Level     2,  Iter     2:    Energy =   0.0259
Level     2,  Iter     3:    Energy =   0.0264
Level     2,  Iter     4:    Energy =   0.0270
Level     2,  Iter     5:    Energy =   0.0275
Level     2,  Iter     6:    Energy =   0.0279
Level     2,  Iter     7:    Energy =   0.0284
Level     2,  Iter     8:    Energy =   0.0290
Level     2,  Iter     9:    Energy =   0.0295
Level     2,  Iter    10:    Energy =   0.0300
Level     2,  Iter    11:    Energy =   0.0304
Level     2,  Iter    12:    Energy =   0.0307
Level     2,  Iter    13:    Energy =   0.0310
Level     2,  Iter    14:    Energy =   0.0313
Level     2,  Iter    15:    Energy =   0.0315
Level     2,  Iter    16:    Energy =   0.0317
Level     2,  Iter    17:    Energy =   0.0319
Level     2,  Iter    18:    Energy =   0.0320
Level     2,  Iter    19:    Energy =   0.0321
END OF LEVEL     2    DetJac Range:   0.0280  to   3.2351 
  Avg. Gradient Time  : 0.1887s  32.21% 
  Avg. Gaussian Time  : 0.3192s  54.46% 
  Avg. Iteration Time : 0.5860s 

real	0m21.127s
user	0m36.664s
sys	0m2.448s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 380.341   GNORM= 169.252
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       270.774     110.518       0.006
   2    3        49.846      80.142       1.000
   3    4      -101.021     231.246       1.000
   4    7      -294.660      60.529       1.970
   5   14      -496.042      59.940       0.993
   6   28      -496.146      39.288       0.002
   7   34      -529.789      67.452       1.000
   8   39      -620.990     114.979       4.462
   9   45      -717.602     168.607       0.869
  10   47      -765.816     126.435       5.000
  11   49      -776.757     157.684       0.032
  12   54      -795.930     135.254       0.751
  13   57      -809.894     253.445       0.743
  14   60      -813.554      88.781       0.174
Final RAS Transform: 
0.984407 -0.147936 0.0583883 -5.12798 
-0.161471 1.13108 -0.21893 6.29871 
0.252965 -0.147523 0.906356 -5.64904 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -388.006   GNORM= 181.537
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -389.379     115.951       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.984406 -0.147933 0.0583866 -5.12778 
-0.161467 1.13107 -0.218933 6.29826 
0.252964 -0.147515 0.906349 -5.64813 
0 0 0 1 

Final RAS Transform: 
0.984406 -0.147933 0.0583866 -5.12778 
-0.161467 1.13107 -0.218933 6.29826 
0.252964 -0.147515 0.906349 -5.64813 
0 0 0 1 


real	0m3.815s
user	0m5.976s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.372756
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0200
Level     0,  Iter     1:    Energy =   0.0217
Level     0,  Iter     2:    Energy =   0.0257
Level     0,  Iter     3:    Energy =   0.0290
Level     0,  Iter     4:    Energy =   0.0319
Level     0,  Iter     5:    Energy =   0.0349
Level     0,  Iter     6:    Energy =   0.0372
Level     0,  Iter     7:    Energy =   0.0388
Level     0,  Iter     8:    Energy =   0.0402
Level     0,  Iter     9:    Energy =   0.0415
Level     0,  Iter    10:    Energy =   0.0430
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0454
Level     0,  Iter    13:    Energy =   0.0465
Level     0,  Iter    14:    Energy =   0.0476
Level     0,  Iter    15:    Energy =   0.0486
Level     0,  Iter    16:    Energy =   0.0495
Level     0,  Iter    17:    Energy =   0.0504
Level     0,  Iter    18:    Energy =   0.0511
Level     0,  Iter    19:    Energy =   0.0519
Level     0,  Iter    20:    Energy =   0.0526
Level     0,  Iter    21:    Energy =   0.0533
Level     0,  Iter    22:    Energy =   0.0542
Level     0,  Iter    23:    Energy =   0.0551
Level     0,  Iter    24:    Energy =   0.0558
Level     0,  Iter    25:    Energy =   0.0565
Level     0,  Iter    26:    Energy =   0.0569
Level     0,  Iter    27:    Energy =   0.0572
Level     0,  Iter    28:    Energy =   0.0577
Level     0,  Iter    29:    Energy =   0.0580
Level     0,  Iter    30:    Energy =   0.0584
Level     0,  Iter    31:    Energy =   0.0587
Level     0,  Iter    32:    Energy =   0.0590
Level     0,  Iter    33:    Energy =   0.0593
Level     0,  Iter    34:    Energy =   0.0595
Level     0,  Iter    35:    Energy =   0.0597
Level     0,  Iter    36:    Energy =   0.0598
Level     0,  Iter    37:    Energy =   0.0599
Level     0,  Iter    38:    Energy =   0.0600
Level     0,  Iter    39:    Energy =   0.0601
Level     0,  Iter    40:    Energy =   0.0602
Level     0,  Iter    41:    Energy =   0.0604
Level     0,  Iter    42:    Energy =   0.0605
Level     0,  Iter    43:    Energy =   0.0607
Level     0,  Iter    44:    Energy =   0.0607
Level     0,  Iter    45:    Energy =   0.0608
Level     0,  Iter    46:    Energy =   0.0608
Level     0,  Iter    47:    Energy =   0.0610
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0611
Level     0,  Iter    50:    Energy =   0.0612
Level     0,  Iter    51:    Energy =   0.0613
Level     0,  Iter    52:    Energy =   0.0614
Level     0,  Iter    53:    Energy =   0.0616
Level     0,  Iter    54:    Energy =   0.0616
Level     0,  Iter    55:    Energy =   0.0617
Level     0,  Iter    56:    Energy =   0.0617
Level     0,  Iter    57:    Energy =   0.0619
Level     0,  Iter    58:    Energy =   0.0619
Level     0,  Iter    59:    Energy =   0.0620
END OF LEVEL     0    DetJac Range:   0.1402  to   2.6829 
  Avg. Gradient Time  : 0.0073s  33.26% 
  Avg. Gaussian Time  : 0.0105s  47.90% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0360
Level     1,  Iter     1:    Energy =   0.0379
Level     1,  Iter     2:    Energy =   0.0395
Level     1,  Iter     3:    Energy =   0.0407
Level     1,  Iter     4:    Energy =   0.0418
Level     1,  Iter     5:    Energy =   0.0428
Level     1,  Iter     6:    Energy =   0.0437
Level     1,  Iter     7:    Energy =   0.0443
Level     1,  Iter     8:    Energy =   0.0448
Level     1,  Iter     9:    Energy =   0.0452
Level     1,  Iter    10:    Energy =   0.0455
Level     1,  Iter    11:    Energy =   0.0457
Level     1,  Iter    12:    Energy =   0.0459
Level     1,  Iter    13:    Energy =   0.0461
Level     1,  Iter    14:    Energy =   0.0462
Level     1,  Iter    15:    Energy =   0.0464
Level     1,  Iter    16:    Energy =   0.0465
Level     1,  Iter    17:    Energy =   0.0466
Level     1,  Iter    18:    Energy =   0.0467
Level     1,  Iter    19:    Energy =   0.0468
Level     1,  Iter    20:    Energy =   0.0468
Level     1,  Iter    21:    Energy =   0.0469
Level     1,  Iter    22:    Energy =   0.0469
Level     1,  Iter    23:    Energy =   0.0470
Level     1,  Iter    24:    Energy =   0.0471
Level     1,  Iter    25:    Energy =   0.0471
Level     1,  Iter    26:    Energy =   0.0471
Level     1,  Iter    27:    Energy =   0.0472
Level     1,  Iter    28:    Energy =   0.0472
Level     1,  Iter    29:    Energy =   0.0472
Level     1,  Iter    30:    Energy =   0.0473
Level     1,  Iter    31:    Energy =   0.0473
Level     1,  Iter    32:    Energy =   0.0473
Level     1,  Iter    33:    Energy =   0.0473
Level     1,  Iter    34:    Energy =   0.0474
Level     1,  Iter    35:    Energy =   0.0474
Level     1,  Iter    36:    Energy =   0.0475
Level     1,  Iter    37:    Energy =   0.0475
Level     1,  Iter    38:    Energy =   0.0475
Level     1,  Iter    39:    Energy =   0.0476
Level     1,  Iter    40:    Energy =   0.0476
Level     1,  Iter    41:    Energy =   0.0477
Level     1,  Iter    42:    Energy =   0.0477
Level     1,  Iter    43:    Energy =   0.0478
Level     1,  Iter    44:    Energy =   0.0478
Level     1,  Iter    45:    Energy =   0.0479
Level     1,  Iter    46:    Energy =   0.0479
Level     1,  Iter    47:    Energy =   0.0480
Level     1,  Iter    48:    Energy =   0.0480
Level     1,  Iter    49:    Energy =   0.0480
Level     1,  Iter    50:    Energy =   0.0481
Level     1,  Iter    51:    Energy =   0.0481
Level     1,  Iter    52:    Energy =   0.0482
Level     1,  Iter    53:    Energy =   0.0482
Level     1,  Iter    54:    Energy =   0.0482
Level     1,  Iter    55:    Energy =   0.0483
Level     1,  Iter    56:    Energy =   0.0483
Level     1,  Iter    57:    Energy =   0.0484
Level     1,  Iter    58:    Energy =   0.0484
Level     1,  Iter    59:    Energy =   0.0484
END OF LEVEL     1    DetJac Range:   0.0411  to   3.2139 
  Avg. Gradient Time  : 0.0297s  33.92% 
  Avg. Gaussian Time  : 0.0458s  52.29% 
  Avg. Iteration Time : 0.0875s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0219
Level     2,  Iter     1:    Energy =   0.0229
Level     2,  Iter     2:    Energy =   0.0238
Level     2,  Iter     3:    Energy =   0.0245
Level     2,  Iter     4:    Energy =   0.0251
Level     2,  Iter     5:    Energy =   0.0257
Level     2,  Iter     6:    Energy =   0.0263
Level     2,  Iter     7:    Energy =   0.0268
Level     2,  Iter     8:    Energy =   0.0273
Level     2,  Iter     9:    Energy =   0.0276
Level     2,  Iter    10:    Energy =   0.0279
Level     2,  Iter    11:    Energy =   0.0282
Level     2,  Iter    12:    Energy =   0.0285
Level     2,  Iter    13:    Energy =   0.0289
Level     2,  Iter    14:    Energy =   0.0290
Level     2,  Iter    15:    Energy =   0.0292
Level     2,  Iter    16:    Energy =   0.0294
Level     2,  Iter    17:    Energy =   0.0295
Level     2,  Iter    18:    Energy =   0.0296
Level     2,  Iter    19:    Energy =   0.0298
END OF LEVEL     2    DetJac Range:   0.0163  to   3.6319 
  Avg. Gradient Time  : 0.1880s  32.12% 
  Avg. Gaussian Time  : 0.3184s  54.39% 
  Avg. Iteration Time : 0.5854s 

real	0m21.170s
user	0m36.824s
sys	0m2.348s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 500.09   GNORM= 225.604
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       300.214     195.560       0.004
   2    4        63.497      13.037       5.000
   3    6         1.723       1.090       5.000
   4    7         0.380       0.088       1.000
   5   10         0.021       0.000      21.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.08979 -0.127464 0.118565 -4.67481 
-0.0573324 1.11841 -0.133062 3.9007 
0.0684694 -0.104319 0.974916 -3.51396 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -162.44   GNORM= 34770.9
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -222.111     827.356       0.000
   2    7      -222.537      85.780       0.000
   3   11      -222.814      86.050       0.968
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09103 -0.128768 0.121319 -4.83532 
-0.0578968 1.11874 -0.133839 3.95452 
0.073759 -0.111002 0.984195 -4.17424 
0 0 0 1 

Final RAS Transform: 
1.09103 -0.128768 0.121319 -4.83532 
-0.0578968 1.11874 -0.133839 3.95452 
0.073759 -0.111002 0.984195 -4.17424 
0 0 0 1 


real	0m3.703s
user	0m6.020s
sys	0m0.284s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.063, moving = 0.34652
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0076
Level     0,  Iter     1:    Energy =   0.0098
Level     0,  Iter     2:    Energy =   0.0122
Level     0,  Iter     3:    Energy =   0.0146
Level     0,  Iter     4:    Energy =   0.0168
Level     0,  Iter     5:    Energy =   0.0181
Level     0,  Iter     6:    Energy =   0.0202
Level     0,  Iter     7:    Energy =   0.0219
Level     0,  Iter     8:    Energy =   0.0231
Level     0,  Iter     9:    Energy =   0.0241
Level     0,  Iter    10:    Energy =   0.0250
Level     0,  Iter    11:    Energy =   0.0260
Level     0,  Iter    12:    Energy =   0.0270
Level     0,  Iter    13:    Energy =   0.0281
Level     0,  Iter    14:    Energy =   0.0291
Level     0,  Iter    15:    Energy =   0.0303
Level     0,  Iter    16:    Energy =   0.0318
Level     0,  Iter    17:    Energy =   0.0330
Level     0,  Iter    18:    Energy =   0.0339
Level     0,  Iter    19:    Energy =   0.0346
Level     0,  Iter    20:    Energy =   0.0351
Level     0,  Iter    21:    Energy =   0.0356
Level     0,  Iter    22:    Energy =   0.0361
Level     0,  Iter    23:    Energy =   0.0364
Level     0,  Iter    24:    Energy =   0.0365
Level     0,  Iter    25:    Energy =   0.0367
Level     0,  Iter    26:    Energy =   0.0368
Level     0,  Iter    27:    Energy =   0.0369
Level     0,  Iter    28:    Energy =   0.0370
Level     0,  Iter    29:    Energy =   0.0371
Level     0,  Iter    30:    Energy =   0.0372
Level     0,  Iter    31:    Energy =   0.0373
Level     0,  Iter    32:    Energy =   0.0374
Level     0,  Iter    33:    Energy =   0.0376
Level     0,  Iter    34:    Energy =   0.0378
Level     0,  Iter    35:    Energy =   0.0380
Level     0,  Iter    36:    Energy =   0.0382
Level     0,  Iter    37:    Energy =   0.0383
Level     0,  Iter    38:    Energy =   0.0384
Level     0,  Iter    39:    Energy =   0.0385
Level     0,  Iter    40:    Energy =   0.0386
Level     0,  Iter    41:    Energy =   0.0388
Level     0,  Iter    42:    Energy =   0.0388
Level     0,  Iter    43:    Energy =   0.0390
Level     0,  Iter    44:    Energy =   0.0391
Level     0,  Iter    45:    Energy =   0.0392
Level     0,  Iter    46:    Energy =   0.0393
Level     0,  Iter    47:    Energy =   0.0394
Level     0,  Iter    48:    Energy =   0.0395
Level     0,  Iter    49:    Energy =   0.0395
Level     0,  Iter    50:    Energy =   0.0395
Level     0,  Iter    51:    Energy =   0.0395
Level     0,  Iter    52:    Energy =   0.0396
Level     0,  Iter    53:    Energy =   0.0396
Level     0,  Iter    54:    Energy =   0.0397
Level     0,  Iter    55:    Energy =   0.0397
Level     0,  Iter    56:    Energy =   0.0398
Level     0,  Iter    57:    Energy =   0.0398
Level     0,  Iter    58:    Energy =   0.0398
Level     0,  Iter    59:    Energy =   0.0398
END OF LEVEL     0    DetJac Range:   0.0507  to   2.5219 
  Avg. Gradient Time  : 0.0071s  33.22% 
  Avg. Gaussian Time  : 0.0102s  47.96% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0245
Level     1,  Iter     1:    Energy =   0.0265
Level     1,  Iter     2:    Energy =   0.0282
Level     1,  Iter     3:    Energy =   0.0295
Level     1,  Iter     4:    Energy =   0.0306
Level     1,  Iter     5:    Energy =   0.0314
Level     1,  Iter     6:    Energy =   0.0322
Level     1,  Iter     7:    Energy =   0.0328
Level     1,  Iter     8:    Energy =   0.0333
Level     1,  Iter     9:    Energy =   0.0338
Level     1,  Iter    10:    Energy =   0.0342
Level     1,  Iter    11:    Energy =   0.0346
Level     1,  Iter    12:    Energy =   0.0350
Level     1,  Iter    13:    Energy =   0.0355
Level     1,  Iter    14:    Energy =   0.0359
Level     1,  Iter    15:    Energy =   0.0363
Level     1,  Iter    16:    Energy =   0.0367
Level     1,  Iter    17:    Energy =   0.0371
Level     1,  Iter    18:    Energy =   0.0374
Level     1,  Iter    19:    Energy =   0.0377
Level     1,  Iter    20:    Energy =   0.0380
Level     1,  Iter    21:    Energy =   0.0383
Level     1,  Iter    22:    Energy =   0.0385
Level     1,  Iter    23:    Energy =   0.0388
Level     1,  Iter    24:    Energy =   0.0391
Level     1,  Iter    25:    Energy =   0.0392
Level     1,  Iter    26:    Energy =   0.0394
Level     1,  Iter    27:    Energy =   0.0396
Level     1,  Iter    28:    Energy =   0.0398
Level     1,  Iter    29:    Energy =   0.0399
Level     1,  Iter    30:    Energy =   0.0400
Level     1,  Iter    31:    Energy =   0.0400
Level     1,  Iter    32:    Energy =   0.0400
Level     1,  Iter    33:    Energy =   0.0401
Level     1,  Iter    34:    Energy =   0.0401
Level     1,  Iter    35:    Energy =   0.0401
Level     1,  Iter    36:    Energy =   0.0402
Level     1,  Iter    37:    Energy =   0.0402
Level     1,  Iter    38:    Energy =   0.0402
Level     1,  Iter    39:    Energy =   0.0403
Level     1,  Iter    40:    Energy =   0.0403
Level     1,  Iter    41:    Energy =   0.0403
Level     1,  Iter    42:    Energy =   0.0403
Level     1,  Iter    43:    Energy =   0.0403
Level     1,  Iter    44:    Energy =   0.0404
Level     1,  Iter    45:    Energy =   0.0404
Level     1,  Iter    46:    Energy =   0.0404
Level     1,  Iter    47:    Energy =   0.0405
Level     1,  Iter    48:    Energy =   0.0405
Level     1,  Iter    49:    Energy =   0.0405
Level     1,  Iter    50:    Energy =   0.0405
Level     1,  Iter    51:    Energy =   0.0406
Level     1,  Iter    52:    Energy =   0.0406
Level     1,  Iter    53:    Energy =   0.0406
Level     1,  Iter    54:    Energy =   0.0407
Level     1,  Iter    55:    Energy =   0.0407
Level     1,  Iter    56:    Energy =   0.0407
Level     1,  Iter    57:    Energy =   0.0407
Level     1,  Iter    58:    Energy =   0.0408
Level     1,  Iter    59:    Energy =   0.0408
END OF LEVEL     1    DetJac Range:   0.0356  to   3.6081 
  Avg. Gradient Time  : 0.0297s  33.79% 
  Avg. Gaussian Time  : 0.0459s  52.26% 
  Avg. Iteration Time : 0.0879s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0188
Level     2,  Iter     1:    Energy =   0.0196
Level     2,  Iter     2:    Energy =   0.0203
Level     2,  Iter     3:    Energy =   0.0209
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0219
Level     2,  Iter     6:    Energy =   0.0224
Level     2,  Iter     7:    Energy =   0.0229
Level     2,  Iter     8:    Energy =   0.0235
Level     2,  Iter     9:    Energy =   0.0239
Level     2,  Iter    10:    Energy =   0.0242
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0251
Level     2,  Iter    14:    Energy =   0.0253
Level     2,  Iter    15:    Energy =   0.0255
Level     2,  Iter    16:    Energy =   0.0256
Level     2,  Iter    17:    Energy =   0.0258
Level     2,  Iter    18:    Energy =   0.0259
Level     2,  Iter    19:    Energy =   0.0261
END OF LEVEL     2    DetJac Range:   0.0275  to   3.2607 
  Avg. Gradient Time  : 0.1889s  32.27% 
  Avg. Gaussian Time  : 0.3187s  54.45% 
  Avg. Iteration Time : 0.5853s 

real	0m21.080s
user	0m36.620s
sys	0m2.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 471.763   GNORM= 141.809
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -247.780     105.528       0.035
   2    5      -273.696      95.205       0.014
   3    6      -488.982      76.254       1.000
   4    7      -623.359      62.972       1.000
   5   10      -623.745      66.367       0.000
   6   11      -730.037      58.879       1.000
   7   15      -738.936      53.557       0.030
   8   16      -754.745      29.662       1.000
   9   17      -758.438      62.406       1.000
  10   18      -764.776      39.057       1.000
  11   19      -775.075      48.312       1.000
  12   21      -779.465      54.898       0.264
  13   23      -811.403      38.571       5.000
  14   26      -870.329      35.168       1.866
  15   30      -918.065      47.537       1.486
  16   35      -927.846      85.171       0.088
  17   38      -928.205      59.690       0.018
  18   40      -992.017     351.459       5.000
  19   46     -1003.952      53.432       0.015
  20   50     -1021.334      75.551       0.919
  21   51     -1068.890     102.011       1.000
  22   52     -1099.353      97.451       1.000
  23   55     -1106.784     104.515       0.037
  24   56     -1129.334      54.582       1.000
  25   57     -1130.389      35.951       1.000
  26   58     -1192.741      65.783       1.000
  27   59     -1221.614      43.793       1.000
Final RAS Transform: 
0.869678 0.372101 -0.11965 -1.73311 
0.611805 0.787369 0.0309389 11.1676 
0.113044 -0.240129 1.0946 -3.59473 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -644.811   GNORM= 173.518
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -645.634      17.407       0.000
   2   17      -645.837      99.975       1.933
   3   21      -647.456      42.053       0.943
   4   22      -651.532     149.782       1.000
   5   23      -677.470      39.634       1.000
   6   25      -678.961      59.173       0.256
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.888209 0.359826 -0.152936 -2.58561 
0.622899 0.760171 0.0339548 11.6698 
0.132935 -0.254856 1.06488 -4.767 
0 0 0 1 

Final RAS Transform: 
0.888209 0.359826 -0.152936 -2.58561 
0.622899 0.760171 0.0339548 11.6698 
0.132935 -0.254856 1.06488 -4.767 
0 0 0 1 


real	0m5.232s
user	0m8.396s
sys	0m0.748s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.356476
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0301
Level     0,  Iter     1:    Energy =   0.0318
Level     0,  Iter     2:    Energy =   0.0343
Level     0,  Iter     3:    Energy =   0.0365
Level     0,  Iter     4:    Energy =   0.0387
Level     0,  Iter     5:    Energy =   0.0402
Level     0,  Iter     6:    Energy =   0.0413
Level     0,  Iter     7:    Energy =   0.0422
Level     0,  Iter     8:    Energy =   0.0429
Level     0,  Iter     9:    Energy =   0.0434
Level     0,  Iter    10:    Energy =   0.0439
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0446
Level     0,  Iter    13:    Energy =   0.0450
Level     0,  Iter    14:    Energy =   0.0453
Level     0,  Iter    15:    Energy =   0.0455
Level     0,  Iter    16:    Energy =   0.0457
Level     0,  Iter    17:    Energy =   0.0458
Level     0,  Iter    18:    Energy =   0.0459
Level     0,  Iter    19:    Energy =   0.0460
Level     0,  Iter    20:    Energy =   0.0461
Level     0,  Iter    21:    Energy =   0.0461
Level     0,  Iter    22:    Energy =   0.0462
Level     0,  Iter    23:    Energy =   0.0463
Level     0,  Iter    24:    Energy =   0.0464
Level     0,  Iter    25:    Energy =   0.0464
Level     0,  Iter    26:    Energy =   0.0465
Level     0,  Iter    27:    Energy =   0.0465
Level     0,  Iter    28:    Energy =   0.0466
Level     0,  Iter    29:    Energy =   0.0466
Level     0,  Iter    30:    Energy =   0.0466
Level     0,  Iter    31:    Energy =   0.0467
Level     0,  Iter    32:    Energy =   0.0467
Level     0,  Iter    33:    Energy =   0.0467
Level     0,  Iter    34:    Energy =   0.0467
Level     0,  Iter    35:    Energy =   0.0467
Level     0,  Iter    36:    Energy =   0.0467
Level     0,  Iter    37:    Energy =   0.0467
Level     0,  Iter    38:    Energy =   0.0467
Level     0,  Iter    39:    Energy =   0.0468
Level     0,  Iter    40:    Energy =   0.0468
Level     0,  Iter    41:    Energy =   0.0468
Level     0,  Iter    42:    Energy =   0.0468
Level     0,  Iter    43:    Energy =   0.0468
Level     0,  Iter    44:    Energy =   0.0468
Level     0,  Iter    45:    Energy =   0.0468
Level     0,  Iter    46:    Energy =   0.0468
Level     0,  Iter    47:    Energy =   0.0468
Level     0,  Iter    48:    Energy =   0.0468
Level     0,  Iter    49:    Energy =   0.0468
Level     0,  Iter    50:    Energy =   0.0468
Level     0,  Iter    51:    Energy =   0.0469
Level     0,  Iter    52:    Energy =   0.0468
Level     0,  Iter    53:    Energy =   0.0468
Level     0,  Iter    54:    Energy =   0.0468
Level     0,  Iter    55:    Energy =   0.0468
Level     0,  Iter    56:    Energy =   0.0468
Level     0,  Iter    57:    Energy =   0.0468
Level     0,  Iter    58:    Energy =   0.0468
Level     0,  Iter    59:    Energy =   0.0468
END OF LEVEL     0    DetJac Range:   0.0374  to   2.6713 
  Avg. Gradient Time  : 0.0070s  33.45% 
  Avg. Gaussian Time  : 0.0101s  48.35% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0264
Level     1,  Iter     1:    Energy =   0.0282
Level     1,  Iter     2:    Energy =   0.0297
Level     1,  Iter     3:    Energy =   0.0306
Level     1,  Iter     4:    Energy =   0.0313
Level     1,  Iter     5:    Energy =   0.0319
Level     1,  Iter     6:    Energy =   0.0326
Level     1,  Iter     7:    Energy =   0.0330
Level     1,  Iter     8:    Energy =   0.0334
Level     1,  Iter     9:    Energy =   0.0338
Level     1,  Iter    10:    Energy =   0.0341
Level     1,  Iter    11:    Energy =   0.0343
Level     1,  Iter    12:    Energy =   0.0345
Level     1,  Iter    13:    Energy =   0.0348
Level     1,  Iter    14:    Energy =   0.0349
Level     1,  Iter    15:    Energy =   0.0351
Level     1,  Iter    16:    Energy =   0.0353
Level     1,  Iter    17:    Energy =   0.0353
Level     1,  Iter    18:    Energy =   0.0353
Level     1,  Iter    19:    Energy =   0.0354
Level     1,  Iter    20:    Energy =   0.0355
Level     1,  Iter    21:    Energy =   0.0357
Level     1,  Iter    22:    Energy =   0.0359
Level     1,  Iter    23:    Energy =   0.0362
Level     1,  Iter    24:    Energy =   0.0364
Level     1,  Iter    25:    Energy =   0.0366
Level     1,  Iter    26:    Energy =   0.0368
Level     1,  Iter    27:    Energy =   0.0370
Level     1,  Iter    28:    Energy =   0.0372
Level     1,  Iter    29:    Energy =   0.0374
Level     1,  Iter    30:    Energy =   0.0376
Level     1,  Iter    31:    Energy =   0.0377
Level     1,  Iter    32:    Energy =   0.0378
Level     1,  Iter    33:    Energy =   0.0380
Level     1,  Iter    34:    Energy =   0.0382
Level     1,  Iter    35:    Energy =   0.0384
Level     1,  Iter    36:    Energy =   0.0385
Level     1,  Iter    37:    Energy =   0.0387
Level     1,  Iter    38:    Energy =   0.0389
Level     1,  Iter    39:    Energy =   0.0390
Level     1,  Iter    40:    Energy =   0.0391
Level     1,  Iter    41:    Energy =   0.0392
Level     1,  Iter    42:    Energy =   0.0393
Level     1,  Iter    43:    Energy =   0.0393
Level     1,  Iter    44:    Energy =   0.0394
Level     1,  Iter    45:    Energy =   0.0394
Level     1,  Iter    46:    Energy =   0.0395
Level     1,  Iter    47:    Energy =   0.0396
Level     1,  Iter    48:    Energy =   0.0397
Level     1,  Iter    49:    Energy =   0.0397
Level     1,  Iter    50:    Energy =   0.0398
Level     1,  Iter    51:    Energy =   0.0397
Level     1,  Iter    52:    Energy =   0.0398
Level     1,  Iter    53:    Energy =   0.0399
Level     1,  Iter    54:    Energy =   0.0399
Level     1,  Iter    55:    Energy =   0.0399
Level     1,  Iter    56:    Energy =   0.0400
Level     1,  Iter    57:    Energy =   0.0400
Level     1,  Iter    58:    Energy =   0.0401
Level     1,  Iter    59:    Energy =   0.0401
END OF LEVEL     1    DetJac Range:   0.0088  to   3.3487 
  Avg. Gradient Time  : 0.0299s  34.41% 
  Avg. Gaussian Time  : 0.0448s  51.65% 
  Avg. Iteration Time : 0.0868s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0196
Level     2,  Iter     1:    Energy =   0.0202
Level     2,  Iter     2:    Energy =   0.0207
Level     2,  Iter     3:    Energy =   0.0212
Level     2,  Iter     4:    Energy =   0.0217
Level     2,  Iter     5:    Energy =   0.0222
Level     2,  Iter     6:    Energy =   0.0227
Level     2,  Iter     7:    Energy =   0.0231
Level     2,  Iter     8:    Energy =   0.0235
Level     2,  Iter     9:    Energy =   0.0239
Level     2,  Iter    10:    Energy =   0.0242
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0252
Level     2,  Iter    15:    Energy =   0.0254
Level     2,  Iter    16:    Energy =   0.0255
Level     2,  Iter    17:    Energy =   0.0257
Level     2,  Iter    18:    Energy =   0.0258
Level     2,  Iter    19:    Energy =   0.0259
END OF LEVEL     2    DetJac Range:   0.0132  to   3.3520 
  Avg. Gradient Time  : 0.1906s  32.91% 
  Avg. Gaussian Time  : 0.3108s  53.65% 
  Avg. Iteration Time : 0.5792s 

real	0m20.883s
user	0m36.148s
sys	0m2.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 473.876   GNORM= 220.548
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       273.032     170.406       0.005
   2    3      -318.964     140.873       1.000
   3    5      -673.889      65.950       0.271
   4    6      -698.665      59.459       1.000
   5   16      -823.187      56.568       2.290
   6   18      -829.909      63.011       0.261
   7   20      -845.633      41.741       0.281
   8   24      -853.346      80.219       1.351
   9   25      -857.823      54.771       1.000
  10   29      -869.287     309.218       1.220
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.960734 0.11066 -0.183984 2.71484 
0.125639 1.1501 -0.317987 7.61037 
-0.067003 -0.116254 1.04758 -3.60233 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -380.934   GNORM= 98.2334
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -391.171      51.545       0.002
   2    5      -393.009     268.723       5.000
   3    6      -409.866     141.892       1.000
   4   12      -417.144     344.339       0.541
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.960273 0.110974 -0.181698 2.70823 
0.125405 1.1478 -0.315561 7.58224 
-0.0625283 -0.113725 1.03928 -2.8038 
0 0 0 1 

Final RAS Transform: 
0.960273 0.110974 -0.181698 2.70823 
0.125405 1.1478 -0.315561 7.58224 
-0.0625283 -0.113725 1.03928 -2.8038 
0 0 0 1 


real	0m4.192s
user	0m6.628s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.428685
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0210
Level     0,  Iter     1:    Energy =   0.0232
Level     0,  Iter     2:    Energy =   0.0255
Level     0,  Iter     3:    Energy =   0.0279
Level     0,  Iter     4:    Energy =   0.0297
Level     0,  Iter     5:    Energy =   0.0310
Level     0,  Iter     6:    Energy =   0.0319
Level     0,  Iter     7:    Energy =   0.0324
Level     0,  Iter     8:    Energy =   0.0329
Level     0,  Iter     9:    Energy =   0.0335
Level     0,  Iter    10:    Energy =   0.0341
Level     0,  Iter    11:    Energy =   0.0348
Level     0,  Iter    12:    Energy =   0.0355
Level     0,  Iter    13:    Energy =   0.0360
Level     0,  Iter    14:    Energy =   0.0364
Level     0,  Iter    15:    Energy =   0.0369
Level     0,  Iter    16:    Energy =   0.0374
Level     0,  Iter    17:    Energy =   0.0378
Level     0,  Iter    18:    Energy =   0.0382
Level     0,  Iter    19:    Energy =   0.0385
Level     0,  Iter    20:    Energy =   0.0386
Level     0,  Iter    21:    Energy =   0.0387
Level     0,  Iter    22:    Energy =   0.0387
Level     0,  Iter    23:    Energy =   0.0388
Level     0,  Iter    24:    Energy =   0.0388
Level     0,  Iter    25:    Energy =   0.0388
Level     0,  Iter    26:    Energy =   0.0389
Level     0,  Iter    27:    Energy =   0.0389
Level     0,  Iter    28:    Energy =   0.0390
Level     0,  Iter    29:    Energy =   0.0391
Level     0,  Iter    30:    Energy =   0.0392
Level     0,  Iter    31:    Energy =   0.0393
Level     0,  Iter    32:    Energy =   0.0393
Level     0,  Iter    33:    Energy =   0.0394
Level     0,  Iter    34:    Energy =   0.0395
Level     0,  Iter    35:    Energy =   0.0395
Level     0,  Iter    36:    Energy =   0.0396
Level     0,  Iter    37:    Energy =   0.0396
Level     0,  Iter    38:    Energy =   0.0397
Level     0,  Iter    39:    Energy =   0.0397
Level     0,  Iter    40:    Energy =   0.0397
Level     0,  Iter    41:    Energy =   0.0397
Level     0,  Iter    42:    Energy =   0.0397
Level     0,  Iter    43:    Energy =   0.0397
Level     0,  Iter    44:    Energy =   0.0398
Level     0,  Iter    45:    Energy =   0.0398
Level     0,  Iter    46:    Energy =   0.0399
Level     0,  Iter    47:    Energy =   0.0399
Level     0,  Iter    48:    Energy =   0.0399
Level     0,  Iter    49:    Energy =   0.0399
Level     0,  Iter    50:    Energy =   0.0400
Level     0,  Iter    51:    Energy =   0.0400
Level     0,  Iter    52:    Energy =   0.0400
Level     0,  Iter    53:    Energy =   0.0400
Level     0,  Iter    54:    Energy =   0.0400
Level     0,  Iter    55:    Energy =   0.0400
Level     0,  Iter    56:    Energy =   0.0400
Level     0,  Iter    57:    Energy =   0.0400
Level     0,  Iter    58:    Energy =   0.0400
Level     0,  Iter    59:    Energy =   0.0401
END OF LEVEL     0    DetJac Range:   0.0835  to   2.4042 
  Avg. Gradient Time  : 0.0072s  33.48% 
  Avg. Gaussian Time  : 0.0103s  48.14% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0200
Level     1,  Iter     1:    Energy =   0.0212
Level     1,  Iter     2:    Energy =   0.0223
Level     1,  Iter     3:    Energy =   0.0233
Level     1,  Iter     4:    Energy =   0.0240
Level     1,  Iter     5:    Energy =   0.0246
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0257
Level     1,  Iter     8:    Energy =   0.0263
Level     1,  Iter     9:    Energy =   0.0268
Level     1,  Iter    10:    Energy =   0.0275
Level     1,  Iter    11:    Energy =   0.0281
Level     1,  Iter    12:    Energy =   0.0286
Level     1,  Iter    13:    Energy =   0.0291
Level     1,  Iter    14:    Energy =   0.0295
Level     1,  Iter    15:    Energy =   0.0298
Level     1,  Iter    16:    Energy =   0.0302
Level     1,  Iter    17:    Energy =   0.0305
Level     1,  Iter    18:    Energy =   0.0308
Level     1,  Iter    19:    Energy =   0.0310
Level     1,  Iter    20:    Energy =   0.0313
Level     1,  Iter    21:    Energy =   0.0315
Level     1,  Iter    22:    Energy =   0.0317
Level     1,  Iter    23:    Energy =   0.0319
Level     1,  Iter    24:    Energy =   0.0322
Level     1,  Iter    25:    Energy =   0.0324
Level     1,  Iter    26:    Energy =   0.0326
Level     1,  Iter    27:    Energy =   0.0328
Level     1,  Iter    28:    Energy =   0.0330
Level     1,  Iter    29:    Energy =   0.0332
Level     1,  Iter    30:    Energy =   0.0334
Level     1,  Iter    31:    Energy =   0.0335
Level     1,  Iter    32:    Energy =   0.0337
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0340
Level     1,  Iter    35:    Energy =   0.0342
Level     1,  Iter    36:    Energy =   0.0344
Level     1,  Iter    37:    Energy =   0.0346
Level     1,  Iter    38:    Energy =   0.0347
Level     1,  Iter    39:    Energy =   0.0349
Level     1,  Iter    40:    Energy =   0.0350
Level     1,  Iter    41:    Energy =   0.0351
Level     1,  Iter    42:    Energy =   0.0351
Level     1,  Iter    43:    Energy =   0.0351
Level     1,  Iter    44:    Energy =   0.0351
Level     1,  Iter    45:    Energy =   0.0350
Level     1,  Iter    46:    Energy =   0.0350
Level     1,  Iter    47:    Energy =   0.0350
Level     1,  Iter    48:    Energy =   0.0350
Level     1,  Iter    49:    Energy =   0.0350
Level     1,  Iter    50:    Energy =   0.0350
Level     1,  Iter    51:    Energy =   0.0351
Level     1,  Iter    52:    Energy =   0.0352
Level     1,  Iter    53:    Energy =   0.0353
Level     1,  Iter    54:    Energy =   0.0354
Level     1,  Iter    55:    Energy =   0.0355
Level     1,  Iter    56:    Energy =   0.0356
Level     1,  Iter    57:    Energy =   0.0357
Level     1,  Iter    58:    Energy =   0.0359
Level     1,  Iter    59:    Energy =   0.0360
END OF LEVEL     1    DetJac Range:   0.0486  to   2.7156 
  Avg. Gradient Time  : 0.0297s  34.64% 
  Avg. Gaussian Time  : 0.0442s  51.60% 
  Avg. Iteration Time : 0.0857s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0173
Level     2,  Iter     2:    Energy =   0.0176
Level     2,  Iter     3:    Energy =   0.0181
Level     2,  Iter     4:    Energy =   0.0187
Level     2,  Iter     5:    Energy =   0.0193
Level     2,  Iter     6:    Energy =   0.0198
Level     2,  Iter     7:    Energy =   0.0202
Level     2,  Iter     8:    Energy =   0.0206
Level     2,  Iter     9:    Energy =   0.0209
Level     2,  Iter    10:    Energy =   0.0211
Level     2,  Iter    11:    Energy =   0.0214
Level     2,  Iter    12:    Energy =   0.0215
Level     2,  Iter    13:    Energy =   0.0217
Level     2,  Iter    14:    Energy =   0.0219
Level     2,  Iter    15:    Energy =   0.0220
Level     2,  Iter    16:    Energy =   0.0221
Level     2,  Iter    17:    Energy =   0.0222
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0224
END OF LEVEL     2    DetJac Range:   0.0251  to   3.0463 
  Avg. Gradient Time  : 0.1896s  32.90% 
  Avg. Gaussian Time  : 0.3095s  53.70% 
  Avg. Iteration Time : 0.5763s 

real	0m20.759s
user	0m35.884s
sys	0m2.512s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 648.751   GNORM= 147.66
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        67.537     174.061       0.034
   2    4      -440.886      20.666       1.000
   3    6      -442.824      22.427       0.142
   4    8      -444.193      29.699       0.266
   5    9      -452.100      22.338       1.000
   6   10      -454.339      17.922       1.000
   7   13      -454.823      17.884       0.102
   8   14      -455.221      11.384       1.000
   9   15      -457.384       8.655       1.000
  10   18      -469.129      26.692       2.459
  11   19      -488.545      19.394       1.000
  12   21      -494.516      29.957       0.118
  13   22      -511.202      71.235       1.000
  14   24      -540.555      58.225       0.274
  15   25      -765.711      79.467       1.000
  16   32      -765.921      83.723       0.000
  17   34      -766.752     132.457       5.000
  18   35      -851.169      89.803       1.000
  19   37      -987.680      52.302       0.347
  20   39     -1005.190     316.546       0.111
  21   41     -1030.942      50.627       0.144
  22   42     -1036.291      58.690       1.000
  23   45     -1052.201      63.975       0.963
  24   46     -1076.542      80.346       1.000
  25   48     -1076.952      43.827       0.327
  26   52     -1090.417      75.931       1.490
  27   53     -1106.958      36.496       1.000
  28   55     -1120.847      20.843       0.526
  29   56     -1130.860      24.483       1.000
  30   58     -1179.043      71.585       5.000
  31   59     -1354.429      71.118       1.000
  32   60     -1377.726      57.468       1.000
Final RAS Transform: 
0.916829 1.42613 -0.168769 -19.5526 
0.49375 1.08141 -0.402882 3.7901 
-0.165409 -0.531117 0.603045 -0.10401 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -606.566   GNORM= 77.9113
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -667.045     185.834       0.013
   2    5      -667.247      25.288       0.013
   3    7      -668.257      26.318       0.490
   4    8      -669.678     452.759       1.000
   5    9      -672.919      39.055       1.000
   6   11      -678.105      31.376       5.000
   7   13      -678.732      23.108       0.035
   8   15      -679.503      26.620       0.153
   9   17      -680.210      61.189       0.396
  10   19      -689.896      38.715       5.000
  11   22      -706.905      63.846       0.550
  12   26      -706.968      48.627       0.006
  13   27      -711.705      45.321       1.000
  14   33      -717.830      37.053       0.042
  15   36      -724.312      38.315       0.979
  16   37      -729.760      22.228       1.000
  17   38      -732.920      25.326       1.000
  18   39      -738.033      67.615       1.000
  19   40      -746.227      16.961       1.000
  20   45      -752.071      43.272       7.576
  21   50      -760.731     155.288       3.317
Final RAS Transform: 
0.913399 1.4368 -0.215354 -16.7715 
0.496134 1.06826 -0.382649 4.97761 
-0.201422 -0.55177 0.623405 -2.97695 
0 0 0 1 

Final RAS Transform: 
0.913399 1.4368 -0.215354 -16.7715 
0.496134 1.06826 -0.382649 4.97761 
-0.201422 -0.55177 0.623405 -2.97695 
0 0 0 1 


real	0m6.148s
user	0m10.276s
sys	0m0.652s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.472147
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0341
Level     0,  Iter     1:    Energy =   0.0356
Level     0,  Iter     2:    Energy =   0.0371
Level     0,  Iter     3:    Energy =   0.0383
Level     0,  Iter     4:    Energy =   0.0398
Level     0,  Iter     5:    Energy =   0.0409
Level     0,  Iter     6:    Energy =   0.0416
Level     0,  Iter     7:    Energy =   0.0422
Level     0,  Iter     8:    Energy =   0.0428
Level     0,  Iter     9:    Energy =   0.0432
Level     0,  Iter    10:    Energy =   0.0437
Level     0,  Iter    11:    Energy =   0.0441
Level     0,  Iter    12:    Energy =   0.0445
Level     0,  Iter    13:    Energy =   0.0448
Level     0,  Iter    14:    Energy =   0.0451
Level     0,  Iter    15:    Energy =   0.0455
Level     0,  Iter    16:    Energy =   0.0458
Level     0,  Iter    17:    Energy =   0.0462
Level     0,  Iter    18:    Energy =   0.0466
Level     0,  Iter    19:    Energy =   0.0471
Level     0,  Iter    20:    Energy =   0.0477
Level     0,  Iter    21:    Energy =   0.0482
Level     0,  Iter    22:    Energy =   0.0486
Level     0,  Iter    23:    Energy =   0.0490
Level     0,  Iter    24:    Energy =   0.0493
Level     0,  Iter    25:    Energy =   0.0496
Level     0,  Iter    26:    Energy =   0.0501
Level     0,  Iter    27:    Energy =   0.0503
Level     0,  Iter    28:    Energy =   0.0507
Level     0,  Iter    29:    Energy =   0.0508
Level     0,  Iter    30:    Energy =   0.0511
Level     0,  Iter    31:    Energy =   0.0511
Level     0,  Iter    32:    Energy =   0.0515
Level     0,  Iter    33:    Energy =   0.0514
Level     0,  Iter    34:    Energy =   0.0518
Level     0,  Iter    35:    Energy =   0.0516
Level     0,  Iter    36:    Energy =   0.0520
Level     0,  Iter    37:    Energy =   0.0518
Level     0,  Iter    38:    Energy =   0.0522
Level     0,  Iter    39:    Energy =   0.0520
Level     0,  Iter    40:    Energy =   0.0523
Level     0,  Iter    41:    Energy =   0.0521
Level     0,  Iter    42:    Energy =   0.0524
Level     0,  Iter    43:    Energy =   0.0521
Level     0,  Iter    44:    Energy =   0.0523
Level     0,  Iter    45:    Energy =   0.0521
Level     0,  Iter    46:    Energy =   0.0524
Level     0,  Iter    47:    Energy =   0.0521
Level     0,  Iter    48:    Energy =   0.0524
Level     0,  Iter    49:    Energy =   0.0522
Level     0,  Iter    50:    Energy =   0.0525
Level     0,  Iter    51:    Energy =   0.0523
Level     0,  Iter    52:    Energy =   0.0526
Level     0,  Iter    53:    Energy =   0.0525
Level     0,  Iter    54:    Energy =   0.0527
Level     0,  Iter    55:    Energy =   0.0526
Level     0,  Iter    56:    Energy =   0.0527
Level     0,  Iter    57:    Energy =   0.0526
Level     0,  Iter    58:    Energy =   0.0529
Level     0,  Iter    59:    Energy =   0.0528
END OF LEVEL     0    DetJac Range:   0.1697  to   2.2605 
  Avg. Gradient Time  : 0.0070s  33.27% 
  Avg. Gaussian Time  : 0.0101s  48.39% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0321
Level     1,  Iter     1:    Energy =   0.0337
Level     1,  Iter     2:    Energy =   0.0352
Level     1,  Iter     3:    Energy =   0.0365
Level     1,  Iter     4:    Energy =   0.0374
Level     1,  Iter     5:    Energy =   0.0382
Level     1,  Iter     6:    Energy =   0.0387
Level     1,  Iter     7:    Energy =   0.0392
Level     1,  Iter     8:    Energy =   0.0396
Level     1,  Iter     9:    Energy =   0.0400
Level     1,  Iter    10:    Energy =   0.0404
Level     1,  Iter    11:    Energy =   0.0407
Level     1,  Iter    12:    Energy =   0.0411
Level     1,  Iter    13:    Energy =   0.0416
Level     1,  Iter    14:    Energy =   0.0421
Level     1,  Iter    15:    Energy =   0.0425
Level     1,  Iter    16:    Energy =   0.0429
Level     1,  Iter    17:    Energy =   0.0432
Level     1,  Iter    18:    Energy =   0.0434
Level     1,  Iter    19:    Energy =   0.0436
Level     1,  Iter    20:    Energy =   0.0438
Level     1,  Iter    21:    Energy =   0.0439
Level     1,  Iter    22:    Energy =   0.0441
Level     1,  Iter    23:    Energy =   0.0442
Level     1,  Iter    24:    Energy =   0.0443
Level     1,  Iter    25:    Energy =   0.0444
Level     1,  Iter    26:    Energy =   0.0444
Level     1,  Iter    27:    Energy =   0.0445
Level     1,  Iter    28:    Energy =   0.0445
Level     1,  Iter    29:    Energy =   0.0446
Level     1,  Iter    30:    Energy =   0.0447
Level     1,  Iter    31:    Energy =   0.0447
Level     1,  Iter    32:    Energy =   0.0447
Level     1,  Iter    33:    Energy =   0.0448
Level     1,  Iter    34:    Energy =   0.0448
Level     1,  Iter    35:    Energy =   0.0449
Level     1,  Iter    36:    Energy =   0.0450
Level     1,  Iter    37:    Energy =   0.0450
Level     1,  Iter    38:    Energy =   0.0451
Level     1,  Iter    39:    Energy =   0.0451
Level     1,  Iter    40:    Energy =   0.0452
Level     1,  Iter    41:    Energy =   0.0452
Level     1,  Iter    42:    Energy =   0.0452
Level     1,  Iter    43:    Energy =   0.0453
Level     1,  Iter    44:    Energy =   0.0453
Level     1,  Iter    45:    Energy =   0.0454
Level     1,  Iter    46:    Energy =   0.0454
Level     1,  Iter    47:    Energy =   0.0455
Level     1,  Iter    48:    Energy =   0.0455
Level     1,  Iter    49:    Energy =   0.0455
Level     1,  Iter    50:    Energy =   0.0456
Level     1,  Iter    51:    Energy =   0.0456
Level     1,  Iter    52:    Energy =   0.0456
Level     1,  Iter    53:    Energy =   0.0457
Level     1,  Iter    54:    Energy =   0.0457
Level     1,  Iter    55:    Energy =   0.0457
Level     1,  Iter    56:    Energy =   0.0458
Level     1,  Iter    57:    Energy =   0.0458
Level     1,  Iter    58:    Energy =   0.0458
Level     1,  Iter    59:    Energy =   0.0458
END OF LEVEL     1    DetJac Range:   0.1074  to   2.4723 
  Avg. Gradient Time  : 0.0294s  34.39% 
  Avg. Gaussian Time  : 0.0441s  51.54% 
  Avg. Iteration Time : 0.0855s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0215
Level     2,  Iter     1:    Energy =   0.0223
Level     2,  Iter     2:    Energy =   0.0230
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0241
Level     2,  Iter     5:    Energy =   0.0244
Level     2,  Iter     6:    Energy =   0.0248
Level     2,  Iter     7:    Energy =   0.0250
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0254
Level     2,  Iter    10:    Energy =   0.0256
Level     2,  Iter    11:    Energy =   0.0258
Level     2,  Iter    12:    Energy =   0.0260
Level     2,  Iter    13:    Energy =   0.0261
Level     2,  Iter    14:    Energy =   0.0262
Level     2,  Iter    15:    Energy =   0.0264
Level     2,  Iter    16:    Energy =   0.0265
Level     2,  Iter    17:    Energy =   0.0266
Level     2,  Iter    18:    Energy =   0.0267
Level     2,  Iter    19:    Energy =   0.0267
END OF LEVEL     2    DetJac Range:   0.0697  to   2.2153 
  Avg. Gradient Time  : 0.1895s  32.77% 
  Avg. Gaussian Time  : 0.3107s  53.74% 
  Avg. Iteration Time : 0.5782s 

real	0m20.778s
user	0m36.092s
sys	0m2.344s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 572.948   GNORM= 185.823
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -297.422      97.193       0.113
   2    5      -356.284      76.734       1.000
   3    8      -356.399      51.094       0.000
   4   10      -465.222      38.519       5.000
   5   14      -476.171      52.298       0.207
   6   15      -499.991      58.289       1.000
   7   16      -503.162      61.612       1.000
   8   21      -505.153      46.752       0.126
   9   26      -724.979      62.375       9.158
  10   30      -741.627      39.378       0.143
  11   35      -773.176      49.327       0.963
  12   37      -801.665     130.264       0.096
  13   40      -869.731    2033.892       0.127
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.802781 0.11702 -0.303208 1.93289 
0.249449 0.864876 -0.375905 9.61958 
-0.288729 0.0871066 1.50445 -2.47503 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -388.11   GNORM= 10139.7
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -392.023   14981.752       0.000
   2   12      -394.204    2716.456       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.802739 0.116938 -0.303133 1.9232 
0.249401 0.864489 -0.375127 9.5793 
-0.288623 0.087172 1.50431 -2.4593 
0 0 0 1 

Final RAS Transform: 
0.802739 0.116938 -0.303133 1.9232 
0.249401 0.864489 -0.375127 9.5793 
-0.288623 0.087172 1.50431 -2.4593 
0 0 0 1 


real	0m4.316s
user	0m6.860s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.432943
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0211
Level     0,  Iter     1:    Energy =   0.0229
Level     0,  Iter     2:    Energy =   0.0247
Level     0,  Iter     3:    Energy =   0.0266
Level     0,  Iter     4:    Energy =   0.0275
Level     0,  Iter     5:    Energy =   0.0287
Level     0,  Iter     6:    Energy =   0.0292
Level     0,  Iter     7:    Energy =   0.0299
Level     0,  Iter     8:    Energy =   0.0308
Level     0,  Iter     9:    Energy =   0.0317
Level     0,  Iter    10:    Energy =   0.0325
Level     0,  Iter    11:    Energy =   0.0333
Level     0,  Iter    12:    Energy =   0.0340
Level     0,  Iter    13:    Energy =   0.0345
Level     0,  Iter    14:    Energy =   0.0349
Level     0,  Iter    15:    Energy =   0.0354
Level     0,  Iter    16:    Energy =   0.0357
Level     0,  Iter    17:    Energy =   0.0361
Level     0,  Iter    18:    Energy =   0.0364
Level     0,  Iter    19:    Energy =   0.0367
Level     0,  Iter    20:    Energy =   0.0371
Level     0,  Iter    21:    Energy =   0.0374
Level     0,  Iter    22:    Energy =   0.0377
Level     0,  Iter    23:    Energy =   0.0380
Level     0,  Iter    24:    Energy =   0.0383
Level     0,  Iter    25:    Energy =   0.0386
Level     0,  Iter    26:    Energy =   0.0388
Level     0,  Iter    27:    Energy =   0.0391
Level     0,  Iter    28:    Energy =   0.0393
Level     0,  Iter    29:    Energy =   0.0394
Level     0,  Iter    30:    Energy =   0.0397
Level     0,  Iter    31:    Energy =   0.0399
Level     0,  Iter    32:    Energy =   0.0401
Level     0,  Iter    33:    Energy =   0.0400
Level     0,  Iter    34:    Energy =   0.0403
Level     0,  Iter    35:    Energy =   0.0404
Level     0,  Iter    36:    Energy =   0.0403
Level     0,  Iter    37:    Energy =   0.0402
Level     0,  Iter    38:    Energy =   0.0405
Level     0,  Iter    39:    Energy =   0.0407
Level     0,  Iter    40:    Energy =   0.0407
Level     0,  Iter    41:    Energy =   0.0409
Level     0,  Iter    42:    Energy =   0.0409
Level     0,  Iter    43:    Energy =   0.0411
Level     0,  Iter    44:    Energy =   0.0411
Level     0,  Iter    45:    Energy =   0.0412
Level     0,  Iter    46:    Energy =   0.0414
Level     0,  Iter    47:    Energy =   0.0415
Level     0,  Iter    48:    Energy =   0.0415
Level     0,  Iter    49:    Energy =   0.0416
Level     0,  Iter    50:    Energy =   0.0416
Level     0,  Iter    51:    Energy =   0.0418
Level     0,  Iter    52:    Energy =   0.0417
Level     0,  Iter    53:    Energy =   0.0419
Level     0,  Iter    54:    Energy =   0.0418
Level     0,  Iter    55:    Energy =   0.0421
Level     0,  Iter    56:    Energy =   0.0420
Level     0,  Iter    57:    Energy =   0.0422
Level     0,  Iter    58:    Energy =   0.0424
Level     0,  Iter    59:    Energy =   0.0426
END OF LEVEL     0    DetJac Range:   0.0478  to   2.0075 
  Avg. Gradient Time  : 0.0069s  33.34% 
  Avg. Gaussian Time  : 0.0101s  48.39% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0195
Level     1,  Iter     1:    Energy =   0.0201
Level     1,  Iter     2:    Energy =   0.0206
Level     1,  Iter     3:    Energy =   0.0215
Level     1,  Iter     4:    Energy =   0.0219
Level     1,  Iter     5:    Energy =   0.0224
Level     1,  Iter     6:    Energy =   0.0229
Level     1,  Iter     7:    Energy =   0.0233
Level     1,  Iter     8:    Energy =   0.0237
Level     1,  Iter     9:    Energy =   0.0241
Level     1,  Iter    10:    Energy =   0.0244
Level     1,  Iter    11:    Energy =   0.0247
Level     1,  Iter    12:    Energy =   0.0250
Level     1,  Iter    13:    Energy =   0.0253
Level     1,  Iter    14:    Energy =   0.0256
Level     1,  Iter    15:    Energy =   0.0259
Level     1,  Iter    16:    Energy =   0.0261
Level     1,  Iter    17:    Energy =   0.0263
Level     1,  Iter    18:    Energy =   0.0266
Level     1,  Iter    19:    Energy =   0.0267
Level     1,  Iter    20:    Energy =   0.0269
Level     1,  Iter    21:    Energy =   0.0270
Level     1,  Iter    22:    Energy =   0.0271
Level     1,  Iter    23:    Energy =   0.0272
Level     1,  Iter    24:    Energy =   0.0273
Level     1,  Iter    25:    Energy =   0.0273
Level     1,  Iter    26:    Energy =   0.0274
Level     1,  Iter    27:    Energy =   0.0275
Level     1,  Iter    28:    Energy =   0.0275
Level     1,  Iter    29:    Energy =   0.0276
Level     1,  Iter    30:    Energy =   0.0277
Level     1,  Iter    31:    Energy =   0.0277
Level     1,  Iter    32:    Energy =   0.0277
Level     1,  Iter    33:    Energy =   0.0277
Level     1,  Iter    34:    Energy =   0.0277
Level     1,  Iter    35:    Energy =   0.0277
Level     1,  Iter    36:    Energy =   0.0277
Level     1,  Iter    37:    Energy =   0.0277
Level     1,  Iter    38:    Energy =   0.0277
Level     1,  Iter    39:    Energy =   0.0276
Level     1,  Iter    40:    Energy =   0.0276
Level     1,  Iter    41:    Energy =   0.0276
Level     1,  Iter    42:    Energy =   0.0276
Level     1,  Iter    43:    Energy =   0.0275
Level     1,  Iter    44:    Energy =   0.0275
Level     1,  Iter    45:    Energy =   0.0275
Level     1,  Iter    46:    Energy =   0.0274
Level     1,  Iter    47:    Energy =   0.0274
Level     1,  Iter    48:    Energy =   0.0273
Level     1,  Iter    49:    Energy =   0.0273
Level     1,  Iter    50:    Energy =   0.0272
Level     1,  Iter    51:    Energy =   0.0272
Level     1,  Iter    52:    Energy =   0.0272
Level     1,  Iter    53:    Energy =   0.0272
Level     1,  Iter    54:    Energy =   0.0272
Level     1,  Iter    55:    Energy =   0.0272
Level     1,  Iter    56:    Energy =   0.0272
Level     1,  Iter    57:    Energy =   0.0272
Level     1,  Iter    58:    Energy =   0.0272
Level     1,  Iter    59:    Energy =   0.0272
END OF LEVEL     1    DetJac Range:   0.0203  to   1.9245 
  Avg. Gradient Time  : 0.0291s  34.32% 
  Avg. Gaussian Time  : 0.0438s  51.71% 
  Avg. Iteration Time : 0.0847s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0119
Level     2,  Iter     1:    Energy =   0.0125
Level     2,  Iter     2:    Energy =   0.0129
Level     2,  Iter     3:    Energy =   0.0130
Level     2,  Iter     4:    Energy =   0.0130
Level     2,  Iter     5:    Energy =   0.0135
Level     2,  Iter     6:    Energy =   0.0138
Level     2,  Iter     7:    Energy =   0.0141
Level     2,  Iter     8:    Energy =   0.0144
Level     2,  Iter     9:    Energy =   0.0148
Level     2,  Iter    10:    Energy =   0.0151
Level     2,  Iter    11:    Energy =   0.0153
Level     2,  Iter    12:    Energy =   0.0155
Level     2,  Iter    13:    Energy =   0.0158
Level     2,  Iter    14:    Energy =   0.0160
Level     2,  Iter    15:    Energy =   0.0162
Level     2,  Iter    16:    Energy =   0.0164
Level     2,  Iter    17:    Energy =   0.0166
Level     2,  Iter    18:    Energy =   0.0168
Level     2,  Iter    19:    Energy =   0.0169
END OF LEVEL     2    DetJac Range:   0.0143  to   2.3528 
  Avg. Gradient Time  : 0.1919s  32.96% 
  Avg. Gaussian Time  : 0.3126s  53.70% 
  Avg. Iteration Time : 0.5822s 

real	0m20.766s
user	0m35.960s
sys	0m2.448s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 646.399   GNORM= 178.924
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       199.976     119.544       0.028
   2    4        33.667      63.671       1.000
   3    5         4.789      54.668       1.000
   4    6       -30.550      42.085       1.000
   5    8       -42.082      31.993       0.218
   6    9       -62.862      66.033       1.000
   7   13      -458.426      87.630       0.623
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994673 -0.0939374 0.110738 10.7515 
0.255006 1.42785 0.122854 14.1418 
0.0954425 -0.16835 1.33938 -12.2338 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -103.55   GNORM= 177.121
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -162.264     254.382       0.028
   2    4      -191.669     127.223       1.000
   3    5      -198.190      96.421       1.000
   4    8      -198.347     210.237       0.007
   5    9      -200.323     225.261       1.000
   6   14      -201.034     189.667       0.011
   7   16      -202.100      14.361       0.277
   8   17      -202.223      19.796       1.000
   9   23      -203.548      11.424       5.695
  10   35      -204.899      12.795       1.000
  11   41      -204.938       8.058       0.005
  12   46      -205.090      10.811       0.933
Final RAS Transform: 
1.00503 -0.0805464 0.102864 11.3292 
0.24982 1.41166 0.154258 11.5456 
0.0966455 -0.179513 1.36948 -14.5344 
0 0 0 1 

Final RAS Transform: 
1.00503 -0.0805464 0.102864 11.3292 
0.24982 1.41166 0.154258 11.5456 
0.0966455 -0.179513 1.36948 -14.5344 
0 0 0 1 


real	0m5.572s
user	0m9.192s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.337749
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0113
Level     0,  Iter     1:    Energy =   0.0122
Level     0,  Iter     2:    Energy =   0.0134
Level     0,  Iter     3:    Energy =   0.0149
Level     0,  Iter     4:    Energy =   0.0161
Level     0,  Iter     5:    Energy =   0.0168
Level     0,  Iter     6:    Energy =   0.0177
Level     0,  Iter     7:    Energy =   0.0181
Level     0,  Iter     8:    Energy =   0.0186
Level     0,  Iter     9:    Energy =   0.0189
Level     0,  Iter    10:    Energy =   0.0193
Level     0,  Iter    11:    Energy =   0.0195
Level     0,  Iter    12:    Energy =   0.0198
Level     0,  Iter    13:    Energy =   0.0201
Level     0,  Iter    14:    Energy =   0.0204
Level     0,  Iter    15:    Energy =   0.0205
Level     0,  Iter    16:    Energy =   0.0207
Level     0,  Iter    17:    Energy =   0.0210
Level     0,  Iter    18:    Energy =   0.0213
Level     0,  Iter    19:    Energy =   0.0215
Level     0,  Iter    20:    Energy =   0.0216
Level     0,  Iter    21:    Energy =   0.0218
Level     0,  Iter    22:    Energy =   0.0221
Level     0,  Iter    23:    Energy =   0.0222
Level     0,  Iter    24:    Energy =   0.0226
Level     0,  Iter    25:    Energy =   0.0226
Level     0,  Iter    26:    Energy =   0.0227
Level     0,  Iter    27:    Energy =   0.0229
Level     0,  Iter    28:    Energy =   0.0229
Level     0,  Iter    29:    Energy =   0.0232
Level     0,  Iter    30:    Energy =   0.0233
Level     0,  Iter    31:    Energy =   0.0235
Level     0,  Iter    32:    Energy =   0.0241
Level     0,  Iter    33:    Energy =   0.0241
Level     0,  Iter    34:    Energy =   0.0242
Level     0,  Iter    35:    Energy =   0.0249
Level     0,  Iter    36:    Energy =   0.0248
Level     0,  Iter    37:    Energy =   0.0252
Level     0,  Iter    38:    Energy =   0.0252
Level     0,  Iter    39:    Energy =   0.0252
Level     0,  Iter    40:    Energy =   0.0253
Level     0,  Iter    41:    Energy =   0.0253
Level     0,  Iter    42:    Energy =   0.0255
Level     0,  Iter    43:    Energy =   0.0259
Level     0,  Iter    44:    Energy =   0.0260
Level     0,  Iter    45:    Energy =   0.0259
Level     0,  Iter    46:    Energy =   0.0261
Level     0,  Iter    47:    Energy =   0.0264
Level     0,  Iter    48:    Energy =   0.0266
Level     0,  Iter    49:    Energy =   0.0265
Level     0,  Iter    50:    Energy =   0.0266
Level     0,  Iter    51:    Energy =   0.0266
Level     0,  Iter    52:    Energy =   0.0266
Level     0,  Iter    53:    Energy =   0.0267
Level     0,  Iter    54:    Energy =   0.0268
Level     0,  Iter    55:    Energy =   0.0270
Level     0,  Iter    56:    Energy =   0.0267
Level     0,  Iter    57:    Energy =   0.0270
Level     0,  Iter    58:    Energy =   0.0269
Level     0,  Iter    59:    Energy =   0.0272
END OF LEVEL     0    DetJac Range:   0.0350  to   1.8629 
  Avg. Gradient Time  : 0.0067s  33.18% 
  Avg. Gaussian Time  : 0.0098s  48.31% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0125
Level     1,  Iter     1:    Energy =   0.0133
Level     1,  Iter     2:    Energy =   0.0139
Level     1,  Iter     3:    Energy =   0.0147
Level     1,  Iter     4:    Energy =   0.0154
Level     1,  Iter     5:    Energy =   0.0161
Level     1,  Iter     6:    Energy =   0.0166
Level     1,  Iter     7:    Energy =   0.0170
Level     1,  Iter     8:    Energy =   0.0174
Level     1,  Iter     9:    Energy =   0.0179
Level     1,  Iter    10:    Energy =   0.0184
Level     1,  Iter    11:    Energy =   0.0188
Level     1,  Iter    12:    Energy =   0.0192
Level     1,  Iter    13:    Energy =   0.0196
Level     1,  Iter    14:    Energy =   0.0200
Level     1,  Iter    15:    Energy =   0.0203
Level     1,  Iter    16:    Energy =   0.0203
Level     1,  Iter    17:    Energy =   0.0206
Level     1,  Iter    18:    Energy =   0.0209
Level     1,  Iter    19:    Energy =   0.0211
Level     1,  Iter    20:    Energy =   0.0214
Level     1,  Iter    21:    Energy =   0.0216
Level     1,  Iter    22:    Energy =   0.0219
Level     1,  Iter    23:    Energy =   0.0221
Level     1,  Iter    24:    Energy =   0.0224
Level     1,  Iter    25:    Energy =   0.0226
Level     1,  Iter    26:    Energy =   0.0228
Level     1,  Iter    27:    Energy =   0.0230
Level     1,  Iter    28:    Energy =   0.0230
Level     1,  Iter    29:    Energy =   0.0232
Level     1,  Iter    30:    Energy =   0.0233
Level     1,  Iter    31:    Energy =   0.0234
Level     1,  Iter    32:    Energy =   0.0235
Level     1,  Iter    33:    Energy =   0.0236
Level     1,  Iter    34:    Energy =   0.0237
Level     1,  Iter    35:    Energy =   0.0238
Level     1,  Iter    36:    Energy =   0.0239
Level     1,  Iter    37:    Energy =   0.0240
Level     1,  Iter    38:    Energy =   0.0240
Level     1,  Iter    39:    Energy =   0.0241
Level     1,  Iter    40:    Energy =   0.0242
Level     1,  Iter    41:    Energy =   0.0243
Level     1,  Iter    42:    Energy =   0.0243
Level     1,  Iter    43:    Energy =   0.0244
Level     1,  Iter    44:    Energy =   0.0245
Level     1,  Iter    45:    Energy =   0.0245
Level     1,  Iter    46:    Energy =   0.0246
Level     1,  Iter    47:    Energy =   0.0246
Level     1,  Iter    48:    Energy =   0.0247
Level     1,  Iter    49:    Energy =   0.0247
Level     1,  Iter    50:    Energy =   0.0247
Level     1,  Iter    51:    Energy =   0.0248
Level     1,  Iter    52:    Energy =   0.0248
Level     1,  Iter    53:    Energy =   0.0248
Level     1,  Iter    54:    Energy =   0.0248
Level     1,  Iter    55:    Energy =   0.0248
Level     1,  Iter    56:    Energy =   0.0248
Level     1,  Iter    57:    Energy =   0.0248
Level     1,  Iter    58:    Energy =   0.0248
Level     1,  Iter    59:    Energy =   0.0248
END OF LEVEL     1    DetJac Range:   0.0110  to   2.5357 
  Avg. Gradient Time  : 0.0280s  34.28% 
  Avg. Gaussian Time  : 0.0424s  51.83% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0116
Level     2,  Iter     1:    Energy =   0.0121
Level     2,  Iter     2:    Energy =   0.0124
Level     2,  Iter     3:    Energy =   0.0128
Level     2,  Iter     4:    Energy =   0.0131
Level     2,  Iter     5:    Energy =   0.0134
Level     2,  Iter     6:    Energy =   0.0137
Level     2,  Iter     7:    Energy =   0.0140
Level     2,  Iter     8:    Energy =   0.0143
Level     2,  Iter     9:    Energy =   0.0145
Level     2,  Iter    10:    Energy =   0.0148
Level     2,  Iter    11:    Energy =   0.0149
Level     2,  Iter    12:    Energy =   0.0151
Level     2,  Iter    13:    Energy =   0.0152
Level     2,  Iter    14:    Energy =   0.0154
Level     2,  Iter    15:    Energy =   0.0155
big value: -6729.725330
big value: -2145.117479
Level     2,  Iter    16:    Energy =   0.0153
Level     2,  Iter    17:    Energy =   0.0149
Level     2,  Iter    18:    Energy =   0.0146
Level     2,  Iter    19:    Energy =   0.0148
END OF LEVEL     2    DetJac Range:   0.0150  to   2.9333 
  Avg. Gradient Time  : 0.1813s  32.71% 
  Avg. Gaussian Time  : 0.2972s  53.63% 
  Avg. Iteration Time : 0.5542s 

real	0m19.872s
user	0m34.540s
sys	0m2.176s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 434.953   GNORM= 181.62
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -128.810     134.305       0.028
   2    4      -537.300      55.293       1.000
   3    5      -628.895      55.135       1.000
   4    7      -635.089      79.287       0.128
   5    8      -684.900      54.758       1.000
   6    9      -708.611     157.829       1.000
   7   11      -833.894      94.263       5.000
   8   12      -861.513      89.771       1.000
   9   16     -1018.401     139.608       1.132
  10   18     -1109.934     161.432       0.302
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.449861 0.236649 0.0344251 -5.41332 
0.450502 1.01184 -0.108117 4.41535 
-0.160192 -0.200449 1.14271 -4.21255 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -396.269   GNORM= 99.6742
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.449897 0.236804 0.0342821 -5.40095 
0.45058 1.01207 -0.108439 4.43918 
-0.1602 -0.200382 1.14254 -4.21488 
0 0 0 1 

Final RAS Transform: 
0.449897 0.236804 0.0342821 -5.40095 
0.45058 1.01207 -0.108439 4.43918 
-0.1602 -0.200382 1.14254 -4.21488 
0 0 0 1 


real	0m3.313s
user	0m5.012s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.397129
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0244
Level     0,  Iter     1:    Energy =   0.0269
Level     0,  Iter     2:    Energy =   0.0301
Level     0,  Iter     3:    Energy =   0.0325
Level     0,  Iter     4:    Energy =   0.0346
Level     0,  Iter     5:    Energy =   0.0364
Level     0,  Iter     6:    Energy =   0.0378
Level     0,  Iter     7:    Energy =   0.0389
Level     0,  Iter     8:    Energy =   0.0398
Level     0,  Iter     9:    Energy =   0.0409
Level     0,  Iter    10:    Energy =   0.0419
Level     0,  Iter    11:    Energy =   0.0428
Level     0,  Iter    12:    Energy =   0.0435
Level     0,  Iter    13:    Energy =   0.0440
Level     0,  Iter    14:    Energy =   0.0444
Level     0,  Iter    15:    Energy =   0.0447
Level     0,  Iter    16:    Energy =   0.0450
Level     0,  Iter    17:    Energy =   0.0453
Level     0,  Iter    18:    Energy =   0.0455
Level     0,  Iter    19:    Energy =   0.0458
Level     0,  Iter    20:    Energy =   0.0460
Level     0,  Iter    21:    Energy =   0.0461
Level     0,  Iter    22:    Energy =   0.0463
Level     0,  Iter    23:    Energy =   0.0464
Level     0,  Iter    24:    Energy =   0.0465
Level     0,  Iter    25:    Energy =   0.0466
Level     0,  Iter    26:    Energy =   0.0468
Level     0,  Iter    27:    Energy =   0.0470
Level     0,  Iter    28:    Energy =   0.0473
Level     0,  Iter    29:    Energy =   0.0477
Level     0,  Iter    30:    Energy =   0.0480
Level     0,  Iter    31:    Energy =   0.0483
Level     0,  Iter    32:    Energy =   0.0485
Level     0,  Iter    33:    Energy =   0.0487
Level     0,  Iter    34:    Energy =   0.0489
Level     0,  Iter    35:    Energy =   0.0490
Level     0,  Iter    36:    Energy =   0.0491
Level     0,  Iter    37:    Energy =   0.0491
Level     0,  Iter    38:    Energy =   0.0492
Level     0,  Iter    39:    Energy =   0.0493
Level     0,  Iter    40:    Energy =   0.0493
Level     0,  Iter    41:    Energy =   0.0494
Level     0,  Iter    42:    Energy =   0.0495
Level     0,  Iter    43:    Energy =   0.0496
Level     0,  Iter    44:    Energy =   0.0498
Level     0,  Iter    45:    Energy =   0.0499
Level     0,  Iter    46:    Energy =   0.0500
Level     0,  Iter    47:    Energy =   0.0501
Level     0,  Iter    48:    Energy =   0.0502
Level     0,  Iter    49:    Energy =   0.0503
Level     0,  Iter    50:    Energy =   0.0504
Level     0,  Iter    51:    Energy =   0.0505
Level     0,  Iter    52:    Energy =   0.0506
Level     0,  Iter    53:    Energy =   0.0507
Level     0,  Iter    54:    Energy =   0.0507
Level     0,  Iter    55:    Energy =   0.0508
Level     0,  Iter    56:    Energy =   0.0509
Level     0,  Iter    57:    Energy =   0.0510
Level     0,  Iter    58:    Energy =   0.0510
Level     0,  Iter    59:    Energy =   0.0511
END OF LEVEL     0    DetJac Range:   0.1116  to   1.8625 
  Avg. Gradient Time  : 0.0067s  33.27% 
  Avg. Gaussian Time  : 0.0098s  48.65% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0220
Level     1,  Iter     1:    Energy =   0.0231
Level     1,  Iter     2:    Energy =   0.0241
Level     1,  Iter     3:    Energy =   0.0250
Level     1,  Iter     4:    Energy =   0.0260
Level     1,  Iter     5:    Energy =   0.0269
Level     1,  Iter     6:    Energy =   0.0278
Level     1,  Iter     7:    Energy =   0.0287
Level     1,  Iter     8:    Energy =   0.0295
Level     1,  Iter     9:    Energy =   0.0303
Level     1,  Iter    10:    Energy =   0.0311
Level     1,  Iter    11:    Energy =   0.0319
Level     1,  Iter    12:    Energy =   0.0327
Level     1,  Iter    13:    Energy =   0.0333
Level     1,  Iter    14:    Energy =   0.0339
Level     1,  Iter    15:    Energy =   0.0344
Level     1,  Iter    16:    Energy =   0.0347
Level     1,  Iter    17:    Energy =   0.0351
Level     1,  Iter    18:    Energy =   0.0354
Level     1,  Iter    19:    Energy =   0.0356
Level     1,  Iter    20:    Energy =   0.0359
Level     1,  Iter    21:    Energy =   0.0361
Level     1,  Iter    22:    Energy =   0.0363
Level     1,  Iter    23:    Energy =   0.0365
Level     1,  Iter    24:    Energy =   0.0366
Level     1,  Iter    25:    Energy =   0.0368
Level     1,  Iter    26:    Energy =   0.0370
Level     1,  Iter    27:    Energy =   0.0371
Level     1,  Iter    28:    Energy =   0.0373
Level     1,  Iter    29:    Energy =   0.0374
Level     1,  Iter    30:    Energy =   0.0375
Level     1,  Iter    31:    Energy =   0.0376
Level     1,  Iter    32:    Energy =   0.0377
Level     1,  Iter    33:    Energy =   0.0378
Level     1,  Iter    34:    Energy =   0.0379
Level     1,  Iter    35:    Energy =   0.0380
Level     1,  Iter    36:    Energy =   0.0380
Level     1,  Iter    37:    Energy =   0.0381
Level     1,  Iter    38:    Energy =   0.0382
Level     1,  Iter    39:    Energy =   0.0383
Level     1,  Iter    40:    Energy =   0.0383
Level     1,  Iter    41:    Energy =   0.0384
Level     1,  Iter    42:    Energy =   0.0385
Level     1,  Iter    43:    Energy =   0.0385
Level     1,  Iter    44:    Energy =   0.0385
Level     1,  Iter    45:    Energy =   0.0385
Level     1,  Iter    46:    Energy =   0.0385
Level     1,  Iter    47:    Energy =   0.0385
Level     1,  Iter    48:    Energy =   0.0385
Level     1,  Iter    49:    Energy =   0.0385
Level     1,  Iter    50:    Energy =   0.0385
Level     1,  Iter    51:    Energy =   0.0386
Level     1,  Iter    52:    Energy =   0.0386
Level     1,  Iter    53:    Energy =   0.0387
Level     1,  Iter    54:    Energy =   0.0387
Level     1,  Iter    55:    Energy =   0.0388
Level     1,  Iter    56:    Energy =   0.0388
Level     1,  Iter    57:    Energy =   0.0389
Level     1,  Iter    58:    Energy =   0.0389
Level     1,  Iter    59:    Energy =   0.0390
END OF LEVEL     1    DetJac Range:   0.0535  to   2.0279 
  Avg. Gradient Time  : 0.0286s  34.49% 
  Avg. Gaussian Time  : 0.0428s  51.63% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0175
Level     2,  Iter     2:    Energy =   0.0180
Level     2,  Iter     3:    Energy =   0.0186
Level     2,  Iter     4:    Energy =   0.0190
Level     2,  Iter     5:    Energy =   0.0194
Level     2,  Iter     6:    Energy =   0.0198
Level     2,  Iter     7:    Energy =   0.0201
Level     2,  Iter     8:    Energy =   0.0204
Level     2,  Iter     9:    Energy =   0.0206
Level     2,  Iter    10:    Energy =   0.0208
Level     2,  Iter    11:    Energy =   0.0210
Level     2,  Iter    12:    Energy =   0.0212
Level     2,  Iter    13:    Energy =   0.0214
Level     2,  Iter    14:    Energy =   0.0215
Level     2,  Iter    15:    Energy =   0.0216
Level     2,  Iter    16:    Energy =   0.0217
Level     2,  Iter    17:    Energy =   0.0219
Level     2,  Iter    18:    Energy =   0.0220
Level     2,  Iter    19:    Energy =   0.0221
END OF LEVEL     2    DetJac Range:   0.0533  to   2.3067 
  Avg. Gradient Time  : 0.1804s  32.59% 
  Avg. Gaussian Time  : 0.2974s  53.75% 
  Avg. Iteration Time : 0.5534s 

real	0m19.972s
user	0m34.652s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 434.843   GNORM= 217.55
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        97.445      52.123       0.023
   2    9      -751.765     116.475       9.860
   3   13      -752.994     148.640       0.005
   4   17      -758.120     111.967       0.005
   5   18      -846.520      49.679       1.000
   6   20      -895.424      53.465       5.000
   7   21      -937.996      51.843       1.000
   8   23     -1005.286      50.588       0.432
   9   26     -1006.159      74.544       0.000
  10   28     -1015.878      90.718       0.078
  11   32     -1022.755     142.833       0.145
  12   33     -1042.053      49.475       1.000
  13   34     -1048.132      60.678       1.000
  14   36     -1053.590      52.710       0.305
  15   38     -1084.343      70.006       5.000
  16   39     -1091.273     342.129       1.000
  17   41     -1091.540      46.259       0.084
  18   44     -1138.988     228.532      21.000
  19   49     -1139.633     819.362       0.000
  20   51     -1142.911      32.018       0.269
  21   56     -1143.994      34.670       0.999
  22   58     -1153.607      51.571       0.233
Final RAS Transform: 
0.742611 -0.0523802 -0.575139 -1.34167 
0.425036 1.18538 0.168129 8.65339 
-0.257327 -0.14711 0.919167 -5.03171 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -538.212   GNORM= 51.7444
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.742616 -0.0523778 -0.575143 -1.34145 
0.425034 1.18538 0.168133 8.65293 
-0.257329 -0.147109 0.919166 -5.03185 
0 0 0 1 

Final RAS Transform: 
0.742616 -0.0523778 -0.575143 -1.34145 
0.425034 1.18538 0.168133 8.65293 
-0.257329 -0.147109 0.919166 -5.03185 
0 0 0 1 


real	0m3.603s
user	0m5.504s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.484693
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0270
Level     0,  Iter     1:    Energy =   0.0285
Level     0,  Iter     2:    Energy =   0.0306
Level     0,  Iter     3:    Energy =   0.0333
Level     0,  Iter     4:    Energy =   0.0360
Level     0,  Iter     5:    Energy =   0.0381
Level     0,  Iter     6:    Energy =   0.0398
Level     0,  Iter     7:    Energy =   0.0409
Level     0,  Iter     8:    Energy =   0.0417
Level     0,  Iter     9:    Energy =   0.0424
Level     0,  Iter    10:    Energy =   0.0430
Level     0,  Iter    11:    Energy =   0.0438
Level     0,  Iter    12:    Energy =   0.0445
Level     0,  Iter    13:    Energy =   0.0449
Level     0,  Iter    14:    Energy =   0.0454
Level     0,  Iter    15:    Energy =   0.0458
Level     0,  Iter    16:    Energy =   0.0463
Level     0,  Iter    17:    Energy =   0.0468
Level     0,  Iter    18:    Energy =   0.0474
Level     0,  Iter    19:    Energy =   0.0481
Level     0,  Iter    20:    Energy =   0.0488
Level     0,  Iter    21:    Energy =   0.0495
Level     0,  Iter    22:    Energy =   0.0501
Level     0,  Iter    23:    Energy =   0.0508
Level     0,  Iter    24:    Energy =   0.0513
Level     0,  Iter    25:    Energy =   0.0516
Level     0,  Iter    26:    Energy =   0.0519
Level     0,  Iter    27:    Energy =   0.0519
Level     0,  Iter    28:    Energy =   0.0518
Level     0,  Iter    29:    Energy =   0.0521
Level     0,  Iter    30:    Energy =   0.0520
Level     0,  Iter    31:    Energy =   0.0522
Level     0,  Iter    32:    Energy =   0.0522
Level     0,  Iter    33:    Energy =   0.0524
Level     0,  Iter    34:    Energy =   0.0525
Level     0,  Iter    35:    Energy =   0.0527
Level     0,  Iter    36:    Energy =   0.0528
Level     0,  Iter    37:    Energy =   0.0530
Level     0,  Iter    38:    Energy =   0.0531
Level     0,  Iter    39:    Energy =   0.0534
Level     0,  Iter    40:    Energy =   0.0534
Level     0,  Iter    41:    Energy =   0.0536
Level     0,  Iter    42:    Energy =   0.0537
Level     0,  Iter    43:    Energy =   0.0538
Level     0,  Iter    44:    Energy =   0.0539
Level     0,  Iter    45:    Energy =   0.0540
Level     0,  Iter    46:    Energy =   0.0541
Level     0,  Iter    47:    Energy =   0.0541
Level     0,  Iter    48:    Energy =   0.0541
Level     0,  Iter    49:    Energy =   0.0541
Level     0,  Iter    50:    Energy =   0.0541
Level     0,  Iter    51:    Energy =   0.0541
Level     0,  Iter    52:    Energy =   0.0542
Level     0,  Iter    53:    Energy =   0.0542
Level     0,  Iter    54:    Energy =   0.0541
Level     0,  Iter    55:    Energy =   0.0542
Level     0,  Iter    56:    Energy =   0.0542
Level     0,  Iter    57:    Energy =   0.0543
Level     0,  Iter    58:    Energy =   0.0544
Level     0,  Iter    59:    Energy =   0.0543
END OF LEVEL     0    DetJac Range:   0.0501  to   2.4185 
  Avg. Gradient Time  : 0.0066s  33.20% 
  Avg. Gaussian Time  : 0.0096s  48.37% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0279
Level     1,  Iter     1:    Energy =   0.0290
Level     1,  Iter     2:    Energy =   0.0299
Level     1,  Iter     3:    Energy =   0.0307
Level     1,  Iter     4:    Energy =   0.0315
Level     1,  Iter     5:    Energy =   0.0324
Level     1,  Iter     6:    Energy =   0.0331
Level     1,  Iter     7:    Energy =   0.0337
Level     1,  Iter     8:    Energy =   0.0344
Level     1,  Iter     9:    Energy =   0.0350
Level     1,  Iter    10:    Energy =   0.0355
Level     1,  Iter    11:    Energy =   0.0359
Level     1,  Iter    12:    Energy =   0.0363
Level     1,  Iter    13:    Energy =   0.0367
Level     1,  Iter    14:    Energy =   0.0371
Level     1,  Iter    15:    Energy =   0.0374
Level     1,  Iter    16:    Energy =   0.0377
Level     1,  Iter    17:    Energy =   0.0380
Level     1,  Iter    18:    Energy =   0.0382
Level     1,  Iter    19:    Energy =   0.0385
Level     1,  Iter    20:    Energy =   0.0387
Level     1,  Iter    21:    Energy =   0.0389
Level     1,  Iter    22:    Energy =   0.0392
Level     1,  Iter    23:    Energy =   0.0394
Level     1,  Iter    24:    Energy =   0.0397
Level     1,  Iter    25:    Energy =   0.0399
Level     1,  Iter    26:    Energy =   0.0400
Level     1,  Iter    27:    Energy =   0.0402
Level     1,  Iter    28:    Energy =   0.0403
Level     1,  Iter    29:    Energy =   0.0405
Level     1,  Iter    30:    Energy =   0.0406
Level     1,  Iter    31:    Energy =   0.0407
Level     1,  Iter    32:    Energy =   0.0408
Level     1,  Iter    33:    Energy =   0.0409
Level     1,  Iter    34:    Energy =   0.0410
Level     1,  Iter    35:    Energy =   0.0412
Level     1,  Iter    36:    Energy =   0.0413
Level     1,  Iter    37:    Energy =   0.0415
Level     1,  Iter    38:    Energy =   0.0417
Level     1,  Iter    39:    Energy =   0.0419
Level     1,  Iter    40:    Energy =   0.0421
Level     1,  Iter    41:    Energy =   0.0423
Level     1,  Iter    42:    Energy =   0.0424
Level     1,  Iter    43:    Energy =   0.0426
Level     1,  Iter    44:    Energy =   0.0427
Level     1,  Iter    45:    Energy =   0.0428
Level     1,  Iter    46:    Energy =   0.0429
Level     1,  Iter    47:    Energy =   0.0431
Level     1,  Iter    48:    Energy =   0.0431
Level     1,  Iter    49:    Energy =   0.0432
Level     1,  Iter    50:    Energy =   0.0433
Level     1,  Iter    51:    Energy =   0.0433
Level     1,  Iter    52:    Energy =   0.0434
Level     1,  Iter    53:    Energy =   0.0435
Level     1,  Iter    54:    Energy =   0.0436
Level     1,  Iter    55:    Energy =   0.0437
Level     1,  Iter    56:    Energy =   0.0438
Level     1,  Iter    57:    Energy =   0.0438
Level     1,  Iter    58:    Energy =   0.0437
Level     1,  Iter    59:    Energy =   0.0435
END OF LEVEL     1    DetJac Range:   0.0043  to   5.1192 
  Avg. Gradient Time  : 0.0286s  34.48% 
  Avg. Gaussian Time  : 0.0428s  51.69% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0196
Level     2,  Iter     1:    Energy =   0.0202
Level     2,  Iter     2:    Energy =   0.0207
Level     2,  Iter     3:    Energy =   0.0211
Level     2,  Iter     4:    Energy =   0.0215
Level     2,  Iter     5:    Energy =   0.0218
Level     2,  Iter     6:    Energy =   0.0221
Level     2,  Iter     7:    Energy =   0.0224
Level     2,  Iter     8:    Energy =   0.0227
Level     2,  Iter     9:    Energy =   0.0230
Level     2,  Iter    10:    Energy =   0.0232
Level     2,  Iter    11:    Energy =   0.0234
Level     2,  Iter    12:    Energy =   0.0237
Level     2,  Iter    13:    Energy =   0.0239
Level     2,  Iter    14:    Energy =   0.0241
Level     2,  Iter    15:    Energy =   0.0242
Level     2,  Iter    16:    Energy =   0.0245
Level     2,  Iter    17:    Energy =   0.0246
Level     2,  Iter    18:    Energy =   0.0247
Level     2,  Iter    19:    Energy =   0.0249
END OF LEVEL     2    DetJac Range:   0.0077  to   4.0068 
  Avg. Gradient Time  : 0.1811s  32.54% 
  Avg. Gaussian Time  : 0.2988s  53.68% 
  Avg. Iteration Time : 0.5566s 

real	0m20.067s
user	0m34.848s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 586.198   GNORM= 163.649
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -170.353     117.679       0.031
   2    5      -418.648     107.218       0.142
   3    8      -621.268      67.072       0.169
   4    9      -743.820      51.753       1.000
   5   10      -787.471      53.425       1.000
   6   13      -839.140      43.026       0.750
   7   16      -853.314      36.885       0.060
   8   18      -854.698      39.176       0.095
   9   20      -860.337      49.273       0.261
  10   21      -875.355      37.702       1.000
  11   22      -936.564      48.355       1.000
  12   23      -988.694     112.781       1.000
  13   24     -1016.574     149.456       1.000
  14   27     -1017.937      82.647       0.175
  15   28     -1023.188     193.142       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.815444 0.210272 -0.0700867 3.74303 
0.299637 1.00979 -0.380879 5.65097 
0.15647 -0.43293 0.944937 -3.63306 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -464.96   GNORM= 175.015
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -465.542     309.543       0.003
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.815482 0.210414 -0.0699546 3.73428 
0.30007 1.01099 -0.383203 5.82789 
0.156081 -0.433893 0.947574 -3.77432 
0 0 0 1 

Final RAS Transform: 
0.815482 0.210414 -0.0699546 3.73428 
0.30007 1.01099 -0.383203 5.82789 
0.156081 -0.433893 0.947574 -3.77432 
0 0 0 1 


real	0m3.600s
user	0m5.612s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.38811
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0243
Level     0,  Iter     1:    Energy =   0.0262
Level     0,  Iter     2:    Energy =   0.0281
Level     0,  Iter     3:    Energy =   0.0308
Level     0,  Iter     4:    Energy =   0.0331
Level     0,  Iter     5:    Energy =   0.0349
Level     0,  Iter     6:    Energy =   0.0358
Level     0,  Iter     7:    Energy =   0.0363
Level     0,  Iter     8:    Energy =   0.0368
Level     0,  Iter     9:    Energy =   0.0375
Level     0,  Iter    10:    Energy =   0.0381
Level     0,  Iter    11:    Energy =   0.0387
Level     0,  Iter    12:    Energy =   0.0393
Level     0,  Iter    13:    Energy =   0.0398
Level     0,  Iter    14:    Energy =   0.0404
Level     0,  Iter    15:    Energy =   0.0411
Level     0,  Iter    16:    Energy =   0.0416
Level     0,  Iter    17:    Energy =   0.0421
Level     0,  Iter    18:    Energy =   0.0426
Level     0,  Iter    19:    Energy =   0.0430
Level     0,  Iter    20:    Energy =   0.0434
Level     0,  Iter    21:    Energy =   0.0438
Level     0,  Iter    22:    Energy =   0.0440
Level     0,  Iter    23:    Energy =   0.0442
Level     0,  Iter    24:    Energy =   0.0443
Level     0,  Iter    25:    Energy =   0.0444
Level     0,  Iter    26:    Energy =   0.0446
Level     0,  Iter    27:    Energy =   0.0447
Level     0,  Iter    28:    Energy =   0.0448
Level     0,  Iter    29:    Energy =   0.0449
Level     0,  Iter    30:    Energy =   0.0451
Level     0,  Iter    31:    Energy =   0.0451
Level     0,  Iter    32:    Energy =   0.0452
Level     0,  Iter    33:    Energy =   0.0452
Level     0,  Iter    34:    Energy =   0.0453
Level     0,  Iter    35:    Energy =   0.0453
Level     0,  Iter    36:    Energy =   0.0454
Level     0,  Iter    37:    Energy =   0.0454
Level     0,  Iter    38:    Energy =   0.0455
Level     0,  Iter    39:    Energy =   0.0455
Level     0,  Iter    40:    Energy =   0.0456
Level     0,  Iter    41:    Energy =   0.0456
Level     0,  Iter    42:    Energy =   0.0455
Level     0,  Iter    43:    Energy =   0.0455
Level     0,  Iter    44:    Energy =   0.0454
Level     0,  Iter    45:    Energy =   0.0453
Level     0,  Iter    46:    Energy =   0.0453
Level     0,  Iter    47:    Energy =   0.0453
Level     0,  Iter    48:    Energy =   0.0452
Level     0,  Iter    49:    Energy =   0.0451
Level     0,  Iter    50:    Energy =   0.0450
Level     0,  Iter    51:    Energy =   0.0450
Level     0,  Iter    52:    Energy =   0.0449
Level     0,  Iter    53:    Energy =   0.0449
Level     0,  Iter    54:    Energy =   0.0449
Level     0,  Iter    55:    Energy =   0.0449
Level     0,  Iter    56:    Energy =   0.0449
Level     0,  Iter    57:    Energy =   0.0448
Level     0,  Iter    58:    Energy =   0.0448
Level     0,  Iter    59:    Energy =   0.0449
END OF LEVEL     0    DetJac Range:   0.1254  to   4.3239 
  Avg. Gradient Time  : 0.0067s  33.17% 
  Avg. Gaussian Time  : 0.0098s  48.47% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0242
Level     1,  Iter     1:    Energy =   0.0251
Level     1,  Iter     2:    Energy =   0.0260
Level     1,  Iter     3:    Energy =   0.0269
Level     1,  Iter     4:    Energy =   0.0276
Level     1,  Iter     5:    Energy =   0.0281
Level     1,  Iter     6:    Energy =   0.0286
Level     1,  Iter     7:    Energy =   0.0292
Level     1,  Iter     8:    Energy =   0.0298
Level     1,  Iter     9:    Energy =   0.0303
Level     1,  Iter    10:    Energy =   0.0307
Level     1,  Iter    11:    Energy =   0.0311
Level     1,  Iter    12:    Energy =   0.0314
Level     1,  Iter    13:    Energy =   0.0316
Level     1,  Iter    14:    Energy =   0.0319
Level     1,  Iter    15:    Energy =   0.0321
Level     1,  Iter    16:    Energy =   0.0323
Level     1,  Iter    17:    Energy =   0.0325
Level     1,  Iter    18:    Energy =   0.0327
Level     1,  Iter    19:    Energy =   0.0328
Level     1,  Iter    20:    Energy =   0.0329
Level     1,  Iter    21:    Energy =   0.0330
Level     1,  Iter    22:    Energy =   0.0331
Level     1,  Iter    23:    Energy =   0.0332
Level     1,  Iter    24:    Energy =   0.0333
Level     1,  Iter    25:    Energy =   0.0334
Level     1,  Iter    26:    Energy =   0.0335
Level     1,  Iter    27:    Energy =   0.0335
Level     1,  Iter    28:    Energy =   0.0336
Level     1,  Iter    29:    Energy =   0.0337
Level     1,  Iter    30:    Energy =   0.0337
Level     1,  Iter    31:    Energy =   0.0338
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0339
Level     1,  Iter    35:    Energy =   0.0340
Level     1,  Iter    36:    Energy =   0.0340
Level     1,  Iter    37:    Energy =   0.0341
Level     1,  Iter    38:    Energy =   0.0341
Level     1,  Iter    39:    Energy =   0.0342
Level     1,  Iter    40:    Energy =   0.0342
Level     1,  Iter    41:    Energy =   0.0343
Level     1,  Iter    42:    Energy =   0.0343
Level     1,  Iter    43:    Energy =   0.0343
Level     1,  Iter    44:    Energy =   0.0344
Level     1,  Iter    45:    Energy =   0.0344
Level     1,  Iter    46:    Energy =   0.0344
Level     1,  Iter    47:    Energy =   0.0345
Level     1,  Iter    48:    Energy =   0.0345
Level     1,  Iter    49:    Energy =   0.0346
Level     1,  Iter    50:    Energy =   0.0346
Level     1,  Iter    51:    Energy =   0.0346
Level     1,  Iter    52:    Energy =   0.0347
Level     1,  Iter    53:    Energy =   0.0347
Level     1,  Iter    54:    Energy =   0.0347
Level     1,  Iter    55:    Energy =   0.0348
Level     1,  Iter    56:    Energy =   0.0348
Level     1,  Iter    57:    Energy =   0.0348
Level     1,  Iter    58:    Energy =   0.0348
Level     1,  Iter    59:    Energy =   0.0348
END OF LEVEL     1    DetJac Range:   0.0286  to   4.9406 
  Avg. Gradient Time  : 0.0286s  34.63% 
  Avg. Gaussian Time  : 0.0426s  51.53% 
  Avg. Iteration Time : 0.0827s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0160
Level     2,  Iter     1:    Energy =   0.0166
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0176
Level     2,  Iter     4:    Energy =   0.0179
Level     2,  Iter     5:    Energy =   0.0183
Level     2,  Iter     6:    Energy =   0.0186
Level     2,  Iter     7:    Energy =   0.0188
Level     2,  Iter     8:    Energy =   0.0190
Level     2,  Iter     9:    Energy =   0.0192
Level     2,  Iter    10:    Energy =   0.0194
Level     2,  Iter    11:    Energy =   0.0196
Level     2,  Iter    12:    Energy =   0.0198
Level     2,  Iter    13:    Energy =   0.0200
Level     2,  Iter    14:    Energy =   0.0201
Level     2,  Iter    15:    Energy =   0.0202
Level     2,  Iter    16:    Energy =   0.0203
Level     2,  Iter    17:    Energy =   0.0204
Level     2,  Iter    18:    Energy =   0.0205
Level     2,  Iter    19:    Energy =   0.0206
END OF LEVEL     2    DetJac Range:   0.0448  to   4.3735 
  Avg. Gradient Time  : 0.1795s  32.38% 
  Avg. Gaussian Time  : 0.2993s  53.98% 
  Avg. Iteration Time : 0.5544s 

real	0m20.023s
user	0m34.888s
sys	0m2.116s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 541.425   GNORM= 189.21
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -234.310     112.188       0.026
   2    4      -610.941     114.236       1.000
   3    6      -687.467     127.595       0.306
   4    9      -701.564      43.777       0.100
   5   10      -710.631      44.627       1.000
   6   11      -728.831      55.586       1.000
   7   12      -745.627      60.943       1.000
   8   15      -758.001      92.989       0.103
   9   16      -775.298      63.493       1.000
  10   17      -789.182      30.252       1.000
  11   19      -812.533      59.280       5.000
  12   20      -813.574      25.270       1.000
  13   21      -820.878      30.502       1.000
  14   23      -821.139      81.217       0.009
  15   26      -822.758      59.832       0.086
  16   27      -824.380      65.760       1.000
  17   28      -827.776      45.119       1.000
  18   33      -829.643      21.906       0.523
  19   44      -829.888      14.132       0.000
Final RAS Transform: 
0.982401 0.0368863 -0.0829206 1.59939 
0.229439 1.13921 -0.23427 6.75944 
-0.0360768 -0.225392 0.981489 -1.9877 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -392.751   GNORM= 70.3553
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -408.160     330.553       0.014
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985991 0.0400047 -0.0890012 2.05344 
0.225734 1.13508 -0.225735 6.04197 
-0.0347786 -0.223482 0.979079 -1.78816 
0 0 0 1 

Final RAS Transform: 
0.985991 0.0400047 -0.0890012 2.05344 
0.225734 1.13508 -0.225735 6.04197 
-0.0347786 -0.223482 0.979079 -1.78816 
0 0 0 1 


real	0m3.543s
user	0m5.428s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.44999
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0200
Level     0,  Iter     1:    Energy =   0.0216
Level     0,  Iter     2:    Energy =   0.0247
Level     0,  Iter     3:    Energy =   0.0275
Level     0,  Iter     4:    Energy =   0.0301
Level     0,  Iter     5:    Energy =   0.0323
Level     0,  Iter     6:    Energy =   0.0341
Level     0,  Iter     7:    Energy =   0.0354
Level     0,  Iter     8:    Energy =   0.0364
Level     0,  Iter     9:    Energy =   0.0371
Level     0,  Iter    10:    Energy =   0.0378
Level     0,  Iter    11:    Energy =   0.0384
Level     0,  Iter    12:    Energy =   0.0389
Level     0,  Iter    13:    Energy =   0.0393
Level     0,  Iter    14:    Energy =   0.0396
Level     0,  Iter    15:    Energy =   0.0399
Level     0,  Iter    16:    Energy =   0.0401
Level     0,  Iter    17:    Energy =   0.0403
Level     0,  Iter    18:    Energy =   0.0405
Level     0,  Iter    19:    Energy =   0.0407
Level     0,  Iter    20:    Energy =   0.0408
Level     0,  Iter    21:    Energy =   0.0409
Level     0,  Iter    22:    Energy =   0.0410
Level     0,  Iter    23:    Energy =   0.0411
Level     0,  Iter    24:    Energy =   0.0411
Level     0,  Iter    25:    Energy =   0.0412
Level     0,  Iter    26:    Energy =   0.0413
Level     0,  Iter    27:    Energy =   0.0414
Level     0,  Iter    28:    Energy =   0.0415
Level     0,  Iter    29:    Energy =   0.0416
Level     0,  Iter    30:    Energy =   0.0416
Level     0,  Iter    31:    Energy =   0.0417
Level     0,  Iter    32:    Energy =   0.0418
Level     0,  Iter    33:    Energy =   0.0418
Level     0,  Iter    34:    Energy =   0.0419
Level     0,  Iter    35:    Energy =   0.0420
Level     0,  Iter    36:    Energy =   0.0420
Level     0,  Iter    37:    Energy =   0.0421
Level     0,  Iter    38:    Energy =   0.0421
Level     0,  Iter    39:    Energy =   0.0421
Level     0,  Iter    40:    Energy =   0.0422
Level     0,  Iter    41:    Energy =   0.0422
Level     0,  Iter    42:    Energy =   0.0422
Level     0,  Iter    43:    Energy =   0.0423
Level     0,  Iter    44:    Energy =   0.0423
Level     0,  Iter    45:    Energy =   0.0423
Level     0,  Iter    46:    Energy =   0.0423
Level     0,  Iter    47:    Energy =   0.0423
Level     0,  Iter    48:    Energy =   0.0424
Level     0,  Iter    49:    Energy =   0.0425
Level     0,  Iter    50:    Energy =   0.0425
Level     0,  Iter    51:    Energy =   0.0425
Level     0,  Iter    52:    Energy =   0.0426
Level     0,  Iter    53:    Energy =   0.0427
Level     0,  Iter    54:    Energy =   0.0427
Level     0,  Iter    55:    Energy =   0.0428
Level     0,  Iter    56:    Energy =   0.0428
Level     0,  Iter    57:    Energy =   0.0428
Level     0,  Iter    58:    Energy =   0.0429
Level     0,  Iter    59:    Energy =   0.0429
END OF LEVEL     0    DetJac Range:   0.1975  to   3.0643 
  Avg. Gradient Time  : 0.0067s  33.45% 
  Avg. Gaussian Time  : 0.0098s  48.73% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0237
Level     1,  Iter     1:    Energy =   0.0248
Level     1,  Iter     2:    Energy =   0.0255
Level     1,  Iter     3:    Energy =   0.0264
Level     1,  Iter     4:    Energy =   0.0272
Level     1,  Iter     5:    Energy =   0.0278
Level     1,  Iter     6:    Energy =   0.0283
Level     1,  Iter     7:    Energy =   0.0288
Level     1,  Iter     8:    Energy =   0.0291
Level     1,  Iter     9:    Energy =   0.0295
Level     1,  Iter    10:    Energy =   0.0299
Level     1,  Iter    11:    Energy =   0.0303
Level     1,  Iter    12:    Energy =   0.0305
Level     1,  Iter    13:    Energy =   0.0308
Level     1,  Iter    14:    Energy =   0.0310
Level     1,  Iter    15:    Energy =   0.0312
Level     1,  Iter    16:    Energy =   0.0315
Level     1,  Iter    17:    Energy =   0.0316
Level     1,  Iter    18:    Energy =   0.0318
Level     1,  Iter    19:    Energy =   0.0320
Level     1,  Iter    20:    Energy =   0.0321
Level     1,  Iter    21:    Energy =   0.0323
Level     1,  Iter    22:    Energy =   0.0324
Level     1,  Iter    23:    Energy =   0.0325
Level     1,  Iter    24:    Energy =   0.0326
Level     1,  Iter    25:    Energy =   0.0327
Level     1,  Iter    26:    Energy =   0.0328
Level     1,  Iter    27:    Energy =   0.0330
Level     1,  Iter    28:    Energy =   0.0331
Level     1,  Iter    29:    Energy =   0.0332
Level     1,  Iter    30:    Energy =   0.0333
Level     1,  Iter    31:    Energy =   0.0333
Level     1,  Iter    32:    Energy =   0.0334
Level     1,  Iter    33:    Energy =   0.0334
Level     1,  Iter    34:    Energy =   0.0334
Level     1,  Iter    35:    Energy =   0.0334
Level     1,  Iter    36:    Energy =   0.0335
Level     1,  Iter    37:    Energy =   0.0335
Level     1,  Iter    38:    Energy =   0.0335
Level     1,  Iter    39:    Energy =   0.0335
Level     1,  Iter    40:    Energy =   0.0335
Level     1,  Iter    41:    Energy =   0.0336
Level     1,  Iter    42:    Energy =   0.0336
Level     1,  Iter    43:    Energy =   0.0336
Level     1,  Iter    44:    Energy =   0.0337
Level     1,  Iter    45:    Energy =   0.0337
Level     1,  Iter    46:    Energy =   0.0337
Level     1,  Iter    47:    Energy =   0.0338
Level     1,  Iter    48:    Energy =   0.0338
Level     1,  Iter    49:    Energy =   0.0338
Level     1,  Iter    50:    Energy =   0.0338
Level     1,  Iter    51:    Energy =   0.0338
Level     1,  Iter    52:    Energy =   0.0338
Level     1,  Iter    53:    Energy =   0.0338
Level     1,  Iter    54:    Energy =   0.0338
Level     1,  Iter    55:    Energy =   0.0339
Level     1,  Iter    56:    Energy =   0.0339
Level     1,  Iter    57:    Energy =   0.0339
Level     1,  Iter    58:    Energy =   0.0339
Level     1,  Iter    59:    Energy =   0.0339
END OF LEVEL     1    DetJac Range:   0.0271  to   3.6907 
  Avg. Gradient Time  : 0.0284s  34.32% 
  Avg. Gaussian Time  : 0.0429s  51.75% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0157
Level     2,  Iter     1:    Energy =   0.0164
Level     2,  Iter     2:    Energy =   0.0170
Level     2,  Iter     3:    Energy =   0.0175
Level     2,  Iter     4:    Energy =   0.0182
Level     2,  Iter     5:    Energy =   0.0188
Level     2,  Iter     6:    Energy =   0.0193
Level     2,  Iter     7:    Energy =   0.0198
Level     2,  Iter     8:    Energy =   0.0202
Level     2,  Iter     9:    Energy =   0.0206
Level     2,  Iter    10:    Energy =   0.0209
Level     2,  Iter    11:    Energy =   0.0212
Level     2,  Iter    12:    Energy =   0.0213
Level     2,  Iter    13:    Energy =   0.0215
Level     2,  Iter    14:    Energy =   0.0217
Level     2,  Iter    15:    Energy =   0.0218
Level     2,  Iter    16:    Energy =   0.0220
Level     2,  Iter    17:    Energy =   0.0221
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0224
END OF LEVEL     2    DetJac Range:   0.0450  to   3.9952 
  Avg. Gradient Time  : 0.1822s  32.82% 
  Avg. Gaussian Time  : 0.2971s  53.51% 
  Avg. Iteration Time : 0.5552s 

real	0m20.012s
user	0m34.920s
sys	0m2.068s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 474.261   GNORM= 224.543
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -219.013      80.460       0.022
   2    4      -398.700      93.597       1.000
   3   10      -611.953      84.768       1.502
   4   14      -614.709      80.014       0.003
   5   15      -651.755      65.416       1.000
   6   18      -792.442     101.186       0.670
   7   20      -794.687      62.006       0.104
   8   23      -794.882      53.450       0.068
   9   28      -817.497      28.110       5.643
  10   29      -828.576      45.146       1.000
  11   32      -830.551      54.939       0.011
  12   33      -835.863      28.847       1.000
  13   35      -838.801      51.556       0.436
  14   36      -848.843      59.558       1.000
  15   38      -850.601      93.850       0.090
  16   40      -850.822      48.316       0.295
  17   41      -853.587      43.512       1.000
  18   44      -855.903      31.129       0.684
  19   45      -859.715      17.810       1.000
  20   46      -862.882      18.606       1.000
  21   47      -864.402      33.597       1.000
  22   48      -868.633      21.583       1.000
Final RAS Transform: 
0.925711 0.0806684 -0.0778203 3.72017 
0.203317 1.13099 -0.159522 7.9748 
0.0261965 -0.130234 1.13768 -2.63016 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -330.498   GNORM= 43.9522
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -333.239      36.822       0.047
   2    5      -359.540      73.846       1.000
   3    8      -359.541      73.532       0.001
   4   13      -360.025      89.098       0.043
   5   15      -360.892      63.819       5.000
   6   16      -363.066      42.442       1.000
   7   18      -377.548      54.631       5.000
   8   21      -385.292      19.512       0.973
   9   31      -387.421      31.992       0.095
  10   45      -387.704      15.272       0.037
Final RAS Transform: 
0.937586 0.0819073 -0.0742744 4.94452 
0.204588 1.12924 -0.158548 8.30595 
0.0330837 -0.122757 1.12414 -1.83355 
0 0 0 1 

Final RAS Transform: 
0.937586 0.0819073 -0.0742744 4.94452 
0.204588 1.12924 -0.158548 8.30595 
0.0330837 -0.122757 1.12414 -1.83355 
0 0 0 1 


real	0m5.829s
user	0m9.676s
sys	0m0.668s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.432243
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0210
Level     0,  Iter     1:    Energy =   0.0228
Level     0,  Iter     2:    Energy =   0.0259
Level     0,  Iter     3:    Energy =   0.0280
Level     0,  Iter     4:    Energy =   0.0299
Level     0,  Iter     5:    Energy =   0.0314
Level     0,  Iter     6:    Energy =   0.0327
Level     0,  Iter     7:    Energy =   0.0339
Level     0,  Iter     8:    Energy =   0.0348
Level     0,  Iter     9:    Energy =   0.0356
Level     0,  Iter    10:    Energy =   0.0365
Level     0,  Iter    11:    Energy =   0.0372
Level     0,  Iter    12:    Energy =   0.0377
Level     0,  Iter    13:    Energy =   0.0382
Level     0,  Iter    14:    Energy =   0.0386
Level     0,  Iter    15:    Energy =   0.0390
Level     0,  Iter    16:    Energy =   0.0394
Level     0,  Iter    17:    Energy =   0.0397
Level     0,  Iter    18:    Energy =   0.0400
Level     0,  Iter    19:    Energy =   0.0401
Level     0,  Iter    20:    Energy =   0.0403
Level     0,  Iter    21:    Energy =   0.0405
Level     0,  Iter    22:    Energy =   0.0406
Level     0,  Iter    23:    Energy =   0.0406
Level     0,  Iter    24:    Energy =   0.0408
Level     0,  Iter    25:    Energy =   0.0408
Level     0,  Iter    26:    Energy =   0.0409
Level     0,  Iter    27:    Energy =   0.0409
Level     0,  Iter    28:    Energy =   0.0410
Level     0,  Iter    29:    Energy =   0.0411
Level     0,  Iter    30:    Energy =   0.0412
Level     0,  Iter    31:    Energy =   0.0412
Level     0,  Iter    32:    Energy =   0.0414
Level     0,  Iter    33:    Energy =   0.0414
Level     0,  Iter    34:    Energy =   0.0416
Level     0,  Iter    35:    Energy =   0.0416
Level     0,  Iter    36:    Energy =   0.0418
Level     0,  Iter    37:    Energy =   0.0419
Level     0,  Iter    38:    Energy =   0.0419
Level     0,  Iter    39:    Energy =   0.0419
Level     0,  Iter    40:    Energy =   0.0420
Level     0,  Iter    41:    Energy =   0.0420
Level     0,  Iter    42:    Energy =   0.0422
Level     0,  Iter    43:    Energy =   0.0421
Level     0,  Iter    44:    Energy =   0.0422
Level     0,  Iter    45:    Energy =   0.0422
Level     0,  Iter    46:    Energy =   0.0424
Level     0,  Iter    47:    Energy =   0.0424
Level     0,  Iter    48:    Energy =   0.0425
Level     0,  Iter    49:    Energy =   0.0424
Level     0,  Iter    50:    Energy =   0.0426
Level     0,  Iter    51:    Energy =   0.0425
Level     0,  Iter    52:    Energy =   0.0426
Level     0,  Iter    53:    Energy =   0.0426
Level     0,  Iter    54:    Energy =   0.0427
Level     0,  Iter    55:    Energy =   0.0427
Level     0,  Iter    56:    Energy =   0.0428
Level     0,  Iter    57:    Energy =   0.0427
Level     0,  Iter    58:    Energy =   0.0427
Level     0,  Iter    59:    Energy =   0.0428
END OF LEVEL     0    DetJac Range:   0.0676  to   2.8498 
  Avg. Gradient Time  : 0.0067s  33.12% 
  Avg. Gaussian Time  : 0.0098s  48.78% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0228
Level     1,  Iter     1:    Energy =   0.0237
Level     1,  Iter     2:    Energy =   0.0248
Level     1,  Iter     3:    Energy =   0.0255
Level     1,  Iter     4:    Energy =   0.0261
Level     1,  Iter     5:    Energy =   0.0266
Level     1,  Iter     6:    Energy =   0.0270
Level     1,  Iter     7:    Energy =   0.0274
Level     1,  Iter     8:    Energy =   0.0277
Level     1,  Iter     9:    Energy =   0.0280
Level     1,  Iter    10:    Energy =   0.0283
Level     1,  Iter    11:    Energy =   0.0286
Level     1,  Iter    12:    Energy =   0.0289
Level     1,  Iter    13:    Energy =   0.0292
Level     1,  Iter    14:    Energy =   0.0296
Level     1,  Iter    15:    Energy =   0.0300
Level     1,  Iter    16:    Energy =   0.0303
Level     1,  Iter    17:    Energy =   0.0305
Level     1,  Iter    18:    Energy =   0.0307
Level     1,  Iter    19:    Energy =   0.0310
Level     1,  Iter    20:    Energy =   0.0313
Level     1,  Iter    21:    Energy =   0.0316
Level     1,  Iter    22:    Energy =   0.0319
Level     1,  Iter    23:    Energy =   0.0322
Level     1,  Iter    24:    Energy =   0.0323
Level     1,  Iter    25:    Energy =   0.0324
Level     1,  Iter    26:    Energy =   0.0326
Level     1,  Iter    27:    Energy =   0.0327
Level     1,  Iter    28:    Energy =   0.0329
Level     1,  Iter    29:    Energy =   0.0330
Level     1,  Iter    30:    Energy =   0.0331
Level     1,  Iter    31:    Energy =   0.0333
Level     1,  Iter    32:    Energy =   0.0333
Level     1,  Iter    33:    Energy =   0.0334
Level     1,  Iter    34:    Energy =   0.0335
Level     1,  Iter    35:    Energy =   0.0336
Level     1,  Iter    36:    Energy =   0.0336
Level     1,  Iter    37:    Energy =   0.0337
Level     1,  Iter    38:    Energy =   0.0337
Level     1,  Iter    39:    Energy =   0.0337
Level     1,  Iter    40:    Energy =   0.0337
Level     1,  Iter    41:    Energy =   0.0337
Level     1,  Iter    42:    Energy =   0.0337
Level     1,  Iter    43:    Energy =   0.0336
Level     1,  Iter    44:    Energy =   0.0337
Level     1,  Iter    45:    Energy =   0.0336
Level     1,  Iter    46:    Energy =   0.0336
Level     1,  Iter    47:    Energy =   0.0336
Level     1,  Iter    48:    Energy =   0.0336
Level     1,  Iter    49:    Energy =   0.0336
Level     1,  Iter    50:    Energy =   0.0336
Level     1,  Iter    51:    Energy =   0.0336
Level     1,  Iter    52:    Energy =   0.0336
Level     1,  Iter    53:    Energy =   0.0336
Level     1,  Iter    54:    Energy =   0.0336
Level     1,  Iter    55:    Energy =   0.0336
Level     1,  Iter    56:    Energy =   0.0336
Level     1,  Iter    57:    Energy =   0.0336
Level     1,  Iter    58:    Energy =   0.0336
Level     1,  Iter    59:    Energy =   0.0336
END OF LEVEL     1    DetJac Range:   0.0501  to   2.9880 
  Avg. Gradient Time  : 0.0290s  34.57% 
  Avg. Gaussian Time  : 0.0432s  51.56% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0155
Level     2,  Iter     1:    Energy =   0.0161
Level     2,  Iter     2:    Energy =   0.0166
Level     2,  Iter     3:    Energy =   0.0172
Level     2,  Iter     4:    Energy =   0.0176
Level     2,  Iter     5:    Energy =   0.0181
Level     2,  Iter     6:    Energy =   0.0185
Level     2,  Iter     7:    Energy =   0.0190
Level     2,  Iter     8:    Energy =   0.0194
Level     2,  Iter     9:    Energy =   0.0197
Level     2,  Iter    10:    Energy =   0.0199
Level     2,  Iter    11:    Energy =   0.0200
Level     2,  Iter    12:    Energy =   0.0202
Level     2,  Iter    13:    Energy =   0.0203
Level     2,  Iter    14:    Energy =   0.0205
Level     2,  Iter    15:    Energy =   0.0206
Level     2,  Iter    16:    Energy =   0.0209
Level     2,  Iter    17:    Energy =   0.0210
Level     2,  Iter    18:    Energy =   0.0212
Level     2,  Iter    19:    Energy =   0.0213
END OF LEVEL     2    DetJac Range:   0.0480  to   2.6471 
  Avg. Gradient Time  : 0.1811s  32.49% 
  Avg. Gaussian Time  : 0.3009s  54.00% 
  Avg. Iteration Time : 0.5572s 

real	0m20.150s
user	0m34.976s
sys	0m2.196s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 534.333   GNORM= 225.629
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -313.818     145.771       0.022
   2    5      -484.778     113.879       0.130
   3    6      -627.537      57.934       1.000
   4   10      -738.216     234.990       0.958
   5   15      -739.972     131.490       0.000
   6   18      -849.159      47.349       0.857
   7   21      -856.171      39.208       0.047
   8   22      -860.032      42.014       1.000
   9   26      -889.563      79.210       9.733
  10   30      -894.298     124.368       0.024
  11   31      -920.803     110.019       1.000
  12   32      -949.600     127.606       1.000
  13   35      -954.869      87.370       0.554
  14   36      -974.499      85.023       1.000
  15   38     -1033.400      62.774       0.363
  16   40     -1064.080      49.016       0.359
  17   41     -1112.149     160.390       1.000
  18   44     -1147.090      62.241       0.669
  19   45     -1166.549      39.495       1.000
  20   46     -1175.183      60.884       1.000
Final RAS Transform: 
0.719868 0.132425 -0.470992 -3.82836 
0.243372 0.862022 -0.133973 8.02461 
-0.150103 -0.235519 1.02013 -5.31616 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -632.136   GNORM= 56.3648
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -639.000    3275.064       0.004
   2    9      -639.124      80.392       0.358
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.719654 0.131864 -0.470934 -3.8752 
0.24202 0.861071 -0.132102 7.83121 
-0.150592 -0.234959 1.02031 -5.45653 
0 0 0 1 

Final RAS Transform: 
0.719654 0.131864 -0.470934 -3.8752 
0.24202 0.861071 -0.132102 7.83121 
-0.150592 -0.234959 1.02031 -5.45653 
0 0 0 1 


real	0m3.986s
user	0m6.260s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.409339
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0277
Level     0,  Iter     1:    Energy =   0.0293
Level     0,  Iter     2:    Energy =   0.0330
Level     0,  Iter     3:    Energy =   0.0364
Level     0,  Iter     4:    Energy =   0.0389
Level     0,  Iter     5:    Energy =   0.0409
Level     0,  Iter     6:    Energy =   0.0425
Level     0,  Iter     7:    Energy =   0.0437
Level     0,  Iter     8:    Energy =   0.0448
Level     0,  Iter     9:    Energy =   0.0456
Level     0,  Iter    10:    Energy =   0.0463
Level     0,  Iter    11:    Energy =   0.0468
Level     0,  Iter    12:    Energy =   0.0472
Level     0,  Iter    13:    Energy =   0.0476
Level     0,  Iter    14:    Energy =   0.0478
Level     0,  Iter    15:    Energy =   0.0481
Level     0,  Iter    16:    Energy =   0.0483
Level     0,  Iter    17:    Energy =   0.0486
Level     0,  Iter    18:    Energy =   0.0488
Level     0,  Iter    19:    Energy =   0.0490
Level     0,  Iter    20:    Energy =   0.0492
Level     0,  Iter    21:    Energy =   0.0494
Level     0,  Iter    22:    Energy =   0.0496
Level     0,  Iter    23:    Energy =   0.0498
Level     0,  Iter    24:    Energy =   0.0501
Level     0,  Iter    25:    Energy =   0.0503
Level     0,  Iter    26:    Energy =   0.0505
Level     0,  Iter    27:    Energy =   0.0507
Level     0,  Iter    28:    Energy =   0.0508
Level     0,  Iter    29:    Energy =   0.0509
Level     0,  Iter    30:    Energy =   0.0510
Level     0,  Iter    31:    Energy =   0.0510
Level     0,  Iter    32:    Energy =   0.0511
Level     0,  Iter    33:    Energy =   0.0512
Level     0,  Iter    34:    Energy =   0.0513
Level     0,  Iter    35:    Energy =   0.0514
Level     0,  Iter    36:    Energy =   0.0515
Level     0,  Iter    37:    Energy =   0.0516
Level     0,  Iter    38:    Energy =   0.0516
Level     0,  Iter    39:    Energy =   0.0516
Level     0,  Iter    40:    Energy =   0.0516
Level     0,  Iter    41:    Energy =   0.0516
Level     0,  Iter    42:    Energy =   0.0516
Level     0,  Iter    43:    Energy =   0.0516
Level     0,  Iter    44:    Energy =   0.0516
Level     0,  Iter    45:    Energy =   0.0515
Level     0,  Iter    46:    Energy =   0.0514
Level     0,  Iter    47:    Energy =   0.0513
Level     0,  Iter    48:    Energy =   0.0512
Level     0,  Iter    49:    Energy =   0.0512
Level     0,  Iter    50:    Energy =   0.0511
Level     0,  Iter    51:    Energy =   0.0511
Level     0,  Iter    52:    Energy =   0.0510
Level     0,  Iter    53:    Energy =   0.0510
Level     0,  Iter    54:    Energy =   0.0510
Level     0,  Iter    55:    Energy =   0.0509
Level     0,  Iter    56:    Energy =   0.0509
Level     0,  Iter    57:    Energy =   0.0509
Level     0,  Iter    58:    Energy =   0.0509
Level     0,  Iter    59:    Energy =   0.0509
END OF LEVEL     0    DetJac Range:   0.1316  to   2.2971 
  Avg. Gradient Time  : 0.0067s  33.24% 
  Avg. Gaussian Time  : 0.0097s  48.47% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0289
Level     1,  Iter     1:    Energy =   0.0299
Level     1,  Iter     2:    Energy =   0.0307
Level     1,  Iter     3:    Energy =   0.0314
Level     1,  Iter     4:    Energy =   0.0319
Level     1,  Iter     5:    Energy =   0.0324
Level     1,  Iter     6:    Energy =   0.0328
Level     1,  Iter     7:    Energy =   0.0331
Level     1,  Iter     8:    Energy =   0.0334
Level     1,  Iter     9:    Energy =   0.0337
Level     1,  Iter    10:    Energy =   0.0339
Level     1,  Iter    11:    Energy =   0.0342
Level     1,  Iter    12:    Energy =   0.0345
Level     1,  Iter    13:    Energy =   0.0348
Level     1,  Iter    14:    Energy =   0.0350
Level     1,  Iter    15:    Energy =   0.0352
Level     1,  Iter    16:    Energy =   0.0354
Level     1,  Iter    17:    Energy =   0.0356
Level     1,  Iter    18:    Energy =   0.0358
Level     1,  Iter    19:    Energy =   0.0360
Level     1,  Iter    20:    Energy =   0.0362
Level     1,  Iter    21:    Energy =   0.0364
Level     1,  Iter    22:    Energy =   0.0366
Level     1,  Iter    23:    Energy =   0.0368
Level     1,  Iter    24:    Energy =   0.0369
Level     1,  Iter    25:    Energy =   0.0371
Level     1,  Iter    26:    Energy =   0.0372
Level     1,  Iter    27:    Energy =   0.0373
Level     1,  Iter    28:    Energy =   0.0374
Level     1,  Iter    29:    Energy =   0.0375
Level     1,  Iter    30:    Energy =   0.0375
Level     1,  Iter    31:    Energy =   0.0376
Level     1,  Iter    32:    Energy =   0.0376
Level     1,  Iter    33:    Energy =   0.0377
Level     1,  Iter    34:    Energy =   0.0378
Level     1,  Iter    35:    Energy =   0.0379
Level     1,  Iter    36:    Energy =   0.0379
Level     1,  Iter    37:    Energy =   0.0380
Level     1,  Iter    38:    Energy =   0.0381
Level     1,  Iter    39:    Energy =   0.0382
Level     1,  Iter    40:    Energy =   0.0382
Level     1,  Iter    41:    Energy =   0.0383
Level     1,  Iter    42:    Energy =   0.0383
Level     1,  Iter    43:    Energy =   0.0384
Level     1,  Iter    44:    Energy =   0.0385
Level     1,  Iter    45:    Energy =   0.0385
Level     1,  Iter    46:    Energy =   0.0385
Level     1,  Iter    47:    Energy =   0.0386
Level     1,  Iter    48:    Energy =   0.0386
Level     1,  Iter    49:    Energy =   0.0386
Level     1,  Iter    50:    Energy =   0.0386
Level     1,  Iter    51:    Energy =   0.0387
Level     1,  Iter    52:    Energy =   0.0387
Level     1,  Iter    53:    Energy =   0.0388
Level     1,  Iter    54:    Energy =   0.0388
Level     1,  Iter    55:    Energy =   0.0388
Level     1,  Iter    56:    Energy =   0.0389
Level     1,  Iter    57:    Energy =   0.0389
Level     1,  Iter    58:    Energy =   0.0389
Level     1,  Iter    59:    Energy =   0.0390
END OF LEVEL     1    DetJac Range:   0.0411  to   2.3770 
  Avg. Gradient Time  : 0.0286s  34.49% 
  Avg. Gaussian Time  : 0.0428s  51.62% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0187
Level     2,  Iter     1:    Energy =   0.0194
Level     2,  Iter     2:    Energy =   0.0201
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0213
Level     2,  Iter     5:    Energy =   0.0219
Level     2,  Iter     6:    Energy =   0.0224
Level     2,  Iter     7:    Energy =   0.0228
Level     2,  Iter     8:    Energy =   0.0232
Level     2,  Iter     9:    Energy =   0.0236
Level     2,  Iter    10:    Energy =   0.0238
Level     2,  Iter    11:    Energy =   0.0241
Level     2,  Iter    12:    Energy =   0.0244
Level     2,  Iter    13:    Energy =   0.0246
Level     2,  Iter    14:    Energy =   0.0248
Level     2,  Iter    15:    Energy =   0.0249
Level     2,  Iter    16:    Energy =   0.0250
Level     2,  Iter    17:    Energy =   0.0251
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0377  to   2.5629 
  Avg. Gradient Time  : 0.1804s  32.34% 
  Avg. Gaussian Time  : 0.3011s  53.98% 
  Avg. Iteration Time : 0.5578s 

real	0m20.033s
user	0m34.864s
sys	0m2.200s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 601.31   GNORM= 173.691
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -290.427      66.099       0.029
   2    4      -417.157      91.038       1.000
   3    5      -734.410      99.983       1.000
   4    9      -771.738      78.879       0.298
   5   12      -827.902      64.234       0.136
   6   13      -861.650      42.510       1.000
   7   32      -900.300      57.276       1.000
   8   34      -987.624      61.086       0.336
   9   36     -1032.103     105.762       0.478
  10   38     -1032.948      80.532       0.000
  11   39     -1078.161      88.047       1.000
  12   44     -1080.082     125.864       0.107
  13   47     -1082.769      65.887       2.367
  14   50     -1097.151      41.935       0.994
  15   51     -1099.421      79.801       1.000
  16   52     -1118.220      99.885       1.000
  17   53     -1152.116      78.837       1.000
  18   54     -1196.233     144.433       1.000
  19   57     -1197.417     142.320       0.018
  20   59     -1201.758      82.468       0.225
  21   60     -1211.156     114.929       1.000
Final RAS Transform: 
0.693014 0.1606 -0.137031 2.54276 
0.71328 0.975638 -0.118776 4.35793 
-0.061922 -0.340293 0.744928 -5.61722 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -598.638   GNORM= 2350.55
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.693015 0.160601 -0.137032 2.54282 
0.713281 0.975639 -0.118776 4.35794 
-0.0619212 -0.340293 0.744927 -5.61714 
0 0 0 1 

Final RAS Transform: 
0.693015 0.160601 -0.137032 2.54282 
0.713281 0.975639 -0.118776 4.35794 
-0.0619212 -0.340293 0.744927 -5.61714 
0 0 0 1 


real	0m3.533s
user	0m5.476s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.468025
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0285
Level     0,  Iter     1:    Energy =   0.0299
Level     0,  Iter     2:    Energy =   0.0314
Level     0,  Iter     3:    Energy =   0.0331
Level     0,  Iter     4:    Energy =   0.0352
Level     0,  Iter     5:    Energy =   0.0371
Level     0,  Iter     6:    Energy =   0.0386
Level     0,  Iter     7:    Energy =   0.0399
Level     0,  Iter     8:    Energy =   0.0410
Level     0,  Iter     9:    Energy =   0.0418
Level     0,  Iter    10:    Energy =   0.0425
Level     0,  Iter    11:    Energy =   0.0431
Level     0,  Iter    12:    Energy =   0.0438
Level     0,  Iter    13:    Energy =   0.0442
Level     0,  Iter    14:    Energy =   0.0445
Level     0,  Iter    15:    Energy =   0.0447
Level     0,  Iter    16:    Energy =   0.0450
Level     0,  Iter    17:    Energy =   0.0451
Level     0,  Iter    18:    Energy =   0.0453
Level     0,  Iter    19:    Energy =   0.0455
Level     0,  Iter    20:    Energy =   0.0456
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0458
Level     0,  Iter    23:    Energy =   0.0458
Level     0,  Iter    24:    Energy =   0.0459
Level     0,  Iter    25:    Energy =   0.0460
Level     0,  Iter    26:    Energy =   0.0460
Level     0,  Iter    27:    Energy =   0.0461
Level     0,  Iter    28:    Energy =   0.0462
Level     0,  Iter    29:    Energy =   0.0462
Level     0,  Iter    30:    Energy =   0.0463
Level     0,  Iter    31:    Energy =   0.0464
Level     0,  Iter    32:    Energy =   0.0465
Level     0,  Iter    33:    Energy =   0.0465
Level     0,  Iter    34:    Energy =   0.0466
Level     0,  Iter    35:    Energy =   0.0467
Level     0,  Iter    36:    Energy =   0.0467
Level     0,  Iter    37:    Energy =   0.0468
Level     0,  Iter    38:    Energy =   0.0469
Level     0,  Iter    39:    Energy =   0.0469
Level     0,  Iter    40:    Energy =   0.0470
Level     0,  Iter    41:    Energy =   0.0470
Level     0,  Iter    42:    Energy =   0.0470
Level     0,  Iter    43:    Energy =   0.0471
Level     0,  Iter    44:    Energy =   0.0471
Level     0,  Iter    45:    Energy =   0.0472
Level     0,  Iter    46:    Energy =   0.0472
Level     0,  Iter    47:    Energy =   0.0472
Level     0,  Iter    48:    Energy =   0.0473
Level     0,  Iter    49:    Energy =   0.0473
Level     0,  Iter    50:    Energy =   0.0473
Level     0,  Iter    51:    Energy =   0.0473
Level     0,  Iter    52:    Energy =   0.0474
Level     0,  Iter    53:    Energy =   0.0473
Level     0,  Iter    54:    Energy =   0.0474
Level     0,  Iter    55:    Energy =   0.0474
Level     0,  Iter    56:    Energy =   0.0474
Level     0,  Iter    57:    Energy =   0.0474
Level     0,  Iter    58:    Energy =   0.0474
Level     0,  Iter    59:    Energy =   0.0474
END OF LEVEL     0    DetJac Range:   0.0700  to   1.8961 
  Avg. Gradient Time  : 0.0066s  33.33% 
  Avg. Gaussian Time  : 0.0096s  48.44% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0262
Level     1,  Iter     1:    Energy =   0.0271
Level     1,  Iter     2:    Energy =   0.0278
Level     1,  Iter     3:    Energy =   0.0285
Level     1,  Iter     4:    Energy =   0.0292
Level     1,  Iter     5:    Energy =   0.0299
Level     1,  Iter     6:    Energy =   0.0306
Level     1,  Iter     7:    Energy =   0.0313
Level     1,  Iter     8:    Energy =   0.0320
Level     1,  Iter     9:    Energy =   0.0327
Level     1,  Iter    10:    Energy =   0.0333
Level     1,  Iter    11:    Energy =   0.0339
Level     1,  Iter    12:    Energy =   0.0345
Level     1,  Iter    13:    Energy =   0.0350
Level     1,  Iter    14:    Energy =   0.0354
Level     1,  Iter    15:    Energy =   0.0358
Level     1,  Iter    16:    Energy =   0.0361
Level     1,  Iter    17:    Energy =   0.0364
Level     1,  Iter    18:    Energy =   0.0366
Level     1,  Iter    19:    Energy =   0.0368
Level     1,  Iter    20:    Energy =   0.0370
Level     1,  Iter    21:    Energy =   0.0372
Level     1,  Iter    22:    Energy =   0.0374
Level     1,  Iter    23:    Energy =   0.0376
Level     1,  Iter    24:    Energy =   0.0377
Level     1,  Iter    25:    Energy =   0.0379
Level     1,  Iter    26:    Energy =   0.0380
Level     1,  Iter    27:    Energy =   0.0382
Level     1,  Iter    28:    Energy =   0.0383
Level     1,  Iter    29:    Energy =   0.0384
Level     1,  Iter    30:    Energy =   0.0385
Level     1,  Iter    31:    Energy =   0.0385
Level     1,  Iter    32:    Energy =   0.0386
Level     1,  Iter    33:    Energy =   0.0387
Level     1,  Iter    34:    Energy =   0.0388
Level     1,  Iter    35:    Energy =   0.0389
Level     1,  Iter    36:    Energy =   0.0390
Level     1,  Iter    37:    Energy =   0.0390
Level     1,  Iter    38:    Energy =   0.0391
Level     1,  Iter    39:    Energy =   0.0392
Level     1,  Iter    40:    Energy =   0.0392
Level     1,  Iter    41:    Energy =   0.0393
Level     1,  Iter    42:    Energy =   0.0393
Level     1,  Iter    43:    Energy =   0.0394
Level     1,  Iter    44:    Energy =   0.0394
Level     1,  Iter    45:    Energy =   0.0394
Level     1,  Iter    46:    Energy =   0.0395
Level     1,  Iter    47:    Energy =   0.0395
Level     1,  Iter    48:    Energy =   0.0395
Level     1,  Iter    49:    Energy =   0.0396
Level     1,  Iter    50:    Energy =   0.0396
Level     1,  Iter    51:    Energy =   0.0397
Level     1,  Iter    52:    Energy =   0.0397
Level     1,  Iter    53:    Energy =   0.0397
Level     1,  Iter    54:    Energy =   0.0397
Level     1,  Iter    55:    Energy =   0.0398
Level     1,  Iter    56:    Energy =   0.0398
Level     1,  Iter    57:    Energy =   0.0398
Level     1,  Iter    58:    Energy =   0.0399
Level     1,  Iter    59:    Energy =   0.0399
END OF LEVEL     1    DetJac Range:   0.0391  to   2.9304 
  Avg. Gradient Time  : 0.0281s  34.32% 
  Avg. Gaussian Time  : 0.0424s  51.71% 
  Avg. Iteration Time : 0.0820s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0192
Level     2,  Iter     1:    Energy =   0.0199
Level     2,  Iter     2:    Energy =   0.0205
Level     2,  Iter     3:    Energy =   0.0211
Level     2,  Iter     4:    Energy =   0.0216
Level     2,  Iter     5:    Energy =   0.0220
Level     2,  Iter     6:    Energy =   0.0223
Level     2,  Iter     7:    Energy =   0.0226
Level     2,  Iter     8:    Energy =   0.0229
Level     2,  Iter     9:    Energy =   0.0231
Level     2,  Iter    10:    Energy =   0.0233
Level     2,  Iter    11:    Energy =   0.0235
Level     2,  Iter    12:    Energy =   0.0237
Level     2,  Iter    13:    Energy =   0.0239
Level     2,  Iter    14:    Energy =   0.0241
Level     2,  Iter    15:    Energy =   0.0242
Level     2,  Iter    16:    Energy =   0.0244
Level     2,  Iter    17:    Energy =   0.0245
Level     2,  Iter    18:    Energy =   0.0246
Level     2,  Iter    19:    Energy =   0.0247
END OF LEVEL     2    DetJac Range:   0.0356  to   2.5711 
  Avg. Gradient Time  : 0.1807s  32.40% 
  Avg. Gaussian Time  : 0.3007s  53.92% 
  Avg. Iteration Time : 0.5577s 

real	0m19.979s
user	0m34.920s
sys	0m2.008s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 587.001   GNORM= 140.859
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -11.358     152.967       0.035
   2    4       -67.212      86.086       1.000
   3    5      -580.995      42.344       1.000
   4    6      -615.426      58.666       1.000
   5   11      -623.061      81.251       0.186
   6   15      -632.448      56.747       0.010
   7   17      -649.741      58.028       5.000
   8   18      -713.376      66.569       1.000
   9   19      -783.631     135.203       1.000
  10   24      -793.171     358.947       0.343
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.839324 0.0177762 -0.157329 -2.54601 
0.0685988 0.849607 -0.476514 9.3556 
-0.07816 -0.255408 1.29422 -0.914415 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -259.081   GNORM= 31805.8
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -286.588     363.757       0.000
   2    6      -286.882      42.470       0.986
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.841453 0.0234878 -0.164499 -1.86703 
0.0694896 0.84776 -0.47729 9.20285 
-0.0790162 -0.258217 1.30043 -1.22195 
0 0 0 1 

Final RAS Transform: 
0.841453 0.0234878 -0.164499 -1.86703 
0.0694896 0.84776 -0.47729 9.20285 
-0.0790162 -0.258217 1.30043 -1.22195 
0 0 0 1 


real	0m3.595s
user	0m5.584s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.400412
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0185
Level     0,  Iter     1:    Energy =   0.0205
Level     0,  Iter     2:    Energy =   0.0235
Level     0,  Iter     3:    Energy =   0.0268
Level     0,  Iter     4:    Energy =   0.0292
Level     0,  Iter     5:    Energy =   0.0309
Level     0,  Iter     6:    Energy =   0.0330
Level     0,  Iter     7:    Energy =   0.0345
Level     0,  Iter     8:    Energy =   0.0358
Level     0,  Iter     9:    Energy =   0.0371
Level     0,  Iter    10:    Energy =   0.0378
Level     0,  Iter    11:    Energy =   0.0388
Level     0,  Iter    12:    Energy =   0.0396
Level     0,  Iter    13:    Energy =   0.0402
Level     0,  Iter    14:    Energy =   0.0410
Level     0,  Iter    15:    Energy =   0.0418
Level     0,  Iter    16:    Energy =   0.0425
Level     0,  Iter    17:    Energy =   0.0431
Level     0,  Iter    18:    Energy =   0.0438
Level     0,  Iter    19:    Energy =   0.0444
Level     0,  Iter    20:    Energy =   0.0451
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0464
Level     0,  Iter    23:    Energy =   0.0470
Level     0,  Iter    24:    Energy =   0.0476
Level     0,  Iter    25:    Energy =   0.0481
Level     0,  Iter    26:    Energy =   0.0486
Level     0,  Iter    27:    Energy =   0.0492
Level     0,  Iter    28:    Energy =   0.0498
Level     0,  Iter    29:    Energy =   0.0503
Level     0,  Iter    30:    Energy =   0.0508
Level     0,  Iter    31:    Energy =   0.0513
Level     0,  Iter    32:    Energy =   0.0518
Level     0,  Iter    33:    Energy =   0.0523
Level     0,  Iter    34:    Energy =   0.0526
Level     0,  Iter    35:    Energy =   0.0524
Level     0,  Iter    36:    Energy =   0.0528
Level     0,  Iter    37:    Energy =   0.0531
Level     0,  Iter    38:    Energy =   0.0531
Level     0,  Iter    39:    Energy =   0.0530
Level     0,  Iter    40:    Energy =   0.0533
Level     0,  Iter    41:    Energy =   0.0536
Level     0,  Iter    42:    Energy =   0.0537
Level     0,  Iter    43:    Energy =   0.0537
Level     0,  Iter    44:    Energy =   0.0538
Level     0,  Iter    45:    Energy =   0.0537
Level     0,  Iter    46:    Energy =   0.0538
Level     0,  Iter    47:    Energy =   0.0537
Level     0,  Iter    48:    Energy =   0.0540
Level     0,  Iter    49:    Energy =   0.0544
Level     0,  Iter    50:    Energy =   0.0547
Level     0,  Iter    51:    Energy =   0.0546
Level     0,  Iter    52:    Energy =   0.0546
Level     0,  Iter    53:    Energy =   0.0544
Level     0,  Iter    54:    Energy =   0.0546
Level     0,  Iter    55:    Energy =   0.0549
Level     0,  Iter    56:    Energy =   0.0550
Level     0,  Iter    57:    Energy =   0.0549
Level     0,  Iter    58:    Energy =   0.0550
Level     0,  Iter    59:    Energy =   0.0551
END OF LEVEL     0    DetJac Range:   0.1266  to   2.3935 
  Avg. Gradient Time  : 0.0067s  33.12% 
  Avg. Gaussian Time  : 0.0099s  48.65% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0266
Level     1,  Iter     1:    Energy =   0.0279
Level     1,  Iter     2:    Energy =   0.0292
Level     1,  Iter     3:    Energy =   0.0301
Level     1,  Iter     4:    Energy =   0.0309
Level     1,  Iter     5:    Energy =   0.0317
Level     1,  Iter     6:    Energy =   0.0325
Level     1,  Iter     7:    Energy =   0.0331
Level     1,  Iter     8:    Energy =   0.0335
Level     1,  Iter     9:    Energy =   0.0340
Level     1,  Iter    10:    Energy =   0.0344
Level     1,  Iter    11:    Energy =   0.0347
Level     1,  Iter    12:    Energy =   0.0349
Level     1,  Iter    13:    Energy =   0.0351
Level     1,  Iter    14:    Energy =   0.0353
Level     1,  Iter    15:    Energy =   0.0355
Level     1,  Iter    16:    Energy =   0.0356
Level     1,  Iter    17:    Energy =   0.0358
Level     1,  Iter    18:    Energy =   0.0360
Level     1,  Iter    19:    Energy =   0.0361
Level     1,  Iter    20:    Energy =   0.0362
Level     1,  Iter    21:    Energy =   0.0363
Level     1,  Iter    22:    Energy =   0.0365
Level     1,  Iter    23:    Energy =   0.0366
Level     1,  Iter    24:    Energy =   0.0366
Level     1,  Iter    25:    Energy =   0.0367
Level     1,  Iter    26:    Energy =   0.0368
Level     1,  Iter    27:    Energy =   0.0370
Level     1,  Iter    28:    Energy =   0.0371
Level     1,  Iter    29:    Energy =   0.0373
Level     1,  Iter    30:    Energy =   0.0375
Level     1,  Iter    31:    Energy =   0.0376
Level     1,  Iter    32:    Energy =   0.0377
Level     1,  Iter    33:    Energy =   0.0379
Level     1,  Iter    34:    Energy =   0.0380
Level     1,  Iter    35:    Energy =   0.0382
Level     1,  Iter    36:    Energy =   0.0382
Level     1,  Iter    37:    Energy =   0.0383
Level     1,  Iter    38:    Energy =   0.0383
Level     1,  Iter    39:    Energy =   0.0384
Level     1,  Iter    40:    Energy =   0.0384
Level     1,  Iter    41:    Energy =   0.0385
Level     1,  Iter    42:    Energy =   0.0385
Level     1,  Iter    43:    Energy =   0.0386
Level     1,  Iter    44:    Energy =   0.0387
Level     1,  Iter    45:    Energy =   0.0388
Level     1,  Iter    46:    Energy =   0.0388
Level     1,  Iter    47:    Energy =   0.0388
Level     1,  Iter    48:    Energy =   0.0388
Level     1,  Iter    49:    Energy =   0.0389
Level     1,  Iter    50:    Energy =   0.0389
Level     1,  Iter    51:    Energy =   0.0389
Level     1,  Iter    52:    Energy =   0.0389
Level     1,  Iter    53:    Energy =   0.0389
Level     1,  Iter    54:    Energy =   0.0390
Level     1,  Iter    55:    Energy =   0.0390
Level     1,  Iter    56:    Energy =   0.0390
Level     1,  Iter    57:    Energy =   0.0390
Level     1,  Iter    58:    Energy =   0.0389
Level     1,  Iter    59:    Energy =   0.0389
END OF LEVEL     1    DetJac Range:   0.0473  to   3.3585 
  Avg. Gradient Time  : 0.0288s  34.45% 
  Avg. Gaussian Time  : 0.0431s  51.61% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0175
Level     2,  Iter     1:    Energy =   0.0180
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0196
Level     2,  Iter     5:    Energy =   0.0201
Level     2,  Iter     6:    Energy =   0.0206
Level     2,  Iter     7:    Energy =   0.0210
Level     2,  Iter     8:    Energy =   0.0215
Level     2,  Iter     9:    Energy =   0.0218
Level     2,  Iter    10:    Energy =   0.0221
Level     2,  Iter    11:    Energy =   0.0223
Level     2,  Iter    12:    Energy =   0.0226
Level     2,  Iter    13:    Energy =   0.0228
Level     2,  Iter    14:    Energy =   0.0230
Level     2,  Iter    15:    Energy =   0.0231
Level     2,  Iter    16:    Energy =   0.0233
Level     2,  Iter    17:    Energy =   0.0234
Level     2,  Iter    18:    Energy =   0.0235
Level     2,  Iter    19:    Energy =   0.0236
END OF LEVEL     2    DetJac Range:   0.0212  to   5.0317 
  Avg. Gradient Time  : 0.1866s  32.96% 
  Avg. Gaussian Time  : 0.3028s  53.50% 
  Avg. Iteration Time : 0.5661s 

real	0m20.340s
user	0m35.388s
sys	0m2.200s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 370.089   GNORM= 157.211
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       241.284     117.812       0.006
   2    3      -259.967      85.856       1.000
   3    4      -613.142      39.541       1.000
   4    6      -642.888      49.047       0.307
   5    9      -660.285      44.595       0.021
   6   10      -676.407      53.510       1.000
   7   11      -782.851     121.023       1.000
   8   13      -848.774      97.412       0.505
   9   14      -893.494      90.681       1.000
  10   16      -895.394      31.661       0.405
  11   17      -902.338      52.554       1.000
  12   22      -905.407      48.382       0.012
  13   23      -908.465      36.208       1.000
  14   25      -910.197      18.973       0.261
  15   26      -911.977      38.865       1.000
  16   27      -913.749      31.979       1.000
  17   28      -917.401      32.079       1.000
  18   29      -923.818      64.845       1.000
  19   31      -928.932      53.500       0.261
  20   35      -933.772      33.674       0.887
  21   38      -938.561      10.429       0.944
  22   39      -939.601      15.742       1.000
  23   40      -946.589      42.973       1.000
  24   44      -948.994      56.308       0.175
  25   46      -949.318      63.938       0.206
  26   47      -956.310      20.728       1.000
  27   49      -970.467      34.831       5.000
  28   53     -1149.525      86.858       2.309
  29   57     -1156.147     114.067       0.003
  30   58     -1157.218     121.870       1.000
  31   59     -1215.444      79.525       1.000
  32   60     -1229.389     185.514       1.000
  33   61     -1299.946     146.339       1.000
Final RAS Transform: 
0.842921 0.189609 -0.399107 -3.34453 
0.300063 0.844003 -0.0607034 12.871 
0.0552585 -0.114854 0.392179 -13.9914 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -633.776   GNORM= 86.1976
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -675.034     137.923       0.012
   2    3      -705.514      95.118       1.000
   3    4      -725.479     123.679       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.846925 0.201101 -0.415015 -1.64845 
0.301751 0.841231 -0.0632372 13.0476 
0.0560142 -0.111503 0.386864 -13.5178 
0 0 0 1 

Final RAS Transform: 
0.846925 0.201101 -0.415015 -1.64845 
0.301751 0.841231 -0.0632372 13.0476 
0.0560142 -0.111503 0.386864 -13.5178 
0 0 0 1 


real	0m3.699s
user	0m5.672s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.392239
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0309
Level     0,  Iter     1:    Energy =   0.0325
Level     0,  Iter     2:    Energy =   0.0349
Level     0,  Iter     3:    Energy =   0.0373
Level     0,  Iter     4:    Energy =   0.0390
Level     0,  Iter     5:    Energy =   0.0405
Level     0,  Iter     6:    Energy =   0.0417
Level     0,  Iter     7:    Energy =   0.0427
Level     0,  Iter     8:    Energy =   0.0437
Level     0,  Iter     9:    Energy =   0.0447
Level     0,  Iter    10:    Energy =   0.0455
Level     0,  Iter    11:    Energy =   0.0462
Level     0,  Iter    12:    Energy =   0.0468
Level     0,  Iter    13:    Energy =   0.0471
Level     0,  Iter    14:    Energy =   0.0475
Level     0,  Iter    15:    Energy =   0.0482
Level     0,  Iter    16:    Energy =   0.0486
Level     0,  Iter    17:    Energy =   0.0492
Level     0,  Iter    18:    Energy =   0.0495
Level     0,  Iter    19:    Energy =   0.0501
Level     0,  Iter    20:    Energy =   0.0503
Level     0,  Iter    21:    Energy =   0.0507
Level     0,  Iter    22:    Energy =   0.0510
Level     0,  Iter    23:    Energy =   0.0515
Level     0,  Iter    24:    Energy =   0.0517
Level     0,  Iter    25:    Energy =   0.0521
Level     0,  Iter    26:    Energy =   0.0521
Level     0,  Iter    27:    Energy =   0.0524
Level     0,  Iter    28:    Energy =   0.0525
Level     0,  Iter    29:    Energy =   0.0526
Level     0,  Iter    30:    Energy =   0.0526
Level     0,  Iter    31:    Energy =   0.0527
Level     0,  Iter    32:    Energy =   0.0524
Level     0,  Iter    33:    Energy =   0.0525
Level     0,  Iter    34:    Energy =   0.0523
Level     0,  Iter    35:    Energy =   0.0525
Level     0,  Iter    36:    Energy =   0.0523
Level     0,  Iter    37:    Energy =   0.0524
Level     0,  Iter    38:    Energy =   0.0523
Level     0,  Iter    39:    Energy =   0.0523
Level     0,  Iter    40:    Energy =   0.0523
Level     0,  Iter    41:    Energy =   0.0523
Level     0,  Iter    42:    Energy =   0.0522
Level     0,  Iter    43:    Energy =   0.0522
Level     0,  Iter    44:    Energy =   0.0522
Level     0,  Iter    45:    Energy =   0.0522
Level     0,  Iter    46:    Energy =   0.0522
Level     0,  Iter    47:    Energy =   0.0523
Level     0,  Iter    48:    Energy =   0.0522
Level     0,  Iter    49:    Energy =   0.0523
Level     0,  Iter    50:    Energy =   0.0522
Level     0,  Iter    51:    Energy =   0.0524
Level     0,  Iter    52:    Energy =   0.0523
Level     0,  Iter    53:    Energy =   0.0524
Level     0,  Iter    54:    Energy =   0.0524
Level     0,  Iter    55:    Energy =   0.0525
Level     0,  Iter    56:    Energy =   0.0525
Level     0,  Iter    57:    Energy =   0.0525
Level     0,  Iter    58:    Energy =   0.0525
Level     0,  Iter    59:    Energy =   0.0526
END OF LEVEL     0    DetJac Range:   0.0431  to   2.2131 
  Avg. Gradient Time  : 0.0067s  33.36% 
  Avg. Gaussian Time  : 0.0097s  48.57% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0322
Level     1,  Iter     2:    Energy =   0.0332
Level     1,  Iter     3:    Energy =   0.0342
Level     1,  Iter     4:    Energy =   0.0351
Level     1,  Iter     5:    Energy =   0.0359
Level     1,  Iter     6:    Energy =   0.0365
Level     1,  Iter     7:    Energy =   0.0369
Level     1,  Iter     8:    Energy =   0.0374
Level     1,  Iter     9:    Energy =   0.0377
Level     1,  Iter    10:    Energy =   0.0380
Level     1,  Iter    11:    Energy =   0.0382
Level     1,  Iter    12:    Energy =   0.0385
Level     1,  Iter    13:    Energy =   0.0387
Level     1,  Iter    14:    Energy =   0.0389
Level     1,  Iter    15:    Energy =   0.0391
Level     1,  Iter    16:    Energy =   0.0393
Level     1,  Iter    17:    Energy =   0.0395
Level     1,  Iter    18:    Energy =   0.0396
Level     1,  Iter    19:    Energy =   0.0397
Level     1,  Iter    20:    Energy =   0.0399
Level     1,  Iter    21:    Energy =   0.0400
Level     1,  Iter    22:    Energy =   0.0401
Level     1,  Iter    23:    Energy =   0.0402
Level     1,  Iter    24:    Energy =   0.0402
Level     1,  Iter    25:    Energy =   0.0403
Level     1,  Iter    26:    Energy =   0.0404
Level     1,  Iter    27:    Energy =   0.0404
Level     1,  Iter    28:    Energy =   0.0405
Level     1,  Iter    29:    Energy =   0.0405
Level     1,  Iter    30:    Energy =   0.0406
Level     1,  Iter    31:    Energy =   0.0406
Level     1,  Iter    32:    Energy =   0.0406
Level     1,  Iter    33:    Energy =   0.0406
Level     1,  Iter    34:    Energy =   0.0407
Level     1,  Iter    35:    Energy =   0.0407
Level     1,  Iter    36:    Energy =   0.0407
Level     1,  Iter    37:    Energy =   0.0408
Level     1,  Iter    38:    Energy =   0.0408
Level     1,  Iter    39:    Energy =   0.0408
Level     1,  Iter    40:    Energy =   0.0408
Level     1,  Iter    41:    Energy =   0.0408
Level     1,  Iter    42:    Energy =   0.0408
Level     1,  Iter    43:    Energy =   0.0409
Level     1,  Iter    44:    Energy =   0.0409
Level     1,  Iter    45:    Energy =   0.0409
Level     1,  Iter    46:    Energy =   0.0409
Level     1,  Iter    47:    Energy =   0.0409
Level     1,  Iter    48:    Energy =   0.0410
Level     1,  Iter    49:    Energy =   0.0410
Level     1,  Iter    50:    Energy =   0.0410
Level     1,  Iter    51:    Energy =   0.0411
Level     1,  Iter    52:    Energy =   0.0411
Level     1,  Iter    53:    Energy =   0.0411
Level     1,  Iter    54:    Energy =   0.0411
Level     1,  Iter    55:    Energy =   0.0411
Level     1,  Iter    56:    Energy =   0.0411
Level     1,  Iter    57:    Energy =   0.0412
Level     1,  Iter    58:    Energy =   0.0412
Level     1,  Iter    59:    Energy =   0.0412
END OF LEVEL     1    DetJac Range:   0.0476  to   1.9919 
  Avg. Gradient Time  : 0.0290s  34.59% 
  Avg. Gaussian Time  : 0.0432s  51.56% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0198
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0218
Level     2,  Iter     3:    Energy =   0.0225
Level     2,  Iter     4:    Energy =   0.0231
Level     2,  Iter     5:    Energy =   0.0237
Level     2,  Iter     6:    Energy =   0.0243
Level     2,  Iter     7:    Energy =   0.0246
Level     2,  Iter     8:    Energy =   0.0249
Level     2,  Iter     9:    Energy =   0.0252
Level     2,  Iter    10:    Energy =   0.0254
Level     2,  Iter    11:    Energy =   0.0255
Level     2,  Iter    12:    Energy =   0.0256
Level     2,  Iter    13:    Energy =   0.0257
Level     2,  Iter    14:    Energy =   0.0258
Level     2,  Iter    15:    Energy =   0.0259
Level     2,  Iter    16:    Energy =   0.0260
Level     2,  Iter    17:    Energy =   0.0261
Level     2,  Iter    18:    Energy =   0.0261
Level     2,  Iter    19:    Energy =   0.0263
END OF LEVEL     2    DetJac Range:   0.0297  to   2.3710 
  Avg. Gradient Time  : 0.1841s  32.69% 
  Avg. Gaussian Time  : 0.3021s  53.63% 
  Avg. Iteration Time : 0.5632s 

real	0m20.263s
user	0m35.192s
sys	0m2.192s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 490.988   GNORM= 183.141
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -175.230     118.913       0.027
   2    4      -545.512      83.732       1.000
   3    5      -716.762      60.265       1.000
   4    7      -722.587     193.717       0.457
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00138 0.0708095 -0.12329 1.99999 
0.114757 1.17158 -0.352513 7.36551 
-0.0236593 -0.0816836 0.99411 -2.7997 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -402.677   GNORM= 334.609
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -412.688      42.462       0.002
   2    5      -415.960    6192.532       1.000
   3   18      -417.559      96.338       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00099 0.0696891 -0.123122 1.77602 
0.112483 1.166 -0.348686 6.9832 
-0.0244849 -0.07601 0.99619 -2.7344 
0 0 0 1 

Final RAS Transform: 
1.00099 0.0696891 -0.123122 1.77602 
0.112483 1.166 -0.348686 6.9832 
-0.0244849 -0.07601 0.99619 -2.7344 
0 0 0 1 


real	0m4.232s
user	0m6.832s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.434016
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0186
Level     0,  Iter     1:    Energy =   0.0205
Level     0,  Iter     2:    Energy =   0.0226
Level     0,  Iter     3:    Energy =   0.0249
Level     0,  Iter     4:    Energy =   0.0267
Level     0,  Iter     5:    Energy =   0.0282
Level     0,  Iter     6:    Energy =   0.0296
Level     0,  Iter     7:    Energy =   0.0304
Level     0,  Iter     8:    Energy =   0.0309
Level     0,  Iter     9:    Energy =   0.0316
Level     0,  Iter    10:    Energy =   0.0324
Level     0,  Iter    11:    Energy =   0.0331
Level     0,  Iter    12:    Energy =   0.0337
Level     0,  Iter    13:    Energy =   0.0345
Level     0,  Iter    14:    Energy =   0.0351
Level     0,  Iter    15:    Energy =   0.0357
Level     0,  Iter    16:    Energy =   0.0362
Level     0,  Iter    17:    Energy =   0.0367
Level     0,  Iter    18:    Energy =   0.0371
Level     0,  Iter    19:    Energy =   0.0375
Level     0,  Iter    20:    Energy =   0.0378
Level     0,  Iter    21:    Energy =   0.0381
Level     0,  Iter    22:    Energy =   0.0384
Level     0,  Iter    23:    Energy =   0.0385
Level     0,  Iter    24:    Energy =   0.0387
Level     0,  Iter    25:    Energy =   0.0388
Level     0,  Iter    26:    Energy =   0.0391
Level     0,  Iter    27:    Energy =   0.0394
Level     0,  Iter    28:    Energy =   0.0397
Level     0,  Iter    29:    Energy =   0.0400
Level     0,  Iter    30:    Energy =   0.0401
Level     0,  Iter    31:    Energy =   0.0403
Level     0,  Iter    32:    Energy =   0.0403
Level     0,  Iter    33:    Energy =   0.0405
Level     0,  Iter    34:    Energy =   0.0407
Level     0,  Iter    35:    Energy =   0.0409
Level     0,  Iter    36:    Energy =   0.0410
Level     0,  Iter    37:    Energy =   0.0412
Level     0,  Iter    38:    Energy =   0.0413
Level     0,  Iter    39:    Energy =   0.0413
Level     0,  Iter    40:    Energy =   0.0413
Level     0,  Iter    41:    Energy =   0.0415
Level     0,  Iter    42:    Energy =   0.0416
Level     0,  Iter    43:    Energy =   0.0418
Level     0,  Iter    44:    Energy =   0.0417
Level     0,  Iter    45:    Energy =   0.0419
Level     0,  Iter    46:    Energy =   0.0418
Level     0,  Iter    47:    Energy =   0.0419
Level     0,  Iter    48:    Energy =   0.0420
Level     0,  Iter    49:    Energy =   0.0421
Level     0,  Iter    50:    Energy =   0.0422
Level     0,  Iter    51:    Energy =   0.0422
Level     0,  Iter    52:    Energy =   0.0420
Level     0,  Iter    53:    Energy =   0.0419
Level     0,  Iter    54:    Energy =   0.0417
Level     0,  Iter    55:    Energy =   0.0417
Level     0,  Iter    56:    Energy =   0.0415
Level     0,  Iter    57:    Energy =   0.0415
Level     0,  Iter    58:    Energy =   0.0415
Level     0,  Iter    59:    Energy =   0.0416
END OF LEVEL     0    DetJac Range:   0.1191  to   3.6920 
  Avg. Gradient Time  : 0.0066s  33.08% 
  Avg. Gaussian Time  : 0.0098s  48.75% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0221
Level     1,  Iter     1:    Energy =   0.0229
Level     1,  Iter     2:    Energy =   0.0235
Level     1,  Iter     3:    Energy =   0.0241
Level     1,  Iter     4:    Energy =   0.0247
Level     1,  Iter     5:    Energy =   0.0251
Level     1,  Iter     6:    Energy =   0.0254
Level     1,  Iter     7:    Energy =   0.0257
Level     1,  Iter     8:    Energy =   0.0260
Level     1,  Iter     9:    Energy =   0.0262
Level     1,  Iter    10:    Energy =   0.0263
Level     1,  Iter    11:    Energy =   0.0264
Level     1,  Iter    12:    Energy =   0.0267
Level     1,  Iter    13:    Energy =   0.0269
Level     1,  Iter    14:    Energy =   0.0272
Level     1,  Iter    15:    Energy =   0.0274
Level     1,  Iter    16:    Energy =   0.0276
Level     1,  Iter    17:    Energy =   0.0277
Level     1,  Iter    18:    Energy =   0.0278
Level     1,  Iter    19:    Energy =   0.0280
Level     1,  Iter    20:    Energy =   0.0282
Level     1,  Iter    21:    Energy =   0.0284
Level     1,  Iter    22:    Energy =   0.0286
Level     1,  Iter    23:    Energy =   0.0287
Level     1,  Iter    24:    Energy =   0.0287
Level     1,  Iter    25:    Energy =   0.0288
Level     1,  Iter    26:    Energy =   0.0289
Level     1,  Iter    27:    Energy =   0.0290
Level     1,  Iter    28:    Energy =   0.0291
Level     1,  Iter    29:    Energy =   0.0291
Level     1,  Iter    30:    Energy =   0.0291
Level     1,  Iter    31:    Energy =   0.0291
Level     1,  Iter    32:    Energy =   0.0291
Level     1,  Iter    33:    Energy =   0.0291
Level     1,  Iter    34:    Energy =   0.0292
Level     1,  Iter    35:    Energy =   0.0293
Level     1,  Iter    36:    Energy =   0.0294
Level     1,  Iter    37:    Energy =   0.0296
Level     1,  Iter    38:    Energy =   0.0297
Level     1,  Iter    39:    Energy =   0.0299
Level     1,  Iter    40:    Energy =   0.0301
Level     1,  Iter    41:    Energy =   0.0303
Level     1,  Iter    42:    Energy =   0.0306
Level     1,  Iter    43:    Energy =   0.0309
Level     1,  Iter    44:    Energy =   0.0312
Level     1,  Iter    45:    Energy =   0.0315
Level     1,  Iter    46:    Energy =   0.0315
Level     1,  Iter    47:    Energy =   0.0316
Level     1,  Iter    48:    Energy =   0.0317
Level     1,  Iter    49:    Energy =   0.0317
Level     1,  Iter    50:    Energy =   0.0317
Level     1,  Iter    51:    Energy =   0.0317
Level     1,  Iter    52:    Energy =   0.0317
Level     1,  Iter    53:    Energy =   0.0317
Level     1,  Iter    54:    Energy =   0.0316
Level     1,  Iter    55:    Energy =   0.0316
Level     1,  Iter    56:    Energy =   0.0315
Level     1,  Iter    57:    Energy =   0.0315
Level     1,  Iter    58:    Energy =   0.0314
Level     1,  Iter    59:    Energy =   0.0314
END OF LEVEL     1    DetJac Range:   0.0682  to   3.3162 
  Avg. Gradient Time  : 0.0285s  34.37% 
  Avg. Gaussian Time  : 0.0430s  51.79% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0137
Level     2,  Iter     1:    Energy =   0.0142
Level     2,  Iter     2:    Energy =   0.0147
Level     2,  Iter     3:    Energy =   0.0151
Level     2,  Iter     4:    Energy =   0.0154
Level     2,  Iter     5:    Energy =   0.0158
Level     2,  Iter     6:    Energy =   0.0162
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0170
Level     2,  Iter     9:    Energy =   0.0174
Level     2,  Iter    10:    Energy =   0.0179
Level     2,  Iter    11:    Energy =   0.0183
Level     2,  Iter    12:    Energy =   0.0187
Level     2,  Iter    13:    Energy =   0.0190
Level     2,  Iter    14:    Energy =   0.0193
Level     2,  Iter    15:    Energy =   0.0195
Level     2,  Iter    16:    Energy =   0.0198
Level     2,  Iter    17:    Energy =   0.0200
Level     2,  Iter    18:    Energy =   0.0202
Level     2,  Iter    19:    Energy =   0.0203
END OF LEVEL     2    DetJac Range:   0.0164  to   3.7230 
  Avg. Gradient Time  : 0.1835s  32.75% 
  Avg. Gaussian Time  : 0.3009s  53.70% 
  Avg. Iteration Time : 0.5604s 

real	0m20.150s
user	0m35.028s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 444.224   GNORM= 178.17
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -385.429     110.010       0.028
   2    5      -459.677      75.803       0.511
   3    8      -678.711      81.130       1.946
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01989 0.0511797 -0.0531546 3.16459 
0.153108 1.15833 -0.182497 6.01514 
-0.0756131 -0.0872872 1.10462 -2.58524 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -307.277   GNORM= 112.066
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -365.565     401.096       0.009
   2    3      -370.393     121.096       1.000
   3    4      -395.675      53.248       1.000
   4    5      -398.201     167.794       1.000
   5    8      -398.429      26.531       0.020
   6    9      -401.357     162.374       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01939 0.0506686 -0.0542231 3.05897 
0.146953 1.14747 -0.167557 4.53281 
-0.0775331 -0.0874645 1.11251 -3.09397 
0 0 0 1 

Final RAS Transform: 
1.01939 0.0506686 -0.0542231 3.05897 
0.146953 1.14747 -0.167557 4.53281 
-0.0775331 -0.0874645 1.11251 -3.09397 
0 0 0 1 


real	0m3.718s
user	0m5.900s
sys	0m0.384s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.361551
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0162
Level     0,  Iter     1:    Energy =   0.0174
Level     0,  Iter     2:    Energy =   0.0194
Level     0,  Iter     3:    Energy =   0.0218
Level     0,  Iter     4:    Energy =   0.0238
Level     0,  Iter     5:    Energy =   0.0257
Level     0,  Iter     6:    Energy =   0.0273
Level     0,  Iter     7:    Energy =   0.0284
Level     0,  Iter     8:    Energy =   0.0295
Level     0,  Iter     9:    Energy =   0.0297
Level     0,  Iter    10:    Energy =   0.0302
Level     0,  Iter    11:    Energy =   0.0312
Level     0,  Iter    12:    Energy =   0.0317
Level     0,  Iter    13:    Energy =   0.0324
Level     0,  Iter    14:    Energy =   0.0330
Level     0,  Iter    15:    Energy =   0.0334
Level     0,  Iter    16:    Energy =   0.0337
Level     0,  Iter    17:    Energy =   0.0339
Level     0,  Iter    18:    Energy =   0.0341
Level     0,  Iter    19:    Energy =   0.0342
Level     0,  Iter    20:    Energy =   0.0343
Level     0,  Iter    21:    Energy =   0.0344
Level     0,  Iter    22:    Energy =   0.0344
Level     0,  Iter    23:    Energy =   0.0345
Level     0,  Iter    24:    Energy =   0.0347
Level     0,  Iter    25:    Energy =   0.0349
Level     0,  Iter    26:    Energy =   0.0351
Level     0,  Iter    27:    Energy =   0.0354
Level     0,  Iter    28:    Energy =   0.0357
Level     0,  Iter    29:    Energy =   0.0359
Level     0,  Iter    30:    Energy =   0.0361
Level     0,  Iter    31:    Energy =   0.0364
Level     0,  Iter    32:    Energy =   0.0366
Level     0,  Iter    33:    Energy =   0.0367
Level     0,  Iter    34:    Energy =   0.0369
Level     0,  Iter    35:    Energy =   0.0371
Level     0,  Iter    36:    Energy =   0.0373
Level     0,  Iter    37:    Energy =   0.0375
Level     0,  Iter    38:    Energy =   0.0378
Level     0,  Iter    39:    Energy =   0.0380
Level     0,  Iter    40:    Energy =   0.0383
Level     0,  Iter    41:    Energy =   0.0385
Level     0,  Iter    42:    Energy =   0.0387
Level     0,  Iter    43:    Energy =   0.0389
Level     0,  Iter    44:    Energy =   0.0391
Level     0,  Iter    45:    Energy =   0.0391
Level     0,  Iter    46:    Energy =   0.0392
Level     0,  Iter    47:    Energy =   0.0393
Level     0,  Iter    48:    Energy =   0.0395
Level     0,  Iter    49:    Energy =   0.0395
Level     0,  Iter    50:    Energy =   0.0396
Level     0,  Iter    51:    Energy =   0.0397
Level     0,  Iter    52:    Energy =   0.0398
Level     0,  Iter    53:    Energy =   0.0398
Level     0,  Iter    54:    Energy =   0.0399
Level     0,  Iter    55:    Energy =   0.0400
Level     0,  Iter    56:    Energy =   0.0401
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0402
Level     0,  Iter    59:    Energy =   0.0402
END OF LEVEL     0    DetJac Range:   0.0886  to   3.9082 
  Avg. Gradient Time  : 0.0067s  33.33% 
  Avg. Gaussian Time  : 0.0098s  48.34% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0247
Level     1,  Iter     1:    Energy =   0.0257
Level     1,  Iter     2:    Energy =   0.0266
Level     1,  Iter     3:    Energy =   0.0274
Level     1,  Iter     4:    Energy =   0.0283
Level     1,  Iter     5:    Energy =   0.0290
Level     1,  Iter     6:    Energy =   0.0297
Level     1,  Iter     7:    Energy =   0.0305
Level     1,  Iter     8:    Energy =   0.0313
Level     1,  Iter     9:    Energy =   0.0319
Level     1,  Iter    10:    Energy =   0.0325
Level     1,  Iter    11:    Energy =   0.0330
Level     1,  Iter    12:    Energy =   0.0335
Level     1,  Iter    13:    Energy =   0.0339
Level     1,  Iter    14:    Energy =   0.0342
Level     1,  Iter    15:    Energy =   0.0344
Level     1,  Iter    16:    Energy =   0.0346
Level     1,  Iter    17:    Energy =   0.0348
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0351
Level     1,  Iter    20:    Energy =   0.0353
Level     1,  Iter    21:    Energy =   0.0354
Level     1,  Iter    22:    Energy =   0.0356
Level     1,  Iter    23:    Energy =   0.0357
Level     1,  Iter    24:    Energy =   0.0358
Level     1,  Iter    25:    Energy =   0.0360
Level     1,  Iter    26:    Energy =   0.0361
Level     1,  Iter    27:    Energy =   0.0363
Level     1,  Iter    28:    Energy =   0.0364
Level     1,  Iter    29:    Energy =   0.0365
Level     1,  Iter    30:    Energy =   0.0367
Level     1,  Iter    31:    Energy =   0.0368
Level     1,  Iter    32:    Energy =   0.0369
Level     1,  Iter    33:    Energy =   0.0371
Level     1,  Iter    34:    Energy =   0.0373
Level     1,  Iter    35:    Energy =   0.0374
Level     1,  Iter    36:    Energy =   0.0375
Level     1,  Iter    37:    Energy =   0.0377
Level     1,  Iter    38:    Energy =   0.0378
Level     1,  Iter    39:    Energy =   0.0379
Level     1,  Iter    40:    Energy =   0.0380
Level     1,  Iter    41:    Energy =   0.0381
Level     1,  Iter    42:    Energy =   0.0382
Level     1,  Iter    43:    Energy =   0.0382
Level     1,  Iter    44:    Energy =   0.0383
Level     1,  Iter    45:    Energy =   0.0384
Level     1,  Iter    46:    Energy =   0.0385
Level     1,  Iter    47:    Energy =   0.0385
Level     1,  Iter    48:    Energy =   0.0386
Level     1,  Iter    49:    Energy =   0.0386
Level     1,  Iter    50:    Energy =   0.0387
Level     1,  Iter    51:    Energy =   0.0387
Level     1,  Iter    52:    Energy =   0.0388
Level     1,  Iter    53:    Energy =   0.0388
Level     1,  Iter    54:    Energy =   0.0389
Level     1,  Iter    55:    Energy =   0.0389
Level     1,  Iter    56:    Energy =   0.0389
Level     1,  Iter    57:    Energy =   0.0389
Level     1,  Iter    58:    Energy =   0.0389
Level     1,  Iter    59:    Energy =   0.0389
END OF LEVEL     1    DetJac Range:   0.0186  to   5.9323 
  Avg. Gradient Time  : 0.0280s  34.20% 
  Avg. Gaussian Time  : 0.0425s  51.87% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0192
Level     2,  Iter     1:    Energy =   0.0199
Level     2,  Iter     2:    Energy =   0.0206
Level     2,  Iter     3:    Energy =   0.0211
Level     2,  Iter     4:    Energy =   0.0216
Level     2,  Iter     5:    Energy =   0.0221
Level     2,  Iter     6:    Energy =   0.0225
Level     2,  Iter     7:    Energy =   0.0228
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0234
Level     2,  Iter    10:    Energy =   0.0237
Level     2,  Iter    11:    Energy =   0.0239
Level     2,  Iter    12:    Energy =   0.0242
Level     2,  Iter    13:    Energy =   0.0244
Level     2,  Iter    14:    Energy =   0.0246
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0250
Level     2,  Iter    17:    Energy =   0.0251
Level     2,  Iter    18:    Energy =   0.0253
Level     2,  Iter    19:    Energy =   0.0254
END OF LEVEL     2    DetJac Range:   0.0193  to   5.1736 
  Avg. Gradient Time  : 0.1849s  32.77% 
  Avg. Gaussian Time  : 0.3030s  53.70% 
  Avg. Iteration Time : 0.5642s 

real	0m20.199s
user	0m35.180s
sys	0m2.116s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 670.816   GNORM= 206.202
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       148.315     109.645       0.024
   2    4      -353.415     204.125       1.000
   3    5      -492.147     100.223       1.000
   4    8      -602.919      57.318       0.199
   5   13      -769.580      30.280       2.338
   6   14      -837.084      88.404       1.000
   7   15      -900.483      40.676       1.000
   8   16      -914.737      44.519       1.000
   9   20      -939.435      54.669       0.405
  10   22      -941.378      50.831       0.026
  11   26      -972.819      38.097       2.242
  12   28     -1074.530     134.308       5.000
  13   29     -1216.752      78.258       1.000
  14   30     -1280.782     117.144       1.000
  15   32     -1313.029      96.529       0.194
  16   33     -1332.977      78.930       1.000
  17   34     -1347.626      39.731       1.000
  18   35     -1361.995      63.688       1.000
  19   37     -1377.063      71.076       0.150
  20   38     -1405.165      66.765       1.000
  21   40     -1435.349      67.999       0.388
  22   42     -1483.850      88.132       5.000
  23   44     -1533.439     120.225       0.443
  24   46     -1564.331     106.229       0.140
  25   48     -1574.136      31.690       0.081
  26   49     -1584.211      72.169       1.000
  27   50     -1586.999      26.752       1.000
  28   51     -1590.484      23.105       1.000
  29   52     -1603.100      45.486       1.000
  30   53     -1613.135      34.426       1.000
  31   55     -1623.123      37.595       0.396
  32   56     -1629.347      61.290       1.000
  33   58     -1643.493      61.042       0.504
  34   60     -1651.377      70.175       0.172
  35   61     -1656.304     101.526       1.000
Final RAS Transform: 
0.451641 0.231765 0.0702634 -2.30026 
0.322827 1.06344 0.318286 15.0662 
-0.217109 -0.0790704 0.634707 -10.773 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -691.684   GNORM= 122.866
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -768.988      23.503       0.008
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.454427 0.233507 0.0654484 -1.68422 
0.325191 1.06626 0.313963 15.7055 
-0.217268 -0.0797761 0.635966 -10.8691 
0 0 0 1 

Final RAS Transform: 
0.454427 0.233507 0.0654484 -1.68422 
0.325191 1.06626 0.313963 15.7055 
-0.217268 -0.0797761 0.635966 -10.8691 
0 0 0 1 


real	0m3.686s
user	0m5.588s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.418631
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0368
Level     0,  Iter     1:    Energy =   0.0392
Level     0,  Iter     2:    Energy =   0.0440
Level     0,  Iter     3:    Energy =   0.0480
Level     0,  Iter     4:    Energy =   0.0510
Level     0,  Iter     5:    Energy =   0.0539
Level     0,  Iter     6:    Energy =   0.0555
Level     0,  Iter     7:    Energy =   0.0576
Level     0,  Iter     8:    Energy =   0.0591
Level     0,  Iter     9:    Energy =   0.0603
Level     0,  Iter    10:    Energy =   0.0613
Level     0,  Iter    11:    Energy =   0.0620
Level     0,  Iter    12:    Energy =   0.0629
Level     0,  Iter    13:    Energy =   0.0639
Level     0,  Iter    14:    Energy =   0.0646
Level     0,  Iter    15:    Energy =   0.0653
Level     0,  Iter    16:    Energy =   0.0654
Level     0,  Iter    17:    Energy =   0.0656
Level     0,  Iter    18:    Energy =   0.0657
Level     0,  Iter    19:    Energy =   0.0660
Level     0,  Iter    20:    Energy =   0.0665
Level     0,  Iter    21:    Energy =   0.0672
Level     0,  Iter    22:    Energy =   0.0681
Level     0,  Iter    23:    Energy =   0.0678
Level     0,  Iter    24:    Energy =   0.0685
Level     0,  Iter    25:    Energy =   0.0691
Level     0,  Iter    26:    Energy =   0.0697
Level     0,  Iter    27:    Energy =   0.0702
Level     0,  Iter    28:    Energy =   0.0706
Level     0,  Iter    29:    Energy =   0.0710
Level     0,  Iter    30:    Energy =   0.0716
Level     0,  Iter    31:    Energy =   0.0720
Level     0,  Iter    32:    Energy =   0.0723
Level     0,  Iter    33:    Energy =   0.0728
Level     0,  Iter    34:    Energy =   0.0731
Level     0,  Iter    35:    Energy =   0.0733
Level     0,  Iter    36:    Energy =   0.0735
Level     0,  Iter    37:    Energy =   0.0737
Level     0,  Iter    38:    Energy =   0.0737
Level     0,  Iter    39:    Energy =   0.0739
Level     0,  Iter    40:    Energy =   0.0742
Level     0,  Iter    41:    Energy =   0.0744
Level     0,  Iter    42:    Energy =   0.0745
Level     0,  Iter    43:    Energy =   0.0746
Level     0,  Iter    44:    Energy =   0.0748
Level     0,  Iter    45:    Energy =   0.0747
Level     0,  Iter    46:    Energy =   0.0748
Level     0,  Iter    47:    Energy =   0.0748
Level     0,  Iter    48:    Energy =   0.0749
Level     0,  Iter    49:    Energy =   0.0748
Level     0,  Iter    50:    Energy =   0.0749
Level     0,  Iter    51:    Energy =   0.0749
Level     0,  Iter    52:    Energy =   0.0749
Level     0,  Iter    53:    Energy =   0.0750
Level     0,  Iter    54:    Energy =   0.0749
Level     0,  Iter    55:    Energy =   0.0749
Level     0,  Iter    56:    Energy =   0.0748
Level     0,  Iter    57:    Energy =   0.0749
Level     0,  Iter    58:    Energy =   0.0749
Level     0,  Iter    59:    Energy =   0.0749
END OF LEVEL     0    DetJac Range:   0.0496  to   2.1703 
  Avg. Gradient Time  : 0.0067s  32.99% 
  Avg. Gaussian Time  : 0.0099s  48.94% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0372
Level     1,  Iter     1:    Energy =   0.0394
Level     1,  Iter     2:    Energy =   0.0414
Level     1,  Iter     3:    Energy =   0.0431
Level     1,  Iter     4:    Energy =   0.0446
Level     1,  Iter     5:    Energy =   0.0458
Level     1,  Iter     6:    Energy =   0.0466
Level     1,  Iter     7:    Energy =   0.0472
Level     1,  Iter     8:    Energy =   0.0478
Level     1,  Iter     9:    Energy =   0.0484
Level     1,  Iter    10:    Energy =   0.0489
Level     1,  Iter    11:    Energy =   0.0494
Level     1,  Iter    12:    Energy =   0.0498
Level     1,  Iter    13:    Energy =   0.0501
Level     1,  Iter    14:    Energy =   0.0505
Level     1,  Iter    15:    Energy =   0.0508
Level     1,  Iter    16:    Energy =   0.0511
Level     1,  Iter    17:    Energy =   0.0514
Level     1,  Iter    18:    Energy =   0.0517
Level     1,  Iter    19:    Energy =   0.0519
Level     1,  Iter    20:    Energy =   0.0520
Level     1,  Iter    21:    Energy =   0.0522
Level     1,  Iter    22:    Energy =   0.0524
Level     1,  Iter    23:    Energy =   0.0525
Level     1,  Iter    24:    Energy =   0.0527
Level     1,  Iter    25:    Energy =   0.0528
Level     1,  Iter    26:    Energy =   0.0529
Level     1,  Iter    27:    Energy =   0.0531
Level     1,  Iter    28:    Energy =   0.0532
Level     1,  Iter    29:    Energy =   0.0533
Level     1,  Iter    30:    Energy =   0.0535
Level     1,  Iter    31:    Energy =   0.0536
Level     1,  Iter    32:    Energy =   0.0537
Level     1,  Iter    33:    Energy =   0.0538
Level     1,  Iter    34:    Energy =   0.0539
Level     1,  Iter    35:    Energy =   0.0540
Level     1,  Iter    36:    Energy =   0.0542
Level     1,  Iter    37:    Energy =   0.0543
Level     1,  Iter    38:    Energy =   0.0544
Level     1,  Iter    39:    Energy =   0.0545
Level     1,  Iter    40:    Energy =   0.0547
Level     1,  Iter    41:    Energy =   0.0548
Level     1,  Iter    42:    Energy =   0.0549
Level     1,  Iter    43:    Energy =   0.0549
Level     1,  Iter    44:    Energy =   0.0550
Level     1,  Iter    45:    Energy =   0.0550
Level     1,  Iter    46:    Energy =   0.0551
Level     1,  Iter    47:    Energy =   0.0551
Level     1,  Iter    48:    Energy =   0.0551
Level     1,  Iter    49:    Energy =   0.0551
Level     1,  Iter    50:    Energy =   0.0552
Level     1,  Iter    51:    Energy =   0.0552
Level     1,  Iter    52:    Energy =   0.0553
Level     1,  Iter    53:    Energy =   0.0553
Level     1,  Iter    54:    Energy =   0.0554
Level     1,  Iter    55:    Energy =   0.0554
Level     1,  Iter    56:    Energy =   0.0554
Level     1,  Iter    57:    Energy =   0.0555
Level     1,  Iter    58:    Energy =   0.0555
Level     1,  Iter    59:    Energy =   0.0556
END OF LEVEL     1    DetJac Range:   0.0314  to   3.0851 
  Avg. Gradient Time  : 0.0283s  34.53% 
  Avg. Gaussian Time  : 0.0422s  51.52% 
  Avg. Iteration Time : 0.0820s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0265
Level     2,  Iter     1:    Energy =   0.0263
Level     2,  Iter     2:    Energy =   0.0262
Level     2,  Iter     3:    Energy =   0.0261
Level     2,  Iter     4:    Energy =   0.0260
Level     2,  Iter     5:    Energy =   0.0270
Level     2,  Iter     6:    Energy =   0.0280
Level     2,  Iter     7:    Energy =   0.0289
Level     2,  Iter     8:    Energy =   0.0296
big value: -3735.673232
big value: 33942.935088
big value: -17775.604800
big value: 1110.365245
Level     2,  Iter     9:    Energy =   0.0302
Level     2,  Iter    10:    Energy =   0.0297
Level     2,  Iter    11:    Energy =   0.0303
Level     2,  Iter    12:    Energy =   0.0308
Level     2,  Iter    13:    Energy =   0.0313
Level     2,  Iter    14:    Energy =   0.0318
Level     2,  Iter    15:    Energy =   0.0322
big value: 15560.978076
big value: 31165.898927
big value: 5254.962738
Level     2,  Iter    16:    Energy =   0.0320
Level     2,  Iter    17:    Energy =   0.0314
Level     2,  Iter    18:    Energy =   0.0318
Level     2,  Iter    19:    Energy =   0.0312
END OF LEVEL     2    DetJac Range:   0.0334  to   3.0204 
  Avg. Gradient Time  : 0.1905s  33.55% 
  Avg. Gaussian Time  : 0.3013s  53.06% 
  Avg. Iteration Time : 0.5678s 

real	0m20.294s
user	0m35.408s
sys	0m2.080s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 606.995   GNORM= 220.105
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -213.228      90.460       0.023
   2    6      -590.393     109.557       2.150
   3    7      -719.641      79.795       1.000
   4    8      -814.802     129.251       1.000
   5   13      -815.235      47.184       0.003
   6   14      -830.875      52.706       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.944555 0.0148227 -0.154925 0.972346 
0.0954625 1.10382 -0.288335 7.15944 
-0.138269 -0.177237 1.1107 -4.99698 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -366.019   GNORM= 266.109
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -366.057      79.523       0.000
   2   11      -366.324     134.585       0.975
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.944523 0.014796 -0.154828 0.965271 
0.095462 1.10383 -0.288326 7.15937 
-0.138256 -0.177211 1.11064 -4.99247 
0 0 0 1 

Final RAS Transform: 
0.944523 0.014796 -0.154828 0.965271 
0.095462 1.10383 -0.288326 7.15937 
-0.138256 -0.177211 1.11064 -4.99247 
0 0 0 1 


real	0m3.879s
user	0m6.156s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.482731
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0208
Level     0,  Iter     1:    Energy =   0.0224
Level     0,  Iter     2:    Energy =   0.0256
Level     0,  Iter     3:    Energy =   0.0282
Level     0,  Iter     4:    Energy =   0.0305
Level     0,  Iter     5:    Energy =   0.0325
Level     0,  Iter     6:    Energy =   0.0342
Level     0,  Iter     7:    Energy =   0.0357
Level     0,  Iter     8:    Energy =   0.0369
Level     0,  Iter     9:    Energy =   0.0378
Level     0,  Iter    10:    Energy =   0.0391
Level     0,  Iter    11:    Energy =   0.0399
Level     0,  Iter    12:    Energy =   0.0408
Level     0,  Iter    13:    Energy =   0.0417
Level     0,  Iter    14:    Energy =   0.0424
Level     0,  Iter    15:    Energy =   0.0430
Level     0,  Iter    16:    Energy =   0.0436
Level     0,  Iter    17:    Energy =   0.0443
Level     0,  Iter    18:    Energy =   0.0450
Level     0,  Iter    19:    Energy =   0.0456
Level     0,  Iter    20:    Energy =   0.0463
Level     0,  Iter    21:    Energy =   0.0468
Level     0,  Iter    22:    Energy =   0.0474
Level     0,  Iter    23:    Energy =   0.0479
Level     0,  Iter    24:    Energy =   0.0484
Level     0,  Iter    25:    Energy =   0.0488
Level     0,  Iter    26:    Energy =   0.0491
Level     0,  Iter    27:    Energy =   0.0494
Level     0,  Iter    28:    Energy =   0.0496
Level     0,  Iter    29:    Energy =   0.0499
Level     0,  Iter    30:    Energy =   0.0501
Level     0,  Iter    31:    Energy =   0.0503
Level     0,  Iter    32:    Energy =   0.0505
Level     0,  Iter    33:    Energy =   0.0507
Level     0,  Iter    34:    Energy =   0.0509
Level     0,  Iter    35:    Energy =   0.0511
Level     0,  Iter    36:    Energy =   0.0512
Level     0,  Iter    37:    Energy =   0.0514
Level     0,  Iter    38:    Energy =   0.0516
Level     0,  Iter    39:    Energy =   0.0517
Level     0,  Iter    40:    Energy =   0.0519
Level     0,  Iter    41:    Energy =   0.0521
Level     0,  Iter    42:    Energy =   0.0522
Level     0,  Iter    43:    Energy =   0.0522
Level     0,  Iter    44:    Energy =   0.0522
Level     0,  Iter    45:    Energy =   0.0523
Level     0,  Iter    46:    Energy =   0.0523
Level     0,  Iter    47:    Energy =   0.0523
Level     0,  Iter    48:    Energy =   0.0523
Level     0,  Iter    49:    Energy =   0.0523
Level     0,  Iter    50:    Energy =   0.0523
Level     0,  Iter    51:    Energy =   0.0524
Level     0,  Iter    52:    Energy =   0.0524
Level     0,  Iter    53:    Energy =   0.0526
Level     0,  Iter    54:    Energy =   0.0527
Level     0,  Iter    55:    Energy =   0.0529
Level     0,  Iter    56:    Energy =   0.0530
Level     0,  Iter    57:    Energy =   0.0532
Level     0,  Iter    58:    Energy =   0.0534
Level     0,  Iter    59:    Energy =   0.0535
END OF LEVEL     0    DetJac Range:   0.0409  to   2.3082 
  Avg. Gradient Time  : 0.0067s  33.51% 
  Avg. Gaussian Time  : 0.0096s  48.09% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0297
Level     1,  Iter     1:    Energy =   0.0312
Level     1,  Iter     2:    Energy =   0.0327
Level     1,  Iter     3:    Energy =   0.0338
Level     1,  Iter     4:    Energy =   0.0348
Level     1,  Iter     5:    Energy =   0.0356
Level     1,  Iter     6:    Energy =   0.0362
Level     1,  Iter     7:    Energy =   0.0368
Level     1,  Iter     8:    Energy =   0.0373
Level     1,  Iter     9:    Energy =   0.0376
Level     1,  Iter    10:    Energy =   0.0379
Level     1,  Iter    11:    Energy =   0.0382
Level     1,  Iter    12:    Energy =   0.0384
Level     1,  Iter    13:    Energy =   0.0387
Level     1,  Iter    14:    Energy =   0.0390
Level     1,  Iter    15:    Energy =   0.0392
Level     1,  Iter    16:    Energy =   0.0394
Level     1,  Iter    17:    Energy =   0.0396
Level     1,  Iter    18:    Energy =   0.0396
Level     1,  Iter    19:    Energy =   0.0397
Level     1,  Iter    20:    Energy =   0.0397
Level     1,  Iter    21:    Energy =   0.0398
Level     1,  Iter    22:    Energy =   0.0398
Level     1,  Iter    23:    Energy =   0.0398
Level     1,  Iter    24:    Energy =   0.0399
Level     1,  Iter    25:    Energy =   0.0399
Level     1,  Iter    26:    Energy =   0.0399
Level     1,  Iter    27:    Energy =   0.0399
Level     1,  Iter    28:    Energy =   0.0399
Level     1,  Iter    29:    Energy =   0.0400
Level     1,  Iter    30:    Energy =   0.0400
Level     1,  Iter    31:    Energy =   0.0400
Level     1,  Iter    32:    Energy =   0.0400
Level     1,  Iter    33:    Energy =   0.0400
Level     1,  Iter    34:    Energy =   0.0400
Level     1,  Iter    35:    Energy =   0.0400
Level     1,  Iter    36:    Energy =   0.0400
Level     1,  Iter    37:    Energy =   0.0400
Level     1,  Iter    38:    Energy =   0.0400
Level     1,  Iter    39:    Energy =   0.0400
Level     1,  Iter    40:    Energy =   0.0400
Level     1,  Iter    41:    Energy =   0.0400
Level     1,  Iter    42:    Energy =   0.0400
Level     1,  Iter    43:    Energy =   0.0400
Level     1,  Iter    44:    Energy =   0.0400
Level     1,  Iter    45:    Energy =   0.0400
Level     1,  Iter    46:    Energy =   0.0400
Level     1,  Iter    47:    Energy =   0.0400
Level     1,  Iter    48:    Energy =   0.0400
Level     1,  Iter    49:    Energy =   0.0400
Level     1,  Iter    50:    Energy =   0.0400
Level     1,  Iter    51:    Energy =   0.0400
Level     1,  Iter    52:    Energy =   0.0400
Level     1,  Iter    53:    Energy =   0.0400
Level     1,  Iter    54:    Energy =   0.0400
Level     1,  Iter    55:    Energy =   0.0400
Level     1,  Iter    56:    Energy =   0.0400
Level     1,  Iter    57:    Energy =   0.0400
Level     1,  Iter    58:    Energy =   0.0400
Level     1,  Iter    59:    Energy =   0.0400
END OF LEVEL     1    DetJac Range:   0.0203  to   1.9031 
  Avg. Gradient Time  : 0.0280s  34.21% 
  Avg. Gaussian Time  : 0.0424s  51.85% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0192
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0213
Level     2,  Iter     5:    Energy =   0.0217
Level     2,  Iter     6:    Energy =   0.0221
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0227
Level     2,  Iter     9:    Energy =   0.0230
Level     2,  Iter    10:    Energy =   0.0231
Level     2,  Iter    11:    Energy =   0.0233
Level     2,  Iter    12:    Energy =   0.0234
Level     2,  Iter    13:    Energy =   0.0235
Level     2,  Iter    14:    Energy =   0.0238
Level     2,  Iter    15:    Energy =   0.0239
Level     2,  Iter    16:    Energy =   0.0241
Level     2,  Iter    17:    Energy =   0.0241
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0243
END OF LEVEL     2    DetJac Range:   0.0198  to   2.2594 
  Avg. Gradient Time  : 0.1828s  32.52% 
  Avg. Gaussian Time  : 0.3025s  53.81% 
  Avg. Iteration Time : 0.5620s 

real	0m20.110s
user	0m34.992s
sys	0m2.164s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 508.34   GNORM= 195.383
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -121.145     117.865       0.026
   2    4      -608.058      47.827       1.000
   3    6      -677.226      33.722       0.520
   4    7      -719.838      73.893       1.000
   5    9      -731.419     117.442       0.224
   6   10      -771.704     134.845       1.000
   7   12      -781.424      38.834       0.300
   8   13      -788.283      49.689       1.000
   9   14      -802.787     188.935       1.000
  10   16      -838.652      93.528       0.287
  11   20     -1050.073     114.746      13.014
  12   21     -1131.591     165.037       1.000
  13   23     -1164.571     170.395       0.271
  14   24     -1246.703      59.638       1.000
  15   25     -1249.488      72.206       1.000
  16   26     -1259.900      60.567       1.000
  17   28     -1267.734      61.040       0.049
  18   29     -1289.844      80.653       1.000
  19   30     -1319.896      98.473       1.000
  20   31     -1331.345      62.659       1.000
  21   32     -1353.897      67.689       1.000
  22   34     -1387.998      55.420       0.487
  23   35     -1403.989      99.419       1.000
  24   36     -1453.442      53.946       1.000
  25   38     -1473.202      53.569       0.503
  26   39     -1480.661      29.190       1.000
  27   40     -1488.784      32.559       1.000
  28   41     -1512.024      45.900       1.000
  29   42     -1532.284      46.977       1.000
  30   43     -1566.455      20.195       1.000
  31   44     -1586.671      66.174       1.000
  32   46     -1595.703      55.160       0.225
  33   48     -1601.439      79.437       0.510
  34   49     -1614.956      63.363       1.000
  35   50     -1622.557      26.988       1.000
  36   51     -1624.519      31.550       1.000
  37   52     -1628.220      39.885       1.000
  38   54     -1634.027      32.563       0.410
  39   55     -1638.525      33.311       1.000
  40   56     -1642.797      33.655       1.000
  41   57     -1644.693      14.363       1.000
  42   59     -1645.203      16.963       0.335
  43   61     -1645.966      13.101       0.356
Final RAS Transform: 
0.275589 0.452687 -0.469647 0.621097 
0.087606 0.872916 0.20873 19.6089 
-0.438296 -0.246794 0.685422 -0.291552 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -803.508   GNORM= 59.5197
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -829.467      56.465       0.017
   2    3      -839.162      25.766       1.000
   3    4      -842.094      14.332       1.000
   4    5      -843.119      10.215       1.000
   5    6      -845.471      20.425       1.000
   6    7      -849.244      29.259       1.000
   7    9      -857.727      41.573       0.456
   8   10      -866.993      80.231       1.000
   9   14      -867.017      25.844       0.009
  10   15      -867.790      20.824       1.000
  11   16      -868.461      17.937       1.000
  12   17      -871.130      19.588       1.000
  13   18      -873.414      15.065       1.000
  14   20      -877.015      20.624       0.409
  15   21      -883.596      24.664       1.000
  16   22      -889.343      19.683       1.000
  17   24      -890.790      29.474       0.064
  18   25      -893.593      32.556       1.000
  19   26      -895.004      29.551       1.000
  20   27      -897.239      11.903       1.000
  21   28      -897.490      10.564       1.000
  22   29      -897.737       6.566       1.000
  23   30      -897.971       6.667       1.000
  24   32      -898.338       9.403       0.296
  25   33      -898.770       4.585       1.000
  26   34      -898.912      13.016       1.000
  27   35      -899.174       3.332       1.000
  28   37      -899.246       4.871       0.454
  29   38      -899.378       3.641       1.000
  30   39      -899.514       6.428       1.000
  31   40      -899.647       7.379       1.000
  32   41      -899.701      11.427       1.000
  33   42      -899.841       9.890       1.000
  34   43      -900.155       9.010       1.000
  35   44      -900.904       9.744       1.000
  36   45      -901.537      13.510       1.000
  37   46      -901.595      12.441       1.000
  38   47      -901.800      17.151       1.000
  39   48      -902.200       9.369       1.000
  40   49      -902.260       7.941       1.000
  41   50      -902.427       5.093       1.000
  42   52      -902.564       7.560       0.074
  43   53      -902.742       3.176       1.000
  44   54      -903.108       4.741       1.000
  45   56      -903.308       2.768       0.512
  46   57      -903.461       5.348       1.000
  47   59      -903.467       4.382       0.436
  48   60      -903.589       4.867       1.000
Final RAS Transform: 
0.399237 0.476237 -0.44909 -2.29125 
0.12371 0.954823 0.250416 18.4528 
-0.447872 -0.218694 0.723422 -0.109006 
0 0 0 1 

Final RAS Transform: 
0.399237 0.476237 -0.44909 -2.29125 
0.12371 0.954823 0.250416 18.4528 
-0.447872 -0.218694 0.723422 -0.109006 
0 0 0 1 


real	0m6.023s
user	0m10.160s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.404743
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0382
Level     0,  Iter     1:    Energy =   0.0400
Level     0,  Iter     2:    Energy =   0.0434
Level     0,  Iter     3:    Energy =   0.0470
Level     0,  Iter     4:    Energy =   0.0498
Level     0,  Iter     5:    Energy =   0.0521
Level     0,  Iter     6:    Energy =   0.0535
Level     0,  Iter     7:    Energy =   0.0551
Level     0,  Iter     8:    Energy =   0.0564
Level     0,  Iter     9:    Energy =   0.0575
Level     0,  Iter    10:    Energy =   0.0584
Level     0,  Iter    11:    Energy =   0.0594
Level     0,  Iter    12:    Energy =   0.0600
Level     0,  Iter    13:    Energy =   0.0605
Level     0,  Iter    14:    Energy =   0.0609
Level     0,  Iter    15:    Energy =   0.0612
Level     0,  Iter    16:    Energy =   0.0617
Level     0,  Iter    17:    Energy =   0.0619
Level     0,  Iter    18:    Energy =   0.0621
Level     0,  Iter    19:    Energy =   0.0626
Level     0,  Iter    20:    Energy =   0.0630
Level     0,  Iter    21:    Energy =   0.0636
Level     0,  Iter    22:    Energy =   0.0639
Level     0,  Iter    23:    Energy =   0.0641
Level     0,  Iter    24:    Energy =   0.0643
Level     0,  Iter    25:    Energy =   0.0645
Level     0,  Iter    26:    Energy =   0.0646
Level     0,  Iter    27:    Energy =   0.0646
Level     0,  Iter    28:    Energy =   0.0644
Level     0,  Iter    29:    Energy =   0.0647
Level     0,  Iter    30:    Energy =   0.0646
Level     0,  Iter    31:    Energy =   0.0649
Level     0,  Iter    32:    Energy =   0.0652
Level     0,  Iter    33:    Energy =   0.0653
Level     0,  Iter    34:    Energy =   0.0655
Level     0,  Iter    35:    Energy =   0.0656
Level     0,  Iter    36:    Energy =   0.0656
Level     0,  Iter    37:    Energy =   0.0657
Level     0,  Iter    38:    Energy =   0.0658
Level     0,  Iter    39:    Energy =   0.0658
Level     0,  Iter    40:    Energy =   0.0659
Level     0,  Iter    41:    Energy =   0.0659
Level     0,  Iter    42:    Energy =   0.0660
Level     0,  Iter    43:    Energy =   0.0660
Level     0,  Iter    44:    Energy =   0.0661
Level     0,  Iter    45:    Energy =   0.0661
Level     0,  Iter    46:    Energy =   0.0662
Level     0,  Iter    47:    Energy =   0.0664
Level     0,  Iter    48:    Energy =   0.0665
Level     0,  Iter    49:    Energy =   0.0667
Level     0,  Iter    50:    Energy =   0.0668
Level     0,  Iter    51:    Energy =   0.0670
Level     0,  Iter    52:    Energy =   0.0672
Level     0,  Iter    53:    Energy =   0.0673
Level     0,  Iter    54:    Energy =   0.0674
Level     0,  Iter    55:    Energy =   0.0677
Level     0,  Iter    56:    Energy =   0.0679
Level     0,  Iter    57:    Energy =   0.0680
Level     0,  Iter    58:    Energy =   0.0682
Level     0,  Iter    59:    Energy =   0.0683
END OF LEVEL     0    DetJac Range:   0.0544  to   2.1443 
  Avg. Gradient Time  : 0.0067s  32.97% 
  Avg. Gaussian Time  : 0.0098s  48.37% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0405
Level     1,  Iter     1:    Energy =   0.0416
Level     1,  Iter     2:    Energy =   0.0426
Level     1,  Iter     3:    Energy =   0.0436
Level     1,  Iter     4:    Energy =   0.0445
Level     1,  Iter     5:    Energy =   0.0453
Level     1,  Iter     6:    Energy =   0.0460
Level     1,  Iter     7:    Energy =   0.0466
Level     1,  Iter     8:    Energy =   0.0472
Level     1,  Iter     9:    Energy =   0.0476
Level     1,  Iter    10:    Energy =   0.0481
Level     1,  Iter    11:    Energy =   0.0485
Level     1,  Iter    12:    Energy =   0.0490
Level     1,  Iter    13:    Energy =   0.0494
Level     1,  Iter    14:    Energy =   0.0497
Level     1,  Iter    15:    Energy =   0.0501
Level     1,  Iter    16:    Energy =   0.0504
Level     1,  Iter    17:    Energy =   0.0507
Level     1,  Iter    18:    Energy =   0.0510
Level     1,  Iter    19:    Energy =   0.0512
Level     1,  Iter    20:    Energy =   0.0514
Level     1,  Iter    21:    Energy =   0.0516
Level     1,  Iter    22:    Energy =   0.0518
Level     1,  Iter    23:    Energy =   0.0520
Level     1,  Iter    24:    Energy =   0.0521
Level     1,  Iter    25:    Energy =   0.0523
Level     1,  Iter    26:    Energy =   0.0524
Level     1,  Iter    27:    Energy =   0.0526
Level     1,  Iter    28:    Energy =   0.0527
Level     1,  Iter    29:    Energy =   0.0528
Level     1,  Iter    30:    Energy =   0.0529
Level     1,  Iter    31:    Energy =   0.0530
Level     1,  Iter    32:    Energy =   0.0531
Level     1,  Iter    33:    Energy =   0.0533
Level     1,  Iter    34:    Energy =   0.0534
Level     1,  Iter    35:    Energy =   0.0535
Level     1,  Iter    36:    Energy =   0.0537
Level     1,  Iter    37:    Energy =   0.0538
Level     1,  Iter    38:    Energy =   0.0539
Level     1,  Iter    39:    Energy =   0.0540
Level     1,  Iter    40:    Energy =   0.0541
Level     1,  Iter    41:    Energy =   0.0542
Level     1,  Iter    42:    Energy =   0.0542
Level     1,  Iter    43:    Energy =   0.0542
Level     1,  Iter    44:    Energy =   0.0541
Level     1,  Iter    45:    Energy =   0.0541
Level     1,  Iter    46:    Energy =   0.0542
Level     1,  Iter    47:    Energy =   0.0543
Level     1,  Iter    48:    Energy =   0.0543
Level     1,  Iter    49:    Energy =   0.0544
Level     1,  Iter    50:    Energy =   0.0545
Level     1,  Iter    51:    Energy =   0.0546
Level     1,  Iter    52:    Energy =   0.0547
Level     1,  Iter    53:    Energy =   0.0548
Level     1,  Iter    54:    Energy =   0.0548
Level     1,  Iter    55:    Energy =   0.0548
Level     1,  Iter    56:    Energy =   0.0548
Level     1,  Iter    57:    Energy =   0.0549
Level     1,  Iter    58:    Energy =   0.0549
Level     1,  Iter    59:    Energy =   0.0549
END OF LEVEL     1    DetJac Range:   0.0205  to   3.4392 
  Avg. Gradient Time  : 0.0282s  34.29% 
  Avg. Gaussian Time  : 0.0426s  51.74% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0259
Level     2,  Iter     1:    Energy =   0.0272
Level     2,  Iter     2:    Energy =   0.0282
Level     2,  Iter     3:    Energy =   0.0291
Level     2,  Iter     4:    Energy =   0.0298
Level     2,  Iter     5:    Energy =   0.0305
Level     2,  Iter     6:    Energy =   0.0310
Level     2,  Iter     7:    Energy =   0.0314
Level     2,  Iter     8:    Energy =   0.0318
Level     2,  Iter     9:    Energy =   0.0322
Level     2,  Iter    10:    Energy =   0.0325
Level     2,  Iter    11:    Energy =   0.0327
Level     2,  Iter    12:    Energy =   0.0330
Level     2,  Iter    13:    Energy =   0.0332
Level     2,  Iter    14:    Energy =   0.0334
Level     2,  Iter    15:    Energy =   0.0336
Level     2,  Iter    16:    Energy =   0.0337
Level     2,  Iter    17:    Energy =   0.0338
Level     2,  Iter    18:    Energy =   0.0339
Level     2,  Iter    19:    Energy =   0.0340
END OF LEVEL     2    DetJac Range:   0.0224  to   3.4639 
  Avg. Gradient Time  : 0.1831s  32.65% 
  Avg. Gaussian Time  : 0.3018s  53.81% 
  Avg. Iteration Time : 0.5609s 

real	0m20.142s
user	0m34.944s
sys	0m2.276s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 408.315   GNORM= 189.459
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -150.090      72.405       0.026
   2    6      -716.667      70.378       3.174
   3   11      -717.327      62.963       0.002
   4   12      -781.581      45.668       1.000
   5   17      -807.446      32.328       0.253
   6   19      -809.939      49.040       0.493
   7   20      -823.785     112.470       1.000
   8   23      -824.100      52.970       0.003
   9   24      -833.145      26.204       1.000
  10   25      -888.965      36.991       1.000
  11   26      -925.736     149.313       1.000
  12   27      -980.988     237.500       1.000
  13   28     -1004.202      93.293       1.000
  14   30     -1061.272    7203.322       0.247
  15   37     -1063.825     174.400       0.000
  16   38     -1074.086      85.016       1.000
  17   39     -1079.125      30.953       1.000
  18   41     -1092.968      76.840       5.000
  19   44     -1093.525      64.955       0.051
  20   46     -1094.485      40.427       0.371
  21   47     -1100.024      37.869       1.000
  22   49     -1110.130      36.713       0.088
Final RAS Transform: 
0.506289 0.411978 -0.370916 -1.84337 
0.156158 1.17515 -0.0382722 9.41448 
-0.0172749 -0.178086 1.01917 -3.89031 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -539.131   GNORM= 366.545
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -569.660     296.055       0.003
   2    5      -570.338    5818.707       0.107
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.508648 0.415455 -0.378452 -1.41168 
0.153096 1.17198 -0.0303467 8.92951 
-0.0147072 -0.177736 1.0165 -3.66409 
0 0 0 1 

Final RAS Transform: 
0.508648 0.415455 -0.378452 -1.41168 
0.153096 1.17198 -0.0303467 8.92951 
-0.0147072 -0.177736 1.0165 -3.66409 
0 0 0 1 


real	0m3.827s
user	0m5.940s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.525751
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0259
Level     0,  Iter     1:    Energy =   0.0277
Level     0,  Iter     2:    Energy =   0.0314
Level     0,  Iter     3:    Energy =   0.0346
Level     0,  Iter     4:    Energy =   0.0377
Level     0,  Iter     5:    Energy =   0.0397
Level     0,  Iter     6:    Energy =   0.0412
Level     0,  Iter     7:    Energy =   0.0419
Level     0,  Iter     8:    Energy =   0.0430
Level     0,  Iter     9:    Energy =   0.0433
Level     0,  Iter    10:    Energy =   0.0436
Level     0,  Iter    11:    Energy =   0.0438
Level     0,  Iter    12:    Energy =   0.0440
Level     0,  Iter    13:    Energy =   0.0442
Level     0,  Iter    14:    Energy =   0.0445
Level     0,  Iter    15:    Energy =   0.0447
Level     0,  Iter    16:    Energy =   0.0449
Level     0,  Iter    17:    Energy =   0.0451
Level     0,  Iter    18:    Energy =   0.0453
Level     0,  Iter    19:    Energy =   0.0455
Level     0,  Iter    20:    Energy =   0.0457
Level     0,  Iter    21:    Energy =   0.0459
Level     0,  Iter    22:    Energy =   0.0460
Level     0,  Iter    23:    Energy =   0.0462
Level     0,  Iter    24:    Energy =   0.0464
Level     0,  Iter    25:    Energy =   0.0465
Level     0,  Iter    26:    Energy =   0.0466
Level     0,  Iter    27:    Energy =   0.0467
Level     0,  Iter    28:    Energy =   0.0468
Level     0,  Iter    29:    Energy =   0.0469
Level     0,  Iter    30:    Energy =   0.0469
Level     0,  Iter    31:    Energy =   0.0470
Level     0,  Iter    32:    Energy =   0.0471
Level     0,  Iter    33:    Energy =   0.0472
Level     0,  Iter    34:    Energy =   0.0472
Level     0,  Iter    35:    Energy =   0.0473
Level     0,  Iter    36:    Energy =   0.0473
Level     0,  Iter    37:    Energy =   0.0474
Level     0,  Iter    38:    Energy =   0.0474
Level     0,  Iter    39:    Energy =   0.0474
Level     0,  Iter    40:    Energy =   0.0475
Level     0,  Iter    41:    Energy =   0.0475
Level     0,  Iter    42:    Energy =   0.0476
Level     0,  Iter    43:    Energy =   0.0476
Level     0,  Iter    44:    Energy =   0.0476
Level     0,  Iter    45:    Energy =   0.0476
Level     0,  Iter    46:    Energy =   0.0477
Level     0,  Iter    47:    Energy =   0.0477
Level     0,  Iter    48:    Energy =   0.0477
Level     0,  Iter    49:    Energy =   0.0477
Level     0,  Iter    50:    Energy =   0.0477
Level     0,  Iter    51:    Energy =   0.0478
Level     0,  Iter    52:    Energy =   0.0478
Level     0,  Iter    53:    Energy =   0.0478
Level     0,  Iter    54:    Energy =   0.0478
Level     0,  Iter    55:    Energy =   0.0479
Level     0,  Iter    56:    Energy =   0.0479
Level     0,  Iter    57:    Energy =   0.0480
Level     0,  Iter    58:    Energy =   0.0480
Level     0,  Iter    59:    Energy =   0.0480
END OF LEVEL     0    DetJac Range:   0.0409  to   1.8881 
  Avg. Gradient Time  : 0.0066s  33.14% 
  Avg. Gaussian Time  : 0.0097s  48.66% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0260
Level     1,  Iter     1:    Energy =   0.0270
Level     1,  Iter     2:    Energy =   0.0279
Level     1,  Iter     3:    Energy =   0.0287
Level     1,  Iter     4:    Energy =   0.0296
Level     1,  Iter     5:    Energy =   0.0303
Level     1,  Iter     6:    Energy =   0.0310
Level     1,  Iter     7:    Energy =   0.0316
Level     1,  Iter     8:    Energy =   0.0321
Level     1,  Iter     9:    Energy =   0.0325
Level     1,  Iter    10:    Energy =   0.0329
Level     1,  Iter    11:    Energy =   0.0331
Level     1,  Iter    12:    Energy =   0.0334
Level     1,  Iter    13:    Energy =   0.0336
Level     1,  Iter    14:    Energy =   0.0337
Level     1,  Iter    15:    Energy =   0.0339
Level     1,  Iter    16:    Energy =   0.0340
Level     1,  Iter    17:    Energy =   0.0341
Level     1,  Iter    18:    Energy =   0.0342
Level     1,  Iter    19:    Energy =   0.0342
Level     1,  Iter    20:    Energy =   0.0343
Level     1,  Iter    21:    Energy =   0.0344
Level     1,  Iter    22:    Energy =   0.0344
Level     1,  Iter    23:    Energy =   0.0344
Level     1,  Iter    24:    Energy =   0.0345
Level     1,  Iter    25:    Energy =   0.0345
Level     1,  Iter    26:    Energy =   0.0345
Level     1,  Iter    27:    Energy =   0.0346
Level     1,  Iter    28:    Energy =   0.0346
Level     1,  Iter    29:    Energy =   0.0346
Level     1,  Iter    30:    Energy =   0.0346
Level     1,  Iter    31:    Energy =   0.0347
Level     1,  Iter    32:    Energy =   0.0347
Level     1,  Iter    33:    Energy =   0.0348
Level     1,  Iter    34:    Energy =   0.0348
Level     1,  Iter    35:    Energy =   0.0348
Level     1,  Iter    36:    Energy =   0.0349
Level     1,  Iter    37:    Energy =   0.0349
Level     1,  Iter    38:    Energy =   0.0349
Level     1,  Iter    39:    Energy =   0.0350
Level     1,  Iter    40:    Energy =   0.0350
Level     1,  Iter    41:    Energy =   0.0350
Level     1,  Iter    42:    Energy =   0.0350
Level     1,  Iter    43:    Energy =   0.0350
Level     1,  Iter    44:    Energy =   0.0351
Level     1,  Iter    45:    Energy =   0.0351
Level     1,  Iter    46:    Energy =   0.0351
Level     1,  Iter    47:    Energy =   0.0351
Level     1,  Iter    48:    Energy =   0.0352
Level     1,  Iter    49:    Energy =   0.0352
Level     1,  Iter    50:    Energy =   0.0352
Level     1,  Iter    51:    Energy =   0.0352
Level     1,  Iter    52:    Energy =   0.0353
Level     1,  Iter    53:    Energy =   0.0353
Level     1,  Iter    54:    Energy =   0.0353
Level     1,  Iter    55:    Energy =   0.0353
Level     1,  Iter    56:    Energy =   0.0354
Level     1,  Iter    57:    Energy =   0.0354
Level     1,  Iter    58:    Energy =   0.0354
Level     1,  Iter    59:    Energy =   0.0355
END OF LEVEL     1    DetJac Range:   0.0097  to   2.8153 
  Avg. Gradient Time  : 0.0285s  34.39% 
  Avg. Gaussian Time  : 0.0427s  51.62% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0164
Level     2,  Iter     1:    Energy =   0.0171
Level     2,  Iter     2:    Energy =   0.0176
Level     2,  Iter     3:    Energy =   0.0180
Level     2,  Iter     4:    Energy =   0.0184
Level     2,  Iter     5:    Energy =   0.0188
Level     2,  Iter     6:    Energy =   0.0191
Level     2,  Iter     7:    Energy =   0.0194
Level     2,  Iter     8:    Energy =   0.0196
Level     2,  Iter     9:    Energy =   0.0199
Level     2,  Iter    10:    Energy =   0.0202
Level     2,  Iter    11:    Energy =   0.0204
Level     2,  Iter    12:    Energy =   0.0206
Level     2,  Iter    13:    Energy =   0.0209
Level     2,  Iter    14:    Energy =   0.0211
Level     2,  Iter    15:    Energy =   0.0213
Level     2,  Iter    16:    Energy =   0.0215
Level     2,  Iter    17:    Energy =   0.0216
Level     2,  Iter    18:    Energy =   0.0217
Level     2,  Iter    19:    Energy =   0.0218
END OF LEVEL     2    DetJac Range:   0.0058  to   2.6646 
  Avg. Gradient Time  : 0.1838s  32.79% 
  Avg. Gaussian Time  : 0.3008s  53.67% 
  Avg. Iteration Time : 0.5605s 

real	0m20.115s
user	0m34.960s
sys	0m2.216s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 627.238   GNORM= 183.94
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -35.473     164.045       0.027
   2    8      -727.015      72.745       1.148
   3   10      -754.912      41.038       0.156
   4   11      -762.420      37.221       1.000
   5   13      -847.092     224.427       5.000
   6   19      -847.865      63.412       0.007
   7   25     -1002.399     102.681       4.850
   8   28     -1019.816     103.002       2.167
   9   31     -1022.087      91.772       0.006
  10   33     -1023.086     126.623       0.119
  11   34     -1040.323      76.929       1.000
  12   35     -1059.014      72.509       1.000
  13   36     -1205.809      70.692       1.000
  14   38     -1242.921     108.425       0.388
  15   40     -1269.019     146.356       0.145
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.563614 0.317331 -0.149739 -0.900923 
0.291808 0.988353 -0.155 6.41371 
-0.110911 -0.276777 1.00165 -4.28458 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -483.132   GNORM= 75.0681
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.564347 0.317104 -0.150492 -0.949299 
0.293056 0.991608 -0.160246 6.88137 
-0.11204 -0.272846 0.99764 -4.10864 
0 0 0 1 

Final RAS Transform: 
0.564347 0.317104 -0.150492 -0.949299 
0.293056 0.991608 -0.160246 6.88137 
-0.11204 -0.272846 0.99764 -4.10864 
0 0 0 1 


real	0m3.595s
user	0m5.568s
sys	0m0.396s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.374848
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0277
Level     0,  Iter     1:    Energy =   0.0292
Level     0,  Iter     2:    Energy =   0.0318
Level     0,  Iter     3:    Energy =   0.0346
Level     0,  Iter     4:    Energy =   0.0374
Level     0,  Iter     5:    Energy =   0.0397
Level     0,  Iter     6:    Energy =   0.0414
Level     0,  Iter     7:    Energy =   0.0427
Level     0,  Iter     8:    Energy =   0.0439
Level     0,  Iter     9:    Energy =   0.0448
Level     0,  Iter    10:    Energy =   0.0456
Level     0,  Iter    11:    Energy =   0.0464
Level     0,  Iter    12:    Energy =   0.0472
Level     0,  Iter    13:    Energy =   0.0479
Level     0,  Iter    14:    Energy =   0.0487
Level     0,  Iter    15:    Energy =   0.0494
Level     0,  Iter    16:    Energy =   0.0499
Level     0,  Iter    17:    Energy =   0.0503
Level     0,  Iter    18:    Energy =   0.0506
Level     0,  Iter    19:    Energy =   0.0509
Level     0,  Iter    20:    Energy =   0.0515
Level     0,  Iter    21:    Energy =   0.0518
Level     0,  Iter    22:    Energy =   0.0522
Level     0,  Iter    23:    Energy =   0.0525
Level     0,  Iter    24:    Energy =   0.0527
Level     0,  Iter    25:    Energy =   0.0530
Level     0,  Iter    26:    Energy =   0.0531
Level     0,  Iter    27:    Energy =   0.0533
Level     0,  Iter    28:    Energy =   0.0534
Level     0,  Iter    29:    Energy =   0.0536
Level     0,  Iter    30:    Energy =   0.0539
Level     0,  Iter    31:    Energy =   0.0540
Level     0,  Iter    32:    Energy =   0.0540
Level     0,  Iter    33:    Energy =   0.0542
Level     0,  Iter    34:    Energy =   0.0543
Level     0,  Iter    35:    Energy =   0.0545
Level     0,  Iter    36:    Energy =   0.0546
Level     0,  Iter    37:    Energy =   0.0548
Level     0,  Iter    38:    Energy =   0.0548
Level     0,  Iter    39:    Energy =   0.0549
Level     0,  Iter    40:    Energy =   0.0550
Level     0,  Iter    41:    Energy =   0.0551
Level     0,  Iter    42:    Energy =   0.0552
Level     0,  Iter    43:    Energy =   0.0553
Level     0,  Iter    44:    Energy =   0.0553
Level     0,  Iter    45:    Energy =   0.0555
Level     0,  Iter    46:    Energy =   0.0555
Level     0,  Iter    47:    Energy =   0.0556
Level     0,  Iter    48:    Energy =   0.0556
Level     0,  Iter    49:    Energy =   0.0558
Level     0,  Iter    50:    Energy =   0.0559
Level     0,  Iter    51:    Energy =   0.0560
Level     0,  Iter    52:    Energy =   0.0561
Level     0,  Iter    53:    Energy =   0.0562
Level     0,  Iter    54:    Energy =   0.0563
Level     0,  Iter    55:    Energy =   0.0564
Level     0,  Iter    56:    Energy =   0.0564
Level     0,  Iter    57:    Energy =   0.0564
Level     0,  Iter    58:    Energy =   0.0565
Level     0,  Iter    59:    Energy =   0.0564
END OF LEVEL     0    DetJac Range:   0.0674  to   2.6067 
  Avg. Gradient Time  : 0.0066s  33.18% 
  Avg. Gaussian Time  : 0.0096s  48.33% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0307
Level     1,  Iter     1:    Energy =   0.0315
Level     1,  Iter     2:    Energy =   0.0322
Level     1,  Iter     3:    Energy =   0.0329
Level     1,  Iter     4:    Energy =   0.0336
Level     1,  Iter     5:    Energy =   0.0343
Level     1,  Iter     6:    Energy =   0.0349
Level     1,  Iter     7:    Energy =   0.0355
Level     1,  Iter     8:    Energy =   0.0360
Level     1,  Iter     9:    Energy =   0.0365
Level     1,  Iter    10:    Energy =   0.0368
Level     1,  Iter    11:    Energy =   0.0372
Level     1,  Iter    12:    Energy =   0.0374
Level     1,  Iter    13:    Energy =   0.0377
Level     1,  Iter    14:    Energy =   0.0379
Level     1,  Iter    15:    Energy =   0.0381
Level     1,  Iter    16:    Energy =   0.0383
Level     1,  Iter    17:    Energy =   0.0384
Level     1,  Iter    18:    Energy =   0.0385
Level     1,  Iter    19:    Energy =   0.0386
Level     1,  Iter    20:    Energy =   0.0387
Level     1,  Iter    21:    Energy =   0.0388
Level     1,  Iter    22:    Energy =   0.0389
Level     1,  Iter    23:    Energy =   0.0390
Level     1,  Iter    24:    Energy =   0.0390
Level     1,  Iter    25:    Energy =   0.0391
Level     1,  Iter    26:    Energy =   0.0392
Level     1,  Iter    27:    Energy =   0.0392
Level     1,  Iter    28:    Energy =   0.0392
Level     1,  Iter    29:    Energy =   0.0393
Level     1,  Iter    30:    Energy =   0.0393
Level     1,  Iter    31:    Energy =   0.0393
Level     1,  Iter    32:    Energy =   0.0394
Level     1,  Iter    33:    Energy =   0.0394
Level     1,  Iter    34:    Energy =   0.0394
Level     1,  Iter    35:    Energy =   0.0394
Level     1,  Iter    36:    Energy =   0.0394
Level     1,  Iter    37:    Energy =   0.0395
Level     1,  Iter    38:    Energy =   0.0395
Level     1,  Iter    39:    Energy =   0.0395
Level     1,  Iter    40:    Energy =   0.0395
Level     1,  Iter    41:    Energy =   0.0396
Level     1,  Iter    42:    Energy =   0.0396
Level     1,  Iter    43:    Energy =   0.0396
Level     1,  Iter    44:    Energy =   0.0396
Level     1,  Iter    45:    Energy =   0.0396
Level     1,  Iter    46:    Energy =   0.0396
Level     1,  Iter    47:    Energy =   0.0397
Level     1,  Iter    48:    Energy =   0.0397
Level     1,  Iter    49:    Energy =   0.0397
Level     1,  Iter    50:    Energy =   0.0397
Level     1,  Iter    51:    Energy =   0.0397
Level     1,  Iter    52:    Energy =   0.0397
Level     1,  Iter    53:    Energy =   0.0397
Level     1,  Iter    54:    Energy =   0.0397
Level     1,  Iter    55:    Energy =   0.0397
Level     1,  Iter    56:    Energy =   0.0397
Level     1,  Iter    57:    Energy =   0.0397
Level     1,  Iter    58:    Energy =   0.0397
Level     1,  Iter    59:    Energy =   0.0397
END OF LEVEL     1    DetJac Range:   0.0498  to   3.2836 
  Avg. Gradient Time  : 0.0281s  34.36% 
  Avg. Gaussian Time  : 0.0423s  51.74% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0184
Level     2,  Iter     1:    Energy =   0.0191
Level     2,  Iter     2:    Energy =   0.0198
Level     2,  Iter     3:    Energy =   0.0204
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0213
Level     2,  Iter     6:    Energy =   0.0217
Level     2,  Iter     7:    Energy =   0.0220
Level     2,  Iter     8:    Energy =   0.0223
Level     2,  Iter     9:    Energy =   0.0226
Level     2,  Iter    10:    Energy =   0.0228
Level     2,  Iter    11:    Energy =   0.0230
Level     2,  Iter    12:    Energy =   0.0232
Level     2,  Iter    13:    Energy =   0.0234
Level     2,  Iter    14:    Energy =   0.0236
Level     2,  Iter    15:    Energy =   0.0238
Level     2,  Iter    16:    Energy =   0.0239
Level     2,  Iter    17:    Energy =   0.0241
Level     2,  Iter    18:    Energy =   0.0242
Level     2,  Iter    19:    Energy =   0.0244
END OF LEVEL     2    DetJac Range:   0.0244  to   3.1858 
  Avg. Gradient Time  : 0.1841s  32.73% 
  Avg. Gaussian Time  : 0.3021s  53.71% 
  Avg. Iteration Time : 0.5625s 

real	0m20.113s
user	0m34.924s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.435714 0.44
+ echo 'CHUNK 0.435714 0.44 1'
CHUNK 0.435714 0.44 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.435714 0.44 1
====================================
         PROGRESS: 0.435714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 516.27   GNORM= 166.717
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -103.122     120.817       0.030
   2    7      -563.880      55.569       1.773
   3   14      -640.957      56.129       0.365
   4   33      -643.532      35.823       0.003
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0687 0.0567953 -0.187737 2.99752 
0.131326 1.16935 -0.350778 7.94105 
-0.121438 -0.186543 1.11265 -4.69069 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -266.105   GNORM= 322.124
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -282.530     363.270       0.003
   2    8      -283.161     176.525       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06351 0.0518106 -0.179152 2.25818 
0.130007 1.16888 -0.348743 7.83224 
-0.120328 -0.185399 1.11088 -4.55867 
0 0 0 1 

Final RAS Transform: 
1.06351 0.0518106 -0.179152 2.25818 
0.130007 1.16888 -0.348743 7.83224 
-0.120328 -0.185399 1.11088 -4.55867 
0 0 0 1 


real	0m3.843s
user	0m5.936s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.381347
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0155
Level     0,  Iter     1:    Energy =   0.0167
Level     0,  Iter     2:    Energy =   0.0188
Level     0,  Iter     3:    Energy =   0.0204
Level     0,  Iter     4:    Energy =   0.0221
Level     0,  Iter     5:    Energy =   0.0236
Level     0,  Iter     6:    Energy =   0.0244
Level     0,  Iter     7:    Energy =   0.0255
Level     0,  Iter     8:    Energy =   0.0266
Level     0,  Iter     9:    Energy =   0.0277
Level     0,  Iter    10:    Energy =   0.0287
Level     0,  Iter    11:    Energy =   0.0298
Level     0,  Iter    12:    Energy =   0.0308
Level     0,  Iter    13:    Energy =   0.0316
Level     0,  Iter    14:    Energy =   0.0323
Level     0,  Iter    15:    Energy =   0.0329
Level     0,  Iter    16:    Energy =   0.0336
Level     0,  Iter    17:    Energy =   0.0342
Level     0,  Iter    18:    Energy =   0.0347
Level     0,  Iter    19:    Energy =   0.0352
Level     0,  Iter    20:    Energy =   0.0354
Level     0,  Iter    21:    Energy =   0.0358
Level     0,  Iter    22:    Energy =   0.0359
Level     0,  Iter    23:    Energy =   0.0363
Level     0,  Iter    24:    Energy =   0.0368
Level     0,  Iter    25:    Energy =   0.0370
Level     0,  Iter    26:    Energy =   0.0369
Level     0,  Iter    27:    Energy =   0.0372
Level     0,  Iter    28:    Energy =   0.0372
Level     0,  Iter    29:    Energy =   0.0374
Level     0,  Iter    30:    Energy =   0.0374
Level     0,  Iter    31:    Energy =   0.0378
Level     0,  Iter    32:    Energy =   0.0381
Level     0,  Iter    33:    Energy =   0.0384
Level     0,  Iter    34:    Energy =   0.0386
Level     0,  Iter    35:    Energy =   0.0385
Level     0,  Iter    36:    Energy =   0.0388
Level     0,  Iter    37:    Energy =   0.0390
Level     0,  Iter    38:    Energy =   0.0391
Level     0,  Iter    39:    Energy =   0.0393
Level     0,  Iter    40:    Energy =   0.0393
Level     0,  Iter    41:    Energy =   0.0393
Level     0,  Iter    42:    Energy =   0.0393
Level     0,  Iter    43:    Energy =   0.0394
Level     0,  Iter    44:    Energy =   0.0395
Level     0,  Iter    45:    Energy =   0.0395
Level     0,  Iter    46:    Energy =   0.0396
Level     0,  Iter    47:    Energy =   0.0396
Level     0,  Iter    48:    Energy =   0.0397
Level     0,  Iter    49:    Energy =   0.0397
Level     0,  Iter    50:    Energy =   0.0398
Level     0,  Iter    51:    Energy =   0.0399
Level     0,  Iter    52:    Energy =   0.0400
Level     0,  Iter    53:    Energy =   0.0402
Level     0,  Iter    54:    Energy =   0.0401
Level     0,  Iter    55:    Energy =   0.0401
Level     0,  Iter    56:    Energy =   0.0401
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0401
Level     0,  Iter    59:    Energy =   0.0400
END OF LEVEL     0    DetJac Range:   0.1790  to   2.2970 
  Avg. Gradient Time  : 0.0068s  33.24% 
  Avg. Gaussian Time  : 0.0099s  48.51% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0201
Level     1,  Iter     1:    Energy =   0.0210
Level     1,  Iter     2:    Energy =   0.0216
Level     1,  Iter     3:    Energy =   0.0221
Level     1,  Iter     4:    Energy =   0.0225
Level     1,  Iter     5:    Energy =   0.0230
Level     1,  Iter     6:    Energy =   0.0236
Level     1,  Iter     7:    Energy =   0.0243
Level     1,  Iter     8:    Energy =   0.0248
Level     1,  Iter     9:    Energy =   0.0254
Level     1,  Iter    10:    Energy =   0.0259
Level     1,  Iter    11:    Energy =   0.0260
Level     1,  Iter    12:    Energy =   0.0261
Level     1,  Iter    13:    Energy =   0.0264
Level     1,  Iter    14:    Energy =   0.0268
Level     1,  Iter    15:    Energy =   0.0272
Level     1,  Iter    16:    Energy =   0.0276
Level     1,  Iter    17:    Energy =   0.0279
Level     1,  Iter    18:    Energy =   0.0282
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0289
Level     1,  Iter    21:    Energy =   0.0291
Level     1,  Iter    22:    Energy =   0.0293
Level     1,  Iter    23:    Energy =   0.0295
Level     1,  Iter    24:    Energy =   0.0297
Level     1,  Iter    25:    Energy =   0.0299
Level     1,  Iter    26:    Energy =   0.0300
Level     1,  Iter    27:    Energy =   0.0301
Level     1,  Iter    28:    Energy =   0.0302
Level     1,  Iter    29:    Energy =   0.0303
Level     1,  Iter    30:    Energy =   0.0304
Level     1,  Iter    31:    Energy =   0.0304
Level     1,  Iter    32:    Energy =   0.0305
Level     1,  Iter    33:    Energy =   0.0305
Level     1,  Iter    34:    Energy =   0.0305
Level     1,  Iter    35:    Energy =   0.0305
Level     1,  Iter    36:    Energy =   0.0306
Level     1,  Iter    37:    Energy =   0.0306
Level     1,  Iter    38:    Energy =   0.0306
Level     1,  Iter    39:    Energy =   0.0306
Level     1,  Iter    40:    Energy =   0.0306
Level     1,  Iter    41:    Energy =   0.0306
Level     1,  Iter    42:    Energy =   0.0306
Level     1,  Iter    43:    Energy =   0.0306
Level     1,  Iter    44:    Energy =   0.0306
Level     1,  Iter    45:    Energy =   0.0306
Level     1,  Iter    46:    Energy =   0.0306
Level     1,  Iter    47:    Energy =   0.0307
Level     1,  Iter    48:    Energy =   0.0307
Level     1,  Iter    49:    Energy =   0.0307
Level     1,  Iter    50:    Energy =   0.0307
Level     1,  Iter    51:    Energy =   0.0307
Level     1,  Iter    52:    Energy =   0.0307
Level     1,  Iter    53:    Energy =   0.0308
Level     1,  Iter    54:    Energy =   0.0308
Level     1,  Iter    55:    Energy =   0.0308
Level     1,  Iter    56:    Energy =   0.0308
Level     1,  Iter    57:    Energy =   0.0309
Level     1,  Iter    58:    Energy =   0.0309
Level     1,  Iter    59:    Energy =   0.0309
END OF LEVEL     1    DetJac Range:   0.0116  to   3.4380 
  Avg. Gradient Time  : 0.0280s  34.33% 
  Avg. Gaussian Time  : 0.0422s  51.76% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0140
Level     2,  Iter     1:    Energy =   0.0145
Level     2,  Iter     2:    Energy =   0.0149
Level     2,  Iter     3:    Energy =   0.0152
Level     2,  Iter     4:    Energy =   0.0155
Level     2,  Iter     5:    Energy =   0.0158
Level     2,  Iter     6:    Energy =   0.0161
Level     2,  Iter     7:    Energy =   0.0163
Level     2,  Iter     8:    Energy =   0.0166
Level     2,  Iter     9:    Energy =   0.0168
Level     2,  Iter    10:    Energy =   0.0171
Level     2,  Iter    11:    Energy =   0.0174
Level     2,  Iter    12:    Energy =   0.0176
Level     2,  Iter    13:    Energy =   0.0178
Level     2,  Iter    14:    Energy =   0.0180
Level     2,  Iter    15:    Energy =   0.0182
Level     2,  Iter    16:    Energy =   0.0183
Level     2,  Iter    17:    Energy =   0.0184
Level     2,  Iter    18:    Energy =   0.0186
Level     2,  Iter    19:    Energy =   0.0186
END OF LEVEL     2    DetJac Range:   0.0136  to   3.3568 
  Avg. Gradient Time  : 0.1841s  32.75% 
  Avg. Gaussian Time  : 0.3015s  53.62% 
  Avg. Iteration Time : 0.5622s 

real	0m20.125s
user	0m34.960s
sys	0m2.204s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.44 0.444286
+ echo 'CHUNK 0.44 0.444286 1'
CHUNK 0.44 0.444286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.44 0.444286 1
====================================
         PROGRESS: 0.44               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.651
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 634.972   GNORM= 189.815
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -18.934     135.756       0.026
   2    8      -145.681     116.938       1.105
   3   11      -669.862      85.454       1.631
   4   12      -778.069      55.753       1.000
   5   13      -804.641      50.535       1.000
   6   14      -829.660      43.157       1.000
   7   16      -854.246      31.966       0.193
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.788032 0.13941 -0.23429 1.71072 
0.0671515 1.19382 -0.233243 7.62747 
-0.187357 -0.115082 1.08323 -5.54894 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -416.113   GNORM= 2884.63
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -423.352     125.813       0.000
   2    3      -425.250     241.257       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.788495 0.140583 -0.233674 1.72535 
0.0679049 1.19559 -0.233739 7.74235 
-0.193053 -0.119133 1.09295 -6.29076 
0 0 0 1 

Final RAS Transform: 
0.788495 0.140583 -0.233674 1.72535 
0.0679049 1.19559 -0.233739 7.74235 
-0.193053 -0.119133 1.09295 -6.29076 
0 0 0 1 


real	0m3.395s
user	0m5.216s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.447721
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0213
Level     0,  Iter     1:    Energy =   0.0233
Level     0,  Iter     2:    Energy =   0.0271
Level     0,  Iter     3:    Energy =   0.0304
Level     0,  Iter     4:    Energy =   0.0335
Level     0,  Iter     5:    Energy =   0.0361
Level     0,  Iter     6:    Energy =   0.0376
Level     0,  Iter     7:    Energy =   0.0385
Level     0,  Iter     8:    Energy =   0.0395
Level     0,  Iter     9:    Energy =   0.0405
Level     0,  Iter    10:    Energy =   0.0416
Level     0,  Iter    11:    Energy =   0.0425
Level     0,  Iter    12:    Energy =   0.0432
Level     0,  Iter    13:    Energy =   0.0440
Level     0,  Iter    14:    Energy =   0.0447
Level     0,  Iter    15:    Energy =   0.0453
Level     0,  Iter    16:    Energy =   0.0456
Level     0,  Iter    17:    Energy =   0.0460
Level     0,  Iter    18:    Energy =   0.0465
Level     0,  Iter    19:    Energy =   0.0469
Level     0,  Iter    20:    Energy =   0.0472
Level     0,  Iter    21:    Energy =   0.0475
Level     0,  Iter    22:    Energy =   0.0478
Level     0,  Iter    23:    Energy =   0.0481
Level     0,  Iter    24:    Energy =   0.0484
Level     0,  Iter    25:    Energy =   0.0486
Level     0,  Iter    26:    Energy =   0.0488
Level     0,  Iter    27:    Energy =   0.0488
Level     0,  Iter    28:    Energy =   0.0489
Level     0,  Iter    29:    Energy =   0.0489
Level     0,  Iter    30:    Energy =   0.0487
Level     0,  Iter    31:    Energy =   0.0486
Level     0,  Iter    32:    Energy =   0.0485
Level     0,  Iter    33:    Energy =   0.0483
Level     0,  Iter    34:    Energy =   0.0483
Level     0,  Iter    35:    Energy =   0.0479
Level     0,  Iter    36:    Energy =   0.0476
Level     0,  Iter    37:    Energy =   0.0474
Level     0,  Iter    38:    Energy =   0.0472
Level     0,  Iter    39:    Energy =   0.0470
Level     0,  Iter    40:    Energy =   0.0469
Level     0,  Iter    41:    Energy =   0.0468
Level     0,  Iter    42:    Energy =   0.0465
Level     0,  Iter    43:    Energy =   0.0464
Level     0,  Iter    44:    Energy =   0.0462
Level     0,  Iter    45:    Energy =   0.0460
Level     0,  Iter    46:    Energy =   0.0459
Level     0,  Iter    47:    Energy =   0.0456
Level     0,  Iter    48:    Energy =   0.0454
Level     0,  Iter    49:    Energy =   0.0452
Level     0,  Iter    50:    Energy =   0.0450
Level     0,  Iter    51:    Energy =   0.0448
Level     0,  Iter    52:    Energy =   0.0447
Level     0,  Iter    53:    Energy =   0.0445
Level     0,  Iter    54:    Energy =   0.0444
Level     0,  Iter    55:    Energy =   0.0443
Level     0,  Iter    56:    Energy =   0.0442
Level     0,  Iter    57:    Energy =   0.0441
Level     0,  Iter    58:    Energy =   0.0440
Level     0,  Iter    59:    Energy =   0.0440
END OF LEVEL     0    DetJac Range:   0.1174  to   1.8596 
  Avg. Gradient Time  : 0.0067s  33.53% 
  Avg. Gaussian Time  : 0.0096s  48.16% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0229
Level     1,  Iter     1:    Energy =   0.0240
Level     1,  Iter     2:    Energy =   0.0248
Level     1,  Iter     3:    Energy =   0.0254
Level     1,  Iter     4:    Energy =   0.0260
Level     1,  Iter     5:    Energy =   0.0265
Level     1,  Iter     6:    Energy =   0.0270
Level     1,  Iter     7:    Energy =   0.0275
Level     1,  Iter     8:    Energy =   0.0278
Level     1,  Iter     9:    Energy =   0.0282
Level     1,  Iter    10:    Energy =   0.0284
Level     1,  Iter    11:    Energy =   0.0287
Level     1,  Iter    12:    Energy =   0.0290
Level     1,  Iter    13:    Energy =   0.0293
Level     1,  Iter    14:    Energy =   0.0297
Level     1,  Iter    15:    Energy =   0.0300
Level     1,  Iter    16:    Energy =   0.0302
Level     1,  Iter    17:    Energy =   0.0304
Level     1,  Iter    18:    Energy =   0.0306
Level     1,  Iter    19:    Energy =   0.0308
Level     1,  Iter    20:    Energy =   0.0310
Level     1,  Iter    21:    Energy =   0.0311
Level     1,  Iter    22:    Energy =   0.0312
Level     1,  Iter    23:    Energy =   0.0314
Level     1,  Iter    24:    Energy =   0.0315
Level     1,  Iter    25:    Energy =   0.0315
Level     1,  Iter    26:    Energy =   0.0316
Level     1,  Iter    27:    Energy =   0.0317
Level     1,  Iter    28:    Energy =   0.0317
Level     1,  Iter    29:    Energy =   0.0318
Level     1,  Iter    30:    Energy =   0.0318
Level     1,  Iter    31:    Energy =   0.0318
Level     1,  Iter    32:    Energy =   0.0318
Level     1,  Iter    33:    Energy =   0.0318
Level     1,  Iter    34:    Energy =   0.0318
Level     1,  Iter    35:    Energy =   0.0318
Level     1,  Iter    36:    Energy =   0.0318
Level     1,  Iter    37:    Energy =   0.0317
Level     1,  Iter    38:    Energy =   0.0317
Level     1,  Iter    39:    Energy =   0.0317
Level     1,  Iter    40:    Energy =   0.0317
Level     1,  Iter    41:    Energy =   0.0317
Level     1,  Iter    42:    Energy =   0.0317
Level     1,  Iter    43:    Energy =   0.0316
Level     1,  Iter    44:    Energy =   0.0316
Level     1,  Iter    45:    Energy =   0.0316
Level     1,  Iter    46:    Energy =   0.0316
Level     1,  Iter    47:    Energy =   0.0316
Level     1,  Iter    48:    Energy =   0.0316
Level     1,  Iter    49:    Energy =   0.0316
Level     1,  Iter    50:    Energy =   0.0316
Level     1,  Iter    51:    Energy =   0.0316
Level     1,  Iter    52:    Energy =   0.0316
Level     1,  Iter    53:    Energy =   0.0316
Level     1,  Iter    54:    Energy =   0.0316
Level     1,  Iter    55:    Energy =   0.0316
Level     1,  Iter    56:    Energy =   0.0316
Level     1,  Iter    57:    Energy =   0.0316
Level     1,  Iter    58:    Energy =   0.0316
Level     1,  Iter    59:    Energy =   0.0316
END OF LEVEL     1    DetJac Range:   0.0849  to   1.9924 
  Avg. Gradient Time  : 0.0281s  34.24% 
  Avg. Gaussian Time  : 0.0425s  51.78% 
  Avg. Iteration Time : 0.0822s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0144
Level     2,  Iter     1:    Energy =   0.0151
Level     2,  Iter     2:    Energy =   0.0159
Level     2,  Iter     3:    Energy =   0.0163
Level     2,  Iter     4:    Energy =   0.0168
Level     2,  Iter     5:    Energy =   0.0173
Level     2,  Iter     6:    Energy =   0.0179
Level     2,  Iter     7:    Energy =   0.0177
Level     2,  Iter     8:    Energy =   0.0182
Level     2,  Iter     9:    Energy =   0.0186
Level     2,  Iter    10:    Energy =   0.0190
Level     2,  Iter    11:    Energy =   0.0193
Level     2,  Iter    12:    Energy =   0.0194
Level     2,  Iter    13:    Energy =   0.0193
Level     2,  Iter    14:    Energy =   0.0195
Level     2,  Iter    15:    Energy =   0.0196
Level     2,  Iter    16:    Energy =   0.0196
Level     2,  Iter    17:    Energy =   0.0196
Level     2,  Iter    18:    Energy =   0.0196
Level     2,  Iter    19:    Energy =   0.0196
END OF LEVEL     2    DetJac Range:   0.0653  to   2.1903 
  Avg. Gradient Time  : 0.1822s  32.59% 
  Avg. Gaussian Time  : 0.3009s  53.82% 
  Avg. Iteration Time : 0.5591s 

real	0m20.016s
user	0m34.996s
sys	0m2.016s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.444286 0.448571
+ echo 'CHUNK 0.444286 0.448571 1'
CHUNK 0.444286 0.448571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.444286 0.448571 1
====================================
         PROGRESS: 0.444286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.631
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 606.415   GNORM= 174.988
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        65.489     135.063       0.029
   2    4      -518.797     123.689       1.000
   3    6      -524.445      74.256       0.281
   4    7      -526.309     151.048       1.000
   5   12      -527.285      36.190       0.000
   6   13      -531.037     247.899       1.000
   7   21      -664.451     118.287       5.029
   8   24      -721.492     139.388       0.803
   9   27      -742.267      73.260       0.037
  10   28      -754.044      86.104       1.000
  11   29      -767.050      82.062       1.000
  12   33      -794.928     334.169       0.254
  13   35      -807.225     466.816       0.322
  14   40      -807.684      33.169       0.001
  15   43      -808.622      27.412       2.874
  16   44      -822.752      23.900       1.000
  17   45      -834.235      76.038       1.000
  18   48      -852.364      35.879       2.354
  19   50      -856.961      45.389       0.283
  20   51      -880.941      40.442       1.000
  21   52      -917.516      39.367       1.000
  22   56      -937.801      52.339       0.237
  23   59     -1012.764      48.911       2.660
Final RAS Transform: 
0.666426 0.201126 -0.435205 1.12332 
0.254187 0.987527 0.0104435 12.3742 
-0.0618582 -0.103803 0.917594 -13.1175 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -479.914   GNORM= 82.8226
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -558.203     181.070       0.016
   2    7      -580.558     130.604       1.000
   3   10      -580.640      25.714       0.001
   4   11      -581.446     111.318       1.000
   5   18      -581.939      67.734       0.079
   6   28      -582.184      36.665       0.263
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.662274 0.198511 -0.427973 0.157603 
0.24972 0.983625 0.0174183 11.5583 
-0.059024 -0.10035 0.909724 -12.8857 
0 0 0 1 

Final RAS Transform: 
0.662274 0.198511 -0.427973 0.157603 
0.24972 0.983625 0.0174183 11.5583 
-0.059024 -0.10035 0.909724 -12.8857 
0 0 0 1 


real	0m5.162s
user	0m8.356s
sys	0m0.684s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.390665
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0259
Level     0,  Iter     1:    Energy =   0.0278
Level     0,  Iter     2:    Energy =   0.0306
Level     0,  Iter     3:    Energy =   0.0335
Level     0,  Iter     4:    Energy =   0.0358
Level     0,  Iter     5:    Energy =   0.0381
Level     0,  Iter     6:    Energy =   0.0397
Level     0,  Iter     7:    Energy =   0.0409
Level     0,  Iter     8:    Energy =   0.0420
Level     0,  Iter     9:    Energy =   0.0428
Level     0,  Iter    10:    Energy =   0.0436
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0450
Level     0,  Iter    13:    Energy =   0.0458
Level     0,  Iter    14:    Energy =   0.0465
Level     0,  Iter    15:    Energy =   0.0470
Level     0,  Iter    16:    Energy =   0.0475
Level     0,  Iter    17:    Energy =   0.0478
Level     0,  Iter    18:    Energy =   0.0482
Level     0,  Iter    19:    Energy =   0.0484
Level     0,  Iter    20:    Energy =   0.0488
Level     0,  Iter    21:    Energy =   0.0491
Level     0,  Iter    22:    Energy =   0.0495
Level     0,  Iter    23:    Energy =   0.0494
Level     0,  Iter    24:    Energy =   0.0498
Level     0,  Iter    25:    Energy =   0.0497
Level     0,  Iter    26:    Energy =   0.0500
Level     0,  Iter    27:    Energy =   0.0500
Level     0,  Iter    28:    Energy =   0.0505
Level     0,  Iter    29:    Energy =   0.0504
Level     0,  Iter    30:    Energy =   0.0508
Level     0,  Iter    31:    Energy =   0.0507
Level     0,  Iter    32:    Energy =   0.0512
Level     0,  Iter    33:    Energy =   0.0510
Level     0,  Iter    34:    Energy =   0.0514
Level     0,  Iter    35:    Energy =   0.0513
Level     0,  Iter    36:    Energy =   0.0517
Level     0,  Iter    37:    Energy =   0.0516
Level     0,  Iter    38:    Energy =   0.0519
Level     0,  Iter    39:    Energy =   0.0518
Level     0,  Iter    40:    Energy =   0.0520
Level     0,  Iter    41:    Energy =   0.0520
Level     0,  Iter    42:    Energy =   0.0523
Level     0,  Iter    43:    Energy =   0.0523
Level     0,  Iter    44:    Energy =   0.0525
Level     0,  Iter    45:    Energy =   0.0523
Level     0,  Iter    46:    Energy =   0.0527
Level     0,  Iter    47:    Energy =   0.0525
Level     0,  Iter    48:    Energy =   0.0528
Level     0,  Iter    49:    Energy =   0.0525
Level     0,  Iter    50:    Energy =   0.0527
Level     0,  Iter    51:    Energy =   0.0526
Level     0,  Iter    52:    Energy =   0.0528
Level     0,  Iter    53:    Energy =   0.0525
Level     0,  Iter    54:    Energy =   0.0528
Level     0,  Iter    55:    Energy =   0.0526
Level     0,  Iter    56:    Energy =   0.0527
Level     0,  Iter    57:    Energy =   0.0526
Level     0,  Iter    58:    Energy =   0.0528
Level     0,  Iter    59:    Energy =   0.0527
END OF LEVEL     0    DetJac Range:   0.1340  to   2.5511 
  Avg. Gradient Time  : 0.0067s  33.31% 
  Avg. Gaussian Time  : 0.0098s  48.63% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0274
Level     1,  Iter     1:    Energy =   0.0288
Level     1,  Iter     2:    Energy =   0.0299
Level     1,  Iter     3:    Energy =   0.0308
Level     1,  Iter     4:    Energy =   0.0315
Level     1,  Iter     5:    Energy =   0.0322
Level     1,  Iter     6:    Energy =   0.0329
Level     1,  Iter     7:    Energy =   0.0335
Level     1,  Iter     8:    Energy =   0.0339
Level     1,  Iter     9:    Energy =   0.0343
Level     1,  Iter    10:    Energy =   0.0346
Level     1,  Iter    11:    Energy =   0.0349
Level     1,  Iter    12:    Energy =   0.0351
Level     1,  Iter    13:    Energy =   0.0353
Level     1,  Iter    14:    Energy =   0.0355
Level     1,  Iter    15:    Energy =   0.0356
Level     1,  Iter    16:    Energy =   0.0358
Level     1,  Iter    17:    Energy =   0.0359
Level     1,  Iter    18:    Energy =   0.0361
Level     1,  Iter    19:    Energy =   0.0362
Level     1,  Iter    20:    Energy =   0.0363
Level     1,  Iter    21:    Energy =   0.0364
Level     1,  Iter    22:    Energy =   0.0365
Level     1,  Iter    23:    Energy =   0.0366
Level     1,  Iter    24:    Energy =   0.0367
Level     1,  Iter    25:    Energy =   0.0368
Level     1,  Iter    26:    Energy =   0.0368
Level     1,  Iter    27:    Energy =   0.0369
Level     1,  Iter    28:    Energy =   0.0370
Level     1,  Iter    29:    Energy =   0.0371
Level     1,  Iter    30:    Energy =   0.0371
Level     1,  Iter    31:    Energy =   0.0371
Level     1,  Iter    32:    Energy =   0.0372
Level     1,  Iter    33:    Energy =   0.0373
Level     1,  Iter    34:    Energy =   0.0373
Level     1,  Iter    35:    Energy =   0.0374
Level     1,  Iter    36:    Energy =   0.0375
Level     1,  Iter    37:    Energy =   0.0376
Level     1,  Iter    38:    Energy =   0.0376
Level     1,  Iter    39:    Energy =   0.0377
Level     1,  Iter    40:    Energy =   0.0377
Level     1,  Iter    41:    Energy =   0.0378
Level     1,  Iter    42:    Energy =   0.0379
Level     1,  Iter    43:    Energy =   0.0379
Level     1,  Iter    44:    Energy =   0.0380
Level     1,  Iter    45:    Energy =   0.0380
Level     1,  Iter    46:    Energy =   0.0381
Level     1,  Iter    47:    Energy =   0.0381
Level     1,  Iter    48:    Energy =   0.0382
Level     1,  Iter    49:    Energy =   0.0382
Level     1,  Iter    50:    Energy =   0.0382
Level     1,  Iter    51:    Energy =   0.0383
Level     1,  Iter    52:    Energy =   0.0383
Level     1,  Iter    53:    Energy =   0.0383
Level     1,  Iter    54:    Energy =   0.0384
Level     1,  Iter    55:    Energy =   0.0384
Level     1,  Iter    56:    Energy =   0.0384
Level     1,  Iter    57:    Energy =   0.0385
Level     1,  Iter    58:    Energy =   0.0385
Level     1,  Iter    59:    Energy =   0.0386
END OF LEVEL     1    DetJac Range:   0.0483  to   3.4448 
  Avg. Gradient Time  : 0.0279s  34.25% 
  Avg. Gaussian Time  : 0.0421s  51.76% 
  Avg. Iteration Time : 0.0814s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0189
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0206
Level     2,  Iter     4:    Energy =   0.0211
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0220
Level     2,  Iter     7:    Energy =   0.0223
Level     2,  Iter     8:    Energy =   0.0227
Level     2,  Iter     9:    Energy =   0.0229
Level     2,  Iter    10:    Energy =   0.0231
Level     2,  Iter    11:    Energy =   0.0233
Level     2,  Iter    12:    Energy =   0.0235
Level     2,  Iter    13:    Energy =   0.0237
Level     2,  Iter    14:    Energy =   0.0239
Level     2,  Iter    15:    Energy =   0.0240
Level     2,  Iter    16:    Energy =   0.0242
Level     2,  Iter    17:    Energy =   0.0243
Level     2,  Iter    18:    Energy =   0.0244
Level     2,  Iter    19:    Energy =   0.0245
END OF LEVEL     2    DetJac Range:   0.0422  to   3.3434 
  Avg. Gradient Time  : 0.1835s  32.64% 
  Avg. Gaussian Time  : 0.3027s  53.83% 
  Avg. Iteration Time : 0.5623s 

real	0m20.068s
user	0m34.916s
sys	0m2.164s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448571 0.452857
+ echo 'CHUNK 0.448571 0.452857 1'
CHUNK 0.448571 0.452857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448571 0.452857 1
====================================
         PROGRESS: 0.448571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.671
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 546.531   GNORM= 181.377
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -169.600      91.264       0.028
   2    4      -359.654      87.713       1.000
   3    5      -572.631     103.769       1.000
   4   11      -580.086      61.057       0.059
   5   13      -583.480      43.202       0.577
   6   16      -639.952    5915.710       1.439
   7   28      -646.034     185.307       0.000
   8   29      -712.195      98.978       1.000
   9   30      -722.017      33.678       1.000
  10   32      -722.155      40.829       0.074
  11   37      -728.080      52.086       1.139
  12   45      -728.993      45.043       0.008
  13   49      -733.504     614.939       0.114
Final RAS Transform: 
1.00656 0.125793 -0.110886 4.497 
0.206812 1.1787 -0.167551 8.65334 
-0.094575 -0.156919 1.20088 -4.2105 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -292.055   GNORM= 129.614
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -306.356     115.925       0.008
   2    5      -338.216     214.897       0.663
   3    7      -338.411     390.055       0.147
   4   11      -343.321     348.971       0.717
   5   15      -366.460      24.281       0.958
   6   16      -366.684     162.430       1.000
   7   21      -367.839      54.767       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01889 0.150116 -0.116742 6.43742 
0.196295 1.17585 -0.130107 7.55534 
-0.0972461 -0.11016 1.22983 -2.615 
0 0 0 1 

Final RAS Transform: 
1.01889 0.150116 -0.116742 6.43742 
0.196295 1.17585 -0.130107 7.55534 
-0.0972461 -0.11016 1.22983 -2.615 
0 0 0 1 


real	0m4.741s
user	0m7.608s
sys	0m0.604s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.457581
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0160
Level     0,  Iter     1:    Energy =   0.0174
Level     0,  Iter     2:    Energy =   0.0202
Level     0,  Iter     3:    Energy =   0.0225
Level     0,  Iter     4:    Energy =   0.0247
Level     0,  Iter     5:    Energy =   0.0268
Level     0,  Iter     6:    Energy =   0.0279
Level     0,  Iter     7:    Energy =   0.0293
Level     0,  Iter     8:    Energy =   0.0308
Level     0,  Iter     9:    Energy =   0.0322
Level     0,  Iter    10:    Energy =   0.0330
Level     0,  Iter    11:    Energy =   0.0337
Level     0,  Iter    12:    Energy =   0.0344
Level     0,  Iter    13:    Energy =   0.0351
Level     0,  Iter    14:    Energy =   0.0358
Level     0,  Iter    15:    Energy =   0.0365
Level     0,  Iter    16:    Energy =   0.0370
Level     0,  Iter    17:    Energy =   0.0374
Level     0,  Iter    18:    Energy =   0.0378
Level     0,  Iter    19:    Energy =   0.0382
Level     0,  Iter    20:    Energy =   0.0387
Level     0,  Iter    21:    Energy =   0.0392
Level     0,  Iter    22:    Energy =   0.0395
Level     0,  Iter    23:    Energy =   0.0398
Level     0,  Iter    24:    Energy =   0.0401
Level     0,  Iter    25:    Energy =   0.0401
Level     0,  Iter    26:    Energy =   0.0403
Level     0,  Iter    27:    Energy =   0.0404
Level     0,  Iter    28:    Energy =   0.0405
Level     0,  Iter    29:    Energy =   0.0405
Level     0,  Iter    30:    Energy =   0.0406
Level     0,  Iter    31:    Energy =   0.0406
Level     0,  Iter    32:    Energy =   0.0406
Level     0,  Iter    33:    Energy =   0.0405
Level     0,  Iter    34:    Energy =   0.0405
Level     0,  Iter    35:    Energy =   0.0404
Level     0,  Iter    36:    Energy =   0.0405
Level     0,  Iter    37:    Energy =   0.0407
Level     0,  Iter    38:    Energy =   0.0408
Level     0,  Iter    39:    Energy =   0.0411
Level     0,  Iter    40:    Energy =   0.0413
Level     0,  Iter    41:    Energy =   0.0415
Level     0,  Iter    42:    Energy =   0.0417
Level     0,  Iter    43:    Energy =   0.0419
Level     0,  Iter    44:    Energy =   0.0423
Level     0,  Iter    45:    Energy =   0.0426
Level     0,  Iter    46:    Energy =   0.0429
Level     0,  Iter    47:    Energy =   0.0431
Level     0,  Iter    48:    Energy =   0.0434
Level     0,  Iter    49:    Energy =   0.0436
Level     0,  Iter    50:    Energy =   0.0439
Level     0,  Iter    51:    Energy =   0.0441
Level     0,  Iter    52:    Energy =   0.0443
Level     0,  Iter    53:    Energy =   0.0445
Level     0,  Iter    54:    Energy =   0.0448
Level     0,  Iter    55:    Energy =   0.0449
Level     0,  Iter    56:    Energy =   0.0451
Level     0,  Iter    57:    Energy =   0.0452
Level     0,  Iter    58:    Energy =   0.0454
Level     0,  Iter    59:    Energy =   0.0455
END OF LEVEL     0    DetJac Range:   0.1211  to   4.1342 
  Avg. Gradient Time  : 0.0066s  33.24% 
  Avg. Gaussian Time  : 0.0096s  48.62% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0237
Level     1,  Iter     1:    Energy =   0.0251
Level     1,  Iter     2:    Energy =   0.0262
Level     1,  Iter     3:    Energy =   0.0276
Level     1,  Iter     4:    Energy =   0.0285
Level     1,  Iter     5:    Energy =   0.0292
Level     1,  Iter     6:    Energy =   0.0299
Level     1,  Iter     7:    Energy =   0.0305
Level     1,  Iter     8:    Energy =   0.0310
Level     1,  Iter     9:    Energy =   0.0314
Level     1,  Iter    10:    Energy =   0.0319
Level     1,  Iter    11:    Energy =   0.0322
Level     1,  Iter    12:    Energy =   0.0326
Level     1,  Iter    13:    Energy =   0.0330
Level     1,  Iter    14:    Energy =   0.0333
Level     1,  Iter    15:    Energy =   0.0336
Level     1,  Iter    16:    Energy =   0.0338
Level     1,  Iter    17:    Energy =   0.0341
Level     1,  Iter    18:    Energy =   0.0344
Level     1,  Iter    19:    Energy =   0.0346
Level     1,  Iter    20:    Energy =   0.0347
Level     1,  Iter    21:    Energy =   0.0349
Level     1,  Iter    22:    Energy =   0.0350
Level     1,  Iter    23:    Energy =   0.0351
Level     1,  Iter    24:    Energy =   0.0352
Level     1,  Iter    25:    Energy =   0.0353
Level     1,  Iter    26:    Energy =   0.0354
Level     1,  Iter    27:    Energy =   0.0356
Level     1,  Iter    28:    Energy =   0.0357
Level     1,  Iter    29:    Energy =   0.0358
Level     1,  Iter    30:    Energy =   0.0358
Level     1,  Iter    31:    Energy =   0.0359
Level     1,  Iter    32:    Energy =   0.0359
Level     1,  Iter    33:    Energy =   0.0359
Level     1,  Iter    34:    Energy =   0.0359
Level     1,  Iter    35:    Energy =   0.0359
Level     1,  Iter    36:    Energy =   0.0359
Level     1,  Iter    37:    Energy =   0.0359
Level     1,  Iter    38:    Energy =   0.0359
Level     1,  Iter    39:    Energy =   0.0359
Level     1,  Iter    40:    Energy =   0.0359
Level     1,  Iter    41:    Energy =   0.0359
Level     1,  Iter    42:    Energy =   0.0360
Level     1,  Iter    43:    Energy =   0.0360
Level     1,  Iter    44:    Energy =   0.0361
Level     1,  Iter    45:    Energy =   0.0361
Level     1,  Iter    46:    Energy =   0.0361
Level     1,  Iter    47:    Energy =   0.0362
Level     1,  Iter    48:    Energy =   0.0363
Level     1,  Iter    49:    Energy =   0.0363
Level     1,  Iter    50:    Energy =   0.0364
Level     1,  Iter    51:    Energy =   0.0365
Level     1,  Iter    52:    Energy =   0.0365
Level     1,  Iter    53:    Energy =   0.0366
Level     1,  Iter    54:    Energy =   0.0366
Level     1,  Iter    55:    Energy =   0.0367
Level     1,  Iter    56:    Energy =   0.0367
Level     1,  Iter    57:    Energy =   0.0367
Level     1,  Iter    58:    Energy =   0.0367
Level     1,  Iter    59:    Energy =   0.0368
END OF LEVEL     1    DetJac Range:   0.0351  to   4.7408 
  Avg. Gradient Time  : 0.0275s  34.27% 
  Avg. Gaussian Time  : 0.0415s  51.79% 
  Avg. Iteration Time : 0.0802s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0177
Level     2,  Iter     2:    Energy =   0.0184
Level     2,  Iter     3:    Energy =   0.0190
Level     2,  Iter     4:    Energy =   0.0195
Level     2,  Iter     5:    Energy =   0.0200
Level     2,  Iter     6:    Energy =   0.0203
Level     2,  Iter     7:    Energy =   0.0203
Level     2,  Iter     8:    Energy =   0.0206
Level     2,  Iter     9:    Energy =   0.0209
Level     2,  Iter    10:    Energy =   0.0209
Level     2,  Iter    11:    Energy =   0.0211
Level     2,  Iter    12:    Energy =   0.0213
Level     2,  Iter    13:    Energy =   0.0214
Level     2,  Iter    14:    Energy =   0.0215
Level     2,  Iter    15:    Energy =   0.0216
Level     2,  Iter    16:    Energy =   0.0217
Level     2,  Iter    17:    Energy =   0.0219
Level     2,  Iter    18:    Energy =   0.0220
Level     2,  Iter    19:    Energy =   0.0217
END OF LEVEL     2    DetJac Range:   0.0299  to   4.0425 
  Avg. Gradient Time  : 0.1834s  32.72% 
  Avg. Gaussian Time  : 0.3011s  53.71% 
  Avg. Iteration Time : 0.5605s 

real	0m19.931s
user	0m34.528s
sys	0m2.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.452857 0.457143
+ echo 'CHUNK 0.452857 0.457143 1'
CHUNK 0.452857 0.457143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.452857 0.457143 1
====================================
         PROGRESS: 0.452857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.664
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 582.248   GNORM= 149.13
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        35.403     113.446       0.034
   2    4      -310.255      68.765       1.000
   3    9      -657.636      30.937       0.422
   4   10      -694.633      44.603       1.000
   5   11      -782.281      32.542       1.000
   6   12     -1022.937      73.193       1.000
   7   13     -1156.630      58.270       1.000
   8   18     -1162.401      49.229       0.035
   9   25     -1193.174     182.254       1.040
  10   26     -1251.579     103.581       1.000
  11   28     -1260.113      69.224       0.056
  12   31     -1278.479     125.630       2.307
  13   33     -1286.655     379.541       0.175
  14   34     -1304.396     143.504       1.000
  15   41     -1306.049      96.926       0.079
  16   46     -1332.584      95.504       0.755
  17   48     -1338.635     206.014       0.113
  18   51     -1377.074     140.769       2.541
  19   52     -1413.217     124.000       1.000
  20   55     -1425.105     110.891       0.126
  21   59     -1440.229      80.668       0.924
  22   60     -1466.590     105.566       1.000
Final RAS Transform: 
0.305565 0.841629 -0.255069 -3.71459 
0.525162 1.02175 0.050509 8.64875 
-0.305198 0.149017 0.982185 -6.33702 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -740.183   GNORM= 1005.59
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -740.343     693.882       0.000
   2    6      -741.951      76.449       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.305273 0.841427 -0.254613 -3.74193 
0.524835 1.02154 0.0511105 8.61386 
-0.305179 0.148997 0.982155 -6.33494 
0 0 0 1 

Final RAS Transform: 
0.305273 0.841427 -0.254613 -3.74193 
0.524835 1.02154 0.0511105 8.61386 
-0.305179 0.148997 0.982155 -6.33494 
0 0 0 1 


real	0m3.919s
user	0m6.044s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.399714
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0355
Level     0,  Iter     1:    Energy =   0.0377
Level     0,  Iter     2:    Energy =   0.0412
Level     0,  Iter     3:    Energy =   0.0446
Level     0,  Iter     4:    Energy =   0.0478
Level     0,  Iter     5:    Energy =   0.0503
Level     0,  Iter     6:    Energy =   0.0517
Level     0,  Iter     7:    Energy =   0.0528
Level     0,  Iter     8:    Energy =   0.0537
Level     0,  Iter     9:    Energy =   0.0546
Level     0,  Iter    10:    Energy =   0.0553
Level     0,  Iter    11:    Energy =   0.0561
Level     0,  Iter    12:    Energy =   0.0570
Level     0,  Iter    13:    Energy =   0.0576
Level     0,  Iter    14:    Energy =   0.0584
Level     0,  Iter    15:    Energy =   0.0589
Level     0,  Iter    16:    Energy =   0.0593
Level     0,  Iter    17:    Energy =   0.0597
Level     0,  Iter    18:    Energy =   0.0599
Level     0,  Iter    19:    Energy =   0.0602
Level     0,  Iter    20:    Energy =   0.0603
Level     0,  Iter    21:    Energy =   0.0606
Level     0,  Iter    22:    Energy =   0.0607
Level     0,  Iter    23:    Energy =   0.0609
Level     0,  Iter    24:    Energy =   0.0609
Level     0,  Iter    25:    Energy =   0.0611
Level     0,  Iter    26:    Energy =   0.0615
Level     0,  Iter    27:    Energy =   0.0616
Level     0,  Iter    28:    Energy =   0.0621
Level     0,  Iter    29:    Energy =   0.0621
Level     0,  Iter    30:    Energy =   0.0625
Level     0,  Iter    31:    Energy =   0.0624
Level     0,  Iter    32:    Energy =   0.0626
Level     0,  Iter    33:    Energy =   0.0625
Level     0,  Iter    34:    Energy =   0.0627
Level     0,  Iter    35:    Energy =   0.0628
Level     0,  Iter    36:    Energy =   0.0629
Level     0,  Iter    37:    Energy =   0.0630
Level     0,  Iter    38:    Energy =   0.0630
Level     0,  Iter    39:    Energy =   0.0631
Level     0,  Iter    40:    Energy =   0.0631
Level     0,  Iter    41:    Energy =   0.0633
Level     0,  Iter    42:    Energy =   0.0633
Level     0,  Iter    43:    Energy =   0.0636
Level     0,  Iter    44:    Energy =   0.0637
Level     0,  Iter    45:    Energy =   0.0638
Level     0,  Iter    46:    Energy =   0.0639
Level     0,  Iter    47:    Energy =   0.0639
Level     0,  Iter    48:    Energy =   0.0640
Level     0,  Iter    49:    Energy =   0.0639
Level     0,  Iter    50:    Energy =   0.0641
Level     0,  Iter    51:    Energy =   0.0641
Level     0,  Iter    52:    Energy =   0.0642
Level     0,  Iter    53:    Energy =   0.0642
Level     0,  Iter    54:    Energy =   0.0643
Level     0,  Iter    55:    Energy =   0.0643
Level     0,  Iter    56:    Energy =   0.0644
Level     0,  Iter    57:    Energy =   0.0645
Level     0,  Iter    58:    Energy =   0.0645
Level     0,  Iter    59:    Energy =   0.0646
END OF LEVEL     0    DetJac Range:   0.1315  to   2.5259 
  Avg. Gradient Time  : 0.0068s  33.48% 
  Avg. Gaussian Time  : 0.0098s  48.49% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0366
Level     1,  Iter     1:    Energy =   0.0382
Level     1,  Iter     2:    Energy =   0.0400
Level     1,  Iter     3:    Energy =   0.0419
Level     1,  Iter     4:    Energy =   0.0433
Level     1,  Iter     5:    Energy =   0.0443
Level     1,  Iter     6:    Energy =   0.0451
Level     1,  Iter     7:    Energy =   0.0457
Level     1,  Iter     8:    Energy =   0.0463
Level     1,  Iter     9:    Energy =   0.0468
Level     1,  Iter    10:    Energy =   0.0473
Level     1,  Iter    11:    Energy =   0.0478
Level     1,  Iter    12:    Energy =   0.0481
Level     1,  Iter    13:    Energy =   0.0485
Level     1,  Iter    14:    Energy =   0.0489
Level     1,  Iter    15:    Energy =   0.0493
Level     1,  Iter    16:    Energy =   0.0496
Level     1,  Iter    17:    Energy =   0.0497
Level     1,  Iter    18:    Energy =   0.0499
Level     1,  Iter    19:    Energy =   0.0502
Level     1,  Iter    20:    Energy =   0.0504
Level     1,  Iter    21:    Energy =   0.0506
Level     1,  Iter    22:    Energy =   0.0508
Level     1,  Iter    23:    Energy =   0.0509
Level     1,  Iter    24:    Energy =   0.0510
Level     1,  Iter    25:    Energy =   0.0510
Level     1,  Iter    26:    Energy =   0.0511
Level     1,  Iter    27:    Energy =   0.0512
Level     1,  Iter    28:    Energy =   0.0513
Level     1,  Iter    29:    Energy =   0.0514
Level     1,  Iter    30:    Energy =   0.0514
Level     1,  Iter    31:    Energy =   0.0514
Level     1,  Iter    32:    Energy =   0.0515
Level     1,  Iter    33:    Energy =   0.0515
Level     1,  Iter    34:    Energy =   0.0516
Level     1,  Iter    35:    Energy =   0.0516
Level     1,  Iter    36:    Energy =   0.0517
Level     1,  Iter    37:    Energy =   0.0517
Level     1,  Iter    38:    Energy =   0.0518
Level     1,  Iter    39:    Energy =   0.0518
Level     1,  Iter    40:    Energy =   0.0519
Level     1,  Iter    41:    Energy =   0.0519
Level     1,  Iter    42:    Energy =   0.0519
Level     1,  Iter    43:    Energy =   0.0520
Level     1,  Iter    44:    Energy =   0.0520
Level     1,  Iter    45:    Energy =   0.0520
Level     1,  Iter    46:    Energy =   0.0520
Level     1,  Iter    47:    Energy =   0.0520
Level     1,  Iter    48:    Energy =   0.0520
Level     1,  Iter    49:    Energy =   0.0520
Level     1,  Iter    50:    Energy =   0.0520
Level     1,  Iter    51:    Energy =   0.0520
Level     1,  Iter    52:    Energy =   0.0520
Level     1,  Iter    53:    Energy =   0.0521
Level     1,  Iter    54:    Energy =   0.0521
Level     1,  Iter    55:    Energy =   0.0521
Level     1,  Iter    56:    Energy =   0.0521
Level     1,  Iter    57:    Energy =   0.0521
Level     1,  Iter    58:    Energy =   0.0521
Level     1,  Iter    59:    Energy =   0.0522
END OF LEVEL     1    DetJac Range:   0.0706  to   3.5726 
  Avg. Gradient Time  : 0.0283s  35.01% 
  Avg. Gaussian Time  : 0.0413s  51.09% 
  Avg. Iteration Time : 0.0808s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0248
Level     2,  Iter     1:    Energy =   0.0258
Level     2,  Iter     2:    Energy =   0.0267
Level     2,  Iter     3:    Energy =   0.0274
Level     2,  Iter     4:    Energy =   0.0280
Level     2,  Iter     5:    Energy =   0.0284
Level     2,  Iter     6:    Energy =   0.0287
Level     2,  Iter     7:    Energy =   0.0290
Level     2,  Iter     8:    Energy =   0.0293
Level     2,  Iter     9:    Energy =   0.0296
Level     2,  Iter    10:    Energy =   0.0298
Level     2,  Iter    11:    Energy =   0.0300
Level     2,  Iter    12:    Energy =   0.0301
Level     2,  Iter    13:    Energy =   0.0301
Level     2,  Iter    14:    Energy =   0.0300
Level     2,  Iter    15:    Energy =   0.0300
Level     2,  Iter    16:    Energy =   0.0299
Level     2,  Iter    17:    Energy =   0.0299
Level     2,  Iter    18:    Energy =   0.0298
Level     2,  Iter    19:    Energy =   0.0298
END OF LEVEL     2    DetJac Range:   0.0623  to   2.8340 
  Avg. Gradient Time  : 0.1842s  32.70% 
  Avg. Gaussian Time  : 0.3030s  53.77% 
  Avg. Iteration Time : 0.5635s 

real	0m20.103s
user	0m35.028s
sys	0m2.088s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.457143 0.461429
+ echo 'CHUNK 0.457143 0.461429 1'
CHUNK 0.457143 0.461429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.457143 0.461429 1
====================================
         PROGRESS: 0.457143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 026 right 0
+ local tid=026
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.516
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 501.89   GNORM= 179.734
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       330.060     160.408       0.006
   2    3      -359.107      67.711       1.000
   3    4      -601.168      84.821       1.000
   4    7      -626.867      65.341       0.068
   5    8      -696.605      83.090       1.000
   6   12      -812.875      54.979       0.045
   7   15      -839.308    1395.510       0.062
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.850327 0.100495 -0.245906 2.26918 
0.193285 0.959263 -0.272762 10.5777 
-0.114759 -0.0703195 1.07141 -2.72952 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -355.841   GNORM= 5818.88
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -358.277      70.266       0.000
   2    5      -358.463      53.846       0.081
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.849067 0.0993178 -0.243474 2.08236 
0.19399 0.960225 -0.274601 10.7312 
-0.11436 -0.0697428 1.07057 -2.65844 
0 0 0 1 

Final RAS Transform: 
0.849067 0.0993178 -0.243474 2.08236 
0.19399 0.960225 -0.274601 10.7312 
-0.11436 -0.0697428 1.07057 -2.65844 
0 0 0 1 


real	0m3.494s
user	0m5.460s
sys	0m0.404s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.368882
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0200
Level     0,  Iter     1:    Energy =   0.0219
Level     0,  Iter     2:    Energy =   0.0251
Level     0,  Iter     3:    Energy =   0.0281
Level     0,  Iter     4:    Energy =   0.0302
Level     0,  Iter     5:    Energy =   0.0321
Level     0,  Iter     6:    Energy =   0.0334
Level     0,  Iter     7:    Energy =   0.0341
Level     0,  Iter     8:    Energy =   0.0349
Level     0,  Iter     9:    Energy =   0.0356
Level     0,  Iter    10:    Energy =   0.0363
Level     0,  Iter    11:    Energy =   0.0369
Level     0,  Iter    12:    Energy =   0.0375
Level     0,  Iter    13:    Energy =   0.0380
Level     0,  Iter    14:    Energy =   0.0383
Level     0,  Iter    15:    Energy =   0.0385
Level     0,  Iter    16:    Energy =   0.0386
Level     0,  Iter    17:    Energy =   0.0387
Level     0,  Iter    18:    Energy =   0.0388
Level     0,  Iter    19:    Energy =   0.0389
Level     0,  Iter    20:    Energy =   0.0390
Level     0,  Iter    21:    Energy =   0.0391
Level     0,  Iter    22:    Energy =   0.0391
Level     0,  Iter    23:    Energy =   0.0392
Level     0,  Iter    24:    Energy =   0.0393
Level     0,  Iter    25:    Energy =   0.0393
Level     0,  Iter    26:    Energy =   0.0394
Level     0,  Iter    27:    Energy =   0.0396
Level     0,  Iter    28:    Energy =   0.0398
Level     0,  Iter    29:    Energy =   0.0400
Level     0,  Iter    30:    Energy =   0.0401
Level     0,  Iter    31:    Energy =   0.0403
Level     0,  Iter    32:    Energy =   0.0404
Level     0,  Iter    33:    Energy =   0.0407
Level     0,  Iter    34:    Energy =   0.0409
Level     0,  Iter    35:    Energy =   0.0411
Level     0,  Iter    36:    Energy =   0.0412
Level     0,  Iter    37:    Energy =   0.0413
Level     0,  Iter    38:    Energy =   0.0414
Level     0,  Iter    39:    Energy =   0.0415
Level     0,  Iter    40:    Energy =   0.0416
Level     0,  Iter    41:    Energy =   0.0417
Level     0,  Iter    42:    Energy =   0.0418
Level     0,  Iter    43:    Energy =   0.0418
Level     0,  Iter    44:    Energy =   0.0419
Level     0,  Iter    45:    Energy =   0.0420
Level     0,  Iter    46:    Energy =   0.0421
Level     0,  Iter    47:    Energy =   0.0423
Level     0,  Iter    48:    Energy =   0.0423
Level     0,  Iter    49:    Energy =   0.0426
Level     0,  Iter    50:    Energy =   0.0427
Level     0,  Iter    51:    Energy =   0.0427
Level     0,  Iter    52:    Energy =   0.0428
Level     0,  Iter    53:    Energy =   0.0428
Level     0,  Iter    54:    Energy =   0.0430
Level     0,  Iter    55:    Energy =   0.0430
Level     0,  Iter    56:    Energy =   0.0431
Level     0,  Iter    57:    Energy =   0.0430
Level     0,  Iter    58:    Energy =   0.0431
Level     0,  Iter    59:    Energy =   0.0432
END OF LEVEL     0    DetJac Range:   0.0713  to   2.1221 
  Avg. Gradient Time  : 0.0067s  33.27% 
  Avg. Gaussian Time  : 0.0098s  48.50% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0225
Level     1,  Iter     1:    Energy =   0.0235
Level     1,  Iter     2:    Energy =   0.0244
Level     1,  Iter     3:    Energy =   0.0253
Level     1,  Iter     4:    Energy =   0.0260
Level     1,  Iter     5:    Energy =   0.0266
Level     1,  Iter     6:    Energy =   0.0271
Level     1,  Iter     7:    Energy =   0.0276
Level     1,  Iter     8:    Energy =   0.0280
Level     1,  Iter     9:    Energy =   0.0283
Level     1,  Iter    10:    Energy =   0.0287
Level     1,  Iter    11:    Energy =   0.0291
Level     1,  Iter    12:    Energy =   0.0295
Level     1,  Iter    13:    Energy =   0.0299
Level     1,  Iter    14:    Energy =   0.0302
Level     1,  Iter    15:    Energy =   0.0304
Level     1,  Iter    16:    Energy =   0.0306
Level     1,  Iter    17:    Energy =   0.0308
Level     1,  Iter    18:    Energy =   0.0310
Level     1,  Iter    19:    Energy =   0.0311
Level     1,  Iter    20:    Energy =   0.0313
Level     1,  Iter    21:    Energy =   0.0314
Level     1,  Iter    22:    Energy =   0.0316
Level     1,  Iter    23:    Energy =   0.0317
Level     1,  Iter    24:    Energy =   0.0318
Level     1,  Iter    25:    Energy =   0.0320
Level     1,  Iter    26:    Energy =   0.0321
Level     1,  Iter    27:    Energy =   0.0322
Level     1,  Iter    28:    Energy =   0.0323
Level     1,  Iter    29:    Energy =   0.0324
Level     1,  Iter    30:    Energy =   0.0326
Level     1,  Iter    31:    Energy =   0.0326
Level     1,  Iter    32:    Energy =   0.0327
Level     1,  Iter    33:    Energy =   0.0328
Level     1,  Iter    34:    Energy =   0.0329
Level     1,  Iter    35:    Energy =   0.0330
Level     1,  Iter    36:    Energy =   0.0330
Level     1,  Iter    37:    Energy =   0.0330
Level     1,  Iter    38:    Energy =   0.0331
Level     1,  Iter    39:    Energy =   0.0331
Level     1,  Iter    40:    Energy =   0.0331
Level     1,  Iter    41:    Energy =   0.0331
Level     1,  Iter    42:    Energy =   0.0331
Level     1,  Iter    43:    Energy =   0.0332
Level     1,  Iter    44:    Energy =   0.0332
Level     1,  Iter    45:    Energy =   0.0333
Level     1,  Iter    46:    Energy =   0.0333
Level     1,  Iter    47:    Energy =   0.0334
Level     1,  Iter    48:    Energy =   0.0334
Level     1,  Iter    49:    Energy =   0.0335
Level     1,  Iter    50:    Energy =   0.0335
Level     1,  Iter    51:    Energy =   0.0336
Level     1,  Iter    52:    Energy =   0.0336
Level     1,  Iter    53:    Energy =   0.0336
Level     1,  Iter    54:    Energy =   0.0337
Level     1,  Iter    55:    Energy =   0.0337
Level     1,  Iter    56:    Energy =   0.0337
Level     1,  Iter    57:    Energy =   0.0337
Level     1,  Iter    58:    Energy =   0.0337
Level     1,  Iter    59:    Energy =   0.0337
END OF LEVEL     1    DetJac Range:   0.0248  to   2.4119 
  Avg. Gradient Time  : 0.0277s  34.34% 
  Avg. Gaussian Time  : 0.0418s  51.80% 
  Avg. Iteration Time : 0.0806s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0158
Level     2,  Iter     1:    Energy =   0.0165
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0178
Level     2,  Iter     4:    Energy =   0.0183
Level     2,  Iter     5:    Energy =   0.0187
Level     2,  Iter     6:    Energy =   0.0192
Level     2,  Iter     7:    Energy =   0.0196
Level     2,  Iter     8:    Energy =   0.0200
Level     2,  Iter     9:    Energy =   0.0204
Level     2,  Iter    10:    Energy =   0.0207
Level     2,  Iter    11:    Energy =   0.0210
Level     2,  Iter    12:    Energy =   0.0212
Level     2,  Iter    13:    Energy =   0.0214
Level     2,  Iter    14:    Energy =   0.0216
Level     2,  Iter    15:    Energy =   0.0218
Level     2,  Iter    16:    Energy =   0.0220
Level     2,  Iter    17:    Energy =   0.0221
Level     2,  Iter    18:    Energy =   0.0222
Level     2,  Iter    19:    Energy =   0.0223
END OF LEVEL     2    DetJac Range:   0.0127  to   2.8166 
  Avg. Gradient Time  : 0.1796s  32.26% 
  Avg. Gaussian Time  : 0.3008s  54.02% 
  Avg. Iteration Time : 0.5568s 

real	0m19.918s
user	0m34.700s
sys	0m2.100s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.461429 0.465714
+ echo 'CHUNK 0.461429 0.465714 1'
CHUNK 0.461429 0.465714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.461429 0.465714 1
====================================
         PROGRESS: 0.461429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 027 right 0
+ local tid=027
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 423.831   GNORM= 197.156
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       247.684     166.793       0.005
   2    4       210.123     141.355       0.030
   3    5        15.354     105.644       1.000
   4    7       -85.730      92.061       5.000
   5    8      -544.373      69.707       1.000
   6   10      -557.562      64.365       0.224
   7   11      -690.848      88.901       1.000
   8   15      -707.849      49.943       1.221
   9   19      -711.987      43.810       0.060
  10   21      -717.808      63.012       0.403
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.827675 -0.0438737 -0.00460253 -2.68009 
0.0400773 1.0974 -0.155242 4.07989 
-0.12967 -0.23721 1.03217 -9.88452 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -289.598   GNORM= 41.6309
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -299.919      41.827       0.024
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.828416 -0.0406833 -0.00638981 -2.39486 
0.0407063 1.09924 -0.15506 4.33129 
-0.125158 -0.2319 1.02659 -9.15869 
0 0 0 1 

Final RAS Transform: 
0.828416 -0.0406833 -0.00638981 -2.39486 
0.0407063 1.09924 -0.15506 4.33129 
-0.125158 -0.2319 1.02659 -9.15869 
0 0 0 1 


real	0m3.402s
user	0m5.164s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.457567
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0165
Level     0,  Iter     1:    Energy =   0.0194
Level     0,  Iter     2:    Energy =   0.0225
Level     0,  Iter     3:    Energy =   0.0252
Level     0,  Iter     4:    Energy =   0.0276
Level     0,  Iter     5:    Energy =   0.0298
Level     0,  Iter     6:    Energy =   0.0318
Level     0,  Iter     7:    Energy =   0.0336
Level     0,  Iter     8:    Energy =   0.0347
Level     0,  Iter     9:    Energy =   0.0354
Level     0,  Iter    10:    Energy =   0.0356
Level     0,  Iter    11:    Energy =   0.0360
Level     0,  Iter    12:    Energy =   0.0365
Level     0,  Iter    13:    Energy =   0.0372
Level     0,  Iter    14:    Energy =   0.0374
Level     0,  Iter    15:    Energy =   0.0375
Level     0,  Iter    16:    Energy =   0.0378
Level     0,  Iter    17:    Energy =   0.0382
Level     0,  Iter    18:    Energy =   0.0384
Level     0,  Iter    19:    Energy =   0.0385
Level     0,  Iter    20:    Energy =   0.0388
Level     0,  Iter    21:    Energy =   0.0391
Level     0,  Iter    22:    Energy =   0.0394
Level     0,  Iter    23:    Energy =   0.0396
Level     0,  Iter    24:    Energy =   0.0401
Level     0,  Iter    25:    Energy =   0.0403
Level     0,  Iter    26:    Energy =   0.0405
Level     0,  Iter    27:    Energy =   0.0408
Level     0,  Iter    28:    Energy =   0.0410
Level     0,  Iter    29:    Energy =   0.0411
Level     0,  Iter    30:    Energy =   0.0413
Level     0,  Iter    31:    Energy =   0.0416
Level     0,  Iter    32:    Energy =   0.0419
Level     0,  Iter    33:    Energy =   0.0421
Level     0,  Iter    34:    Energy =   0.0424
Level     0,  Iter    35:    Energy =   0.0423
Level     0,  Iter    36:    Energy =   0.0425
Level     0,  Iter    37:    Energy =   0.0427
Level     0,  Iter    38:    Energy =   0.0430
Level     0,  Iter    39:    Energy =   0.0431
Level     0,  Iter    40:    Energy =   0.0435
Level     0,  Iter    41:    Energy =   0.0437
Level     0,  Iter    42:    Energy =   0.0440
Level     0,  Iter    43:    Energy =   0.0441
Level     0,  Iter    44:    Energy =   0.0441
Level     0,  Iter    45:    Energy =   0.0443
Level     0,  Iter    46:    Energy =   0.0443
Level     0,  Iter    47:    Energy =   0.0443
Level     0,  Iter    48:    Energy =   0.0443
Level     0,  Iter    49:    Energy =   0.0443
Level     0,  Iter    50:    Energy =   0.0443
Level     0,  Iter    51:    Energy =   0.0444
Level     0,  Iter    52:    Energy =   0.0444
Level     0,  Iter    53:    Energy =   0.0445
Level     0,  Iter    54:    Energy =   0.0445
Level     0,  Iter    55:    Energy =   0.0446
Level     0,  Iter    56:    Energy =   0.0445
Level     0,  Iter    57:    Energy =   0.0446
Level     0,  Iter    58:    Energy =   0.0445
Level     0,  Iter    59:    Energy =   0.0446
END OF LEVEL     0    DetJac Range:   0.1694  to   3.8085 
  Avg. Gradient Time  : 0.0066s  33.14% 
  Avg. Gaussian Time  : 0.0098s  48.82% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0259
Level     1,  Iter     1:    Energy =   0.0273
Level     1,  Iter     2:    Energy =   0.0286
Level     1,  Iter     3:    Energy =   0.0296
Level     1,  Iter     4:    Energy =   0.0304
Level     1,  Iter     5:    Energy =   0.0311
Level     1,  Iter     6:    Energy =   0.0317
Level     1,  Iter     7:    Energy =   0.0322
Level     1,  Iter     8:    Energy =   0.0327
Level     1,  Iter     9:    Energy =   0.0332
Level     1,  Iter    10:    Energy =   0.0337
Level     1,  Iter    11:    Energy =   0.0341
Level     1,  Iter    12:    Energy =   0.0346
Level     1,  Iter    13:    Energy =   0.0350
Level     1,  Iter    14:    Energy =   0.0354
Level     1,  Iter    15:    Energy =   0.0358
Level     1,  Iter    16:    Energy =   0.0362
Level     1,  Iter    17:    Energy =   0.0366
Level     1,  Iter    18:    Energy =   0.0369
Level     1,  Iter    19:    Energy =   0.0372
Level     1,  Iter    20:    Energy =   0.0374
Level     1,  Iter    21:    Energy =   0.0377
Level     1,  Iter    22:    Energy =   0.0379
Level     1,  Iter    23:    Energy =   0.0381
Level     1,  Iter    24:    Energy =   0.0383
Level     1,  Iter    25:    Energy =   0.0385
Level     1,  Iter    26:    Energy =   0.0386
Level     1,  Iter    27:    Energy =   0.0387
Level     1,  Iter    28:    Energy =   0.0388
Level     1,  Iter    29:    Energy =   0.0390
Level     1,  Iter    30:    Energy =   0.0391
Level     1,  Iter    31:    Energy =   0.0392
Level     1,  Iter    32:    Energy =   0.0394
Level     1,  Iter    33:    Energy =   0.0395
Level     1,  Iter    34:    Energy =   0.0396
Level     1,  Iter    35:    Energy =   0.0397
Level     1,  Iter    36:    Energy =   0.0397
Level     1,  Iter    37:    Energy =   0.0398
Level     1,  Iter    38:    Energy =   0.0399
Level     1,  Iter    39:    Energy =   0.0400
Level     1,  Iter    40:    Energy =   0.0401
Level     1,  Iter    41:    Energy =   0.0402
Level     1,  Iter    42:    Energy =   0.0402
Level     1,  Iter    43:    Energy =   0.0402
Level     1,  Iter    44:    Energy =   0.0403
Level     1,  Iter    45:    Energy =   0.0404
Level     1,  Iter    46:    Energy =   0.0404
Level     1,  Iter    47:    Energy =   0.0405
Level     1,  Iter    48:    Energy =   0.0405
Level     1,  Iter    49:    Energy =   0.0406
Level     1,  Iter    50:    Energy =   0.0407
Level     1,  Iter    51:    Energy =   0.0406
Level     1,  Iter    52:    Energy =   0.0407
Level     1,  Iter    53:    Energy =   0.0407
Level     1,  Iter    54:    Energy =   0.0407
Level     1,  Iter    55:    Energy =   0.0406
Level     1,  Iter    56:    Energy =   0.0407
Level     1,  Iter    57:    Energy =   0.0408
Level     1,  Iter    58:    Energy =   0.0409
Level     1,  Iter    59:    Energy =   0.0410
END OF LEVEL     1    DetJac Range:   0.0216  to   5.1116 
  Avg. Gradient Time  : 0.0280s  34.36% 
  Avg. Gaussian Time  : 0.0420s  51.65% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0184
Level     2,  Iter     1:    Energy =   0.0190
Level     2,  Iter     2:    Energy =   0.0197
Level     2,  Iter     3:    Energy =   0.0201
Level     2,  Iter     4:    Energy =   0.0206
Level     2,  Iter     5:    Energy =   0.0209
Level     2,  Iter     6:    Energy =   0.0214
Level     2,  Iter     7:    Energy =   0.0218
Level     2,  Iter     8:    Energy =   0.0223
Level     2,  Iter     9:    Energy =   0.0227
Level     2,  Iter    10:    Energy =   0.0230
Level     2,  Iter    11:    Energy =   0.0233
Level     2,  Iter    12:    Energy =   0.0236
Level     2,  Iter    13:    Energy =   0.0237
Level     2,  Iter    14:    Energy =   0.0237
Level     2,  Iter    15:    Energy =   0.0238
Level     2,  Iter    16:    Energy =   0.0238
Level     2,  Iter    17:    Energy =   0.0240
Level     2,  Iter    18:    Energy =   0.0241
Level     2,  Iter    19:    Energy =   0.0243
END OF LEVEL     2    DetJac Range:   0.0139  to   5.3194 
  Avg. Gradient Time  : 0.1810s  32.57% 
  Avg. Gaussian Time  : 0.2995s  53.89% 
  Avg. Iteration Time : 0.5558s 

real	0m20.000s
user	0m34.692s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465714 0.47
+ echo 'CHUNK 0.465714 0.47 1'
CHUNK 0.465714 0.47 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465714 0.47 1
====================================
         PROGRESS: 0.465714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 028 right 0
+ local tid=028
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.59
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 522.459   GNORM= 137.379
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -144.205      91.574       0.036
   2    5      -689.427     109.718       0.511
   3    9      -752.362     183.715       0.132
   4   10      -775.779     106.754       1.000
   5   11      -861.071      27.493       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.915345 -0.0433252 0.0379376 -2.40227 
0.120745 1.10922 -0.254541 6.54263 
-0.0799669 -0.210828 1.09067 -5.58356 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -429.84   GNORM= 444.07
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -431.553     121.013       0.001
   2    5      -432.185     101.951       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.914742 -0.0436526 0.038912 -2.46292 
0.1218 1.10987 -0.256181 6.66673 
-0.0815172 -0.211763 1.09292 -5.74902 
0 0 0 1 

Final RAS Transform: 
0.914742 -0.0436526 0.038912 -2.46292 
0.1218 1.10987 -0.256181 6.66673 
-0.0815172 -0.211763 1.09292 -5.74902 
0 0 0 1 


real	0m3.480s
user	0m5.384s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.435319
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0208
Level     0,  Iter     1:    Energy =   0.0242
Level     0,  Iter     2:    Energy =   0.0273
Level     0,  Iter     3:    Energy =   0.0301
Level     0,  Iter     4:    Energy =   0.0333
Level     0,  Iter     5:    Energy =   0.0356
Level     0,  Iter     6:    Energy =   0.0372
Level     0,  Iter     7:    Energy =   0.0386
Level     0,  Iter     8:    Energy =   0.0400
Level     0,  Iter     9:    Energy =   0.0413
Level     0,  Iter    10:    Energy =   0.0426
Level     0,  Iter    11:    Energy =   0.0438
Level     0,  Iter    12:    Energy =   0.0452
Level     0,  Iter    13:    Energy =   0.0466
Level     0,  Iter    14:    Energy =   0.0473
Level     0,  Iter    15:    Energy =   0.0481
Level     0,  Iter    16:    Energy =   0.0489
Level     0,  Iter    17:    Energy =   0.0496
Level     0,  Iter    18:    Energy =   0.0501
Level     0,  Iter    19:    Energy =   0.0508
Level     0,  Iter    20:    Energy =   0.0512
Level     0,  Iter    21:    Energy =   0.0515
Level     0,  Iter    22:    Energy =   0.0521
Level     0,  Iter    23:    Energy =   0.0529
Level     0,  Iter    24:    Energy =   0.0535
Level     0,  Iter    25:    Energy =   0.0543
Level     0,  Iter    26:    Energy =   0.0548
Level     0,  Iter    27:    Energy =   0.0554
Level     0,  Iter    28:    Energy =   0.0557
Level     0,  Iter    29:    Energy =   0.0559
Level     0,  Iter    30:    Energy =   0.0558
Level     0,  Iter    31:    Energy =   0.0560
Level     0,  Iter    32:    Energy =   0.0561
Level     0,  Iter    33:    Energy =   0.0563
Level     0,  Iter    34:    Energy =   0.0564
Level     0,  Iter    35:    Energy =   0.0566
Level     0,  Iter    36:    Energy =   0.0566
Level     0,  Iter    37:    Energy =   0.0566
Level     0,  Iter    38:    Energy =   0.0567
Level     0,  Iter    39:    Energy =   0.0568
Level     0,  Iter    40:    Energy =   0.0571
Level     0,  Iter    41:    Energy =   0.0569
Level     0,  Iter    42:    Energy =   0.0569
Level     0,  Iter    43:    Energy =   0.0570
Level     0,  Iter    44:    Energy =   0.0572
Level     0,  Iter    45:    Energy =   0.0573
Level     0,  Iter    46:    Energy =   0.0572
Level     0,  Iter    47:    Energy =   0.0571
Level     0,  Iter    48:    Energy =   0.0574
Level     0,  Iter    49:    Energy =   0.0573
Level     0,  Iter    50:    Energy =   0.0572
Level     0,  Iter    51:    Energy =   0.0574
Level     0,  Iter    52:    Energy =   0.0576
Level     0,  Iter    53:    Energy =   0.0577
Level     0,  Iter    54:    Energy =   0.0578
Level     0,  Iter    55:    Energy =   0.0580
Level     0,  Iter    56:    Energy =   0.0581
Level     0,  Iter    57:    Energy =   0.0579
Level     0,  Iter    58:    Energy =   0.0577
Level     0,  Iter    59:    Energy =   0.0576
END OF LEVEL     0    DetJac Range:   0.1839  to   2.8749 
  Avg. Gradient Time  : 0.0067s  33.12% 
  Avg. Gaussian Time  : 0.0099s  48.69% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0293
Level     1,  Iter     1:    Energy =   0.0305
Level     1,  Iter     2:    Energy =   0.0314
Level     1,  Iter     3:    Energy =   0.0321
Level     1,  Iter     4:    Energy =   0.0327
Level     1,  Iter     5:    Energy =   0.0331
Level     1,  Iter     6:    Energy =   0.0335
Level     1,  Iter     7:    Energy =   0.0339
Level     1,  Iter     8:    Energy =   0.0342
Level     1,  Iter     9:    Energy =   0.0345
Level     1,  Iter    10:    Energy =   0.0347
Level     1,  Iter    11:    Energy =   0.0350
Level     1,  Iter    12:    Energy =   0.0353
Level     1,  Iter    13:    Energy =   0.0355
Level     1,  Iter    14:    Energy =   0.0357
Level     1,  Iter    15:    Energy =   0.0359
Level     1,  Iter    16:    Energy =   0.0362
Level     1,  Iter    17:    Energy =   0.0365
Level     1,  Iter    18:    Energy =   0.0368
Level     1,  Iter    19:    Energy =   0.0371
Level     1,  Iter    20:    Energy =   0.0375
Level     1,  Iter    21:    Energy =   0.0378
Level     1,  Iter    22:    Energy =   0.0381
Level     1,  Iter    23:    Energy =   0.0384
Level     1,  Iter    24:    Energy =   0.0387
Level     1,  Iter    25:    Energy =   0.0391
Level     1,  Iter    26:    Energy =   0.0393
Level     1,  Iter    27:    Energy =   0.0396
Level     1,  Iter    28:    Energy =   0.0397
Level     1,  Iter    29:    Energy =   0.0400
Level     1,  Iter    30:    Energy =   0.0400
Level     1,  Iter    31:    Energy =   0.0402
Level     1,  Iter    32:    Energy =   0.0404
Level     1,  Iter    33:    Energy =   0.0406
Level     1,  Iter    34:    Energy =   0.0408
Level     1,  Iter    35:    Energy =   0.0410
Level     1,  Iter    36:    Energy =   0.0411
Level     1,  Iter    37:    Energy =   0.0412
Level     1,  Iter    38:    Energy =   0.0413
Level     1,  Iter    39:    Energy =   0.0413
Level     1,  Iter    40:    Energy =   0.0414
Level     1,  Iter    41:    Energy =   0.0414
Level     1,  Iter    42:    Energy =   0.0414
Level     1,  Iter    43:    Energy =   0.0414
Level     1,  Iter    44:    Energy =   0.0414
Level     1,  Iter    45:    Energy =   0.0415
Level     1,  Iter    46:    Energy =   0.0415
Level     1,  Iter    47:    Energy =   0.0415
Level     1,  Iter    48:    Energy =   0.0415
Level     1,  Iter    49:    Energy =   0.0415
Level     1,  Iter    50:    Energy =   0.0416
Level     1,  Iter    51:    Energy =   0.0416
Level     1,  Iter    52:    Energy =   0.0416
Level     1,  Iter    53:    Energy =   0.0416
Level     1,  Iter    54:    Energy =   0.0416
Level     1,  Iter    55:    Energy =   0.0416
Level     1,  Iter    56:    Energy =   0.0417
Level     1,  Iter    57:    Energy =   0.0417
Level     1,  Iter    58:    Energy =   0.0417
Level     1,  Iter    59:    Energy =   0.0417
END OF LEVEL     1    DetJac Range:   0.0519  to   2.2902 
  Avg. Gradient Time  : 0.0276s  34.26% 
  Avg. Gaussian Time  : 0.0418s  51.80% 
  Avg. Iteration Time : 0.0807s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0181
Level     2,  Iter     1:    Energy =   0.0190
Level     2,  Iter     2:    Energy =   0.0198
Level     2,  Iter     3:    Energy =   0.0204
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0212
Level     2,  Iter     6:    Energy =   0.0214
Level     2,  Iter     7:    Energy =   0.0216
Level     2,  Iter     8:    Energy =   0.0218
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0223
Level     2,  Iter    12:    Energy =   0.0224
Level     2,  Iter    13:    Energy =   0.0225
Level     2,  Iter    14:    Energy =   0.0226
Level     2,  Iter    15:    Energy =   0.0227
Level     2,  Iter    16:    Energy =   0.0228
Level     2,  Iter    17:    Energy =   0.0228
Level     2,  Iter    18:    Energy =   0.0229
Level     2,  Iter    19:    Energy =   0.0229
END OF LEVEL     2    DetJac Range:   0.0590  to   2.1962 
  Avg. Gradient Time  : 0.1809s  32.49% 
  Avg. Gaussian Time  : 0.3001s  53.88% 
  Avg. Iteration Time : 0.5570s 

real	0m19.951s
user	0m34.744s
sys	0m2.104s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.47 0.474286
+ echo 'CHUNK 0.47 0.474286 1'
CHUNK 0.47 0.474286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.47 0.474286 1
====================================
         PROGRESS: 0.47               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 029 right 0
+ local tid=029
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 611.235   GNORM= 203.248
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -50.980     122.675       0.025
   2    6      -521.561     102.719       2.239
   3    8      -537.590     147.686       0.021
   4    9      -624.741     100.944       1.000
   5   14      -659.481    1252.514       4.981
   6   21      -661.595      43.147       0.001
   7   23      -669.798    1475.605       0.461
   8   33      -671.707     163.921       1.003
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01292 0.0639236 -0.122526 2.72881 
0.193721 1.11583 -0.530148 6.10071 
-0.0555008 -0.240245 1.06309 -6.75005 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -254.535   GNORM= 320.482
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -255.763     462.413       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01255 0.0634766 -0.121889 2.65923 
0.194167 1.1165 -0.531095 6.18309 
-0.0555435 -0.240341 1.06321 -6.75804 
0 0 0 1 

Final RAS Transform: 
1.01255 0.0634766 -0.121889 2.65923 
0.194167 1.1165 -0.531095 6.18309 
-0.0555435 -0.240341 1.06321 -6.75804 
0 0 0 1 


real	0m3.584s
user	0m5.492s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.365614
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0151
Level     0,  Iter     1:    Energy =   0.0166
Level     0,  Iter     2:    Energy =   0.0179
Level     0,  Iter     3:    Energy =   0.0192
Level     0,  Iter     4:    Energy =   0.0206
Level     0,  Iter     5:    Energy =   0.0218
Level     0,  Iter     6:    Energy =   0.0225
Level     0,  Iter     7:    Energy =   0.0229
Level     0,  Iter     8:    Energy =   0.0236
Level     0,  Iter     9:    Energy =   0.0242
Level     0,  Iter    10:    Energy =   0.0249
Level     0,  Iter    11:    Energy =   0.0256
Level     0,  Iter    12:    Energy =   0.0265
Level     0,  Iter    13:    Energy =   0.0274
Level     0,  Iter    14:    Energy =   0.0282
Level     0,  Iter    15:    Energy =   0.0292
Level     0,  Iter    16:    Energy =   0.0298
Level     0,  Iter    17:    Energy =   0.0302
Level     0,  Iter    18:    Energy =   0.0308
Level     0,  Iter    19:    Energy =   0.0315
Level     0,  Iter    20:    Energy =   0.0319
Level     0,  Iter    21:    Energy =   0.0324
Level     0,  Iter    22:    Energy =   0.0331
Level     0,  Iter    23:    Energy =   0.0334
Level     0,  Iter    24:    Energy =   0.0338
Level     0,  Iter    25:    Energy =   0.0340
Level     0,  Iter    26:    Energy =   0.0343
Level     0,  Iter    27:    Energy =   0.0345
Level     0,  Iter    28:    Energy =   0.0347
Level     0,  Iter    29:    Energy =   0.0349
Level     0,  Iter    30:    Energy =   0.0350
Level     0,  Iter    31:    Energy =   0.0351
Level     0,  Iter    32:    Energy =   0.0352
Level     0,  Iter    33:    Energy =   0.0353
Level     0,  Iter    34:    Energy =   0.0355
Level     0,  Iter    35:    Energy =   0.0356
Level     0,  Iter    36:    Energy =   0.0357
Level     0,  Iter    37:    Energy =   0.0359
Level     0,  Iter    38:    Energy =   0.0360
Level     0,  Iter    39:    Energy =   0.0360
Level     0,  Iter    40:    Energy =   0.0362
Level     0,  Iter    41:    Energy =   0.0364
Level     0,  Iter    42:    Energy =   0.0366
Level     0,  Iter    43:    Energy =   0.0367
Level     0,  Iter    44:    Energy =   0.0368
Level     0,  Iter    45:    Energy =   0.0367
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0369
Level     0,  Iter    48:    Energy =   0.0370
Level     0,  Iter    49:    Energy =   0.0371
Level     0,  Iter    50:    Energy =   0.0374
Level     0,  Iter    51:    Energy =   0.0377
Level     0,  Iter    52:    Energy =   0.0380
Level     0,  Iter    53:    Energy =   0.0380
Level     0,  Iter    54:    Energy =   0.0381
Level     0,  Iter    55:    Energy =   0.0382
Level     0,  Iter    56:    Energy =   0.0383
Level     0,  Iter    57:    Energy =   0.0383
Level     0,  Iter    58:    Energy =   0.0382
Level     0,  Iter    59:    Energy =   0.0383
END OF LEVEL     0    DetJac Range:   0.0394  to   2.4956 
  Avg. Gradient Time  : 0.0068s  33.11% 
  Avg. Gaussian Time  : 0.0100s  48.95% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0186
Level     1,  Iter     1:    Energy =   0.0197
Level     1,  Iter     2:    Energy =   0.0206
Level     1,  Iter     3:    Energy =   0.0213
Level     1,  Iter     4:    Energy =   0.0220
Level     1,  Iter     5:    Energy =   0.0225
Level     1,  Iter     6:    Energy =   0.0229
Level     1,  Iter     7:    Energy =   0.0233
Level     1,  Iter     8:    Energy =   0.0237
Level     1,  Iter     9:    Energy =   0.0240
Level     1,  Iter    10:    Energy =   0.0242
Level     1,  Iter    11:    Energy =   0.0244
Level     1,  Iter    12:    Energy =   0.0246
Level     1,  Iter    13:    Energy =   0.0248
Level     1,  Iter    14:    Energy =   0.0250
Level     1,  Iter    15:    Energy =   0.0251
Level     1,  Iter    16:    Energy =   0.0253
Level     1,  Iter    17:    Energy =   0.0253
Level     1,  Iter    18:    Energy =   0.0254
Level     1,  Iter    19:    Energy =   0.0255
Level     1,  Iter    20:    Energy =   0.0256
Level     1,  Iter    21:    Energy =   0.0256
Level     1,  Iter    22:    Energy =   0.0256
Level     1,  Iter    23:    Energy =   0.0257
Level     1,  Iter    24:    Energy =   0.0257
Level     1,  Iter    25:    Energy =   0.0257
Level     1,  Iter    26:    Energy =   0.0258
Level     1,  Iter    27:    Energy =   0.0258
Level     1,  Iter    28:    Energy =   0.0258
Level     1,  Iter    29:    Energy =   0.0258
Level     1,  Iter    30:    Energy =   0.0259
Level     1,  Iter    31:    Energy =   0.0259
Level     1,  Iter    32:    Energy =   0.0259
Level     1,  Iter    33:    Energy =   0.0259
Level     1,  Iter    34:    Energy =   0.0259
Level     1,  Iter    35:    Energy =   0.0259
Level     1,  Iter    36:    Energy =   0.0259
Level     1,  Iter    37:    Energy =   0.0259
Level     1,  Iter    38:    Energy =   0.0259
Level     1,  Iter    39:    Energy =   0.0259
Level     1,  Iter    40:    Energy =   0.0259
Level     1,  Iter    41:    Energy =   0.0259
Level     1,  Iter    42:    Energy =   0.0259
Level     1,  Iter    43:    Energy =   0.0259
Level     1,  Iter    44:    Energy =   0.0259
Level     1,  Iter    45:    Energy =   0.0259
Level     1,  Iter    46:    Energy =   0.0259
Level     1,  Iter    47:    Energy =   0.0260
Level     1,  Iter    48:    Energy =   0.0260
Level     1,  Iter    49:    Energy =   0.0260
Level     1,  Iter    50:    Energy =   0.0260
Level     1,  Iter    51:    Energy =   0.0260
Level     1,  Iter    52:    Energy =   0.0260
Level     1,  Iter    53:    Energy =   0.0260
Level     1,  Iter    54:    Energy =   0.0260
Level     1,  Iter    55:    Energy =   0.0260
Level     1,  Iter    56:    Energy =   0.0260
Level     1,  Iter    57:    Energy =   0.0260
Level     1,  Iter    58:    Energy =   0.0260
Level     1,  Iter    59:    Energy =   0.0260
END OF LEVEL     1    DetJac Range:   0.0521  to   2.4775 
  Avg. Gradient Time  : 0.0280s  34.13% 
  Avg. Gaussian Time  : 0.0425s  51.91% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0108
Level     2,  Iter     1:    Energy =   0.0113
Level     2,  Iter     2:    Energy =   0.0117
Level     2,  Iter     3:    Energy =   0.0120
Level     2,  Iter     4:    Energy =   0.0123
Level     2,  Iter     5:    Energy =   0.0125
Level     2,  Iter     6:    Energy =   0.0127
Level     2,  Iter     7:    Energy =   0.0129
Level     2,  Iter     8:    Energy =   0.0130
Level     2,  Iter     9:    Energy =   0.0131
Level     2,  Iter    10:    Energy =   0.0132
Level     2,  Iter    11:    Energy =   0.0133
Level     2,  Iter    12:    Energy =   0.0134
Level     2,  Iter    13:    Energy =   0.0135
Level     2,  Iter    14:    Energy =   0.0136
Level     2,  Iter    15:    Energy =   0.0136
Level     2,  Iter    16:    Energy =   0.0137
Level     2,  Iter    17:    Energy =   0.0137
Level     2,  Iter    18:    Energy =   0.0138
Level     2,  Iter    19:    Energy =   0.0138
END OF LEVEL     2    DetJac Range:   0.0307  to   2.0808 
  Avg. Gradient Time  : 0.1818s  32.67% 
  Avg. Gaussian Time  : 0.2991s  53.73% 
  Avg. Iteration Time : 0.5566s 

real	0m20.005s
user	0m34.676s
sys	0m2.248s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.474286 0.478571
+ echo 'CHUNK 0.474286 0.478571 1'
CHUNK 0.474286 0.478571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.474286 0.478571 1
====================================
         PROGRESS: 0.474286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 030 right 0
+ local tid=030
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.625
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 366.434   GNORM= 212.726
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       168.661     184.577       0.005
   2    3      -373.213     104.608       1.000
   3    4      -503.577      78.439       1.000
   4    5      -752.483      44.327       1.000
   5    8      -874.565      65.801       0.667
   6   10      -893.107      16.894       0.273
   7   12      -895.836      20.094       0.393
   8   15      -896.346      25.843       0.116
   9   17      -898.226      19.059       0.221
  10   22      -900.351      48.122       2.051
  11   24      -902.838      28.635       0.366
  12   27      -904.769      53.413       0.771
  13   28      -911.295     169.064       1.000
  14   29      -922.466      51.770       1.000
  15   30      -928.980      32.139       1.000
  16   32      -941.137      68.708       0.209
  17   33      -960.749      32.386       1.000
  18   34      -971.109      23.523       1.000
  19   35      -997.932      31.952       1.000
  20   37     -1015.168     134.056       0.310
  21   38     -1050.975     133.032       1.000
  22   39     -1123.136      80.791       1.000
  23   40     -1216.854     184.197       1.000
  24   42     -1252.339     154.365       0.087
  25   44     -1306.316     121.014       0.203
  26   46     -1353.622      64.499       0.450
  27   47     -1397.510      94.308       1.000
  28   48     -1441.654      48.114       1.000
  29   50     -1482.732     111.801       0.307
  30   52     -1488.470     125.762       0.079
  31   54     -1498.213     150.772       0.482
  32   55     -1523.452      61.773       1.000
  33   56     -1531.600      36.473       1.000
  34   57     -1539.746      47.057       1.000
  35   59     -1548.602      40.187       0.062
  36   61     -1554.521      44.042       0.226
Final RAS Transform: 
0.32488 0.244987 -0.060333 -5.29265 
0.318302 0.670923 0.0230321 17.2217 
-0.379037 -0.322284 0.635082 -4.66021 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -793.334   GNORM= 75.9768
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -803.967      24.477       0.004
   2    4      -805.489      13.812       1.000
   3    5      -806.333      24.425       1.000
   4    7      -813.160      28.787       5.000
   5    8      -826.378      44.607       1.000
   6   10      -832.232      95.469       5.000
   7   11      -848.532      62.339       1.000
   8   12      -855.185      14.493       1.000
   9   13      -856.219      12.605       1.000
  10   14      -857.281      19.731       1.000
  11   15      -859.426      14.528       1.000
  12   16      -864.498      71.336       1.000
  13   17      -874.205      39.246       1.000
  14   19      -877.249      20.932       0.317
  15   20      -878.107       9.502       1.000
  16   21      -878.432       7.652       1.000
  17   23      -878.469       6.588       0.140
  18   24      -878.597       4.214       1.000
  19   25      -878.622       7.723       1.000
  20   26      -878.873      12.376       1.000
  21   28      -879.060      15.746       0.153
  22   29      -879.254      26.739       1.000
  23   30      -879.942      19.639       1.000
  24   31      -880.546      17.087       1.000
  25   32      -880.860       6.362       1.000
  26   34      -880.871       3.911       0.295
  27   35      -880.911       7.656       1.000
  28   36      -880.978       5.532       1.000
  29   38      -881.057      10.233       0.397
  30   40      -881.226      19.217       5.000
  31   41      -881.508       6.195       1.000
  32   42      -881.553       6.016       1.000
  33   44      -881.635       6.509       0.482
Final RAS Transform: 
0.339408 0.192315 -0.0210541 -3.98236 
0.329263 0.687065 0.0622893 17.4879 
-0.376877 -0.25958 0.569423 -7.64016 
0 0 0 1 

Final RAS Transform: 
0.339408 0.192315 -0.0210541 -3.98236 
0.329263 0.687065 0.0622893 17.4879 
-0.376877 -0.25958 0.569423 -7.64016 
0 0 0 1 


real	0m5.913s
user	0m9.884s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.512921
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0396
Level     0,  Iter     1:    Energy =   0.0414
Level     0,  Iter     2:    Energy =   0.0435
Level     0,  Iter     3:    Energy =   0.0456
Level     0,  Iter     4:    Energy =   0.0476
Level     0,  Iter     5:    Energy =   0.0492
Level     0,  Iter     6:    Energy =   0.0503
Level     0,  Iter     7:    Energy =   0.0515
Level     0,  Iter     8:    Energy =   0.0524
Level     0,  Iter     9:    Energy =   0.0533
Level     0,  Iter    10:    Energy =   0.0539
Level     0,  Iter    11:    Energy =   0.0546
Level     0,  Iter    12:    Energy =   0.0553
Level     0,  Iter    13:    Energy =   0.0560
Level     0,  Iter    14:    Energy =   0.0566
Level     0,  Iter    15:    Energy =   0.0572
Level     0,  Iter    16:    Energy =   0.0576
Level     0,  Iter    17:    Energy =   0.0580
Level     0,  Iter    18:    Energy =   0.0583
Level     0,  Iter    19:    Energy =   0.0586
Level     0,  Iter    20:    Energy =   0.0589
Level     0,  Iter    21:    Energy =   0.0592
Level     0,  Iter    22:    Energy =   0.0594
Level     0,  Iter    23:    Energy =   0.0596
Level     0,  Iter    24:    Energy =   0.0598
Level     0,  Iter    25:    Energy =   0.0600
Level     0,  Iter    26:    Energy =   0.0601
Level     0,  Iter    27:    Energy =   0.0602
Level     0,  Iter    28:    Energy =   0.0603
Level     0,  Iter    29:    Energy =   0.0604
Level     0,  Iter    30:    Energy =   0.0605
Level     0,  Iter    31:    Energy =   0.0605
Level     0,  Iter    32:    Energy =   0.0605
Level     0,  Iter    33:    Energy =   0.0605
Level     0,  Iter    34:    Energy =   0.0606
Level     0,  Iter    35:    Energy =   0.0606
Level     0,  Iter    36:    Energy =   0.0606
Level     0,  Iter    37:    Energy =   0.0606
Level     0,  Iter    38:    Energy =   0.0606
Level     0,  Iter    39:    Energy =   0.0606
Level     0,  Iter    40:    Energy =   0.0606
Level     0,  Iter    41:    Energy =   0.0606
Level     0,  Iter    42:    Energy =   0.0607
Level     0,  Iter    43:    Energy =   0.0607
Level     0,  Iter    44:    Energy =   0.0607
Level     0,  Iter    45:    Energy =   0.0607
Level     0,  Iter    46:    Energy =   0.0607
Level     0,  Iter    47:    Energy =   0.0608
Level     0,  Iter    48:    Energy =   0.0609
Level     0,  Iter    49:    Energy =   0.0609
Level     0,  Iter    50:    Energy =   0.0610
Level     0,  Iter    51:    Energy =   0.0610
Level     0,  Iter    52:    Energy =   0.0611
Level     0,  Iter    53:    Energy =   0.0611
Level     0,  Iter    54:    Energy =   0.0612
Level     0,  Iter    55:    Energy =   0.0612
Level     0,  Iter    56:    Energy =   0.0613
Level     0,  Iter    57:    Energy =   0.0614
Level     0,  Iter    58:    Energy =   0.0615
Level     0,  Iter    59:    Energy =   0.0616
END OF LEVEL     0    DetJac Range:   0.0288  to   2.3809 
  Avg. Gradient Time  : 0.0069s  33.25% 
  Avg. Gaussian Time  : 0.0100s  48.68% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0368
Level     1,  Iter     1:    Energy =   0.0382
Level     1,  Iter     2:    Energy =   0.0396
Level     1,  Iter     3:    Energy =   0.0408
Level     1,  Iter     4:    Energy =   0.0421
Level     1,  Iter     5:    Energy =   0.0430
Level     1,  Iter     6:    Energy =   0.0437
Level     1,  Iter     7:    Energy =   0.0442
Level     1,  Iter     8:    Energy =   0.0446
Level     1,  Iter     9:    Energy =   0.0448
Level     1,  Iter    10:    Energy =   0.0450
Level     1,  Iter    11:    Energy =   0.0452
Level     1,  Iter    12:    Energy =   0.0453
Level     1,  Iter    13:    Energy =   0.0455
Level     1,  Iter    14:    Energy =   0.0456
Level     1,  Iter    15:    Energy =   0.0457
Level     1,  Iter    16:    Energy =   0.0458
Level     1,  Iter    17:    Energy =   0.0459
Level     1,  Iter    18:    Energy =   0.0460
Level     1,  Iter    19:    Energy =   0.0461
Level     1,  Iter    20:    Energy =   0.0462
Level     1,  Iter    21:    Energy =   0.0464
Level     1,  Iter    22:    Energy =   0.0465
Level     1,  Iter    23:    Energy =   0.0467
Level     1,  Iter    24:    Energy =   0.0468
Level     1,  Iter    25:    Energy =   0.0470
Level     1,  Iter    26:    Energy =   0.0471
Level     1,  Iter    27:    Energy =   0.0473
Level     1,  Iter    28:    Energy =   0.0475
Level     1,  Iter    29:    Energy =   0.0477
Level     1,  Iter    30:    Energy =   0.0480
Level     1,  Iter    31:    Energy =   0.0481
Level     1,  Iter    32:    Energy =   0.0483
Level     1,  Iter    33:    Energy =   0.0485
Level     1,  Iter    34:    Energy =   0.0486
Level     1,  Iter    35:    Energy =   0.0487
Level     1,  Iter    36:    Energy =   0.0489
Level     1,  Iter    37:    Energy =   0.0490
Level     1,  Iter    38:    Energy =   0.0490
Level     1,  Iter    39:    Energy =   0.0491
Level     1,  Iter    40:    Energy =   0.0492
Level     1,  Iter    41:    Energy =   0.0492
Level     1,  Iter    42:    Energy =   0.0493
Level     1,  Iter    43:    Energy =   0.0493
Level     1,  Iter    44:    Energy =   0.0493
Level     1,  Iter    45:    Energy =   0.0494
Level     1,  Iter    46:    Energy =   0.0494
Level     1,  Iter    47:    Energy =   0.0495
Level     1,  Iter    48:    Energy =   0.0495
Level     1,  Iter    49:    Energy =   0.0495
Level     1,  Iter    50:    Energy =   0.0496
Level     1,  Iter    51:    Energy =   0.0496
Level     1,  Iter    52:    Energy =   0.0496
Level     1,  Iter    53:    Energy =   0.0496
Level     1,  Iter    54:    Energy =   0.0497
Level     1,  Iter    55:    Energy =   0.0497
Level     1,  Iter    56:    Energy =   0.0497
Level     1,  Iter    57:    Energy =   0.0497
Level     1,  Iter    58:    Energy =   0.0497
Level     1,  Iter    59:    Energy =   0.0497
END OF LEVEL     1    DetJac Range:   0.0376  to   2.5431 
  Avg. Gradient Time  : 0.0277s  34.43% 
  Avg. Gaussian Time  : 0.0416s  51.65% 
  Avg. Iteration Time : 0.0805s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0264
Level     2,  Iter     1:    Energy =   0.0272
Level     2,  Iter     2:    Energy =   0.0278
Level     2,  Iter     3:    Energy =   0.0284
Level     2,  Iter     4:    Energy =   0.0289
Level     2,  Iter     5:    Energy =   0.0294
Level     2,  Iter     6:    Energy =   0.0298
Level     2,  Iter     7:    Energy =   0.0301
Level     2,  Iter     8:    Energy =   0.0305
Level     2,  Iter     9:    Energy =   0.0308
Level     2,  Iter    10:    Energy =   0.0311
Level     2,  Iter    11:    Energy =   0.0313
Level     2,  Iter    12:    Energy =   0.0316
Level     2,  Iter    13:    Energy =   0.0318
Level     2,  Iter    14:    Energy =   0.0320
Level     2,  Iter    15:    Energy =   0.0323
Level     2,  Iter    16:    Energy =   0.0325
Level     2,  Iter    17:    Energy =   0.0327
Level     2,  Iter    18:    Energy =   0.0329
Level     2,  Iter    19:    Energy =   0.0331
END OF LEVEL     2    DetJac Range:   0.0367  to   2.8262 
  Avg. Gradient Time  : 0.1791s  32.27% 
  Avg. Gaussian Time  : 0.3002s  54.11% 
  Avg. Iteration Time : 0.5548s 

real	0m19.924s
user	0m34.592s
sys	0m2.212s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.478571 0.482857
+ echo 'CHUNK 0.478571 0.482857 1'
CHUNK 0.478571 0.482857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.478571 0.482857 1
====================================
         PROGRESS: 0.478571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 031 right 0
+ local tid=031
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.604
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 467.398   GNORM= 201.105
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -25.589      94.916       0.025
   2    4      -254.598      90.344       1.000
   3    6      -714.592      56.891       0.256
   4    8      -765.319     240.768       0.427
   5   12      -766.396      26.147       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.977957 -0.0162047 -0.0579909 0.080695 
0.161734 1.10994 -0.295255 6.85247 
-0.0951285 -0.244624 1.15219 -6.35655 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -364.303   GNORM= 115.381
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -372.959      58.505       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.976845 -0.0165879 -0.0574065 -0.012149 
0.161079 1.10978 -0.29406 6.7071 
-0.0990713 -0.248085 1.16174 -7.1454 
0 0 0 1 

Final RAS Transform: 
0.976845 -0.0165879 -0.0574065 -0.012149 
0.161079 1.10978 -0.29406 6.7071 
-0.0990713 -0.248085 1.16174 -7.1454 
0 0 0 1 


real	0m3.395s
user	0m5.244s
sys	0m0.404s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.456458
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0196
Level     0,  Iter     1:    Energy =   0.0219
Level     0,  Iter     2:    Energy =   0.0242
Level     0,  Iter     3:    Energy =   0.0269
Level     0,  Iter     4:    Energy =   0.0287
Level     0,  Iter     5:    Energy =   0.0302
Level     0,  Iter     6:    Energy =   0.0316
Level     0,  Iter     7:    Energy =   0.0328
Level     0,  Iter     8:    Energy =   0.0339
Level     0,  Iter     9:    Energy =   0.0349
Level     0,  Iter    10:    Energy =   0.0357
Level     0,  Iter    11:    Energy =   0.0366
Level     0,  Iter    12:    Energy =   0.0374
Level     0,  Iter    13:    Energy =   0.0383
Level     0,  Iter    14:    Energy =   0.0389
Level     0,  Iter    15:    Energy =   0.0395
Level     0,  Iter    16:    Energy =   0.0401
Level     0,  Iter    17:    Energy =   0.0405
Level     0,  Iter    18:    Energy =   0.0408
Level     0,  Iter    19:    Energy =   0.0412
Level     0,  Iter    20:    Energy =   0.0416
Level     0,  Iter    21:    Energy =   0.0420
Level     0,  Iter    22:    Energy =   0.0426
Level     0,  Iter    23:    Energy =   0.0431
Level     0,  Iter    24:    Energy =   0.0437
Level     0,  Iter    25:    Energy =   0.0440
Level     0,  Iter    26:    Energy =   0.0444
Level     0,  Iter    27:    Energy =   0.0447
Level     0,  Iter    28:    Energy =   0.0448
Level     0,  Iter    29:    Energy =   0.0452
Level     0,  Iter    30:    Energy =   0.0456
Level     0,  Iter    31:    Energy =   0.0460
Level     0,  Iter    32:    Energy =   0.0462
Level     0,  Iter    33:    Energy =   0.0465
Level     0,  Iter    34:    Energy =   0.0468
Level     0,  Iter    35:    Energy =   0.0471
Level     0,  Iter    36:    Energy =   0.0472
Level     0,  Iter    37:    Energy =   0.0475
Level     0,  Iter    38:    Energy =   0.0477
Level     0,  Iter    39:    Energy =   0.0480
Level     0,  Iter    40:    Energy =   0.0481
Level     0,  Iter    41:    Energy =   0.0483
Level     0,  Iter    42:    Energy =   0.0485
Level     0,  Iter    43:    Energy =   0.0487
Level     0,  Iter    44:    Energy =   0.0489
Level     0,  Iter    45:    Energy =   0.0490
Level     0,  Iter    46:    Energy =   0.0493
Level     0,  Iter    47:    Energy =   0.0494
Level     0,  Iter    48:    Energy =   0.0494
Level     0,  Iter    49:    Energy =   0.0497
Level     0,  Iter    50:    Energy =   0.0499
Level     0,  Iter    51:    Energy =   0.0500
Level     0,  Iter    52:    Energy =   0.0501
Level     0,  Iter    53:    Energy =   0.0502
Level     0,  Iter    54:    Energy =   0.0502
Level     0,  Iter    55:    Energy =   0.0504
Level     0,  Iter    56:    Energy =   0.0506
Level     0,  Iter    57:    Energy =   0.0508
Level     0,  Iter    58:    Energy =   0.0507
Level     0,  Iter    59:    Energy =   0.0510
END OF LEVEL     0    DetJac Range:   0.0942  to   2.7854 
  Avg. Gradient Time  : 0.0068s  33.20% 
  Avg. Gaussian Time  : 0.0101s  48.79% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0257
Level     1,  Iter     1:    Energy =   0.0265
Level     1,  Iter     2:    Energy =   0.0274
Level     1,  Iter     3:    Energy =   0.0282
Level     1,  Iter     4:    Energy =   0.0289
Level     1,  Iter     5:    Energy =   0.0298
Level     1,  Iter     6:    Energy =   0.0307
Level     1,  Iter     7:    Energy =   0.0312
Level     1,  Iter     8:    Energy =   0.0315
Level     1,  Iter     9:    Energy =   0.0318
Level     1,  Iter    10:    Energy =   0.0319
Level     1,  Iter    11:    Energy =   0.0321
Level     1,  Iter    12:    Energy =   0.0323
Level     1,  Iter    13:    Energy =   0.0325
Level     1,  Iter    14:    Energy =   0.0327
Level     1,  Iter    15:    Energy =   0.0328
Level     1,  Iter    16:    Energy =   0.0329
Level     1,  Iter    17:    Energy =   0.0330
Level     1,  Iter    18:    Energy =   0.0332
Level     1,  Iter    19:    Energy =   0.0333
Level     1,  Iter    20:    Energy =   0.0334
Level     1,  Iter    21:    Energy =   0.0335
Level     1,  Iter    22:    Energy =   0.0336
Level     1,  Iter    23:    Energy =   0.0337
Level     1,  Iter    24:    Energy =   0.0338
Level     1,  Iter    25:    Energy =   0.0339
Level     1,  Iter    26:    Energy =   0.0340
Level     1,  Iter    27:    Energy =   0.0341
Level     1,  Iter    28:    Energy =   0.0342
Level     1,  Iter    29:    Energy =   0.0343
Level     1,  Iter    30:    Energy =   0.0344
Level     1,  Iter    31:    Energy =   0.0345
Level     1,  Iter    32:    Energy =   0.0344
Level     1,  Iter    33:    Energy =   0.0344
Level     1,  Iter    34:    Energy =   0.0344
Level     1,  Iter    35:    Energy =   0.0345
Level     1,  Iter    36:    Energy =   0.0345
Level     1,  Iter    37:    Energy =   0.0347
Level     1,  Iter    38:    Energy =   0.0349
Level     1,  Iter    39:    Energy =   0.0350
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0352
Level     1,  Iter    42:    Energy =   0.0353
Level     1,  Iter    43:    Energy =   0.0353
Level     1,  Iter    44:    Energy =   0.0354
Level     1,  Iter    45:    Energy =   0.0355
Level     1,  Iter    46:    Energy =   0.0356
Level     1,  Iter    47:    Energy =   0.0357
Level     1,  Iter    48:    Energy =   0.0357
Level     1,  Iter    49:    Energy =   0.0358
Level     1,  Iter    50:    Energy =   0.0359
Level     1,  Iter    51:    Energy =   0.0359
Level     1,  Iter    52:    Energy =   0.0360
Level     1,  Iter    53:    Energy =   0.0361
Level     1,  Iter    54:    Energy =   0.0361
Level     1,  Iter    55:    Energy =   0.0361
Level     1,  Iter    56:    Energy =   0.0362
Level     1,  Iter    57:    Energy =   0.0362
Level     1,  Iter    58:    Energy =   0.0363
Level     1,  Iter    59:    Energy =   0.0363
END OF LEVEL     1    DetJac Range:   0.0258  to   3.8826 
  Avg. Gradient Time  : 0.0282s  34.20% 
  Avg. Gaussian Time  : 0.0428s  51.84% 
  Avg. Iteration Time : 0.0826s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0159
Level     2,  Iter     1:    Energy =   0.0167
Level     2,  Iter     2:    Energy =   0.0173
Level     2,  Iter     3:    Energy =   0.0178
Level     2,  Iter     4:    Energy =   0.0182
Level     2,  Iter     5:    Energy =   0.0186
Level     2,  Iter     6:    Energy =   0.0189
Level     2,  Iter     7:    Energy =   0.0191
Level     2,  Iter     8:    Energy =   0.0194
Level     2,  Iter     9:    Energy =   0.0197
Level     2,  Iter    10:    Energy =   0.0199
Level     2,  Iter    11:    Energy =   0.0201
Level     2,  Iter    12:    Energy =   0.0204
Level     2,  Iter    13:    Energy =   0.0205
Level     2,  Iter    14:    Energy =   0.0207
Level     2,  Iter    15:    Energy =   0.0209
Level     2,  Iter    16:    Energy =   0.0210
Level     2,  Iter    17:    Energy =   0.0211
Level     2,  Iter    18:    Energy =   0.0212
Level     2,  Iter    19:    Energy =   0.0213
END OF LEVEL     2    DetJac Range:   0.0299  to   4.1543 
  Avg. Gradient Time  : 0.1797s  32.51% 
  Avg. Gaussian Time  : 0.2985s  53.99% 
  Avg. Iteration Time : 0.5528s 

real	0m19.993s
user	0m34.792s
sys	0m2.112s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482857 0.487143
+ echo 'CHUNK 0.482857 0.487143 1'
CHUNK 0.482857 0.487143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482857 0.487143 1
====================================
         PROGRESS: 0.482857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 032 right 0
+ local tid=032
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.572
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 402.739   GNORM= 200.458
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       222.816     171.300       0.005
   2    4        43.667      13.071       5.000
   3    5        11.315       1.819       1.000
   4    7         3.113       1.173       5.000
   5    8         0.099       0.041       1.000
   6   10         0.041       0.017       5.000
   7   12        -0.001       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.00547 0.0182142 -0.0388836 0.697894 
0.00643015 1.01572 -0.0117636 0.654945 
-0.101787 -0.162421 1.12813 -6.74312 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -115.514   GNORM= 564.84
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -154.279     854.403       0.001
   2    8      -176.440      59.170       1.697
   3    9      -184.068      40.638       1.000
   4   12      -188.187      33.288       1.048
   5   18      -223.481      65.882       4.743
   6   23      -240.999      37.378       1.110
   7   31      -241.019      50.698       0.000
   8   33      -315.407      72.811       5.000
   9   34      -329.930      28.725       1.000
  10   37      -329.969      26.010       0.107
  11   38      -330.861      22.627       1.000
  12   44      -331.447      34.109       0.477
  13   53      -334.903      99.781       0.994
  14   56      -336.695    1110.042       2.430
Final RAS Transform: 
1.02068 0.00972306 0.0363435 -2.08869 
0.0336951 1.00652 -0.0119994 1.02304 
-0.1091 -0.15103 1.17719 -2.85662 
0 0 0 1 

Final RAS Transform: 
1.02068 0.00972306 0.0363435 -2.08869 
0.0336951 1.00652 -0.0119994 1.02304 
-0.1091 -0.15103 1.17719 -2.85662 
0 0 0 1 


real	0m5.400s
user	0m9.076s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.472058
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0123
Level     0,  Iter     1:    Energy =   0.0138
Level     0,  Iter     2:    Energy =   0.0152
Level     0,  Iter     3:    Energy =   0.0166
Level     0,  Iter     4:    Energy =   0.0179
Level     0,  Iter     5:    Energy =   0.0190
Level     0,  Iter     6:    Energy =   0.0200
Level     0,  Iter     7:    Energy =   0.0210
Level     0,  Iter     8:    Energy =   0.0218
Level     0,  Iter     9:    Energy =   0.0225
Level     0,  Iter    10:    Energy =   0.0231
Level     0,  Iter    11:    Energy =   0.0237
Level     0,  Iter    12:    Energy =   0.0241
Level     0,  Iter    13:    Energy =   0.0244
Level     0,  Iter    14:    Energy =   0.0247
Level     0,  Iter    15:    Energy =   0.0251
Level     0,  Iter    16:    Energy =   0.0254
Level     0,  Iter    17:    Energy =   0.0258
Level     0,  Iter    18:    Energy =   0.0260
Level     0,  Iter    19:    Energy =   0.0265
Level     0,  Iter    20:    Energy =   0.0265
Level     0,  Iter    21:    Energy =   0.0270
Level     0,  Iter    22:    Energy =   0.0272
Level     0,  Iter    23:    Energy =   0.0276
Level     0,  Iter    24:    Energy =   0.0278
Level     0,  Iter    25:    Energy =   0.0282
Level     0,  Iter    26:    Energy =   0.0284
Level     0,  Iter    27:    Energy =   0.0288
Level     0,  Iter    28:    Energy =   0.0291
Level     0,  Iter    29:    Energy =   0.0295
Level     0,  Iter    30:    Energy =   0.0298
Level     0,  Iter    31:    Energy =   0.0303
Level     0,  Iter    32:    Energy =   0.0306
Level     0,  Iter    33:    Energy =   0.0309
Level     0,  Iter    34:    Energy =   0.0311
Level     0,  Iter    35:    Energy =   0.0313
Level     0,  Iter    36:    Energy =   0.0316
Level     0,  Iter    37:    Energy =   0.0318
Level     0,  Iter    38:    Energy =   0.0321
Level     0,  Iter    39:    Energy =   0.0323
Level     0,  Iter    40:    Energy =   0.0323
Level     0,  Iter    41:    Energy =   0.0327
Level     0,  Iter    42:    Energy =   0.0326
Level     0,  Iter    43:    Energy =   0.0329
Level     0,  Iter    44:    Energy =   0.0327
Level     0,  Iter    45:    Energy =   0.0330
Level     0,  Iter    46:    Energy =   0.0330
Level     0,  Iter    47:    Energy =   0.0333
Level     0,  Iter    48:    Energy =   0.0331
Level     0,  Iter    49:    Energy =   0.0335
Level     0,  Iter    50:    Energy =   0.0334
Level     0,  Iter    51:    Energy =   0.0337
Level     0,  Iter    52:    Energy =   0.0335
Level     0,  Iter    53:    Energy =   0.0338
Level     0,  Iter    54:    Energy =   0.0338
Level     0,  Iter    55:    Energy =   0.0340
Level     0,  Iter    56:    Energy =   0.0338
Level     0,  Iter    57:    Energy =   0.0341
Level     0,  Iter    58:    Energy =   0.0342
Level     0,  Iter    59:    Energy =   0.0344
END OF LEVEL     0    DetJac Range:   0.0939  to   2.5054 
  Avg. Gradient Time  : 0.0068s  33.28% 
  Avg. Gaussian Time  : 0.0100s  48.71% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0226
Level     1,  Iter     1:    Energy =   0.0239
Level     1,  Iter     2:    Energy =   0.0250
Level     1,  Iter     3:    Energy =   0.0261
Level     1,  Iter     4:    Energy =   0.0272
Level     1,  Iter     5:    Energy =   0.0283
Level     1,  Iter     6:    Energy =   0.0292
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0304
Level     1,  Iter     9:    Energy =   0.0307
Level     1,  Iter    10:    Energy =   0.0311
Level     1,  Iter    11:    Energy =   0.0315
Level     1,  Iter    12:    Energy =   0.0319
Level     1,  Iter    13:    Energy =   0.0324
Level     1,  Iter    14:    Energy =   0.0329
Level     1,  Iter    15:    Energy =   0.0334
Level     1,  Iter    16:    Energy =   0.0340
Level     1,  Iter    17:    Energy =   0.0344
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0353
Level     1,  Iter    20:    Energy =   0.0358
Level     1,  Iter    21:    Energy =   0.0361
Level     1,  Iter    22:    Energy =   0.0364
Level     1,  Iter    23:    Energy =   0.0367
Level     1,  Iter    24:    Energy =   0.0369
Level     1,  Iter    25:    Energy =   0.0370
Level     1,  Iter    26:    Energy =   0.0372
Level     1,  Iter    27:    Energy =   0.0372
Level     1,  Iter    28:    Energy =   0.0373
Level     1,  Iter    29:    Energy =   0.0372
Level     1,  Iter    30:    Energy =   0.0373
Level     1,  Iter    31:    Energy =   0.0373
Level     1,  Iter    32:    Energy =   0.0374
Level     1,  Iter    33:    Energy =   0.0373
Level     1,  Iter    34:    Energy =   0.0374
Level     1,  Iter    35:    Energy =   0.0374
Level     1,  Iter    36:    Energy =   0.0375
Level     1,  Iter    37:    Energy =   0.0374
Level     1,  Iter    38:    Energy =   0.0375
Level     1,  Iter    39:    Energy =   0.0374
Level     1,  Iter    40:    Energy =   0.0375
Level     1,  Iter    41:    Energy =   0.0376
Level     1,  Iter    42:    Energy =   0.0377
Level     1,  Iter    43:    Energy =   0.0376
Level     1,  Iter    44:    Energy =   0.0377
Level     1,  Iter    45:    Energy =   0.0378
Level     1,  Iter    46:    Energy =   0.0378
Level     1,  Iter    47:    Energy =   0.0379
Level     1,  Iter    48:    Energy =   0.0379
Level     1,  Iter    49:    Energy =   0.0378
Level     1,  Iter    50:    Energy =   0.0379
Level     1,  Iter    51:    Energy =   0.0380
Level     1,  Iter    52:    Energy =   0.0381
Level     1,  Iter    53:    Energy =   0.0381
Level     1,  Iter    54:    Energy =   0.0382
Level     1,  Iter    55:    Energy =   0.0382
Level     1,  Iter    56:    Energy =   0.0383
Level     1,  Iter    57:    Energy =   0.0383
Level     1,  Iter    58:    Energy =   0.0383
Level     1,  Iter    59:    Energy =   0.0384
END OF LEVEL     1    DetJac Range:   0.0452  to   3.6764 
  Avg. Gradient Time  : 0.0282s  34.55% 
  Avg. Gaussian Time  : 0.0421s  51.56% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0185
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0204
Level     2,  Iter     3:    Energy =   0.0212
Level     2,  Iter     4:    Energy =   0.0218
Level     2,  Iter     5:    Energy =   0.0223
Level     2,  Iter     6:    Energy =   0.0227
Level     2,  Iter     7:    Energy =   0.0230
Level     2,  Iter     8:    Energy =   0.0234
Level     2,  Iter     9:    Energy =   0.0238
Level     2,  Iter    10:    Energy =   0.0242
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0249
Level     2,  Iter    13:    Energy =   0.0251
Level     2,  Iter    14:    Energy =   0.0252
Level     2,  Iter    15:    Energy =   0.0253
Level     2,  Iter    16:    Energy =   0.0254
Level     2,  Iter    17:    Energy =   0.0255
Level     2,  Iter    18:    Energy =   0.0255
Level     2,  Iter    19:    Energy =   0.0256
END OF LEVEL     2    DetJac Range:   0.0338  to   3.6675 
  Avg. Gradient Time  : 0.1856s  32.92% 
  Avg. Gaussian Time  : 0.3024s  53.64% 
  Avg. Iteration Time : 0.5637s 

real	0m20.288s
user	0m35.224s
sys	0m2.164s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.487143 0.491429
+ echo 'CHUNK 0.487143 0.491429 1'
CHUNK 0.487143 0.491429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.487143 0.491429 1
====================================
         PROGRESS: 0.487143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 033 right 0
+ local tid=033
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.541
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 568.943   GNORM= 195.611
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -268.559     142.917       0.026
   2    7      -449.439      67.941       1.440
   3    8      -613.909      39.126       1.000
   4   10      -667.148      51.373       0.455
   5   16      -696.044      44.751       0.021
   6   17      -711.754     232.794       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.936396 0.145988 -0.338342 4.58769 
0.121754 1.06348 -0.345311 5.21598 
-0.128001 -0.187488 0.92981 -3.87825 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -293.597   GNORM= 3898.01
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -331.825      39.146       0.000
   2    6      -332.702      57.165       5.001
   3   11      -368.328      62.607       5.825
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.921326 0.147903 -0.332305 2.71002 
0.130426 1.08342 -0.370185 6.74312 
-0.134181 -0.200221 0.941949 -5.81279 
0 0 0 1 

Final RAS Transform: 
0.921326 0.147903 -0.332305 2.71002 
0.130426 1.08342 -0.370185 6.74312 
-0.134181 -0.200221 0.941949 -5.81279 
0 0 0 1 


real	0m3.859s
user	0m6.140s
sys	0m0.424s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.378082
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0180
Level     0,  Iter     1:    Energy =   0.0191
Level     0,  Iter     2:    Energy =   0.0207
Level     0,  Iter     3:    Energy =   0.0229
Level     0,  Iter     4:    Energy =   0.0247
Level     0,  Iter     5:    Energy =   0.0259
Level     0,  Iter     6:    Energy =   0.0265
Level     0,  Iter     7:    Energy =   0.0269
Level     0,  Iter     8:    Energy =   0.0280
Level     0,  Iter     9:    Energy =   0.0289
Level     0,  Iter    10:    Energy =   0.0300
Level     0,  Iter    11:    Energy =   0.0308
Level     0,  Iter    12:    Energy =   0.0314
Level     0,  Iter    13:    Energy =   0.0321
Level     0,  Iter    14:    Energy =   0.0324
Level     0,  Iter    15:    Energy =   0.0327
Level     0,  Iter    16:    Energy =   0.0328
Level     0,  Iter    17:    Energy =   0.0330
Level     0,  Iter    18:    Energy =   0.0332
Level     0,  Iter    19:    Energy =   0.0334
Level     0,  Iter    20:    Energy =   0.0336
Level     0,  Iter    21:    Energy =   0.0338
Level     0,  Iter    22:    Energy =   0.0340
Level     0,  Iter    23:    Energy =   0.0341
Level     0,  Iter    24:    Energy =   0.0343
Level     0,  Iter    25:    Energy =   0.0345
Level     0,  Iter    26:    Energy =   0.0346
Level     0,  Iter    27:    Energy =   0.0348
Level     0,  Iter    28:    Energy =   0.0349
Level     0,  Iter    29:    Energy =   0.0350
Level     0,  Iter    30:    Energy =   0.0351
Level     0,  Iter    31:    Energy =   0.0353
Level     0,  Iter    32:    Energy =   0.0355
Level     0,  Iter    33:    Energy =   0.0355
Level     0,  Iter    34:    Energy =   0.0356
Level     0,  Iter    35:    Energy =   0.0356
Level     0,  Iter    36:    Energy =   0.0358
Level     0,  Iter    37:    Energy =   0.0359
Level     0,  Iter    38:    Energy =   0.0362
Level     0,  Iter    39:    Energy =   0.0364
Level     0,  Iter    40:    Energy =   0.0365
Level     0,  Iter    41:    Energy =   0.0367
Level     0,  Iter    42:    Energy =   0.0368
Level     0,  Iter    43:    Energy =   0.0369
Level     0,  Iter    44:    Energy =   0.0370
Level     0,  Iter    45:    Energy =   0.0371
Level     0,  Iter    46:    Energy =   0.0371
Level     0,  Iter    47:    Energy =   0.0371
Level     0,  Iter    48:    Energy =   0.0372
Level     0,  Iter    49:    Energy =   0.0372
Level     0,  Iter    50:    Energy =   0.0373
Level     0,  Iter    51:    Energy =   0.0373
Level     0,  Iter    52:    Energy =   0.0373
Level     0,  Iter    53:    Energy =   0.0373
Level     0,  Iter    54:    Energy =   0.0373
Level     0,  Iter    55:    Energy =   0.0373
Level     0,  Iter    56:    Energy =   0.0373
Level     0,  Iter    57:    Energy =   0.0373
Level     0,  Iter    58:    Energy =   0.0374
Level     0,  Iter    59:    Energy =   0.0374
END OF LEVEL     0    DetJac Range:   0.0485  to   2.5666 
  Avg. Gradient Time  : 0.0068s  33.31% 
  Avg. Gaussian Time  : 0.0099s  48.42% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0216
Level     1,  Iter     1:    Energy =   0.0224
Level     1,  Iter     2:    Energy =   0.0232
Level     1,  Iter     3:    Energy =   0.0239
Level     1,  Iter     4:    Energy =   0.0245
Level     1,  Iter     5:    Energy =   0.0250
Level     1,  Iter     6:    Energy =   0.0255
Level     1,  Iter     7:    Energy =   0.0259
Level     1,  Iter     8:    Energy =   0.0262
Level     1,  Iter     9:    Energy =   0.0265
Level     1,  Iter    10:    Energy =   0.0267
Level     1,  Iter    11:    Energy =   0.0269
Level     1,  Iter    12:    Energy =   0.0271
Level     1,  Iter    13:    Energy =   0.0273
Level     1,  Iter    14:    Energy =   0.0275
Level     1,  Iter    15:    Energy =   0.0276
Level     1,  Iter    16:    Energy =   0.0278
Level     1,  Iter    17:    Energy =   0.0279
Level     1,  Iter    18:    Energy =   0.0280
Level     1,  Iter    19:    Energy =   0.0281
Level     1,  Iter    20:    Energy =   0.0282
Level     1,  Iter    21:    Energy =   0.0283
Level     1,  Iter    22:    Energy =   0.0284
Level     1,  Iter    23:    Energy =   0.0285
Level     1,  Iter    24:    Energy =   0.0286
Level     1,  Iter    25:    Energy =   0.0286
Level     1,  Iter    26:    Energy =   0.0287
Level     1,  Iter    27:    Energy =   0.0288
Level     1,  Iter    28:    Energy =   0.0289
Level     1,  Iter    29:    Energy =   0.0290
Level     1,  Iter    30:    Energy =   0.0290
Level     1,  Iter    31:    Energy =   0.0291
Level     1,  Iter    32:    Energy =   0.0292
Level     1,  Iter    33:    Energy =   0.0293
Level     1,  Iter    34:    Energy =   0.0293
Level     1,  Iter    35:    Energy =   0.0294
Level     1,  Iter    36:    Energy =   0.0294
Level     1,  Iter    37:    Energy =   0.0295
Level     1,  Iter    38:    Energy =   0.0295
Level     1,  Iter    39:    Energy =   0.0296
Level     1,  Iter    40:    Energy =   0.0296
Level     1,  Iter    41:    Energy =   0.0297
Level     1,  Iter    42:    Energy =   0.0297
Level     1,  Iter    43:    Energy =   0.0298
Level     1,  Iter    44:    Energy =   0.0298
Level     1,  Iter    45:    Energy =   0.0298
Level     1,  Iter    46:    Energy =   0.0299
Level     1,  Iter    47:    Energy =   0.0299
Level     1,  Iter    48:    Energy =   0.0299
Level     1,  Iter    49:    Energy =   0.0300
Level     1,  Iter    50:    Energy =   0.0300
Level     1,  Iter    51:    Energy =   0.0300
Level     1,  Iter    52:    Energy =   0.0300
Level     1,  Iter    53:    Energy =   0.0300
Level     1,  Iter    54:    Energy =   0.0300
Level     1,  Iter    55:    Energy =   0.0300
Level     1,  Iter    56:    Energy =   0.0300
Level     1,  Iter    57:    Energy =   0.0301
Level     1,  Iter    58:    Energy =   0.0301
Level     1,  Iter    59:    Energy =   0.0301
END OF LEVEL     1    DetJac Range:   0.0103  to   2.7384 
  Avg. Gradient Time  : 0.0278s  34.16% 
  Avg. Gaussian Time  : 0.0421s  51.84% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0143
Level     2,  Iter     1:    Energy =   0.0148
Level     2,  Iter     2:    Energy =   0.0152
Level     2,  Iter     3:    Energy =   0.0156
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0163
Level     2,  Iter     6:    Energy =   0.0166
Level     2,  Iter     7:    Energy =   0.0169
Level     2,  Iter     8:    Energy =   0.0171
Level     2,  Iter     9:    Energy =   0.0173
Level     2,  Iter    10:    Energy =   0.0174
Level     2,  Iter    11:    Energy =   0.0176
Level     2,  Iter    12:    Energy =   0.0177
Level     2,  Iter    13:    Energy =   0.0178
Level     2,  Iter    14:    Energy =   0.0179
Level     2,  Iter    15:    Energy =   0.0179
Level     2,  Iter    16:    Energy =   0.0180
Level     2,  Iter    17:    Energy =   0.0181
Level     2,  Iter    18:    Energy =   0.0181
Level     2,  Iter    19:    Energy =   0.0181
END OF LEVEL     2    DetJac Range:   0.0108  to   2.5036 
  Avg. Gradient Time  : 0.1805s  32.52% 
  Avg. Gaussian Time  : 0.2983s  53.73% 
  Avg. Iteration Time : 0.5552s 

real	0m19.922s
user	0m34.880s
sys	0m1.940s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.491429 0.495714
+ echo 'CHUNK 0.491429 0.495714 1'
CHUNK 0.491429 0.495714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.491429 0.495714 1
====================================
         PROGRESS: 0.491429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local side=right
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 034 right 0
+ local tid=034
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 484.389   GNORM= 178.272
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -194.919      90.077       0.028
   2    4      -531.681      81.979       1.000
   3   10      -597.102    1201.095       0.087
   4   16      -642.436      67.098       0.001
   5   18      -643.660      64.885       0.553
   6   19      -645.018      54.197       1.000
   7   21      -654.968      22.017       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985971 0.0854879 -0.127535 4.13139 
0.122282 1.09214 -0.168194 6.46185 
-0.117378 -0.218323 1.22271 -6.10327 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -269.838   GNORM= 263.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -276.860     150.474       0.004
   2    5      -277.212      94.232       0.192
   3    6      -278.978      34.154       1.000
   4    7      -280.005     266.265       1.000
   5   16      -280.943      45.042       1.003
   6   17      -281.228      22.145       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983294 0.0795073 -0.124872 3.83369 
0.122674 1.09727 -0.167797 6.37906 
-0.127554 -0.2256 1.23834 -7.50264 
0 0 0 1 

Final RAS Transform: 
0.983294 0.0795073 -0.124872 3.83369 
0.122674 1.09727 -0.167797 6.37906 
-0.127554 -0.2256 1.23834 -7.50264 
0 0 0 1 


real	0m4.226s
user	0m6.748s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.148, moving = 0.335025
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0157
Level     0,  Iter     1:    Energy =   0.0171
Level     0,  Iter     2:    Energy =   0.0187
Level     0,  Iter     3:    Energy =   0.0202
Level     0,  Iter     4:    Energy =   0.0215
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0238
Level     0,  Iter     7:    Energy =   0.0247
Level     0,  Iter     8:    Energy =   0.0255
Level     0,  Iter     9:    Energy =   0.0262
Level     0,  Iter    10:    Energy =   0.0271
Level     0,  Iter    11:    Energy =   0.0281
Level     0,  Iter    12:    Energy =   0.0290
Level     0,  Iter    13:    Energy =   0.0299
Level     0,  Iter    14:    Energy =   0.0304
Level     0,  Iter    15:    Energy =   0.0312
Level     0,  Iter    16:    Energy =   0.0318
Level     0,  Iter    17:    Energy =   0.0323
Level     0,  Iter    18:    Energy =   0.0329
Level     0,  Iter    19:    Energy =   0.0334
Level     0,  Iter    20:    Energy =   0.0340
Level     0,  Iter    21:    Energy =   0.0341
Level     0,  Iter    22:    Energy =   0.0342
Level     0,  Iter    23:    Energy =   0.0344
Level     0,  Iter    24:    Energy =   0.0343
Level     0,  Iter    25:    Energy =   0.0345
Level     0,  Iter    26:    Energy =   0.0346
Level     0,  Iter    27:    Energy =   0.0347
Level     0,  Iter    28:    Energy =   0.0348
Level     0,  Iter    29:    Energy =   0.0348
Level     0,  Iter    30:    Energy =   0.0349
Level     0,  Iter    31:    Energy =   0.0350
Level     0,  Iter    32:    Energy =   0.0350
Level     0,  Iter    33:    Energy =   0.0350
Level     0,  Iter    34:    Energy =   0.0351
Level     0,  Iter    35:    Energy =   0.0350
Level     0,  Iter    36:    Energy =   0.0354
Level     0,  Iter    37:    Energy =   0.0355
Level     0,  Iter    38:    Energy =   0.0356
Level     0,  Iter    39:    Energy =   0.0357
Level     0,  Iter    40:    Energy =   0.0357
Level     0,  Iter    41:    Energy =   0.0357
Level     0,  Iter    42:    Energy =   0.0358
Level     0,  Iter    43:    Energy =   0.0358
Level     0,  Iter    44:    Energy =   0.0360
Level     0,  Iter    45:    Energy =   0.0360
Level     0,  Iter    46:    Energy =   0.0362
Level     0,  Iter    47:    Energy =   0.0362
Level     0,  Iter    48:    Energy =   0.0362
Level     0,  Iter    49:    Energy =   0.0361
Level     0,  Iter    50:    Energy =   0.0363
Level     0,  Iter    51:    Energy =   0.0363
Level     0,  Iter    52:    Energy =   0.0364
Level     0,  Iter    53:    Energy =   0.0362
Level     0,  Iter    54:    Energy =   0.0364
Level     0,  Iter    55:    Energy =   0.0363
Level     0,  Iter    56:    Energy =   0.0363
Level     0,  Iter    57:    Energy =   0.0361
Level     0,  Iter    58:    Energy =   0.0362
Level     0,  Iter    59:    Energy =   0.0364
END OF LEVEL     0    DetJac Range:   0.1604  to   2.1776 
  Avg. Gradient Time  : 0.0067s  33.33% 
  Avg. Gaussian Time  : 0.0098s  48.43% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0170
Level     1,  Iter     1:    Energy =   0.0178
Level     1,  Iter     2:    Energy =   0.0186
Level     1,  Iter     3:    Energy =   0.0192
Level     1,  Iter     4:    Energy =   0.0199
Level     1,  Iter     5:    Energy =   0.0205
Level     1,  Iter     6:    Energy =   0.0211
Level     1,  Iter     7:    Energy =   0.0215
Level     1,  Iter     8:    Energy =   0.0218
Level     1,  Iter     9:    Energy =   0.0223
Level     1,  Iter    10:    Energy =   0.0227
Level     1,  Iter    11:    Energy =   0.0231
Level     1,  Iter    12:    Energy =   0.0234
Level     1,  Iter    13:    Energy =   0.0237
Level     1,  Iter    14:    Energy =   0.0239
Level     1,  Iter    15:    Energy =   0.0241
Level     1,  Iter    16:    Energy =   0.0243
Level     1,  Iter    17:    Energy =   0.0245
Level     1,  Iter    18:    Energy =   0.0247
Level     1,  Iter    19:    Energy =   0.0249
Level     1,  Iter    20:    Energy =   0.0250
Level     1,  Iter    21:    Energy =   0.0252
Level     1,  Iter    22:    Energy =   0.0253
Level     1,  Iter    23:    Energy =   0.0255
Level     1,  Iter    24:    Energy =   0.0256
Level     1,  Iter    25:    Energy =   0.0258
Level     1,  Iter    26:    Energy =   0.0259
Level     1,  Iter    27:    Energy =   0.0261
Level     1,  Iter    28:    Energy =   0.0262
Level     1,  Iter    29:    Energy =   0.0263
Level     1,  Iter    30:    Energy =   0.0264
Level     1,  Iter    31:    Energy =   0.0264
Level     1,  Iter    32:    Energy =   0.0264
Level     1,  Iter    33:    Energy =   0.0265
Level     1,  Iter    34:    Energy =   0.0266
Level     1,  Iter    35:    Energy =   0.0266
Level     1,  Iter    36:    Energy =   0.0267
Level     1,  Iter    37:    Energy =   0.0268
Level     1,  Iter    38:    Energy =   0.0269
Level     1,  Iter    39:    Energy =   0.0269
Level     1,  Iter    40:    Energy =   0.0269
Level     1,  Iter    41:    Energy =   0.0270
Level     1,  Iter    42:    Energy =   0.0270
Level     1,  Iter    43:    Energy =   0.0270
Level     1,  Iter    44:    Energy =   0.0271
Level     1,  Iter    45:    Energy =   0.0271
Level     1,  Iter    46:    Energy =   0.0272
Level     1,  Iter    47:    Energy =   0.0272
Level     1,  Iter    48:    Energy =   0.0272
Level     1,  Iter    49:    Energy =   0.0273
Level     1,  Iter    50:    Energy =   0.0273
Level     1,  Iter    51:    Energy =   0.0273
Level     1,  Iter    52:    Energy =   0.0273
Level     1,  Iter    53:    Energy =   0.0273
Level     1,  Iter    54:    Energy =   0.0274
Level     1,  Iter    55:    Energy =   0.0274
Level     1,  Iter    56:    Energy =   0.0274
Level     1,  Iter    57:    Energy =   0.0274
Level     1,  Iter    58:    Energy =   0.0274
Level     1,  Iter    59:    Energy =   0.0274
END OF LEVEL     1    DetJac Range:   0.0487  to   2.1957 
  Avg. Gradient Time  : 0.0278s  34.25% 
  Avg. Gaussian Time  : 0.0420s  51.76% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0118
Level     2,  Iter     1:    Energy =   0.0122
Level     2,  Iter     2:    Energy =   0.0125
Level     2,  Iter     3:    Energy =   0.0128
Level     2,  Iter     4:    Energy =   0.0133
Level     2,  Iter     5:    Energy =   0.0135
Level     2,  Iter     6:    Energy =   0.0137
Level     2,  Iter     7:    Energy =   0.0141
Level     2,  Iter     8:    Energy =   0.0144
Level     2,  Iter     9:    Energy =   0.0147
Level     2,  Iter    10:    Energy =   0.0149
Level     2,  Iter    11:    Energy =   0.0151
Level     2,  Iter    12:    Energy =   0.0151
Level     2,  Iter    13:    Energy =   0.0153
Level     2,  Iter    14:    Energy =   0.0154
Level     2,  Iter    15:    Energy =   0.0155
Level     2,  Iter    16:    Energy =   0.0156
Level     2,  Iter    17:    Energy =   0.0157
Level     2,  Iter    18:    Energy =   0.0158
Level     2,  Iter    19:    Energy =   0.0159
END OF LEVEL     2    DetJac Range:   0.0222  to   2.2398 
  Avg. Gradient Time  : 0.1794s  32.30% 
  Avg. Gaussian Time  : 0.3000s  54.02% 
  Avg. Iteration Time : 0.5554s 

real	0m19.914s
user	0m34.684s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.495714 0.5
+ echo 'CHUNK 0.495714 0.5 1'
CHUNK 0.495714 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.495714 0.5 1
====================================
         PROGRESS: 0.495714               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 6, 0], [88, 85, 38] (284240 pixels)
Computing mask based on input segmentations
  Skipping 107572 out of 284240 voxels.
............................................................................................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz
100:97:38
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 365824
tc: 2776
mean intensity : sample #  563.449:8176
center location: (35.6512,40.7165,28.6577) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 109
tc: 2776
center location: (20.689,53.355,33.8557) feature #:2037
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 43
tc: 2776
center location: (20.8335,44.937,36.1174) feature #:2037
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  6
Tlabel  7
Tlabel  8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 74
tc: 2776
center location: (16.9522,47.842,32.5925) feature #:2037
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
Tlabel  9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel9
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_009.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 366
tc: 2776
center location: (15.8682,47.612,30.7011) feature #:2037
making corrections...
saving posterior map for label 9 .... 
Label 9 is processed in 0 seconds.
Tlabel  10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel10
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_010.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 49
tc: 2776
center location: (24.6717,32.5571,32.1108) feature #:2037
making corrections...
saving posterior map for label 10 .... 
Label 10 is processed in 0 seconds.
Tlabel  11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel11
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_011.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 1814
tc: 2776
center location: (44.1087,36.1475,29.5807) feature #:2037
making corrections...
saving posterior map for label 11 .... 
Label 11 is processed in 0 seconds.
Tlabel  12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel12
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_012.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel13
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_013.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 321
tc: 2776
center location: (40.0718,33.7613,30.5822) feature #:2037
making corrections...
saving posterior map for label 13 .... 
Label 13 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz
100:97:38
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 365824
tc: 2776
center location: (35.6512,40.7165,28.6577) feature #:1361
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 109
tc: 2776
center location: (20.689,53.355,33.8557) feature #:1361
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 43
tc: 2776
center location: (20.8335,44.937,36.1174) feature #:1361
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  6
Tlabel  7
Tlabel  8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 74
tc: 2776
center location: (16.9522,47.842,32.5925) feature #:1361
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
Tlabel  9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel9
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_009.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 366
tc: 2776
center location: (15.8682,47.612,30.7011) feature #:1361
making corrections...
saving posterior map for label 9 .... 
Label 9 is processed in 0 seconds.
Tlabel  10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel10
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_010.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 49
tc: 2776
center location: (24.6717,32.5571,32.1108) feature #:1361
making corrections...
saving posterior map for label 10 .... 
Label 10 is processed in 0 seconds.
Tlabel  11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel11
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_011.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 1814
tc: 2776
center location: (44.1087,36.1475,29.5807) feature #:1361
making corrections...
saving posterior map for label 11 .... 
Label 11 is processed in 0 seconds.
Tlabel  12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel12
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_012.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 2776
Tlabel  13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel13
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_left_013.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 321
tc: 2776
center location: (40.0718,33.7613,30.5822) feature #:1361
making corrections...
saving posterior map for label 13 .... 
Label 13 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vs28QNxk/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vs28QNxk/sag_seg_%02d.png
++ ls /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/qa.png
+ convert /tmp/ashs.vs28QNxk/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa
+ montage -label 26395:left /tmp/ashs.vs28QNxk/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vs28QNxk/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vs28QNxk/sag_seg_%02d.png
++ ls /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/qa.png
+ convert /tmp/ashs.vs28QNxk/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa
+ montage -label 26395:left /tmp/ashs.vs28QNxk/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vs28QNxk/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vs28QNxk/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vs28QNxk/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vs28QNxk/sag_seg_%02d.png
++ ls /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vs28QNxk/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vs28QNxk/cor_tse_00.png /tmp/ashs.vs28QNxk/cor_tse_01.png /tmp/ashs.vs28QNxk/cor_tse_02.png /tmp/ashs.vs28QNxk/cor_tse_03.png /tmp/ashs.vs28QNxk/cor_tse_04.png /tmp/ashs.vs28QNxk/sag_tse_00.png /tmp/ashs.vs28QNxk/sag_tse_01.png /tmp/ashs.vs28QNxk/cor_mprage_00.png /tmp/ashs.vs28QNxk/cor_mprage_01.png /tmp/ashs.vs28QNxk/cor_mprage_02.png /tmp/ashs.vs28QNxk/cor_mprage_03.png /tmp/ashs.vs28QNxk/cor_mprage_04.png /tmp/ashs.vs28QNxk/sag_mprage_00.png /tmp/ashs.vs28QNxk/sag_mprage_01.png /tmp/ashs.vs28QNxk/cor_seg_00.png /tmp/ashs.vs28QNxk/cor_seg_03.png /tmp/ashs.vs28QNxk/cor_seg_06.png /tmp/ashs.vs28QNxk/cor_seg_09.png /tmp/ashs.vs28QNxk/cor_seg_12.png /tmp/ashs.vs28QNxk/sag_seg_00.png /tmp/ashs.vs28QNxk/sag_seg_03.png /tmp/ashs.vs28QNxk/qa.png
+ convert /tmp/ashs.vs28QNxk/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vs28QNxk/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa
+ montage -label 26395:left /tmp/ashs.vs28QNxk/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 6, 12], [66, 83, 24] (131472 pixels)
Computing mask based on input segmentations
  Skipping 40098 out of 131472 voxels.
................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/lfseg_heur_right.nii.gz
78:95:36
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 264310
tc: 2450
mean intensity : sample #  738.838:7492
center location: (43.7454,44.0595,28.8659) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 338
tc: 2450
center location: (47.3515,48.6281,32.5751) feature #:2037
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 2450
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 30
tc: 2450
center location: (46.4122,49.3718,31.4601) feature #:2037
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 40
tc: 2450
center location: (57.4552,61.9209,33.0945) feature #:2037
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_005.nii.gz
ExceptionObject caught !

itk::ImageFileReaderException (0x1701430)
Location: "void itk::ImageFileReader<TOutputImage, ConvertPixelTraits>::GenerateOutputInformation() [with TOutputImage = itk::Image<float, 3u>, ConvertPixelTraits = itk::DefaultConvertPixelTraits<float>]" 
File: /mnt/build/pauly/itk320/InsightToolkit-3.20.0/Code/IO/itkImageFileReader.txx
Line: 146
Description:  Could not create IO object for file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_005.nii.gz
The file doesn't exist. 
Filename = /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/original/multiatlas/fusion/posterior_right_005.nii.gz



[0;31m
**************** !! ERROR !! *******************
Validity check at end of stage 3 detected 
missing files. 
(multiatlas/fusion/lfseg_corr_nogray_right.nii.g
z and 1 other files).
************************************************
[0m


 ASHS completed for 26395 at 12:18:30, it took 0 days 0 hours 51 minutes and 50 seconds to complete 

Beginning ASHS for:  26395
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 66: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2: No such file or directory
ASHS started at 12:18:30
ashs_main execution log
  timestamp:   Wed Oct 14 12:18:30 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 26395 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=26395
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/26395/20200921_U-ID49971/Series_019_Highresolution_TSE_PAT2_100/n4_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.PH5Swgbf/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.PH5Swgbf/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2466.03   GNORM= 56.6936
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2509.360      31.865       0.018
   2    3     -2532.235       7.210       1.000
   3    4     -2533.315       4.667       1.000
   4    5     -2533.698       2.210       1.000
   5    6     -2533.798       0.688       1.000
   6    7     -2533.813       0.492       1.000
   7    9     -2533.820       0.304       0.380
   8   10     -2533.821       0.185       1.000
   9   12     -2533.822       0.170       0.345
  10   14     -2533.822       0.130       0.254
  11   15     -2533.822       0.111       1.000
  12   17     -2533.822       0.150       0.496
  13   19     -2533.822       0.339       5.000
  14   21     -2533.823       0.245       0.226
  15   24     -2533.824       0.265       1.737
  16   25     -2533.824       0.214       1.000
  17   26     -2533.824       0.171       1.000
  18   27     -2533.824       0.125       1.000
  19   29     -2533.825       0.244       0.196
  20   30     -2533.825       0.212       1.000
  21   31     -2533.825       0.306       1.000
  22   33     -2533.825       0.365       0.339
  23   35     -2533.825       0.325       0.062
  24   36     -2533.825       0.269       1.000
  25   39     -2533.826       0.189       0.132
  26   40     -2533.826       0.230       1.000
  27   42     -2533.827       0.295       0.359
  28   44     -2533.827       0.371       0.261
  29   45     -2533.828       0.264       1.000
  30   46     -2533.828       0.341       1.000
  31   47     -2533.828       0.309       1.000
  32   48     -2533.829       0.145       1.000
  33   50     -2533.829       0.150       0.265
  34   52     -2533.829       0.082       0.482
  35   54     -2533.829       0.064       0.358
  36   55     -2533.829       0.056       1.000
  37   56     -2533.829       0.033       1.000
  38   58     -2533.829       0.028       0.220
  39   60     -2533.829       0.032       0.095
  40   63     -2533.829       0.012       0.006
  41   64     -2533.829       0.010       1.000
  42   67     -2533.829       0.030       2.455
  43   72     -2533.829       0.029       0.119
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999915 0.00251492 0.0128264 -0.298975 
-0.00249816 0.999996 -0.00132317 0.809124 
-0.0128297 0.00129101 0.999917 2.03628 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2409.69   GNORM= 79.2753
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2481.353      61.560       0.013
   2    4     -2510.512      40.674       0.135
   3    6     -2520.975      10.248       0.432
   4    7     -2522.155      10.193       1.000
   5    8     -2527.334      14.367       1.000
   6    9     -2529.501       5.929       1.000
   7   10     -2530.014       3.223       1.000
   8   11     -2530.280       3.979       1.000
   9   12     -2530.439       3.927       1.000
  10   13     -2530.482       2.132       1.000
  11   14     -2530.501       0.751       1.000
  12   15     -2530.507       0.521       1.000
  13   16     -2530.512       0.470       1.000
  14   17     -2530.526       1.056       1.000
  15   18     -2530.529       0.548       1.000
  16   19     -2530.533       0.340       1.000
  17   21     -2530.535       0.153       0.179
  18   22     -2530.535       0.251       1.000
  19   23     -2530.535       0.201       1.000
  20   24     -2530.535       0.077       1.000
  21   25     -2530.535       0.039       1.000
  22   27     -2530.535       0.062       0.140
  23   28     -2530.535       0.049       1.000
  24   29     -2530.535       0.057       1.000
  25   30     -2530.535       0.040       1.000
  26   31     -2530.535       0.045       1.000
  27   33     -2530.535       0.018       0.337
  28   34     -2530.535       0.025       1.000
  29   36     -2530.535       0.021       0.459
  30   37     -2530.535       0.029       1.000
  31   38     -2530.535       0.029       1.000
  32   39     -2530.535       0.010       1.000
  33   40     -2530.535       0.004       1.000
  34   42     -2530.535       0.003       0.305
  35   43     -2530.535       0.004       1.000
  36   44     -2530.535       0.006       1.000
  37   45     -2530.535       0.007       1.000
  38   47     -2530.535       0.009       0.014
  39   48     -2530.535       0.012       1.000
  40   50     -2530.535       0.011       5.000
  41   51     -2530.535       0.005       1.000
  42   55     -2530.535       0.002       3.923
  43   57     -2530.535       0.002       0.095
  44   59     -2530.535       0.002       0.054
  45   60     -2530.535       0.002       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999964 0.000815693 0.00846343 -0.119727 
-0.000927326 0.999913 0.0131945 -0.0561576 
-0.00845193 -0.0132019 0.999877 0.493988 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2417.44   GNORM= 159.886
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2454.259     114.110       0.006
   2    3     -2475.267      19.176       1.000
   3    4     -2475.738       6.043       1.000
   4    5     -2475.782       3.105       1.000
   5    6     -2475.812       3.431       1.000
   6    7     -2475.977       7.627       1.000
   7    8     -2476.120       7.660       1.000
   8   10     -2476.194       6.289       0.416
   9   11     -2476.249       1.362       1.000
Final RAS Transform: 
0.999972 5.98697e-05 0.00754472 -0.0967296 
-0.000161873 0.999909 0.0135199 -0.119423 
-0.00754322 -0.0135207 0.99988 -0.136167 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.465
Rigid search -> Initial best: -591.37 0 0 0 -6.64918 10.431 42.4201
New best: -712.53 -0.0529471 -0.0035953 0.000703522 0.649827 15.3198 46.7045
New best: -746.715 0.0810471 0.015444 0.120831 0.755196 8.32414 43.9509
New best: -822.243 0.0215754 -0.0110612 -0.00451291 -4.71033 5.53748 48.2483
New best: -980.701 0.00395457 0.154734 -0.0127856 4.47328 3.13818 47.5419
New best: -1051.45 -0.0695452 0.0781099 -0.00469067 1.91486 4.86386 52.732
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1051.45   GNORM= 42.1605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1089.001      35.190       0.024
   2    3     -1130.616      40.127       1.000
   3    4     -1181.386       8.899       1.000
   4    5     -1184.131       5.771       1.000
   5    6     -1185.542       5.593       1.000
   6    7     -1186.137       5.965       1.000
   7    8     -1186.947       2.624       1.000
   8    9     -1186.989       2.947       1.000
   9   10     -1187.141       2.076       1.000
  10   11     -1187.482       4.382       1.000
  11   15     -1188.325       3.810       1.492
  12   17     -1188.444       3.395       0.084
  13   19     -1188.498       4.508       0.161
  14   21     -1189.021       5.762       0.394
  15   22     -1189.106       4.726       1.000
  16   23     -1189.549       3.290       1.000
  17   25     -1189.640       1.578       0.359
  18   26     -1189.668       1.197       1.000
  19   27     -1189.676       0.633       1.000
  20   28     -1189.679       0.382       1.000
  21   29     -1189.680       0.211       1.000
  22   31     -1189.680       0.219       0.246
  23   32     -1189.680       0.195       1.000
  24   33     -1189.680       0.221       1.000
  25   35     -1189.680       0.172       0.328
  26   36     -1189.680       0.078       1.000
  27   37     -1189.680       0.147       1.000
  28   38     -1189.680       0.085       1.000
  29   39     -1189.680       0.083       1.000
  30   41     -1189.680       0.159       0.117
  31   42     -1189.680       0.146       1.000
  32   43     -1189.680       0.049       1.000
  33   46     -1189.680       0.211       1.702
  34   49     -1189.680       0.167       0.051
  35   50     -1189.680       0.092       1.000
  36   52     -1189.680       0.072       0.341
  37   54     -1189.681       0.086       0.496
  38   56     -1189.681       0.070       0.228
  39   61     -1189.681       0.070       0.039
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 

Final RAS Transform: 
0.994877 -0.00360181 0.101031 7.17932 
0.00504254 0.999889 -0.0140085 3.45624 
-0.10097 0.0144462 0.994785 52.9053 
0 0 0 1 


real	1m1.711s
user	1m29.916s
sys	0m7.144s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.465
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1189.68   GNORM= 68.3757
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1242.995      42.959       0.015
   2    3     -1277.545      35.595       1.000
   3    4     -1292.309      25.260       1.000
   4    5     -1299.664      18.163       1.000
   5    6     -1307.245      11.375       1.000
   6    7     -1311.355      11.803       1.000
   7    9     -1312.253      11.863       0.164
   8   10     -1314.738      15.558       1.000
   9   11     -1320.429      14.343       1.000
  10   12     -1323.918      16.047       1.000
  11   13     -1328.385      11.569       1.000
  12   14     -1328.801      17.156       1.000
  13   15     -1333.185       7.971       1.000
  14   16     -1334.542       4.971       1.000
  15   17     -1334.946       5.331       1.000
  16   18     -1335.336       6.921       1.000
  17   19     -1336.728       5.136       1.000
  18   20     -1336.884       7.354       1.000
  19   21     -1337.058       4.486       1.000
  20   24     -1337.179       3.422       1.507
  21   28     -1337.243       2.907       1.267
  22   29     -1337.363       1.965       1.000
  23   30     -1337.394       1.921       1.000
  24   31     -1337.432       2.058       1.000
  25   32     -1337.449       2.055       1.000
  26   33     -1337.472       2.301       1.000
  27   35     -1337.475       1.853       0.064
  28   36     -1337.479       0.682       1.000
  29   37     -1337.481       0.727       1.000
  30   39     -1337.482       0.767       0.016
  31   46     -1337.482       1.794       0.119
  32   48     -1337.484       6.084       0.541
  33   49     -1337.494      31.920       1.000
  34   50     -1337.497       3.091       1.000
  35   54     -1337.501       1.836       3.878
  36   57     -1337.501       1.747       0.022
  37   58     -1337.504       0.972       1.000
  38   59     -1337.509       1.016       1.000
  39   62     -1337.513       1.531       0.118
  40   64     -1337.514       1.514       0.391
  41   66     -1337.517       2.287       0.339
  42   67     -1337.525       1.059       1.000
  43   69     -1337.529       1.644       0.296
  44   70     -1337.538       1.285       1.000
  45   72     -1337.550       1.720       5.000
  46   77     -1337.553       1.524       0.185
  47   78     -1337.560       2.125       1.000
  48   80     -1337.563       1.366       0.210
  49   82     -1337.565       1.285       0.214
  50   87     -1337.568       2.853       0.276
  51   88     -1337.572       1.240       1.000
  52   89     -1337.573       0.663       1.000
  53   90     -1337.575       0.878       1.000
  54   92     -1337.575       0.633       0.328
  55   93     -1337.575       0.509       1.000
  56   94     -1337.575       0.203       1.000
  57   95     -1337.575       0.168       1.000
  58   96     -1337.576       0.179       1.000
  59   98     -1337.576       0.420       0.226
  60   99     -1337.576       0.159       1.000
  61  101     -1337.576       0.210       0.501
  62  103     -1337.576       0.401       0.166
  63  104     -1337.576       0.508       1.000
  64  106     -1337.576       0.134       0.374
  65  107     -1337.576       0.158       1.000
  66  108     -1337.576       0.217       1.000
  67  109     -1337.576       0.223       1.000
  68  111     -1337.576       0.245       0.126
  69  113     -1337.576       0.225       0.497
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03765 0.0389976 0.112381 2.44519 
-0.0892824 1.00581 0.0163855 2.95347 
0.023991 0.0344722 0.968583 53.1711 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -649.896   GNORM= 19.2566
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -661.761       7.395       0.052
   2    3      -664.907       6.922       1.000
   3    4      -669.031       6.133       1.000
   4    6      -669.988       6.981       0.253
   5    7      -671.434       5.089       1.000
   6    8      -673.124       5.119       1.000
   7    9      -674.635       8.027       1.000
   8   10      -676.353       5.904       1.000
   9   11      -678.160       4.020       1.000
  10   12      -678.861       8.613       1.000
  11   13      -680.776       5.815       1.000
  12   14      -682.833       7.707       1.000
  13   15      -688.333       8.749       1.000
  14   17      -690.509       5.354       0.390
  15   18      -691.691       4.031       1.000
  16   20      -692.125       3.403       0.497
  17   22      -692.248       2.906       0.256
  18   23      -692.479       1.410       1.000
  19   24      -692.529       1.873       1.000
  20   26      -692.554       1.504       0.271
  21   27      -692.585       1.014       1.000
  22   28      -692.637       1.124       1.000
  23   30      -692.694       1.711       0.376
  24   32      -692.734       1.875       0.269
  25   33      -692.786       1.626       1.000
  26   35      -692.834       0.898       0.382
  27   36      -692.874       0.978       1.000
  28   37      -692.921       0.853       1.000
  29   39      -692.952       0.870       0.521
  30   40      -692.957       0.940       1.000
  31   43      -692.959       0.990       0.072
  32   44      -692.972       1.169       1.000
  33   46      -692.983       1.170       0.358
  34   48      -693.000       0.798       0.306
  35   50      -693.005       1.461       0.068
  36   51      -693.010       0.802       1.000
  37   55      -693.012       0.682       0.268
  38   56      -693.014       4.097       1.000
  39   58      -693.016       0.924       0.288
  40   59      -693.019       0.883       1.000
  41   60      -693.022       0.529       1.000
  42   62      -693.023       0.454       0.392
  43   63      -693.023       0.499       1.000
  44   64      -693.023       0.427       1.000
  45   69      -693.024       0.346       0.134
  46   73      -693.024       0.232       0.244
  47   75      -693.024       0.167       0.357
  48   76      -693.024       0.099       1.000
  49   77      -693.024       0.114       1.000
  50   78      -693.024       0.199       1.000
  51   79      -693.024       0.153       1.000
  52   80      -693.024       0.345       1.000
  53   81      -693.024       0.152       1.000
Final RAS Transform: 
1.03906 0.0795167 0.16453 0.984357 
-0.108357 0.993576 0.105889 0.510562 
-0.00109888 0.0293696 0.946817 52.2571 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -245.122   GNORM= 15.2115
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -257.996       9.524       0.066
   2    4      -262.987       7.504       0.417
   3    5      -265.873       7.169       1.000
   4    6      -272.094       7.608       1.000
   5    7      -274.693       6.013       1.000
   6    8      -275.690       3.760       1.000
   7    9      -277.200       6.610       1.000
   8   10      -277.891       4.060       1.000
   9   11      -278.457       1.560       1.000
  10   12      -278.653       1.311       1.000
  11   13      -278.853       2.455       1.000
  12   14      -279.109       1.591       1.000
  13   16      -279.235       1.345       0.301
  14   17      -279.240       1.941       1.000
  15   18      -279.332       1.034       1.000
  16   19      -279.360       1.057       1.000
  17   20      -279.421       2.382       1.000
  18   22      -279.465       1.671       0.246
  19   23      -279.547       2.174       1.000
  20   24      -279.817       7.229       1.000
  21   30      -279.817       1.709       0.001
  22   33      -279.841       1.251       2.015
  23   34      -279.858       1.357       1.000
  24   37      -279.868       1.190       0.085
  25   38      -279.898       3.141       1.000
  26   39      -279.908       0.711       1.000
  27   40      -279.921       1.007       1.000
  28   41      -279.930       0.831       1.000
Final RAS Transform: 
1.02839 0.0741968 0.162141 0.449897 
-0.100686 0.984738 0.1153 0.989167 
-0.0125548 0.0332108 0.917869 51.1691 
0 0 0 1 

Final RAS Transform: 
1.02839 0.0741968 0.162141 0.449897 
-0.100686 0.984738 0.1153 0.989167 
-0.0125548 0.0332108 0.917869 51.1691 
0 0 0 1 


real	2m47.133s
user	4m58.696s
sys	0m7.528s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 52.408
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =  -0.0003
Level     0,  Iter     1:    Energy =   0.0019
Level     0,  Iter     2:    Energy =   0.0046
Level     0,  Iter     3:    Energy =   0.0073
Level     0,  Iter     4:    Energy =   0.0098
Level     0,  Iter     5:    Energy =   0.0119
Level     0,  Iter     6:    Energy =   0.0141
Level     0,  Iter     7:    Energy =   0.0161
Level     0,  Iter     8:    Energy =   0.0177
Level     0,  Iter     9:    Energy =   0.0190
Level     0,  Iter    10:    Energy =   0.0203
Level     0,  Iter    11:    Energy =   0.0216
Level     0,  Iter    12:    Energy =   0.0228
Level     0,  Iter    13:    Energy =   0.0238
Level     0,  Iter    14:    Energy =   0.0245
Level     0,  Iter    15:    Energy =   0.0252
Level     0,  Iter    16:    Energy =   0.0262
Level     0,  Iter    17:    Energy =   0.0270
Level     0,  Iter    18:    Energy =   0.0279
Level     0,  Iter    19:    Energy =   0.0289
Level     0,  Iter    20:    Energy =   0.0299
Level     0,  Iter    21:    Energy =   0.0306
Level     0,  Iter    22:    Energy =   0.0310
Level     0,  Iter    23:    Energy =   0.0315
Level     0,  Iter    24:    Energy =   0.0322
Level     0,  Iter    25:    Energy =   0.0328
Level     0,  Iter    26:    Energy =   0.0334
Level     0,  Iter    27:    Energy =   0.0340
Level     0,  Iter    28:    Energy =   0.0346
Level     0,  Iter    29:    Energy =   0.0352
Level     0,  Iter    30:    Energy =   0.0357
Level     0,  Iter    31:    Energy =   0.0362
Level     0,  Iter    32:    Energy =   0.0364
Level     0,  Iter    33:    Energy =   0.0360
Level     0,  Iter    34:    Energy =   0.0363
Level     0,  Iter    35:    Energy =   0.0365
Level     0,  Iter    36:    Energy =   0.0366
Level     0,  Iter    37:    Energy =   0.0363
Level     0,  Iter    38:    Energy =   0.0366
Level     0,  Iter    39:    Energy =   0.0368
Level     0,  Iter    40:    Energy =   0.0369
Level     0,  Iter    41:    Energy =   0.0365
Level     0,  Iter    42:    Energy =   0.0370
Level     0,  Iter    43:    Energy =   0.0372
Level     0,  Iter    44:    Energy =   0.0371
Level     0,  Iter    45:    Energy =   0.0366
Level     0,  Iter    46:    Energy =   0.0372
Level     0,  Iter    47:    Energy =   0.0373
Level     0,  Iter    48:    Energy =   0.0373
Level     0,  Iter    49:    Energy =   0.0368
Level     0,  Iter    50:    Energy =   0.0373
Level     0,  Iter    51:    Energy =   0.0373
Level     0,  Iter    52:    Energy =   0.0372
Level     0,  Iter    53:    Energy =   0.0369
Level     0,  Iter    54:    Energy =   0.0374
Level     0,  Iter    55:    Energy =   0.0374
Level     0,  Iter    56:    Energy =   0.0373
Level     0,  Iter    57:    Energy =   0.0370
Level     0,  Iter    58:    Energy =   0.0376
Level     0,  Iter    59:    Energy =   0.0381
END OF LEVEL     0    DetJac Range:   0.1413  to   1.8690 
  Avg. Gradient Time  : 0.0171s  35.80% 
  Avg. Gaussian Time  : 0.0228s  47.66% 
  Avg. Iteration Time : 0.0479s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0173
Level     1,  Iter     1:    Energy =   0.0194
Level     1,  Iter     2:    Energy =   0.0210
Level     1,  Iter     3:    Energy =   0.0227
Level     1,  Iter     4:    Energy =   0.0237
Level     1,  Iter     5:    Energy =   0.0249
Level     1,  Iter     6:    Energy =   0.0262
Level     1,  Iter     7:    Energy =   0.0274
Level     1,  Iter     8:    Energy =   0.0284
Level     1,  Iter     9:    Energy =   0.0292
Level     1,  Iter    10:    Energy =   0.0301
Level     1,  Iter    11:    Energy =   0.0309
Level     1,  Iter    12:    Energy =   0.0314
Level     1,  Iter    13:    Energy =   0.0319
Level     1,  Iter    14:    Energy =   0.0323
Level     1,  Iter    15:    Energy =   0.0326
Level     1,  Iter    16:    Energy =   0.0329
Level     1,  Iter    17:    Energy =   0.0332
Level     1,  Iter    18:    Energy =   0.0334
Level     1,  Iter    19:    Energy =   0.0336
Level     1,  Iter    20:    Energy =   0.0338
Level     1,  Iter    21:    Energy =   0.0339
Level     1,  Iter    22:    Energy =   0.0338
Level     1,  Iter    23:    Energy =   0.0339
Level     1,  Iter    24:    Energy =   0.0340
Level     1,  Iter    25:    Energy =   0.0341
Level     1,  Iter    26:    Energy =   0.0342
Level     1,  Iter    27:    Energy =   0.0342
Level     1,  Iter    28:    Energy =   0.0342
Level     1,  Iter    29:    Energy =   0.0343
Level     1,  Iter    30:    Energy =   0.0346
Level     1,  Iter    31:    Energy =   0.0349
Level     1,  Iter    32:    Energy =   0.0349
Level     1,  Iter    33:    Energy =   0.0350
Level     1,  Iter    34:    Energy =   0.0350
Level     1,  Iter    35:    Energy =   0.0350
Level     1,  Iter    36:    Energy =   0.0350
Level     1,  Iter    37:    Energy =   0.0350
Level     1,  Iter    38:    Energy =   0.0351
Level     1,  Iter    39:    Energy =   0.0351
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0352
Level     1,  Iter    42:    Energy =   0.0352
Level     1,  Iter    43:    Energy =   0.0352
Level     1,  Iter    44:    Energy =   0.0352
Level     1,  Iter    45:    Energy =   0.0352
Level     1,  Iter    46:    Energy =   0.0352
Level     1,  Iter    47:    Energy =   0.0353
Level     1,  Iter    48:    Energy =   0.0354
Level     1,  Iter    49:    Energy =   0.0355
Level     1,  Iter    50:    Energy =   0.0356
Level     1,  Iter    51:    Energy =   0.0357
Level     1,  Iter    52:    Energy =   0.0358
Level     1,  Iter    53:    Energy =   0.0360
Level     1,  Iter    54:    Energy =   0.0361
Level     1,  Iter    55:    Energy =   0.0362
Level     1,  Iter    56:    Energy =   0.0363
Level     1,  Iter    57:    Energy =   0.0364
Level     1,  Iter    58:    Energy =   0.0365
Level     1,  Iter    59:    Energy =   0.0366
END OF LEVEL     1    DetJac Range:   0.0542  to   2.9533 
  Avg. Gradient Time  : 0.0948s  38.62% 
  Avg. Gaussian Time  : 0.1200s  48.89% 
  Avg. Iteration Time : 0.2455s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0206
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0224
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0241
Level     2,  Iter     7:    Energy =   0.0249
Level     2,  Iter     8:    Energy =   0.0255
Level     2,  Iter     9:    Energy =   0.0262
Level     2,  Iter    10:    Energy =   0.0268
Level     2,  Iter    11:    Energy =   0.0274
Level     2,  Iter    12:    Energy =   0.0279
Level     2,  Iter    13:    Energy =   0.0284
Level     2,  Iter    14:    Energy =   0.0287
Level     2,  Iter    15:    Energy =   0.0290
Level     2,  Iter    16:    Energy =   0.0293
Level     2,  Iter    17:    Energy =   0.0295
Level     2,  Iter    18:    Energy =   0.0298
Level     2,  Iter    19:    Energy =   0.0300
END OF LEVEL     2    DetJac Range:   0.0308  to   3.6222 
  Avg. Gradient Time  : 0.7020s  36.49% 
  Avg. Gaussian Time  : 1.0247s  53.26% 
  Avg. Iteration Time : 1.9237s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m15.807s
user	7m14.348s
sys	0m21.028s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01139
Thresholding #1
  Mapping range [0.01139, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.PH5Swgbf/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.PH5Swgbf/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01214
Thresholding #1
  Mapping range [0.01214, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.PH5Swgbf/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.PH5Swgbf/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_tse_%02d.png
++ ls /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_tse_01.png /tmp/ashs.PH5Swgbf/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_01.png /tmp/ashs.PH5Swgbf/qa.png
+ convert /tmp/ashs.PH5Swgbf/qa.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa
+ montage -label 26395:left /tmp/ashs.PH5Swgbf/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.PH5Swgbf/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.PH5Swgbf/sag_tse_%02d.png
++ ls /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.PH5Swgbf/sag_tse_01.png /tmp/ashs.PH5Swgbf/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.PH5Swgbf/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.PH5Swgbf/cor_temp_00.png /tmp/ashs.PH5Swgbf/cor_temp_01.png /tmp/ashs.PH5Swgbf/cor_temp_02.png /tmp/ashs.PH5Swgbf/cor_temp_03.png /tmp/ashs.PH5Swgbf/cor_temp_04.png /tmp/ashs.PH5Swgbf/sag_temp_00.png /tmp/ashs.PH5Swgbf/sag_temp_01.png /tmp/ashs.PH5Swgbf/cor_mprage_00.png /tmp/ashs.PH5Swgbf/cor_mprage_01.png /tmp/ashs.PH5Swgbf/cor_mprage_02.png /tmp/ashs.PH5Swgbf/cor_mprage_03.png /tmp/ashs.PH5Swgbf/cor_mprage_04.png /tmp/ashs.PH5Swgbf/sag_mprage_00.png /tmp/ashs.PH5Swgbf/sag_mprage_01.png /tmp/ashs.PH5Swgbf/cor_tse_00.png /tmp/ashs.PH5Swgbf/cor_tse_01.png /tmp/ashs.PH5Swgbf/cor_tse_02.png /tmp/ashs.PH5Swgbf/cor_tse_03.png /tmp/ashs.PH5Swgbf/cor_tse_04.png /tmp/ashs.PH5Swgbf/sag_tse_00.png /tmp/ashs.PH5Swgbf/sag_tse_01.png /tmp/ashs.PH5Swgbf/qa.png
+ convert /tmp/ashs.PH5Swgbf/qa.png -bordercolor Black -border 1x1 /tmp/ashs.PH5Swgbf/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa
+ montage -label 26395:right /tmp/ashs.PH5Swgbf/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 457.722   GNORM= 158.29
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       318.751     124.389       0.006
   2    4       115.101      60.734       5.000
   3    5       -70.549      82.962       1.000
   4   15      -408.313     948.972       0.940
   5   22      -426.908     257.040       0.011
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.959273 -0.0358019 0.0638552 -3.34696 
-0.143252 1.1702 -0.347337 6.79846 
0.244788 -0.125239 0.946415 -9.80283 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -119.057   GNORM= 68.7336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -151.891      76.857       0.015
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961686 -0.0389207 0.0676019 -3.80412 
-0.143214 1.1693 -0.347853 6.85494 
0.239735 -0.122474 0.939558 -9.14989 
0 0 0 1 

Final RAS Transform: 
0.961686 -0.0389207 0.0676019 -3.80412 
-0.143214 1.1693 -0.347853 6.85494 
0.239735 -0.122474 0.939558 -9.14989 
0 0 0 1 


real	0m3.555s
user	0m5.432s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.37312
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0121
Level     0,  Iter     1:    Energy =   0.0137
Level     0,  Iter     2:    Energy =   0.0156
Level     0,  Iter     3:    Energy =   0.0171
Level     0,  Iter     4:    Energy =   0.0182
Level     0,  Iter     5:    Energy =   0.0195
Level     0,  Iter     6:    Energy =   0.0209
Level     0,  Iter     7:    Energy =   0.0219
Level     0,  Iter     8:    Energy =   0.0224
Level     0,  Iter     9:    Energy =   0.0231
Level     0,  Iter    10:    Energy =   0.0238
Level     0,  Iter    11:    Energy =   0.0247
Level     0,  Iter    12:    Energy =   0.0256
Level     0,  Iter    13:    Energy =   0.0265
Level     0,  Iter    14:    Energy =   0.0272
Level     0,  Iter    15:    Energy =   0.0278
Level     0,  Iter    16:    Energy =   0.0284
Level     0,  Iter    17:    Energy =   0.0290
Level     0,  Iter    18:    Energy =   0.0295
Level     0,  Iter    19:    Energy =   0.0299
Level     0,  Iter    20:    Energy =   0.0303
Level     0,  Iter    21:    Energy =   0.0308
Level     0,  Iter    22:    Energy =   0.0312
Level     0,  Iter    23:    Energy =   0.0315
Level     0,  Iter    24:    Energy =   0.0319
Level     0,  Iter    25:    Energy =   0.0322
Level     0,  Iter    26:    Energy =   0.0326
Level     0,  Iter    27:    Energy =   0.0328
Level     0,  Iter    28:    Energy =   0.0332
Level     0,  Iter    29:    Energy =   0.0334
Level     0,  Iter    30:    Energy =   0.0337
Level     0,  Iter    31:    Energy =   0.0339
Level     0,  Iter    32:    Energy =   0.0343
Level     0,  Iter    33:    Energy =   0.0346
Level     0,  Iter    34:    Energy =   0.0348
Level     0,  Iter    35:    Energy =   0.0351
Level     0,  Iter    36:    Energy =   0.0353
Level     0,  Iter    37:    Energy =   0.0355
Level     0,  Iter    38:    Energy =   0.0358
Level     0,  Iter    39:    Energy =   0.0360
Level     0,  Iter    40:    Energy =   0.0362
Level     0,  Iter    41:    Energy =   0.0364
Level     0,  Iter    42:    Energy =   0.0366
Level     0,  Iter    43:    Energy =   0.0369
Level     0,  Iter    44:    Energy =   0.0371
Level     0,  Iter    45:    Energy =   0.0373
Level     0,  Iter    46:    Energy =   0.0374
Level     0,  Iter    47:    Energy =   0.0376
Level     0,  Iter    48:    Energy =   0.0377
Level     0,  Iter    49:    Energy =   0.0380
Level     0,  Iter    50:    Energy =   0.0382
Level     0,  Iter    51:    Energy =   0.0385
Level     0,  Iter    52:    Energy =   0.0388
Level     0,  Iter    53:    Energy =   0.0390
Level     0,  Iter    54:    Energy =   0.0392
Level     0,  Iter    55:    Energy =   0.0395
Level     0,  Iter    56:    Energy =   0.0396
Level     0,  Iter    57:    Energy =   0.0398
Level     0,  Iter    58:    Energy =   0.0399
Level     0,  Iter    59:    Energy =   0.0401
END OF LEVEL     0    DetJac Range:   0.0852  to   2.4981 
  Avg. Gradient Time  : 0.0072s  33.11% 
  Avg. Gaussian Time  : 0.0106s  48.33% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0208
Level     1,  Iter     1:    Energy =   0.0218
Level     1,  Iter     2:    Energy =   0.0232
Level     1,  Iter     3:    Energy =   0.0243
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0259
Level     1,  Iter     6:    Energy =   0.0266
Level     1,  Iter     7:    Energy =   0.0272
Level     1,  Iter     8:    Energy =   0.0277
Level     1,  Iter     9:    Energy =   0.0281
Level     1,  Iter    10:    Energy =   0.0285
Level     1,  Iter    11:    Energy =   0.0288
Level     1,  Iter    12:    Energy =   0.0290
Level     1,  Iter    13:    Energy =   0.0293
Level     1,  Iter    14:    Energy =   0.0295
Level     1,  Iter    15:    Energy =   0.0297
Level     1,  Iter    16:    Energy =   0.0298
Level     1,  Iter    17:    Energy =   0.0300
Level     1,  Iter    18:    Energy =   0.0302
Level     1,  Iter    19:    Energy =   0.0303
Level     1,  Iter    20:    Energy =   0.0304
Level     1,  Iter    21:    Energy =   0.0305
Level     1,  Iter    22:    Energy =   0.0306
Level     1,  Iter    23:    Energy =   0.0308
Level     1,  Iter    24:    Energy =   0.0308
Level     1,  Iter    25:    Energy =   0.0309
Level     1,  Iter    26:    Energy =   0.0310
Level     1,  Iter    27:    Energy =   0.0311
Level     1,  Iter    28:    Energy =   0.0311
Level     1,  Iter    29:    Energy =   0.0312
Level     1,  Iter    30:    Energy =   0.0313
Level     1,  Iter    31:    Energy =   0.0313
Level     1,  Iter    32:    Energy =   0.0314
Level     1,  Iter    33:    Energy =   0.0314
Level     1,  Iter    34:    Energy =   0.0315
Level     1,  Iter    35:    Energy =   0.0315
Level     1,  Iter    36:    Energy =   0.0316
Level     1,  Iter    37:    Energy =   0.0316
Level     1,  Iter    38:    Energy =   0.0316
Level     1,  Iter    39:    Energy =   0.0316
Level     1,  Iter    40:    Energy =   0.0316
Level     1,  Iter    41:    Energy =   0.0316
Level     1,  Iter    42:    Energy =   0.0316
Level     1,  Iter    43:    Energy =   0.0316
Level     1,  Iter    44:    Energy =   0.0316
Level     1,  Iter    45:    Energy =   0.0316
Level     1,  Iter    46:    Energy =   0.0316
Level     1,  Iter    47:    Energy =   0.0316
Level     1,  Iter    48:    Energy =   0.0316
Level     1,  Iter    49:    Energy =   0.0315
Level     1,  Iter    50:    Energy =   0.0315
Level     1,  Iter    51:    Energy =   0.0315
Level     1,  Iter    52:    Energy =   0.0315
Level     1,  Iter    53:    Energy =   0.0315
Level     1,  Iter    54:    Energy =   0.0315
Level     1,  Iter    55:    Energy =   0.0314
Level     1,  Iter    56:    Energy =   0.0314
Level     1,  Iter    57:    Energy =   0.0314
Level     1,  Iter    58:    Energy =   0.0313
Level     1,  Iter    59:    Energy =   0.0313
END OF LEVEL     1    DetJac Range:   0.0403  to   2.6923 
  Avg. Gradient Time  : 0.0292s  33.76% 
  Avg. Gaussian Time  : 0.0453s  52.41% 
  Avg. Iteration Time : 0.0865s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0141
Level     2,  Iter     1:    Energy =   0.0148
Level     2,  Iter     2:    Energy =   0.0155
Level     2,  Iter     3:    Energy =   0.0159
Level     2,  Iter     4:    Energy =   0.0163
Level     2,  Iter     5:    Energy =   0.0167
Level     2,  Iter     6:    Energy =   0.0171
Level     2,  Iter     7:    Energy =   0.0174
Level     2,  Iter     8:    Energy =   0.0176
Level     2,  Iter     9:    Energy =   0.0178
Level     2,  Iter    10:    Energy =   0.0180
Level     2,  Iter    11:    Energy =   0.0182
Level     2,  Iter    12:    Energy =   0.0183
Level     2,  Iter    13:    Energy =   0.0184
Level     2,  Iter    14:    Energy =   0.0185
Level     2,  Iter    15:    Energy =   0.0186
Level     2,  Iter    16:    Energy =   0.0187
Level     2,  Iter    17:    Energy =   0.0188
Level     2,  Iter    18:    Energy =   0.0188
Level     2,  Iter    19:    Energy =   0.0189
END OF LEVEL     2    DetJac Range:   0.0277  to   2.3031 
  Avg. Gradient Time  : 0.1894s  32.25% 
  Avg. Gaussian Time  : 0.3191s  54.33% 
  Avg. Iteration Time : 0.5874s 

real	0m21.151s
user	0m36.872s
sys	0m2.232s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 328.66   GNORM= 176.064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       217.509      87.578       0.006
   2    6      -386.199     263.019      11.059
   3    7      -472.995      96.366       1.000
   4    9      -623.990      39.007       0.255
   5   10      -647.681      58.267       1.000
   6   11      -730.297      95.300       1.000
   7   12      -782.374      62.133       1.000
   8   14      -802.231      27.768       0.238
   9   15      -812.989      90.085       1.000
  10   16      -870.092      83.524       1.000
  11   17      -914.660      81.917       1.000
  12   19      -954.009      85.022       0.244
  13   21      -980.457      54.454       0.237
  14   22      -986.333      43.052       1.000
  15   23     -1067.370     100.015       1.000
  16   25     -1075.663      43.886       0.338
  17   26     -1096.573      55.296       1.000
  18   28     -1106.292      62.539       0.087
  19   30     -1110.687      76.033       0.324
  20   31     -1125.413      48.082       1.000
  21   32     -1141.274      45.484       1.000
  22   34     -1204.987     169.193       5.000
  23   35     -1262.179     100.492       1.000
  24   36     -1302.194     158.658       1.000
  25   37     -1327.982      48.606       1.000
  26   38     -1345.175      26.511       1.000
  27   39     -1356.190      36.538       1.000
  28   40     -1360.008      73.535       1.000
  29   41     -1380.439      32.102       1.000
  30   42     -1394.728      48.657       1.000
  31   44     -1442.103      68.120       5.000
  32   45     -1463.918      43.914       1.000
  33   47     -1499.205      54.663       0.408
  34   49     -1502.357      51.540       0.171
  35   50     -1520.852      32.047       1.000
  36   51     -1540.831      79.715       1.000
  37   52     -1559.885      49.062       1.000
  38   53     -1563.115      38.512       1.000
  39   54     -1567.733      19.344       1.000
  40   55     -1569.860      18.115       1.000
  41   57     -1573.171      37.264       0.249
  42   59     -1574.873      50.583       0.131
  43   61     -1575.559      66.290       0.098
Final RAS Transform: 
0.575627 -0.731294 0.0329633 0.74895 
-0.525538 1.0402 -0.123155 2.92353 
0.228042 -0.389166 0.41475 -6.79817 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -769.447   GNORM= 76.3596
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -786.303      19.374       0.005
   2    4      -786.315      22.670       1.000
   3    5      -787.081       9.686       1.000
   4    6      -787.773      10.528       1.000
   5    7      -790.442      35.268       1.000
   6    8      -794.303      29.139       1.000
   7   10      -797.654      41.666       0.309
   8   11      -803.468      15.835       1.000
   9   12      -806.911      19.361       1.000
  10   13      -815.998       9.750       1.000
  11   14      -819.429      32.347       1.000
  12   16      -823.743      30.312       0.383
  13   17      -831.325      27.956       1.000
  14   19      -835.860       9.448       0.309
  15   20      -836.350      14.332       1.000
  16   21      -838.707      15.662       1.000
  17   22      -839.339      12.057       1.000
  18   23      -840.601      11.479       1.000
  19   24      -844.003      39.501       1.000
  20   25      -846.511      38.346       1.000
  21   26      -846.992      38.572       1.000
  22   27      -851.032      18.528       1.000
  23   28      -852.401       9.145       1.000
  24   29      -853.189       9.586       1.000
  25   30      -853.819      10.636       1.000
  26   31      -854.257       5.992       1.000
  27   32      -855.116       9.453       1.000
  28   34      -855.882      15.690       0.129
  29   35      -855.961      15.992       1.000
  30   36      -856.657      12.455       1.000
  31   38      -856.997       5.638       0.325
  32   39      -857.162       5.664       1.000
  33   41      -857.319       5.976       0.501
  34   42      -857.619      12.314       1.000
  35   43      -858.141       5.867       1.000
  36   44      -858.244       3.025       1.000
  37   46      -858.354       4.637       0.326
  38   47      -858.387      10.289       1.000
  39   48      -858.440       4.619       1.000
  40   49      -858.456       2.588       1.000
  41   50      -858.458       4.817       1.000
  42   51      -858.511       4.031       1.000
  43   52      -858.588       2.430       1.000
  44   53      -858.647       4.710       1.000
  45   54      -858.686       6.135       1.000
  46   55      -858.777       6.332       1.000
  47   56      -858.848       4.078       1.000
  48   58      -858.873       2.220       0.496
  49   59      -858.889       2.272       1.000
  50   61      -858.906       2.537       0.471
Final RAS Transform: 
0.494072 -0.7808 0.0441663 -1.33084 
-0.534353 1.14994 0.037316 3.0934 
0.338003 -0.420285 0.433492 -1.62978 
0 0 0 1 

Final RAS Transform: 
0.494072 -0.7808 0.0441663 -1.33084 
-0.534353 1.14994 0.037316 3.0934 
0.338003 -0.420285 0.433492 -1.62978 
0 0 0 1 


real	0m6.177s
user	0m10.368s
sys	0m0.696s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.412233
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0367
Level     0,  Iter     1:    Energy =   0.0398
Level     0,  Iter     2:    Energy =   0.0432
Level     0,  Iter     3:    Energy =   0.0465
Level     0,  Iter     4:    Energy =   0.0492
Level     0,  Iter     5:    Energy =   0.0515
Level     0,  Iter     6:    Energy =   0.0531
Level     0,  Iter     7:    Energy =   0.0545
Level     0,  Iter     8:    Energy =   0.0558
Level     0,  Iter     9:    Energy =   0.0570
Level     0,  Iter    10:    Energy =   0.0574
Level     0,  Iter    11:    Energy =   0.0580
Level     0,  Iter    12:    Energy =   0.0585
Level     0,  Iter    13:    Energy =   0.0590
Level     0,  Iter    14:    Energy =   0.0595
Level     0,  Iter    15:    Energy =   0.0601
Level     0,  Iter    16:    Energy =   0.0606
Level     0,  Iter    17:    Energy =   0.0613
Level     0,  Iter    18:    Energy =   0.0616
Level     0,  Iter    19:    Energy =   0.0623
Level     0,  Iter    20:    Energy =   0.0622
Level     0,  Iter    21:    Energy =   0.0628
Level     0,  Iter    22:    Energy =   0.0626
Level     0,  Iter    23:    Energy =   0.0632
Level     0,  Iter    24:    Energy =   0.0632
Level     0,  Iter    25:    Energy =   0.0638
Level     0,  Iter    26:    Energy =   0.0638
Level     0,  Iter    27:    Energy =   0.0644
Level     0,  Iter    28:    Energy =   0.0647
Level     0,  Iter    29:    Energy =   0.0653
Level     0,  Iter    30:    Energy =   0.0655
Level     0,  Iter    31:    Energy =   0.0660
Level     0,  Iter    32:    Energy =   0.0664
Level     0,  Iter    33:    Energy =   0.0668
Level     0,  Iter    34:    Energy =   0.0672
Level     0,  Iter    35:    Energy =   0.0678
Level     0,  Iter    36:    Energy =   0.0681
Level     0,  Iter    37:    Energy =   0.0685
Level     0,  Iter    38:    Energy =   0.0686
Level     0,  Iter    39:    Energy =   0.0689
Level     0,  Iter    40:    Energy =   0.0689
Level     0,  Iter    41:    Energy =   0.0693
Level     0,  Iter    42:    Energy =   0.0693
Level     0,  Iter    43:    Energy =   0.0698
Level     0,  Iter    44:    Energy =   0.0699
Level     0,  Iter    45:    Energy =   0.0704
Level     0,  Iter    46:    Energy =   0.0704
Level     0,  Iter    47:    Energy =   0.0708
Level     0,  Iter    48:    Energy =   0.0706
Level     0,  Iter    49:    Energy =   0.0710
Level     0,  Iter    50:    Energy =   0.0710
Level     0,  Iter    51:    Energy =   0.0714
Level     0,  Iter    52:    Energy =   0.0714
Level     0,  Iter    53:    Energy =   0.0716
Level     0,  Iter    54:    Energy =   0.0716
Level     0,  Iter    55:    Energy =   0.0717
Level     0,  Iter    56:    Energy =   0.0718
Level     0,  Iter    57:    Energy =   0.0719
Level     0,  Iter    58:    Energy =   0.0720
Level     0,  Iter    59:    Energy =   0.0720
END OF LEVEL     0    DetJac Range:   0.0711  to   2.8298 
  Avg. Gradient Time  : 0.0073s  33.31% 
  Avg. Gaussian Time  : 0.0105s  47.93% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0391
Level     1,  Iter     1:    Energy =   0.0402
Level     1,  Iter     2:    Energy =   0.0411
Level     1,  Iter     3:    Energy =   0.0420
Level     1,  Iter     4:    Energy =   0.0427
Level     1,  Iter     5:    Energy =   0.0437
Level     1,  Iter     6:    Energy =   0.0451
Level     1,  Iter     7:    Energy =   0.0463
Level     1,  Iter     8:    Energy =   0.0472
Level     1,  Iter     9:    Energy =   0.0480
Level     1,  Iter    10:    Energy =   0.0487
Level     1,  Iter    11:    Energy =   0.0493
Level     1,  Iter    12:    Energy =   0.0499
Level     1,  Iter    13:    Energy =   0.0505
Level     1,  Iter    14:    Energy =   0.0509
Level     1,  Iter    15:    Energy =   0.0514
Level     1,  Iter    16:    Energy =   0.0518
Level     1,  Iter    17:    Energy =   0.0523
Level     1,  Iter    18:    Energy =   0.0528
Level     1,  Iter    19:    Energy =   0.0531
Level     1,  Iter    20:    Energy =   0.0532
Level     1,  Iter    21:    Energy =   0.0532
Level     1,  Iter    22:    Energy =   0.0534
Level     1,  Iter    23:    Energy =   0.0533
Level     1,  Iter    24:    Energy =   0.0532
Level     1,  Iter    25:    Energy =   0.0534
Level     1,  Iter    26:    Energy =   0.0537
Level     1,  Iter    27:    Energy =   0.0537
Level     1,  Iter    28:    Energy =   0.0536
Level     1,  Iter    29:    Energy =   0.0537
Level     1,  Iter    30:    Energy =   0.0537
Level     1,  Iter    31:    Energy =   0.0538
Level     1,  Iter    32:    Energy =   0.0538
Level     1,  Iter    33:    Energy =   0.0538
Level     1,  Iter    34:    Energy =   0.0538
Level     1,  Iter    35:    Energy =   0.0539
Level     1,  Iter    36:    Energy =   0.0539
Level     1,  Iter    37:    Energy =   0.0539
Level     1,  Iter    38:    Energy =   0.0539
Level     1,  Iter    39:    Energy =   0.0540
Level     1,  Iter    40:    Energy =   0.0539
Level     1,  Iter    41:    Energy =   0.0540
Level     1,  Iter    42:    Energy =   0.0540
Level     1,  Iter    43:    Energy =   0.0540
Level     1,  Iter    44:    Energy =   0.0538
Level     1,  Iter    45:    Energy =   0.0540
Level     1,  Iter    46:    Energy =   0.0541
Level     1,  Iter    47:    Energy =   0.0540
Level     1,  Iter    48:    Energy =   0.0538
Level     1,  Iter    49:    Energy =   0.0540
Level     1,  Iter    50:    Energy =   0.0540
Level     1,  Iter    51:    Energy =   0.0540
Level     1,  Iter    52:    Energy =   0.0538
Level     1,  Iter    53:    Energy =   0.0540
Level     1,  Iter    54:    Energy =   0.0540
Level     1,  Iter    55:    Energy =   0.0540
Level     1,  Iter    56:    Energy =   0.0538
Level     1,  Iter    57:    Energy =   0.0539
Level     1,  Iter    58:    Energy =   0.0540
Level     1,  Iter    59:    Energy =   0.0539
END OF LEVEL     1    DetJac Range:   0.0418  to   2.8020 
  Avg. Gradient Time  : 0.0288s  33.93% 
  Avg. Gaussian Time  : 0.0442s  52.16% 
  Avg. Iteration Time : 0.0848s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0244
Level     2,  Iter     1:    Energy =   0.0253
Level     2,  Iter     2:    Energy =   0.0259
Level     2,  Iter     3:    Energy =   0.0266
Level     2,  Iter     4:    Energy =   0.0271
Level     2,  Iter     5:    Energy =   0.0276
Level     2,  Iter     6:    Energy =   0.0280
Level     2,  Iter     7:    Energy =   0.0285
Level     2,  Iter     8:    Energy =   0.0290
Level     2,  Iter     9:    Energy =   0.0294
Level     2,  Iter    10:    Energy =   0.0298
Level     2,  Iter    11:    Energy =   0.0301
Level     2,  Iter    12:    Energy =   0.0304
Level     2,  Iter    13:    Energy =   0.0307
Level     2,  Iter    14:    Energy =   0.0309
Level     2,  Iter    15:    Energy =   0.0311
Level     2,  Iter    16:    Energy =   0.0313
Level     2,  Iter    17:    Energy =   0.0315
Level     2,  Iter    18:    Energy =   0.0317
Level     2,  Iter    19:    Energy =   0.0319
END OF LEVEL     2    DetJac Range:   0.0452  to   3.6852 
  Avg. Gradient Time  : 0.2018s  32.76% 
  Avg. Gaussian Time  : 0.3327s  53.99% 
  Avg. Iteration Time : 0.6162s 

real	0m21.627s
user	0m37.540s
sys	0m2.516s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 376.975   GNORM= 190.787
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       244.437     112.481       0.005
   2    3        61.844      77.201       1.000
   3    5        31.467     122.719       0.265
   4    7      -210.845     167.714       5.000
   5   10      -410.178      53.735       1.526
   6   12      -448.409     145.519       0.324
   7   16      -580.299      60.646       3.228
   8   19      -588.768      39.213       0.244
   9   20      -610.257      36.657       1.000
  10   21      -629.213      68.604       1.000
  11   22      -678.116      20.794       1.000
  12   23      -716.575      46.019       1.000
  13   26      -733.255      58.859       0.549
  14   27      -756.836      60.198       1.000
  15   31      -764.929      34.375       0.372
  16   33      -765.519      32.829       0.074
  17   34      -782.471      29.712       1.000
  18   35      -789.425      53.958       1.000
  19   38      -801.689     105.708       1.414
  20   39      -842.628      86.470       1.000
  21   40      -861.740      93.257       1.000
  22   41      -888.801      25.031       1.000
  23   42      -899.283      20.838       1.000
  24   44      -908.374      32.228       0.269
  25   45      -917.007      20.155       1.000
  26   46      -928.212      43.291       1.000
  27   48      -945.796      31.970       0.481
  28   50      -952.162      19.491       0.480
  29   51      -955.593      22.190       1.000
  30   52      -961.020      14.452       1.000
  31   53      -978.012      23.436       1.000
  32   54      -991.841      18.683       1.000
  33   57      -994.581      24.639       0.013
  34   59      -995.798      19.184       0.240
  35   60      -998.828      22.230       1.000
  36   61     -1002.365      27.038       1.000
Final RAS Transform: 
0.822807 -0.137212 0.265172 -5.33 
-0.384675 1.19649 -0.0625237 9.17148 
0.24778 -0.580089 0.291254 -14.0197 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -475.861   GNORM= 26.6196
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -480.543       8.053       0.015
   2    7      -490.981      29.491      12.517
   3    9      -491.814      31.909       0.101
   4   10      -496.092      19.540       1.000
   5   11      -498.092      13.049       1.000
   6   12      -499.728       5.830       1.000
   7   13      -500.673      19.547       1.000
   8   14      -503.031      18.876       1.000
   9   15      -506.671      10.373       1.000
  10   16      -513.276       8.992       1.000
  11   17      -527.436      22.689       1.000
  12   19      -529.056      13.393       0.139
  13   22      -534.123      15.185       1.823
  14   24      -534.682      14.470       0.058
  15   26      -535.983      18.085       0.166
  16   27      -536.758      10.830       1.000
  17   28      -537.415       8.291       1.000
  18   29      -538.363       7.452       1.000
  19   30      -544.696      12.928       1.000
  20   31      -550.464      10.102       1.000
  21   33      -551.736      11.054       0.257
  22   36      -552.864      17.055       1.961
  23   37      -553.966      11.082       1.000
  24   38      -555.227       8.865       1.000
  25   40      -555.744       7.739       0.495
  26   44      -556.285       5.706       0.369
  27   45      -557.645      15.675       1.000
  28   46      -559.270      16.455       1.000
  29   48      -560.087      19.553       0.275
  30   56      -561.179      16.464       0.688
  31   57      -562.187      21.720       1.000
  32   58      -565.129      13.436       1.000
  33   60      -565.453      10.081       0.473
Final RAS Transform: 
0.995055 0.0432567 0.313992 -0.185368 
-0.514006 1.1159 -0.121872 5.11684 
0.2993 -0.631062 0.201997 -14.3232 
0 0 0 1 

Final RAS Transform: 
0.995055 0.0432567 0.313992 -0.185368 
-0.514006 1.1159 -0.121872 5.11684 
0.2993 -0.631062 0.201997 -14.3232 
0 0 0 1 


real	0m6.418s
user	0m10.736s
sys	0m0.752s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.365775
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0244
Level     0,  Iter     1:    Energy =   0.0261
Level     0,  Iter     2:    Energy =   0.0289
Level     0,  Iter     3:    Energy =   0.0307
Level     0,  Iter     4:    Energy =   0.0326
Level     0,  Iter     5:    Energy =   0.0346
Level     0,  Iter     6:    Energy =   0.0361
Level     0,  Iter     7:    Energy =   0.0374
Level     0,  Iter     8:    Energy =   0.0386
Level     0,  Iter     9:    Energy =   0.0396
Level     0,  Iter    10:    Energy =   0.0405
Level     0,  Iter    11:    Energy =   0.0414
Level     0,  Iter    12:    Energy =   0.0420
Level     0,  Iter    13:    Energy =   0.0425
Level     0,  Iter    14:    Energy =   0.0432
Level     0,  Iter    15:    Energy =   0.0438
Level     0,  Iter    16:    Energy =   0.0441
Level     0,  Iter    17:    Energy =   0.0446
Level     0,  Iter    18:    Energy =   0.0451
Level     0,  Iter    19:    Energy =   0.0455
Level     0,  Iter    20:    Energy =   0.0457
Level     0,  Iter    21:    Energy =   0.0460
Level     0,  Iter    22:    Energy =   0.0463
Level     0,  Iter    23:    Energy =   0.0466
Level     0,  Iter    24:    Energy =   0.0467
Level     0,  Iter    25:    Energy =   0.0469
Level     0,  Iter    26:    Energy =   0.0469
Level     0,  Iter    27:    Energy =   0.0472
Level     0,  Iter    28:    Energy =   0.0473
Level     0,  Iter    29:    Energy =   0.0475
Level     0,  Iter    30:    Energy =   0.0475
Level     0,  Iter    31:    Energy =   0.0475
Level     0,  Iter    32:    Energy =   0.0475
Level     0,  Iter    33:    Energy =   0.0476
Level     0,  Iter    34:    Energy =   0.0476
Level     0,  Iter    35:    Energy =   0.0477
Level     0,  Iter    36:    Energy =   0.0476
Level     0,  Iter    37:    Energy =   0.0478
Level     0,  Iter    38:    Energy =   0.0478
Level     0,  Iter    39:    Energy =   0.0478
Level     0,  Iter    40:    Energy =   0.0478
Level     0,  Iter    41:    Energy =   0.0479
Level     0,  Iter    42:    Energy =   0.0479
Level     0,  Iter    43:    Energy =   0.0480
Level     0,  Iter    44:    Energy =   0.0481
Level     0,  Iter    45:    Energy =   0.0482
Level     0,  Iter    46:    Energy =   0.0482
Level     0,  Iter    47:    Energy =   0.0482
Level     0,  Iter    48:    Energy =   0.0482
Level     0,  Iter    49:    Energy =   0.0483
Level     0,  Iter    50:    Energy =   0.0483
Level     0,  Iter    51:    Energy =   0.0484
Level     0,  Iter    52:    Energy =   0.0485
Level     0,  Iter    53:    Energy =   0.0486
Level     0,  Iter    54:    Energy =   0.0487
Level     0,  Iter    55:    Energy =   0.0487
Level     0,  Iter    56:    Energy =   0.0487
Level     0,  Iter    57:    Energy =   0.0488
Level     0,  Iter    58:    Energy =   0.0487
Level     0,  Iter    59:    Energy =   0.0488
END OF LEVEL     0    DetJac Range:   0.0682  to   2.2634 
  Avg. Gradient Time  : 0.0076s  33.21% 
  Avg. Gaussian Time  : 0.0110s  47.75% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0271
Level     1,  Iter     1:    Energy =   0.0282
Level     1,  Iter     2:    Energy =   0.0290
Level     1,  Iter     3:    Energy =   0.0298
Level     1,  Iter     4:    Energy =   0.0304
Level     1,  Iter     5:    Energy =   0.0309
Level     1,  Iter     6:    Energy =   0.0313
Level     1,  Iter     7:    Energy =   0.0318
Level     1,  Iter     8:    Energy =   0.0320
Level     1,  Iter     9:    Energy =   0.0322
Level     1,  Iter    10:    Energy =   0.0326
Level     1,  Iter    11:    Energy =   0.0329
Level     1,  Iter    12:    Energy =   0.0331
Level     1,  Iter    13:    Energy =   0.0333
Level     1,  Iter    14:    Energy =   0.0334
Level     1,  Iter    15:    Energy =   0.0335
Level     1,  Iter    16:    Energy =   0.0337
Level     1,  Iter    17:    Energy =   0.0340
Level     1,  Iter    18:    Energy =   0.0342
Level     1,  Iter    19:    Energy =   0.0344
Level     1,  Iter    20:    Energy =   0.0346
Level     1,  Iter    21:    Energy =   0.0347
Level     1,  Iter    22:    Energy =   0.0348
Level     1,  Iter    23:    Energy =   0.0349
Level     1,  Iter    24:    Energy =   0.0351
Level     1,  Iter    25:    Energy =   0.0353
Level     1,  Iter    26:    Energy =   0.0354
Level     1,  Iter    27:    Energy =   0.0356
Level     1,  Iter    28:    Energy =   0.0357
Level     1,  Iter    29:    Energy =   0.0358
Level     1,  Iter    30:    Energy =   0.0359
Level     1,  Iter    31:    Energy =   0.0361
Level     1,  Iter    32:    Energy =   0.0362
Level     1,  Iter    33:    Energy =   0.0363
Level     1,  Iter    34:    Energy =   0.0364
Level     1,  Iter    35:    Energy =   0.0365
Level     1,  Iter    36:    Energy =   0.0366
Level     1,  Iter    37:    Energy =   0.0367
Level     1,  Iter    38:    Energy =   0.0367
Level     1,  Iter    39:    Energy =   0.0368
Level     1,  Iter    40:    Energy =   0.0369
Level     1,  Iter    41:    Energy =   0.0370
Level     1,  Iter    42:    Energy =   0.0371
Level     1,  Iter    43:    Energy =   0.0371
Level     1,  Iter    44:    Energy =   0.0372
Level     1,  Iter    45:    Energy =   0.0373
Level     1,  Iter    46:    Energy =   0.0373
Level     1,  Iter    47:    Energy =   0.0374
Level     1,  Iter    48:    Energy =   0.0374
Level     1,  Iter    49:    Energy =   0.0375
Level     1,  Iter    50:    Energy =   0.0375
Level     1,  Iter    51:    Energy =   0.0375
Level     1,  Iter    52:    Energy =   0.0376
Level     1,  Iter    53:    Energy =   0.0376
Level     1,  Iter    54:    Energy =   0.0377
Level     1,  Iter    55:    Energy =   0.0377
Level     1,  Iter    56:    Energy =   0.0378
Level     1,  Iter    57:    Energy =   0.0378
Level     1,  Iter    58:    Energy =   0.0378
Level     1,  Iter    59:    Energy =   0.0379
END OF LEVEL     1    DetJac Range:   0.0232  to   2.4460 
  Avg. Gradient Time  : 0.0323s  34.68% 
  Avg. Gaussian Time  : 0.0480s  51.54% 
  Avg. Iteration Time : 0.0931s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0185
Level     2,  Iter     2:    Energy =   0.0190
Level     2,  Iter     3:    Energy =   0.0196
Level     2,  Iter     4:    Energy =   0.0201
Level     2,  Iter     5:    Energy =   0.0205
Level     2,  Iter     6:    Energy =   0.0210
Level     2,  Iter     7:    Energy =   0.0212
Level     2,  Iter     8:    Energy =   0.0216
Level     2,  Iter     9:    Energy =   0.0218
Level     2,  Iter    10:    Energy =   0.0221
Level     2,  Iter    11:    Energy =   0.0224
Level     2,  Iter    12:    Energy =   0.0226
Level     2,  Iter    13:    Energy =   0.0228
Level     2,  Iter    14:    Energy =   0.0230
Level     2,  Iter    15:    Energy =   0.0231
Level     2,  Iter    16:    Energy =   0.0233
Level     2,  Iter    17:    Energy =   0.0234
Level     2,  Iter    18:    Energy =   0.0235
Level     2,  Iter    19:    Energy =   0.0236
END OF LEVEL     2    DetJac Range:   0.0174  to   2.5950 
  Avg. Gradient Time  : 0.2025s  32.80% 
  Avg. Gaussian Time  : 0.3331s  53.95% 
  Avg. Iteration Time : 0.6175s 

real	0m22.232s
user	0m38.792s
sys	0m2.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 528.725   GNORM= 265.7
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       323.124     174.398       0.004
   2    3       112.405      88.803       1.000
   3    6      -108.353     264.434      21.000
   4   18      -110.210      41.488       0.000
   5   23      -531.615      94.530      34.413
   6   27      -554.382      75.903       0.007
   7   28      -565.348      99.109       1.000
   8   29      -624.899      75.905       1.000
   9   31      -733.967     108.245       0.228
  10   32      -785.935     253.864       1.000
  11   36      -804.214      43.312       0.048
  12   48      -804.770      51.876       0.000
  13   52      -819.695     380.195       9.006
Final RAS Transform: 
1.05441 -0.0546417 0.0807506 -6.0392 
-0.371009 1.11951 -0.179906 13.418 
-0.0347034 -0.146636 0.725724 -5.36514 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -476.702   GNORM= 299.535
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    8      -476.918      71.002       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05441 -0.0546412 0.0807504 -6.03916 
-0.371009 1.11951 -0.179907 13.4181 
-0.0347035 -0.146636 0.725723 -5.36512 
0 0 0 1 

Final RAS Transform: 
1.05441 -0.0546412 0.0807504 -6.03916 
-0.371009 1.11951 -0.179907 13.4181 
-0.0347035 -0.146636 0.725723 -5.36512 
0 0 0 1 


real	0m4.270s
user	0m6.704s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.45247
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0223
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0264
Level     0,  Iter     3:    Energy =   0.0292
Level     0,  Iter     4:    Energy =   0.0321
Level     0,  Iter     5:    Energy =   0.0350
Level     0,  Iter     6:    Energy =   0.0371
Level     0,  Iter     7:    Energy =   0.0383
Level     0,  Iter     8:    Energy =   0.0402
Level     0,  Iter     9:    Energy =   0.0414
Level     0,  Iter    10:    Energy =   0.0428
Level     0,  Iter    11:    Energy =   0.0439
Level     0,  Iter    12:    Energy =   0.0451
Level     0,  Iter    13:    Energy =   0.0464
Level     0,  Iter    14:    Energy =   0.0482
Level     0,  Iter    15:    Energy =   0.0495
Level     0,  Iter    16:    Energy =   0.0510
Level     0,  Iter    17:    Energy =   0.0524
Level     0,  Iter    18:    Energy =   0.0534
Level     0,  Iter    19:    Energy =   0.0543
Level     0,  Iter    20:    Energy =   0.0550
Level     0,  Iter    21:    Energy =   0.0560
Level     0,  Iter    22:    Energy =   0.0565
Level     0,  Iter    23:    Energy =   0.0574
Level     0,  Iter    24:    Energy =   0.0581
Level     0,  Iter    25:    Energy =   0.0588
Level     0,  Iter    26:    Energy =   0.0593
Level     0,  Iter    27:    Energy =   0.0594
Level     0,  Iter    28:    Energy =   0.0602
Level     0,  Iter    29:    Energy =   0.0611
Level     0,  Iter    30:    Energy =   0.0614
Level     0,  Iter    31:    Energy =   0.0619
Level     0,  Iter    32:    Energy =   0.0622
Level     0,  Iter    33:    Energy =   0.0626
Level     0,  Iter    34:    Energy =   0.0628
Level     0,  Iter    35:    Energy =   0.0632
Level     0,  Iter    36:    Energy =   0.0635
Level     0,  Iter    37:    Energy =   0.0634
Level     0,  Iter    38:    Energy =   0.0641
Level     0,  Iter    39:    Energy =   0.0635
Level     0,  Iter    40:    Energy =   0.0641
Level     0,  Iter    41:    Energy =   0.0637
Level     0,  Iter    42:    Energy =   0.0644
Level     0,  Iter    43:    Energy =   0.0639
Level     0,  Iter    44:    Energy =   0.0646
Level     0,  Iter    45:    Energy =   0.0640
Level     0,  Iter    46:    Energy =   0.0647
Level     0,  Iter    47:    Energy =   0.0642
Level     0,  Iter    48:    Energy =   0.0648
Level     0,  Iter    49:    Energy =   0.0644
Level     0,  Iter    50:    Energy =   0.0650
Level     0,  Iter    51:    Energy =   0.0645
Level     0,  Iter    52:    Energy =   0.0651
Level     0,  Iter    53:    Energy =   0.0646
Level     0,  Iter    54:    Energy =   0.0652
Level     0,  Iter    55:    Energy =   0.0648
Level     0,  Iter    56:    Energy =   0.0655
Level     0,  Iter    57:    Energy =   0.0649
Level     0,  Iter    58:    Energy =   0.0656
Level     0,  Iter    59:    Energy =   0.0650
END OF LEVEL     0    DetJac Range:   0.0367  to   2.6329 
  Avg. Gradient Time  : 0.0076s  33.31% 
  Avg. Gaussian Time  : 0.0109s  47.74% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0380
Level     1,  Iter     1:    Energy =   0.0395
Level     1,  Iter     2:    Energy =   0.0407
Level     1,  Iter     3:    Energy =   0.0417
Level     1,  Iter     4:    Energy =   0.0428
Level     1,  Iter     5:    Energy =   0.0438
Level     1,  Iter     6:    Energy =   0.0446
Level     1,  Iter     7:    Energy =   0.0452
Level     1,  Iter     8:    Energy =   0.0457
Level     1,  Iter     9:    Energy =   0.0463
Level     1,  Iter    10:    Energy =   0.0467
Level     1,  Iter    11:    Energy =   0.0471
Level     1,  Iter    12:    Energy =   0.0474
Level     1,  Iter    13:    Energy =   0.0476
Level     1,  Iter    14:    Energy =   0.0478
Level     1,  Iter    15:    Energy =   0.0479
Level     1,  Iter    16:    Energy =   0.0481
Level     1,  Iter    17:    Energy =   0.0482
Level     1,  Iter    18:    Energy =   0.0483
Level     1,  Iter    19:    Energy =   0.0484
Level     1,  Iter    20:    Energy =   0.0486
Level     1,  Iter    21:    Energy =   0.0487
Level     1,  Iter    22:    Energy =   0.0488
Level     1,  Iter    23:    Energy =   0.0490
Level     1,  Iter    24:    Energy =   0.0492
Level     1,  Iter    25:    Energy =   0.0493
Level     1,  Iter    26:    Energy =   0.0494
Level     1,  Iter    27:    Energy =   0.0495
Level     1,  Iter    28:    Energy =   0.0496
Level     1,  Iter    29:    Energy =   0.0497
Level     1,  Iter    30:    Energy =   0.0497
Level     1,  Iter    31:    Energy =   0.0498
Level     1,  Iter    32:    Energy =   0.0498
Level     1,  Iter    33:    Energy =   0.0498
Level     1,  Iter    34:    Energy =   0.0499
Level     1,  Iter    35:    Energy =   0.0499
Level     1,  Iter    36:    Energy =   0.0500
Level     1,  Iter    37:    Energy =   0.0500
Level     1,  Iter    38:    Energy =   0.0501
Level     1,  Iter    39:    Energy =   0.0501
Level     1,  Iter    40:    Energy =   0.0501
Level     1,  Iter    41:    Energy =   0.0501
Level     1,  Iter    42:    Energy =   0.0502
Level     1,  Iter    43:    Energy =   0.0502
Level     1,  Iter    44:    Energy =   0.0502
Level     1,  Iter    45:    Energy =   0.0502
Level     1,  Iter    46:    Energy =   0.0502
Level     1,  Iter    47:    Energy =   0.0502
Level     1,  Iter    48:    Energy =   0.0502
Level     1,  Iter    49:    Energy =   0.0502
Level     1,  Iter    50:    Energy =   0.0502
Level     1,  Iter    51:    Energy =   0.0502
Level     1,  Iter    52:    Energy =   0.0502
Level     1,  Iter    53:    Energy =   0.0502
Level     1,  Iter    54:    Energy =   0.0502
Level     1,  Iter    55:    Energy =   0.0502
Level     1,  Iter    56:    Energy =   0.0502
Level     1,  Iter    57:    Energy =   0.0502
Level     1,  Iter    58:    Energy =   0.0502
Level     1,  Iter    59:    Energy =   0.0502
END OF LEVEL     1    DetJac Range:   0.0237  to   2.3889 
  Avg. Gradient Time  : 0.0316s  34.32% 
  Avg. Gaussian Time  : 0.0478s  51.89% 
  Avg. Iteration Time : 0.0921s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0225
Level     2,  Iter     1:    Energy =   0.0237
Level     2,  Iter     2:    Energy =   0.0247
Level     2,  Iter     3:    Energy =   0.0255
Level     2,  Iter     4:    Energy =   0.0262
Level     2,  Iter     5:    Energy =   0.0267
Level     2,  Iter     6:    Energy =   0.0272
Level     2,  Iter     7:    Energy =   0.0277
Level     2,  Iter     8:    Energy =   0.0280
Level     2,  Iter     9:    Energy =   0.0283
Level     2,  Iter    10:    Energy =   0.0286
Level     2,  Iter    11:    Energy =   0.0288
Level     2,  Iter    12:    Energy =   0.0289
Level     2,  Iter    13:    Energy =   0.0291
Level     2,  Iter    14:    Energy =   0.0292
Level     2,  Iter    15:    Energy =   0.0293
Level     2,  Iter    16:    Energy =   0.0294
Level     2,  Iter    17:    Energy =   0.0296
Level     2,  Iter    18:    Energy =   0.0297
Level     2,  Iter    19:    Energy =   0.0298
END OF LEVEL     2    DetJac Range:   0.0206  to   2.8349 
  Avg. Gradient Time  : 0.1958s  32.67% 
  Avg. Gaussian Time  : 0.3237s  53.99% 
  Avg. Iteration Time : 0.5995s 

real	0m21.800s
user	0m37.776s
sys	0m2.580s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 446.272   GNORM= 199.948
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       339.629     101.919       0.005
   2    4        38.721     201.887       5.000
   3    5      -410.439      95.242       1.000
   4    6      -477.831      77.349       1.000
   5    8      -550.361     137.917       0.246
   6   10      -564.742     250.064       0.179
   7   13      -578.600     752.239       0.142
   8   21      -581.916     156.268       0.002
   9   25      -584.095      49.285       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961529 -0.137742 0.046253 -5.0347 
-0.074958 1.22121 -0.186711 7.12744 
0.0941251 -0.215086 0.906277 -8.42877 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -209.964   GNORM= 319.951
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -215.780     270.145       0.003
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.963018 -0.139179 0.0474694 -5.20185 
-0.0724634 1.21906 -0.185907 6.93452 
0.0980511 -0.220944 0.915322 -9.11487 
0 0 0 1 

Final RAS Transform: 
0.963018 -0.139179 0.0474694 -5.20185 
-0.0724634 1.21906 -0.185907 6.93452 
0.0980511 -0.220944 0.915322 -9.11487 
0 0 0 1 


real	0m3.596s
user	0m5.460s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.372149
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0144
Level     0,  Iter     1:    Energy =   0.0156
Level     0,  Iter     2:    Energy =   0.0187
Level     0,  Iter     3:    Energy =   0.0228
Level     0,  Iter     4:    Energy =   0.0262
Level     0,  Iter     5:    Energy =   0.0293
Level     0,  Iter     6:    Energy =   0.0317
Level     0,  Iter     7:    Energy =   0.0338
Level     0,  Iter     8:    Energy =   0.0356
Level     0,  Iter     9:    Energy =   0.0377
Level     0,  Iter    10:    Energy =   0.0394
Level     0,  Iter    11:    Energy =   0.0409
Level     0,  Iter    12:    Energy =   0.0421
Level     0,  Iter    13:    Energy =   0.0432
Level     0,  Iter    14:    Energy =   0.0442
Level     0,  Iter    15:    Energy =   0.0450
Level     0,  Iter    16:    Energy =   0.0458
Level     0,  Iter    17:    Energy =   0.0463
Level     0,  Iter    18:    Energy =   0.0469
Level     0,  Iter    19:    Energy =   0.0473
Level     0,  Iter    20:    Energy =   0.0478
Level     0,  Iter    21:    Energy =   0.0481
Level     0,  Iter    22:    Energy =   0.0485
Level     0,  Iter    23:    Energy =   0.0488
Level     0,  Iter    24:    Energy =   0.0491
Level     0,  Iter    25:    Energy =   0.0493
Level     0,  Iter    26:    Energy =   0.0496
Level     0,  Iter    27:    Energy =   0.0499
Level     0,  Iter    28:    Energy =   0.0503
Level     0,  Iter    29:    Energy =   0.0505
Level     0,  Iter    30:    Energy =   0.0510
Level     0,  Iter    31:    Energy =   0.0513
Level     0,  Iter    32:    Energy =   0.0518
Level     0,  Iter    33:    Energy =   0.0522
Level     0,  Iter    34:    Energy =   0.0526
Level     0,  Iter    35:    Energy =   0.0529
Level     0,  Iter    36:    Energy =   0.0533
Level     0,  Iter    37:    Energy =   0.0536
Level     0,  Iter    38:    Energy =   0.0539
Level     0,  Iter    39:    Energy =   0.0543
Level     0,  Iter    40:    Energy =   0.0546
Level     0,  Iter    41:    Energy =   0.0548
Level     0,  Iter    42:    Energy =   0.0550
Level     0,  Iter    43:    Energy =   0.0552
Level     0,  Iter    44:    Energy =   0.0554
Level     0,  Iter    45:    Energy =   0.0554
Level     0,  Iter    46:    Energy =   0.0556
Level     0,  Iter    47:    Energy =   0.0556
Level     0,  Iter    48:    Energy =   0.0556
Level     0,  Iter    49:    Energy =   0.0557
Level     0,  Iter    50:    Energy =   0.0558
Level     0,  Iter    51:    Energy =   0.0558
Level     0,  Iter    52:    Energy =   0.0559
Level     0,  Iter    53:    Energy =   0.0560
Level     0,  Iter    54:    Energy =   0.0560
Level     0,  Iter    55:    Energy =   0.0560
Level     0,  Iter    56:    Energy =   0.0562
Level     0,  Iter    57:    Energy =   0.0562
Level     0,  Iter    58:    Energy =   0.0564
Level     0,  Iter    59:    Energy =   0.0565
END OF LEVEL     0    DetJac Range:   0.0202  to   3.2189 
  Avg. Gradient Time  : 0.0073s  32.88% 
  Avg. Gaussian Time  : 0.0107s  48.12% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0298
Level     1,  Iter     1:    Energy =   0.0316
Level     1,  Iter     2:    Energy =   0.0330
Level     1,  Iter     3:    Energy =   0.0342
Level     1,  Iter     4:    Energy =   0.0352
Level     1,  Iter     5:    Energy =   0.0359
Level     1,  Iter     6:    Energy =   0.0365
Level     1,  Iter     7:    Energy =   0.0370
Level     1,  Iter     8:    Energy =   0.0373
Level     1,  Iter     9:    Energy =   0.0377
Level     1,  Iter    10:    Energy =   0.0380
Level     1,  Iter    11:    Energy =   0.0383
Level     1,  Iter    12:    Energy =   0.0385
Level     1,  Iter    13:    Energy =   0.0386
Level     1,  Iter    14:    Energy =   0.0388
Level     1,  Iter    15:    Energy =   0.0390
Level     1,  Iter    16:    Energy =   0.0391
Level     1,  Iter    17:    Energy =   0.0392
Level     1,  Iter    18:    Energy =   0.0393
Level     1,  Iter    19:    Energy =   0.0394
Level     1,  Iter    20:    Energy =   0.0396
Level     1,  Iter    21:    Energy =   0.0397
Level     1,  Iter    22:    Energy =   0.0399
Level     1,  Iter    23:    Energy =   0.0400
Level     1,  Iter    24:    Energy =   0.0402
Level     1,  Iter    25:    Energy =   0.0404
Level     1,  Iter    26:    Energy =   0.0405
Level     1,  Iter    27:    Energy =   0.0406
Level     1,  Iter    28:    Energy =   0.0407
Level     1,  Iter    29:    Energy =   0.0409
Level     1,  Iter    30:    Energy =   0.0410
Level     1,  Iter    31:    Energy =   0.0411
Level     1,  Iter    32:    Energy =   0.0412
Level     1,  Iter    33:    Energy =   0.0412
Level     1,  Iter    34:    Energy =   0.0413
Level     1,  Iter    35:    Energy =   0.0413
Level     1,  Iter    36:    Energy =   0.0414
Level     1,  Iter    37:    Energy =   0.0414
Level     1,  Iter    38:    Energy =   0.0415
Level     1,  Iter    39:    Energy =   0.0416
Level     1,  Iter    40:    Energy =   0.0417
Level     1,  Iter    41:    Energy =   0.0417
Level     1,  Iter    42:    Energy =   0.0418
Level     1,  Iter    43:    Energy =   0.0418
Level     1,  Iter    44:    Energy =   0.0419
Level     1,  Iter    45:    Energy =   0.0420
Level     1,  Iter    46:    Energy =   0.0420
Level     1,  Iter    47:    Energy =   0.0421
Level     1,  Iter    48:    Energy =   0.0421
Level     1,  Iter    49:    Energy =   0.0421
Level     1,  Iter    50:    Energy =   0.0421
Level     1,  Iter    51:    Energy =   0.0422
Level     1,  Iter    52:    Energy =   0.0422
Level     1,  Iter    53:    Energy =   0.0422
Level     1,  Iter    54:    Energy =   0.0422
Level     1,  Iter    55:    Energy =   0.0422
Level     1,  Iter    56:    Energy =   0.0422
Level     1,  Iter    57:    Energy =   0.0423
Level     1,  Iter    58:    Energy =   0.0423
Level     1,  Iter    59:    Energy =   0.0423
END OF LEVEL     1    DetJac Range:   0.0039  to   3.5410 
  Avg. Gradient Time  : 0.0287s  34.03% 
  Avg. Gaussian Time  : 0.0440s  52.16% 
  Avg. Iteration Time : 0.0843s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0186
Level     2,  Iter     1:    Energy =   0.0192
Level     2,  Iter     2:    Energy =   0.0199
Level     2,  Iter     3:    Energy =   0.0205
Level     2,  Iter     4:    Energy =   0.0211
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0220
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0229
Level     2,  Iter     9:    Energy =   0.0232
Level     2,  Iter    10:    Energy =   0.0235
Level     2,  Iter    11:    Energy =   0.0237
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0240
Level     2,  Iter    14:    Energy =   0.0241
Level     2,  Iter    15:    Energy =   0.0243
Level     2,  Iter    16:    Energy =   0.0244
Level     2,  Iter    17:    Energy =   0.0245
Level     2,  Iter    18:    Energy =   0.0247
Level     2,  Iter    19:    Energy =   0.0247
END OF LEVEL     2    DetJac Range:   0.0093  to   3.7416 
  Avg. Gradient Time  : 0.1846s  32.13% 
  Avg. Gaussian Time  : 0.3135s  54.56% 
  Avg. Iteration Time : 0.5747s 

real	0m20.713s
user	0m35.640s
sys	0m2.544s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 383.818   GNORM= 102.326
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       300.681      61.374       0.010
   2    5       235.377      63.095      21.000
   3    6         4.476     101.035       1.000
   4    8        -3.347      82.103       0.141
   5   10      -447.502     136.654       0.338
   6   11      -475.950      72.856       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.725306 -0.018321 0.0166014 -10.2561 
0.207658 0.93568 -0.113049 -0.858413 
0.369312 -0.328658 0.666108 -18.3723 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -214.394   GNORM= 822.251
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -231.417      53.196       0.001
   2    4      -241.571      28.450       5.000
   3    6      -245.278      29.788       0.347
   4    9      -246.728      26.162       0.036
   5   10      -250.294      41.283       1.000
   6   11      -253.158      16.782       1.000
   7   14      -257.121      15.267       0.866
   8   15      -261.146      23.892       1.000
   9   16      -263.936      22.403       1.000
  10   17      -270.704      18.732       1.000
  11   18      -280.208      70.533       1.000
  12   20      -302.666      39.156       5.000
  13   21      -356.891      85.051       1.000
  14   22      -388.091      54.578       1.000
  15   23      -400.641      43.507       1.000
  16   25      -407.715      25.062       0.306
  17   27      -409.715      26.350       0.219
  18   29      -413.265      11.980       0.381
  19   30      -416.587      30.495       1.000
  20   34      -417.302      26.467       0.066
  21   35      -420.973      25.406       1.000
  22   36      -423.844      20.582       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.67639 0.0710172 0.00950165 -13.5518 
0.0511547 0.688619 -0.0118873 0.871943 
0.552998 -0.346228 0.460089 -17.9675 
0 0 0 1 

Final RAS Transform: 
0.67639 0.0710172 0.00950165 -13.5518 
0.0511547 0.688619 -0.0118873 0.871943 
0.552998 -0.346228 0.460089 -17.9675 
0 0 0 1 


real	0m5.324s
user	0m8.776s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.298377
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0215
Level     0,  Iter     2:    Energy =   0.0233
Level     0,  Iter     3:    Energy =   0.0246
Level     0,  Iter     4:    Energy =   0.0256
Level     0,  Iter     5:    Energy =   0.0265
Level     0,  Iter     6:    Energy =   0.0272
Level     0,  Iter     7:    Energy =   0.0278
Level     0,  Iter     8:    Energy =   0.0283
Level     0,  Iter     9:    Energy =   0.0288
Level     0,  Iter    10:    Energy =   0.0292
Level     0,  Iter    11:    Energy =   0.0296
Level     0,  Iter    12:    Energy =   0.0300
Level     0,  Iter    13:    Energy =   0.0303
Level     0,  Iter    14:    Energy =   0.0307
Level     0,  Iter    15:    Energy =   0.0310
Level     0,  Iter    16:    Energy =   0.0313
Level     0,  Iter    17:    Energy =   0.0316
Level     0,  Iter    18:    Energy =   0.0319
Level     0,  Iter    19:    Energy =   0.0322
Level     0,  Iter    20:    Energy =   0.0324
Level     0,  Iter    21:    Energy =   0.0327
Level     0,  Iter    22:    Energy =   0.0331
Level     0,  Iter    23:    Energy =   0.0333
Level     0,  Iter    24:    Energy =   0.0335
Level     0,  Iter    25:    Energy =   0.0338
Level     0,  Iter    26:    Energy =   0.0339
Level     0,  Iter    27:    Energy =   0.0340
Level     0,  Iter    28:    Energy =   0.0342
Level     0,  Iter    29:    Energy =   0.0343
Level     0,  Iter    30:    Energy =   0.0344
Level     0,  Iter    31:    Energy =   0.0346
Level     0,  Iter    32:    Energy =   0.0347
Level     0,  Iter    33:    Energy =   0.0349
Level     0,  Iter    34:    Energy =   0.0351
Level     0,  Iter    35:    Energy =   0.0352
Level     0,  Iter    36:    Energy =   0.0353
Level     0,  Iter    37:    Energy =   0.0354
Level     0,  Iter    38:    Energy =   0.0356
Level     0,  Iter    39:    Energy =   0.0358
Level     0,  Iter    40:    Energy =   0.0359
Level     0,  Iter    41:    Energy =   0.0361
Level     0,  Iter    42:    Energy =   0.0362
Level     0,  Iter    43:    Energy =   0.0364
Level     0,  Iter    44:    Energy =   0.0366
Level     0,  Iter    45:    Energy =   0.0368
Level     0,  Iter    46:    Energy =   0.0369
Level     0,  Iter    47:    Energy =   0.0372
Level     0,  Iter    48:    Energy =   0.0374
Level     0,  Iter    49:    Energy =   0.0375
Level     0,  Iter    50:    Energy =   0.0377
Level     0,  Iter    51:    Energy =   0.0378
Level     0,  Iter    52:    Energy =   0.0380
Level     0,  Iter    53:    Energy =   0.0382
Level     0,  Iter    54:    Energy =   0.0384
Level     0,  Iter    55:    Energy =   0.0387
Level     0,  Iter    56:    Energy =   0.0389
Level     0,  Iter    57:    Energy =   0.0390
Level     0,  Iter    58:    Energy =   0.0393
Level     0,  Iter    59:    Energy =   0.0395
END OF LEVEL     0    DetJac Range:   0.0571  to   1.8249 
  Avg. Gradient Time  : 0.0066s  32.81% 
  Avg. Gaussian Time  : 0.0098s  48.41% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0226
Level     1,  Iter     1:    Energy =   0.0234
Level     1,  Iter     2:    Energy =   0.0240
Level     1,  Iter     3:    Energy =   0.0245
Level     1,  Iter     4:    Energy =   0.0250
Level     1,  Iter     5:    Energy =   0.0253
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0260
Level     1,  Iter     8:    Energy =   0.0263
Level     1,  Iter     9:    Energy =   0.0266
Level     1,  Iter    10:    Energy =   0.0268
Level     1,  Iter    11:    Energy =   0.0270
Level     1,  Iter    12:    Energy =   0.0271
Level     1,  Iter    13:    Energy =   0.0272
Level     1,  Iter    14:    Energy =   0.0273
Level     1,  Iter    15:    Energy =   0.0274
Level     1,  Iter    16:    Energy =   0.0275
Level     1,  Iter    17:    Energy =   0.0275
Level     1,  Iter    18:    Energy =   0.0275
Level     1,  Iter    19:    Energy =   0.0276
Level     1,  Iter    20:    Energy =   0.0276
Level     1,  Iter    21:    Energy =   0.0276
Level     1,  Iter    22:    Energy =   0.0276
Level     1,  Iter    23:    Energy =   0.0277
Level     1,  Iter    24:    Energy =   0.0277
Level     1,  Iter    25:    Energy =   0.0277
Level     1,  Iter    26:    Energy =   0.0277
Level     1,  Iter    27:    Energy =   0.0278
Level     1,  Iter    28:    Energy =   0.0278
Level     1,  Iter    29:    Energy =   0.0278
Level     1,  Iter    30:    Energy =   0.0279
Level     1,  Iter    31:    Energy =   0.0279
Level     1,  Iter    32:    Energy =   0.0280
Level     1,  Iter    33:    Energy =   0.0280
Level     1,  Iter    34:    Energy =   0.0280
Level     1,  Iter    35:    Energy =   0.0281
Level     1,  Iter    36:    Energy =   0.0281
Level     1,  Iter    37:    Energy =   0.0281
Level     1,  Iter    38:    Energy =   0.0281
Level     1,  Iter    39:    Energy =   0.0281
Level     1,  Iter    40:    Energy =   0.0282
Level     1,  Iter    41:    Energy =   0.0282
Level     1,  Iter    42:    Energy =   0.0282
Level     1,  Iter    43:    Energy =   0.0282
Level     1,  Iter    44:    Energy =   0.0282
Level     1,  Iter    45:    Energy =   0.0282
Level     1,  Iter    46:    Energy =   0.0282
Level     1,  Iter    47:    Energy =   0.0282
Level     1,  Iter    48:    Energy =   0.0282
Level     1,  Iter    49:    Energy =   0.0282
Level     1,  Iter    50:    Energy =   0.0282
Level     1,  Iter    51:    Energy =   0.0282
Level     1,  Iter    52:    Energy =   0.0282
Level     1,  Iter    53:    Energy =   0.0282
Level     1,  Iter    54:    Energy =   0.0282
Level     1,  Iter    55:    Energy =   0.0282
Level     1,  Iter    56:    Energy =   0.0283
Level     1,  Iter    57:    Energy =   0.0283
Level     1,  Iter    58:    Energy =   0.0283
Level     1,  Iter    59:    Energy =   0.0283
END OF LEVEL     1    DetJac Range:   0.0435  to   1.8695 
  Avg. Gradient Time  : 0.0282s  34.03% 
  Avg. Gaussian Time  : 0.0433s  52.14% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0129
Level     2,  Iter     1:    Energy =   0.0135
Level     2,  Iter     2:    Energy =   0.0141
Level     2,  Iter     3:    Energy =   0.0145
Level     2,  Iter     4:    Energy =   0.0150
Level     2,  Iter     5:    Energy =   0.0155
Level     2,  Iter     6:    Energy =   0.0159
Level     2,  Iter     7:    Energy =   0.0163
Level     2,  Iter     8:    Energy =   0.0166
Level     2,  Iter     9:    Energy =   0.0169
Level     2,  Iter    10:    Energy =   0.0171
Level     2,  Iter    11:    Energy =   0.0174
Level     2,  Iter    12:    Energy =   0.0175
Level     2,  Iter    13:    Energy =   0.0177
Level     2,  Iter    14:    Energy =   0.0178
Level     2,  Iter    15:    Energy =   0.0179
Level     2,  Iter    16:    Energy =   0.0181
Level     2,  Iter    17:    Energy =   0.0182
Level     2,  Iter    18:    Energy =   0.0183
Level     2,  Iter    19:    Energy =   0.0184
END OF LEVEL     2    DetJac Range:   0.0302  to   1.8699 
  Avg. Gradient Time  : 0.1877s  32.75% 
  Avg. Gaussian Time  : 0.3088s  53.89% 
  Avg. Iteration Time : 0.5730s 

real	0m20.418s
user	0m35.532s
sys	0m2.184s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 378.216   GNORM= 219.9
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       258.764     137.891       0.005
   2    3       123.299      95.904       1.000
   3    4      -108.427     156.472       1.000
   4    5      -540.051     110.341       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02715 -0.0145146 0.109797 -4.23544 
-0.0553054 1.20626 -0.184982 5.29173 
0.174321 -0.0923571 0.97875 -7.77937 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -280.579   GNORM= 27057.1
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -345.126    4923.795       0.000
   2    5      -347.232     108.605       0.027
   3    6      -347.650      99.758       1.000
   4    7      -349.351    1791.078       1.000
   5    9      -357.981      74.834       0.427
   6   10      -367.374     104.632       1.000
   7   11      -370.656     443.794       1.000
   8   15      -377.824      42.435       0.052
   9   28      -380.347      80.655       0.295
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03069 -0.0209175 0.115767 -4.82325 
-0.0558464 1.20517 -0.183123 5.34188 
0.166096 -0.0837343 0.961803 -6.46788 
0 0 0 1 

Final RAS Transform: 
1.03069 -0.0209175 0.115767 -4.82325 
-0.0558464 1.20517 -0.183123 5.34188 
0.166096 -0.0837343 0.961803 -6.46788 
0 0 0 1 


real	0m4.701s
user	0m7.772s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.425552
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0165
Level     0,  Iter     1:    Energy =   0.0183
Level     0,  Iter     2:    Energy =   0.0215
Level     0,  Iter     3:    Energy =   0.0250
Level     0,  Iter     4:    Energy =   0.0277
Level     0,  Iter     5:    Energy =   0.0301
Level     0,  Iter     6:    Energy =   0.0320
Level     0,  Iter     7:    Energy =   0.0338
Level     0,  Iter     8:    Energy =   0.0352
Level     0,  Iter     9:    Energy =   0.0363
Level     0,  Iter    10:    Energy =   0.0371
Level     0,  Iter    11:    Energy =   0.0377
Level     0,  Iter    12:    Energy =   0.0382
Level     0,  Iter    13:    Energy =   0.0388
Level     0,  Iter    14:    Energy =   0.0393
Level     0,  Iter    15:    Energy =   0.0399
Level     0,  Iter    16:    Energy =   0.0404
Level     0,  Iter    17:    Energy =   0.0408
Level     0,  Iter    18:    Energy =   0.0411
Level     0,  Iter    19:    Energy =   0.0414
Level     0,  Iter    20:    Energy =   0.0416
Level     0,  Iter    21:    Energy =   0.0417
Level     0,  Iter    22:    Energy =   0.0420
Level     0,  Iter    23:    Energy =   0.0423
Level     0,  Iter    24:    Energy =   0.0426
Level     0,  Iter    25:    Energy =   0.0429
Level     0,  Iter    26:    Energy =   0.0432
Level     0,  Iter    27:    Energy =   0.0434
Level     0,  Iter    28:    Energy =   0.0437
Level     0,  Iter    29:    Energy =   0.0440
Level     0,  Iter    30:    Energy =   0.0441
Level     0,  Iter    31:    Energy =   0.0442
Level     0,  Iter    32:    Energy =   0.0444
Level     0,  Iter    33:    Energy =   0.0445
Level     0,  Iter    34:    Energy =   0.0447
Level     0,  Iter    35:    Energy =   0.0449
Level     0,  Iter    36:    Energy =   0.0451
Level     0,  Iter    37:    Energy =   0.0452
Level     0,  Iter    38:    Energy =   0.0454
Level     0,  Iter    39:    Energy =   0.0455
Level     0,  Iter    40:    Energy =   0.0456
Level     0,  Iter    41:    Energy =   0.0457
Level     0,  Iter    42:    Energy =   0.0458
Level     0,  Iter    43:    Energy =   0.0459
Level     0,  Iter    44:    Energy =   0.0460
Level     0,  Iter    45:    Energy =   0.0462
Level     0,  Iter    46:    Energy =   0.0463
Level     0,  Iter    47:    Energy =   0.0465
Level     0,  Iter    48:    Energy =   0.0467
Level     0,  Iter    49:    Energy =   0.0468
Level     0,  Iter    50:    Energy =   0.0469
Level     0,  Iter    51:    Energy =   0.0470
Level     0,  Iter    52:    Energy =   0.0472
Level     0,  Iter    53:    Energy =   0.0472
Level     0,  Iter    54:    Energy =   0.0472
Level     0,  Iter    55:    Energy =   0.0473
Level     0,  Iter    56:    Energy =   0.0473
Level     0,  Iter    57:    Energy =   0.0473
Level     0,  Iter    58:    Energy =   0.0473
Level     0,  Iter    59:    Energy =   0.0473
END OF LEVEL     0    DetJac Range:   0.0552  to   3.2067 
  Avg. Gradient Time  : 0.0068s  33.08% 
  Avg. Gaussian Time  : 0.0099s  48.07% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0289
Level     1,  Iter     1:    Energy =   0.0301
Level     1,  Iter     2:    Energy =   0.0312
Level     1,  Iter     3:    Energy =   0.0320
Level     1,  Iter     4:    Energy =   0.0327
Level     1,  Iter     5:    Energy =   0.0334
Level     1,  Iter     6:    Energy =   0.0341
Level     1,  Iter     7:    Energy =   0.0348
Level     1,  Iter     8:    Energy =   0.0355
Level     1,  Iter     9:    Energy =   0.0361
Level     1,  Iter    10:    Energy =   0.0367
Level     1,  Iter    11:    Energy =   0.0372
Level     1,  Iter    12:    Energy =   0.0378
Level     1,  Iter    13:    Energy =   0.0382
Level     1,  Iter    14:    Energy =   0.0387
Level     1,  Iter    15:    Energy =   0.0391
Level     1,  Iter    16:    Energy =   0.0395
Level     1,  Iter    17:    Energy =   0.0398
Level     1,  Iter    18:    Energy =   0.0401
Level     1,  Iter    19:    Energy =   0.0404
Level     1,  Iter    20:    Energy =   0.0407
Level     1,  Iter    21:    Energy =   0.0410
Level     1,  Iter    22:    Energy =   0.0412
Level     1,  Iter    23:    Energy =   0.0414
Level     1,  Iter    24:    Energy =   0.0415
Level     1,  Iter    25:    Energy =   0.0417
Level     1,  Iter    26:    Energy =   0.0418
Level     1,  Iter    27:    Energy =   0.0418
Level     1,  Iter    28:    Energy =   0.0419
Level     1,  Iter    29:    Energy =   0.0420
Level     1,  Iter    30:    Energy =   0.0420
Level     1,  Iter    31:    Energy =   0.0421
Level     1,  Iter    32:    Energy =   0.0421
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0422
Level     1,  Iter    35:    Energy =   0.0422
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0422
Level     1,  Iter    38:    Energy =   0.0422
Level     1,  Iter    39:    Energy =   0.0422
Level     1,  Iter    40:    Energy =   0.0421
Level     1,  Iter    41:    Energy =   0.0421
Level     1,  Iter    42:    Energy =   0.0421
Level     1,  Iter    43:    Energy =   0.0421
Level     1,  Iter    44:    Energy =   0.0421
Level     1,  Iter    45:    Energy =   0.0421
Level     1,  Iter    46:    Energy =   0.0421
Level     1,  Iter    47:    Energy =   0.0421
Level     1,  Iter    48:    Energy =   0.0421
Level     1,  Iter    49:    Energy =   0.0421
Level     1,  Iter    50:    Energy =   0.0421
Level     1,  Iter    51:    Energy =   0.0421
Level     1,  Iter    52:    Energy =   0.0421
Level     1,  Iter    53:    Energy =   0.0421
Level     1,  Iter    54:    Energy =   0.0421
Level     1,  Iter    55:    Energy =   0.0422
Level     1,  Iter    56:    Energy =   0.0423
Level     1,  Iter    57:    Energy =   0.0423
Level     1,  Iter    58:    Energy =   0.0424
Level     1,  Iter    59:    Energy =   0.0425
END OF LEVEL     1    DetJac Range:   0.0268  to   3.2091 
  Avg. Gradient Time  : 0.0290s  34.01% 
  Avg. Gaussian Time  : 0.0444s  52.11% 
  Avg. Iteration Time : 0.0852s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0199
Level     2,  Iter     1:    Energy =   0.0205
Level     2,  Iter     2:    Energy =   0.0210
Level     2,  Iter     3:    Energy =   0.0214
Level     2,  Iter     4:    Energy =   0.0218
Level     2,  Iter     5:    Energy =   0.0221
Level     2,  Iter     6:    Energy =   0.0224
Level     2,  Iter     7:    Energy =   0.0227
Level     2,  Iter     8:    Energy =   0.0230
Level     2,  Iter     9:    Energy =   0.0232
Level     2,  Iter    10:    Energy =   0.0235
Level     2,  Iter    11:    Energy =   0.0237
Level     2,  Iter    12:    Energy =   0.0239
Level     2,  Iter    13:    Energy =   0.0241
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0242
Level     2,  Iter    16:    Energy =   0.0243
Level     2,  Iter    17:    Energy =   0.0244
Level     2,  Iter    18:    Energy =   0.0245
Level     2,  Iter    19:    Energy =   0.0246
END OF LEVEL     2    DetJac Range:   0.0197  to   2.9915 
  Avg. Gradient Time  : 0.1850s  32.40% 
  Avg. Gaussian Time  : 0.3094s  54.19% 
  Avg. Iteration Time : 0.5710s 

real	0m20.500s
user	0m35.640s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 394.741   GNORM= 170.746
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       252.785     114.682       0.006
   2    4      -672.526      74.366       5.000
   3    6      -746.224      67.503       0.481
   4   10      -751.679      65.779       0.051
   5   15      -752.693      82.002       0.025
   6   16      -755.670      54.597       1.000
   7   17      -775.481      69.225       1.000
   8   19      -841.924      99.309       0.265
   9   21      -850.638      74.501       0.106
  10   23      -872.723      42.148       5.000
  11   24      -909.401     184.633       1.000
  12   25     -1019.408     116.135       1.000
  13   26     -1049.684      97.350       1.000
  14   27     -1065.185      64.919       1.000
  15   28     -1071.752      79.544       1.000
  16   29     -1098.750      71.273       1.000
  17   33     -1111.843      93.923       0.229
  18   35     -1134.221      96.651       0.468
  19   36     -1174.964     115.239       1.000
  20   38     -1212.137      92.901       0.399
  21   39     -1253.024      80.416       1.000
  22   40     -1263.593      65.098       1.000
  23   41     -1302.963      65.353       1.000
  24   42     -1310.255      80.484       1.000
  25   43     -1345.636      80.991       1.000
  26   45     -1365.020      52.827       0.167
  27   47     -1371.202      33.348       0.114
  28   48     -1371.763      75.554       1.000
  29   49     -1381.618      46.054       1.000
  30   50     -1389.177      55.803       1.000
  31   51     -1399.190      19.409       1.000
  32   54     -1426.452     102.601       3.100
  33   57     -1429.075     129.131       1.977
  34   58     -1444.240     113.229       1.000
  35   59     -1458.626      57.681       1.000
  36   60     -1467.091      43.828       1.000
Final RAS Transform: 
0.225928 -0.666622 0.465745 0.306117 
-0.208595 1.15295 0.446901 18.4444 
0.412473 -0.222719 0.73859 -3.0435 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -780.496   GNORM= 78.2742
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -816.812      56.554       0.013
   2    3      -826.573      47.200       1.000
   3    4      -832.467      27.617       1.000
   4    5      -834.915      13.634       1.000
   5    6      -836.878      21.564       1.000
   6    7      -840.757      22.158       1.000
   7    8      -845.926      33.156       1.000
   8    9      -855.229      22.346       1.000
   9   10      -866.746      36.602       1.000
  10   11      -869.493      17.474       1.000
  11   12      -871.515       8.665       1.000
  12   13      -872.257      12.358       1.000
  13   16      -872.265      12.621       0.005
  14   18      -873.219      13.648       0.485
  15   19      -874.872      16.282       1.000
  16   20      -876.236      28.723       1.000
  17   21      -876.582      32.625       1.000
  18   22      -876.964      27.489       1.000
  19   24      -878.063      18.051       0.373
  20   26      -880.343      22.863       5.000
  21   28      -882.542       9.286       0.120
  22   29      -883.218      22.343       1.000
  23   30      -884.423      74.802       1.000
  24   32      -885.543      24.509       0.125
  25   33      -887.282      14.264       1.000
  26   34      -892.680      13.035       1.000
  27   35      -893.121      21.144       1.000
  28   37      -893.687      22.869       0.239
  29   38      -894.417      14.463       1.000
  30   39      -895.129       7.108       1.000
  31   41      -895.366       5.649       0.405
  32   43      -895.455      14.193       0.479
  33   46      -895.554       8.400       2.365
  34   47      -895.716       3.652       1.000
  35   48      -895.812      11.948       1.000
  36   49      -896.361      10.277       1.000
  37   50      -896.561       3.925       1.000
  38   51      -896.706       4.665       1.000
  39   52      -896.927       4.526       1.000
  40   54      -896.989       7.461       0.229
  41   58      -897.057       5.398       0.417
  42   60      -897.248      11.056       5.000
  43   61      -897.382       6.252       1.000
Final RAS Transform: 
0.204025 -0.707415 0.482185 -0.755087 
-0.210636 1.14581 0.520174 19.7729 
0.366773 -0.2786 0.832714 -1.40841 
0 0 0 1 

Final RAS Transform: 
0.204025 -0.707415 0.482185 -0.755087 
-0.210636 1.14581 0.520174 19.7729 
0.366773 -0.2786 0.832714 -1.40841 
0 0 0 1 


real	0m6.060s
user	0m10.208s
sys	0m0.608s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.303912
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0376
Level     0,  Iter     1:    Energy =   0.0400
Level     0,  Iter     2:    Energy =   0.0448
Level     0,  Iter     3:    Energy =   0.0484
Level     0,  Iter     4:    Energy =   0.0513
Level     0,  Iter     5:    Energy =   0.0533
Level     0,  Iter     6:    Energy =   0.0547
Level     0,  Iter     7:    Energy =   0.0561
Level     0,  Iter     8:    Energy =   0.0576
Level     0,  Iter     9:    Energy =   0.0589
Level     0,  Iter    10:    Energy =   0.0598
Level     0,  Iter    11:    Energy =   0.0598
Level     0,  Iter    12:    Energy =   0.0603
Level     0,  Iter    13:    Energy =   0.0609
Level     0,  Iter    14:    Energy =   0.0618
Level     0,  Iter    15:    Energy =   0.0620
Level     0,  Iter    16:    Energy =   0.0624
Level     0,  Iter    17:    Energy =   0.0623
Level     0,  Iter    18:    Energy =   0.0631
Level     0,  Iter    19:    Energy =   0.0629
Level     0,  Iter    20:    Energy =   0.0638
Level     0,  Iter    21:    Energy =   0.0636
Level     0,  Iter    22:    Energy =   0.0639
Level     0,  Iter    23:    Energy =   0.0640
Level     0,  Iter    24:    Energy =   0.0647
Level     0,  Iter    25:    Energy =   0.0651
Level     0,  Iter    26:    Energy =   0.0658
Level     0,  Iter    27:    Energy =   0.0663
Level     0,  Iter    28:    Energy =   0.0664
Level     0,  Iter    29:    Energy =   0.0666
Level     0,  Iter    30:    Energy =   0.0666
Level     0,  Iter    31:    Energy =   0.0664
Level     0,  Iter    32:    Energy =   0.0667
Level     0,  Iter    33:    Energy =   0.0665
Level     0,  Iter    34:    Energy =   0.0667
Level     0,  Iter    35:    Energy =   0.0664
Level     0,  Iter    36:    Energy =   0.0667
Level     0,  Iter    37:    Energy =   0.0664
Level     0,  Iter    38:    Energy =   0.0669
Level     0,  Iter    39:    Energy =   0.0666
Level     0,  Iter    40:    Energy =   0.0669
Level     0,  Iter    41:    Energy =   0.0667
Level     0,  Iter    42:    Energy =   0.0668
Level     0,  Iter    43:    Energy =   0.0666
Level     0,  Iter    44:    Energy =   0.0669
Level     0,  Iter    45:    Energy =   0.0667
Level     0,  Iter    46:    Energy =   0.0670
Level     0,  Iter    47:    Energy =   0.0668
Level     0,  Iter    48:    Energy =   0.0671
Level     0,  Iter    49:    Energy =   0.0668
Level     0,  Iter    50:    Energy =   0.0671
Level     0,  Iter    51:    Energy =   0.0668
Level     0,  Iter    52:    Energy =   0.0670
Level     0,  Iter    53:    Energy =   0.0667
Level     0,  Iter    54:    Energy =   0.0670
Level     0,  Iter    55:    Energy =   0.0667
Level     0,  Iter    56:    Energy =   0.0671
Level     0,  Iter    57:    Energy =   0.0669
Level     0,  Iter    58:    Energy =   0.0671
Level     0,  Iter    59:    Energy =   0.0669
END OF LEVEL     0    DetJac Range:   0.2045  to   2.1829 
  Avg. Gradient Time  : 0.0069s  32.88% 
  Avg. Gaussian Time  : 0.0102s  48.35% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0383
Level     1,  Iter     1:    Energy =   0.0408
Level     1,  Iter     2:    Energy =   0.0427
Level     1,  Iter     3:    Energy =   0.0442
Level     1,  Iter     4:    Energy =   0.0456
Level     1,  Iter     5:    Energy =   0.0468
Level     1,  Iter     6:    Energy =   0.0477
Level     1,  Iter     7:    Energy =   0.0487
Level     1,  Iter     8:    Energy =   0.0491
Level     1,  Iter     9:    Energy =   0.0498
Level     1,  Iter    10:    Energy =   0.0504
Level     1,  Iter    11:    Energy =   0.0506
Level     1,  Iter    12:    Energy =   0.0511
Level     1,  Iter    13:    Energy =   0.0515
Level     1,  Iter    14:    Energy =   0.0519
Level     1,  Iter    15:    Energy =   0.0521
Level     1,  Iter    16:    Energy =   0.0524
Level     1,  Iter    17:    Energy =   0.0525
Level     1,  Iter    18:    Energy =   0.0526
Level     1,  Iter    19:    Energy =   0.0528
Level     1,  Iter    20:    Energy =   0.0529
Level     1,  Iter    21:    Energy =   0.0530
Level     1,  Iter    22:    Energy =   0.0531
Level     1,  Iter    23:    Energy =   0.0532
Level     1,  Iter    24:    Energy =   0.0531
Level     1,  Iter    25:    Energy =   0.0532
Level     1,  Iter    26:    Energy =   0.0532
Level     1,  Iter    27:    Energy =   0.0532
Level     1,  Iter    28:    Energy =   0.0532
Level     1,  Iter    29:    Energy =   0.0532
Level     1,  Iter    30:    Energy =   0.0531
Level     1,  Iter    31:    Energy =   0.0531
Level     1,  Iter    32:    Energy =   0.0531
Level     1,  Iter    33:    Energy =   0.0531
Level     1,  Iter    34:    Energy =   0.0530
Level     1,  Iter    35:    Energy =   0.0530
Level     1,  Iter    36:    Energy =   0.0530
Level     1,  Iter    37:    Energy =   0.0531
Level     1,  Iter    38:    Energy =   0.0531
Level     1,  Iter    39:    Energy =   0.0531
Level     1,  Iter    40:    Energy =   0.0531
Level     1,  Iter    41:    Energy =   0.0531
Level     1,  Iter    42:    Energy =   0.0531
Level     1,  Iter    43:    Energy =   0.0531
Level     1,  Iter    44:    Energy =   0.0531
Level     1,  Iter    45:    Energy =   0.0531
Level     1,  Iter    46:    Energy =   0.0531
Level     1,  Iter    47:    Energy =   0.0531
Level     1,  Iter    48:    Energy =   0.0532
Level     1,  Iter    49:    Energy =   0.0532
Level     1,  Iter    50:    Energy =   0.0532
Level     1,  Iter    51:    Energy =   0.0532
Level     1,  Iter    52:    Energy =   0.0532
Level     1,  Iter    53:    Energy =   0.0532
Level     1,  Iter    54:    Energy =   0.0532
Level     1,  Iter    55:    Energy =   0.0532
Level     1,  Iter    56:    Energy =   0.0532
Level     1,  Iter    57:    Energy =   0.0532
Level     1,  Iter    58:    Energy =   0.0532
Level     1,  Iter    59:    Energy =   0.0532
END OF LEVEL     1    DetJac Range:   0.0194  to   3.7193 
  Avg. Gradient Time  : 0.0285s  33.90% 
  Avg. Gaussian Time  : 0.0439s  52.19% 
  Avg. Iteration Time : 0.0842s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0235
Level     2,  Iter     1:    Energy =   0.0246
Level     2,  Iter     2:    Energy =   0.0255
Level     2,  Iter     3:    Energy =   0.0262
Level     2,  Iter     4:    Energy =   0.0268
Level     2,  Iter     5:    Energy =   0.0272
Level     2,  Iter     6:    Energy =   0.0275
Level     2,  Iter     7:    Energy =   0.0279
Level     2,  Iter     8:    Energy =   0.0281
Level     2,  Iter     9:    Energy =   0.0283
Level     2,  Iter    10:    Energy =   0.0285
Level     2,  Iter    11:    Energy =   0.0287
Level     2,  Iter    12:    Energy =   0.0288
Level     2,  Iter    13:    Energy =   0.0289
Level     2,  Iter    14:    Energy =   0.0290
Level     2,  Iter    15:    Energy =   0.0291
Level     2,  Iter    16:    Energy =   0.0292
Level     2,  Iter    17:    Energy =   0.0292
Level     2,  Iter    18:    Energy =   0.0293
Level     2,  Iter    19:    Energy =   0.0293
END OF LEVEL     2    DetJac Range:   0.0299  to   4.3709 
  Avg. Gradient Time  : 0.1805s  32.08% 
  Avg. Gaussian Time  : 0.3063s  54.44% 
  Avg. Iteration Time : 0.5626s 

real	0m20.325s
user	0m35.300s
sys	0m2.248s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 475.735   GNORM= 212.629
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       301.997     121.581       0.005
   2    3       210.064      78.727       1.000
   3    6        85.978      98.411      21.000
   4    9      -209.986      39.744       0.751
   5   17      -708.514      96.320       3.041
   6   20      -712.651      54.069       0.031
   7   24      -714.672      41.253       0.071
   8   25      -759.297      61.597       1.000
   9   26      -774.889     105.321       1.000
  10   27      -841.486      81.022       1.000
  11   28      -924.537      93.647       1.000
  12   29      -944.697      84.488       1.000
  13   30     -1002.680      82.589       1.000
  14   31     -1047.804     151.957       1.000
  15   36     -1073.509     107.386       0.312
  16   37     -1081.032      50.441       1.000
  17   40     -1098.141     214.402       2.633
  18   43     -1108.436      91.826       0.667
  19   44     -1138.285      59.386       1.000
  20   45     -1159.565     227.672       1.000
  21   46     -1181.946     100.302       1.000
  22   47     -1217.305     106.584       1.000
  23   49     -1251.645     108.450       0.511
  24   51     -1269.959     100.627       0.485
  25   52     -1276.537     118.545       1.000
  26   54     -1289.613      62.512       0.145
  27   55     -1307.999      37.065       1.000
  28   57     -1330.981      39.969       0.497
  29   59     -1337.290      38.814       0.473
  30   60     -1340.566      21.901       1.000
  31   61     -1341.361      16.184       1.000
Final RAS Transform: 
0.888638 -0.176572 0.149399 -1.1441 
-0.325034 1.17073 0.288155 9.48855 
0.359767 -0.105808 0.850673 -2.68838 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -700.615   GNORM= 169.385
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -702.385      41.641       0.002
   2    4      -705.201      25.051       1.000
   3    5      -708.444      40.225       1.000
   4    7      -708.682      33.486       0.389
   5   16      -708.703      17.276       0.062
   6   18      -708.978      16.109       5.000
   7   19      -710.137      18.375       1.000
   8   20      -711.943      16.955       1.000
   9   21      -720.294      45.496       1.000
  10   26      -745.338      33.077       1.538
  11   28      -747.745      41.249       0.083
  12   31      -749.583      37.054       0.039
  13   33      -754.059      28.541       0.320
  14   34      -756.986      22.756       1.000
  15   35      -757.976      21.195       1.000
  16   37      -760.255      25.954       0.122
  17   38      -763.839      26.293       1.000
  18   41      -765.147      21.499       0.049
  19   43      -772.253      48.545       5.000
  20   44      -774.903      37.444       1.000
  21   45      -777.381      13.797       1.000
  22   46      -777.935       9.500       1.000
  23   47      -778.628      17.473       1.000
  24   48      -779.546      13.015       1.000
  25   50      -780.590      27.618       0.495
  26   51      -780.965       8.897       1.000
  27   54      -781.212      12.648       0.950
  28   55      -781.437      22.660       1.000
  29   58      -781.829      17.867       0.010
  30   59      -784.223      25.503       1.000
Final RAS Transform: 
0.92501 -0.0946692 0.172701 -3.93414 
-0.36473 1.15386 0.385788 11.1511 
0.303563 -0.0242333 0.864755 -5.18953 
0 0 0 1 

Final RAS Transform: 
0.92501 -0.0946692 0.172701 -3.93414 
-0.36473 1.15386 0.385788 11.1511 
0.303563 -0.0242333 0.864755 -5.18953 
0 0 0 1 


real	0m6.104s
user	0m10.296s
sys	0m0.600s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.387984
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0324
Level     0,  Iter     1:    Energy =   0.0355
Level     0,  Iter     2:    Energy =   0.0400
Level     0,  Iter     3:    Energy =   0.0432
Level     0,  Iter     4:    Energy =   0.0457
Level     0,  Iter     5:    Energy =   0.0473
Level     0,  Iter     6:    Energy =   0.0487
Level     0,  Iter     7:    Energy =   0.0503
Level     0,  Iter     8:    Energy =   0.0522
Level     0,  Iter     9:    Energy =   0.0537
Level     0,  Iter    10:    Energy =   0.0548
Level     0,  Iter    11:    Energy =   0.0558
Level     0,  Iter    12:    Energy =   0.0564
Level     0,  Iter    13:    Energy =   0.0569
Level     0,  Iter    14:    Energy =   0.0573
Level     0,  Iter    15:    Energy =   0.0576
Level     0,  Iter    16:    Energy =   0.0578
Level     0,  Iter    17:    Energy =   0.0579
Level     0,  Iter    18:    Energy =   0.0580
Level     0,  Iter    19:    Energy =   0.0581
Level     0,  Iter    20:    Energy =   0.0582
Level     0,  Iter    21:    Energy =   0.0582
Level     0,  Iter    22:    Energy =   0.0583
Level     0,  Iter    23:    Energy =   0.0584
Level     0,  Iter    24:    Energy =   0.0585
Level     0,  Iter    25:    Energy =   0.0585
Level     0,  Iter    26:    Energy =   0.0586
Level     0,  Iter    27:    Energy =   0.0587
Level     0,  Iter    28:    Energy =   0.0587
Level     0,  Iter    29:    Energy =   0.0588
Level     0,  Iter    30:    Energy =   0.0589
Level     0,  Iter    31:    Energy =   0.0589
Level     0,  Iter    32:    Energy =   0.0590
Level     0,  Iter    33:    Energy =   0.0590
Level     0,  Iter    34:    Energy =   0.0591
Level     0,  Iter    35:    Energy =   0.0592
Level     0,  Iter    36:    Energy =   0.0592
Level     0,  Iter    37:    Energy =   0.0592
Level     0,  Iter    38:    Energy =   0.0593
Level     0,  Iter    39:    Energy =   0.0594
Level     0,  Iter    40:    Energy =   0.0594
Level     0,  Iter    41:    Energy =   0.0594
Level     0,  Iter    42:    Energy =   0.0595
Level     0,  Iter    43:    Energy =   0.0596
Level     0,  Iter    44:    Energy =   0.0597
Level     0,  Iter    45:    Energy =   0.0596
Level     0,  Iter    46:    Energy =   0.0597
Level     0,  Iter    47:    Energy =   0.0598
Level     0,  Iter    48:    Energy =   0.0598
Level     0,  Iter    49:    Energy =   0.0597
Level     0,  Iter    50:    Energy =   0.0599
Level     0,  Iter    51:    Energy =   0.0599
Level     0,  Iter    52:    Energy =   0.0600
Level     0,  Iter    53:    Energy =   0.0599
Level     0,  Iter    54:    Energy =   0.0601
Level     0,  Iter    55:    Energy =   0.0600
Level     0,  Iter    56:    Energy =   0.0602
Level     0,  Iter    57:    Energy =   0.0602
Level     0,  Iter    58:    Energy =   0.0603
Level     0,  Iter    59:    Energy =   0.0603
END OF LEVEL     0    DetJac Range:   0.1070  to   2.1515 
  Avg. Gradient Time  : 0.0068s  33.11% 
  Avg. Gaussian Time  : 0.0099s  48.00% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0369
Level     1,  Iter     1:    Energy =   0.0394
Level     1,  Iter     2:    Energy =   0.0411
Level     1,  Iter     3:    Energy =   0.0424
Level     1,  Iter     4:    Energy =   0.0434
Level     1,  Iter     5:    Energy =   0.0441
Level     1,  Iter     6:    Energy =   0.0446
Level     1,  Iter     7:    Energy =   0.0452
Level     1,  Iter     8:    Energy =   0.0455
Level     1,  Iter     9:    Energy =   0.0459
Level     1,  Iter    10:    Energy =   0.0463
Level     1,  Iter    11:    Energy =   0.0466
Level     1,  Iter    12:    Energy =   0.0469
Level     1,  Iter    13:    Energy =   0.0472
Level     1,  Iter    14:    Energy =   0.0475
Level     1,  Iter    15:    Energy =   0.0477
Level     1,  Iter    16:    Energy =   0.0480
Level     1,  Iter    17:    Energy =   0.0483
Level     1,  Iter    18:    Energy =   0.0486
Level     1,  Iter    19:    Energy =   0.0489
Level     1,  Iter    20:    Energy =   0.0493
Level     1,  Iter    21:    Energy =   0.0497
Level     1,  Iter    22:    Energy =   0.0500
Level     1,  Iter    23:    Energy =   0.0503
Level     1,  Iter    24:    Energy =   0.0506
Level     1,  Iter    25:    Energy =   0.0509
Level     1,  Iter    26:    Energy =   0.0512
Level     1,  Iter    27:    Energy =   0.0514
Level     1,  Iter    28:    Energy =   0.0516
Level     1,  Iter    29:    Energy =   0.0518
Level     1,  Iter    30:    Energy =   0.0520
Level     1,  Iter    31:    Energy =   0.0522
Level     1,  Iter    32:    Energy =   0.0524
Level     1,  Iter    33:    Energy =   0.0525
Level     1,  Iter    34:    Energy =   0.0527
Level     1,  Iter    35:    Energy =   0.0528
Level     1,  Iter    36:    Energy =   0.0529
Level     1,  Iter    37:    Energy =   0.0530
Level     1,  Iter    38:    Energy =   0.0531
Level     1,  Iter    39:    Energy =   0.0532
Level     1,  Iter    40:    Energy =   0.0532
Level     1,  Iter    41:    Energy =   0.0533
Level     1,  Iter    42:    Energy =   0.0534
Level     1,  Iter    43:    Energy =   0.0535
Level     1,  Iter    44:    Energy =   0.0536
Level     1,  Iter    45:    Energy =   0.0536
Level     1,  Iter    46:    Energy =   0.0537
Level     1,  Iter    47:    Energy =   0.0537
Level     1,  Iter    48:    Energy =   0.0538
Level     1,  Iter    49:    Energy =   0.0538
Level     1,  Iter    50:    Energy =   0.0539
Level     1,  Iter    51:    Energy =   0.0539
Level     1,  Iter    52:    Energy =   0.0540
Level     1,  Iter    53:    Energy =   0.0540
Level     1,  Iter    54:    Energy =   0.0541
Level     1,  Iter    55:    Energy =   0.0541
Level     1,  Iter    56:    Energy =   0.0541
Level     1,  Iter    57:    Energy =   0.0542
Level     1,  Iter    58:    Energy =   0.0542
Level     1,  Iter    59:    Energy =   0.0543
END OF LEVEL     1    DetJac Range:   0.0695  to   3.6914 
  Avg. Gradient Time  : 0.0284s  33.67% 
  Avg. Gaussian Time  : 0.0442s  52.41% 
  Avg. Iteration Time : 0.0843s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0243
Level     2,  Iter     1:    Energy =   0.0249
Level     2,  Iter     2:    Energy =   0.0254
Level     2,  Iter     3:    Energy =   0.0259
Level     2,  Iter     4:    Energy =   0.0264
Level     2,  Iter     5:    Energy =   0.0268
Level     2,  Iter     6:    Energy =   0.0272
Level     2,  Iter     7:    Energy =   0.0276
Level     2,  Iter     8:    Energy =   0.0280
Level     2,  Iter     9:    Energy =   0.0283
Level     2,  Iter    10:    Energy =   0.0286
Level     2,  Iter    11:    Energy =   0.0289
Level     2,  Iter    12:    Energy =   0.0292
Level     2,  Iter    13:    Energy =   0.0296
Level     2,  Iter    14:    Energy =   0.0299
Level     2,  Iter    15:    Energy =   0.0301
Level     2,  Iter    16:    Energy =   0.0304
Level     2,  Iter    17:    Energy =   0.0306
Level     2,  Iter    18:    Energy =   0.0309
Level     2,  Iter    19:    Energy =   0.0311
END OF LEVEL     2    DetJac Range:   0.0678  to   4.0174 
  Avg. Gradient Time  : 0.1801s  32.20% 
  Avg. Gaussian Time  : 0.3043s  54.41% 
  Avg. Iteration Time : 0.5592s 

real	0m20.219s
user	0m35.160s
sys	0m2.232s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 419.27   GNORM= 240.286
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       262.081     121.496       0.004
   2    3       155.826      82.041       1.000
   3    4        96.918     115.630       1.000
   4    5        40.927      72.512       1.000
   5    6         7.737     160.496       1.000
   6    8      -188.600     117.499       5.000
   7   12      -331.589      95.896       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09217 0.102685 0.0723072 -4.3106 
-0.0622319 1.01634 -0.226044 6.4804 
0.176142 -0.0792937 0.918228 -9.09348 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -144.617   GNORM= 524.65
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -146.091      20.444       0.002
   2    3      -146.751      44.311       1.000
   3   11      -277.912      33.377       7.376
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01953 -0.0211894 0.0275353 -3.84917 
-0.161004 1.00102 -0.261445 19.1896 
-0.0285307 -0.180383 0.944553 5.51228 
0 0 0 1 

Final RAS Transform: 
1.01953 -0.0211894 0.0275353 -3.84917 
-0.161004 1.00102 -0.261445 19.1896 
-0.0285307 -0.180383 0.944553 5.51228 
0 0 0 1 


real	0m3.843s
user	0m6.096s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.435179
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0190
Level     0,  Iter     1:    Energy =   0.0210
Level     0,  Iter     2:    Energy =   0.0244
Level     0,  Iter     3:    Energy =   0.0278
Level     0,  Iter     4:    Energy =   0.0310
Level     0,  Iter     5:    Energy =   0.0335
Level     0,  Iter     6:    Energy =   0.0356
Level     0,  Iter     7:    Energy =   0.0375
Level     0,  Iter     8:    Energy =   0.0390
Level     0,  Iter     9:    Energy =   0.0399
Level     0,  Iter    10:    Energy =   0.0411
Level     0,  Iter    11:    Energy =   0.0412
Level     0,  Iter    12:    Energy =   0.0429
Level     0,  Iter    13:    Energy =   0.0425
Level     0,  Iter    14:    Energy =   0.0439
Level     0,  Iter    15:    Energy =   0.0433
Level     0,  Iter    16:    Energy =   0.0446
Level     0,  Iter    17:    Energy =   0.0441
Level     0,  Iter    18:    Energy =   0.0453
Level     0,  Iter    19:    Energy =   0.0450
Level     0,  Iter    20:    Energy =   0.0456
Level     0,  Iter    21:    Energy =   0.0468
Level     0,  Iter    22:    Energy =   0.0473
Level     0,  Iter    23:    Energy =   0.0483
Level     0,  Iter    24:    Energy =   0.0483
Level     0,  Iter    25:    Energy =   0.0483
Level     0,  Iter    26:    Energy =   0.0492
Level     0,  Iter    27:    Energy =   0.0489
Level     0,  Iter    28:    Energy =   0.0491
Level     0,  Iter    29:    Energy =   0.0497
Level     0,  Iter    30:    Energy =   0.0504
Level     0,  Iter    31:    Energy =   0.0499
Level     0,  Iter    32:    Energy =   0.0509
Level     0,  Iter    33:    Energy =   0.0501
Level     0,  Iter    34:    Energy =   0.0511
Level     0,  Iter    35:    Energy =   0.0502
Level     0,  Iter    36:    Energy =   0.0511
Level     0,  Iter    37:    Energy =   0.0503
Level     0,  Iter    38:    Energy =   0.0511
Level     0,  Iter    39:    Energy =   0.0504
Level     0,  Iter    40:    Energy =   0.0512
Level     0,  Iter    41:    Energy =   0.0504
Level     0,  Iter    42:    Energy =   0.0513
Level     0,  Iter    43:    Energy =   0.0506
Level     0,  Iter    44:    Energy =   0.0514
Level     0,  Iter    45:    Energy =   0.0507
Level     0,  Iter    46:    Energy =   0.0516
Level     0,  Iter    47:    Energy =   0.0509
Level     0,  Iter    48:    Energy =   0.0516
Level     0,  Iter    49:    Energy =   0.0509
Level     0,  Iter    50:    Energy =   0.0518
Level     0,  Iter    51:    Energy =   0.0510
Level     0,  Iter    52:    Energy =   0.0518
Level     0,  Iter    53:    Energy =   0.0511
Level     0,  Iter    54:    Energy =   0.0519
Level     0,  Iter    55:    Energy =   0.0512
Level     0,  Iter    56:    Energy =   0.0519
Level     0,  Iter    57:    Energy =   0.0512
Level     0,  Iter    58:    Energy =   0.0520
Level     0,  Iter    59:    Energy =   0.0513
END OF LEVEL     0    DetJac Range:   0.1887  to   3.4728 
  Avg. Gradient Time  : 0.0069s  33.12% 
  Avg. Gaussian Time  : 0.0101s  48.08% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0277
Level     1,  Iter     1:    Energy =   0.0289
Level     1,  Iter     2:    Energy =   0.0300
Level     1,  Iter     3:    Energy =   0.0311
Level     1,  Iter     4:    Energy =   0.0323
Level     1,  Iter     5:    Energy =   0.0330
Level     1,  Iter     6:    Energy =   0.0337
Level     1,  Iter     7:    Energy =   0.0342
Level     1,  Iter     8:    Energy =   0.0347
Level     1,  Iter     9:    Energy =   0.0352
Level     1,  Iter    10:    Energy =   0.0357
Level     1,  Iter    11:    Energy =   0.0359
Level     1,  Iter    12:    Energy =   0.0358
Level     1,  Iter    13:    Energy =   0.0361
Level     1,  Iter    14:    Energy =   0.0364
Level     1,  Iter    15:    Energy =   0.0366
Level     1,  Iter    16:    Energy =   0.0367
Level     1,  Iter    17:    Energy =   0.0369
Level     1,  Iter    18:    Energy =   0.0370
Level     1,  Iter    19:    Energy =   0.0372
Level     1,  Iter    20:    Energy =   0.0373
Level     1,  Iter    21:    Energy =   0.0374
Level     1,  Iter    22:    Energy =   0.0375
Level     1,  Iter    23:    Energy =   0.0376
Level     1,  Iter    24:    Energy =   0.0377
Level     1,  Iter    25:    Energy =   0.0378
Level     1,  Iter    26:    Energy =   0.0379
Level     1,  Iter    27:    Energy =   0.0379
Level     1,  Iter    28:    Energy =   0.0380
Level     1,  Iter    29:    Energy =   0.0381
Level     1,  Iter    30:    Energy =   0.0382
Level     1,  Iter    31:    Energy =   0.0383
Level     1,  Iter    32:    Energy =   0.0384
Level     1,  Iter    33:    Energy =   0.0385
Level     1,  Iter    34:    Energy =   0.0386
Level     1,  Iter    35:    Energy =   0.0387
Level     1,  Iter    36:    Energy =   0.0388
Level     1,  Iter    37:    Energy =   0.0389
Level     1,  Iter    38:    Energy =   0.0390
Level     1,  Iter    39:    Energy =   0.0390
Level     1,  Iter    40:    Energy =   0.0391
Level     1,  Iter    41:    Energy =   0.0392
Level     1,  Iter    42:    Energy =   0.0393
Level     1,  Iter    43:    Energy =   0.0394
Level     1,  Iter    44:    Energy =   0.0394
Level     1,  Iter    45:    Energy =   0.0395
Level     1,  Iter    46:    Energy =   0.0395
Level     1,  Iter    47:    Energy =   0.0395
Level     1,  Iter    48:    Energy =   0.0396
Level     1,  Iter    49:    Energy =   0.0396
Level     1,  Iter    50:    Energy =   0.0396
Level     1,  Iter    51:    Energy =   0.0396
Level     1,  Iter    52:    Energy =   0.0397
Level     1,  Iter    53:    Energy =   0.0397
Level     1,  Iter    54:    Energy =   0.0398
Level     1,  Iter    55:    Energy =   0.0399
Level     1,  Iter    56:    Energy =   0.0399
Level     1,  Iter    57:    Energy =   0.0400
Level     1,  Iter    58:    Energy =   0.0400
Level     1,  Iter    59:    Energy =   0.0400
END OF LEVEL     1    DetJac Range:   0.0691  to   3.5053 
  Avg. Gradient Time  : 0.0275s  33.76% 
  Avg. Gaussian Time  : 0.0425s  52.31% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0169
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0193
Level     2,  Iter     4:    Energy =   0.0199
Level     2,  Iter     5:    Energy =   0.0203
Level     2,  Iter     6:    Energy =   0.0207
Level     2,  Iter     7:    Energy =   0.0210
Level     2,  Iter     8:    Energy =   0.0213
Level     2,  Iter     9:    Energy =   0.0215
Level     2,  Iter    10:    Energy =   0.0218
Level     2,  Iter    11:    Energy =   0.0219
Level     2,  Iter    12:    Energy =   0.0221
Level     2,  Iter    13:    Energy =   0.0222
Level     2,  Iter    14:    Energy =   0.0224
Level     2,  Iter    15:    Energy =   0.0225
Level     2,  Iter    16:    Energy =   0.0225
Level     2,  Iter    17:    Energy =   0.0226
Level     2,  Iter    18:    Energy =   0.0226
Level     2,  Iter    19:    Energy =   0.0226
END OF LEVEL     2    DetJac Range:   0.0336  to   3.7542 
  Avg. Gradient Time  : 0.1850s  32.35% 
  Avg. Gaussian Time  : 0.3099s  54.19% 
  Avg. Iteration Time : 0.5719s 

real	0m20.344s
user	0m35.360s
sys	0m2.220s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 481.477   GNORM= 170.944
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       359.408      98.412       0.006
   2    4      -594.347     193.028       5.000
   3    7      -707.792     139.273       0.067
   4    8      -749.565      81.192       1.000
   5    9      -803.316      71.328       1.000
   6   10      -811.630      32.076       1.000
   7   11      -819.010      41.181       1.000
   8   12      -833.898      58.542       1.000
   9   13      -862.544     153.782       1.000
  10   18     -1077.692     101.911       2.091
  11   19     -1101.001     191.210       1.000
  12   21     -1268.796     122.928       0.487
  13   24     -1303.903     114.208       0.772
  14   25     -1358.152      78.578       1.000
  15   27     -1369.074      61.257       0.225
  16   28     -1383.965      36.276       1.000
  17   29     -1398.253      74.666       1.000
  18   32     -1458.610      84.686       2.205
  19   37     -1476.025      44.921       1.060
  20   40     -1485.751      43.887       1.849
  21   41     -1494.273      48.924       1.000
  22   43     -1499.125      49.416       0.078
  23   45     -1502.336      36.728       0.087
  24   47     -1505.308      62.136       0.417
  25   48     -1506.083      66.016       1.000
  26   49     -1514.452      46.614       1.000
  27   50     -1517.446      25.979       1.000
  28   51     -1523.382      61.473       1.000
  29   52     -1529.298      40.337       1.000
  30   53     -1531.617      37.855       1.000
  31   54     -1535.164      21.163       1.000
  32   56     -1536.087      15.503       0.440
  33   57     -1536.940      12.990       1.000
  34   59     -1538.165      25.462       0.390
  35   60     -1539.163      12.827       1.000
  36   61     -1540.768      10.304       1.000
Final RAS Transform: 
0.757246 -0.530714 -0.0398032 -1.17426 
-0.165636 1.06049 0.285403 14.9771 
0.397861 -0.143082 0.82427 -1.46632 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -815.234   GNORM= 140.51
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -827.334      15.528       0.002
   2    5      -827.569      25.741       0.373
   3    8      -828.388      14.203       0.650
   4   10      -829.682      16.414       5.000
   5   12      -829.966      20.316       0.281
   6   13      -830.506      43.282       1.000
   7   14      -832.365      30.420       1.000
   8   16      -832.578      70.962       0.023
   9   18      -847.058      20.203       0.205
  10   20      -847.687      45.201       0.455
  11   21      -848.481      65.424       1.000
  12   22      -850.045      42.318       1.000
  13   23      -851.546     161.431       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.775299 -0.567603 -0.0298263 -0.0249778 
-0.183167 1.04576 0.345478 15.9372 
0.393061 -0.124804 0.824746 -1.96187 
0 0 0 1 

Final RAS Transform: 
0.775299 -0.567603 -0.0298263 -0.0249778 
-0.183167 1.04576 0.345478 15.9372 
0.393061 -0.124804 0.824746 -1.96187 
0 0 0 1 


real	0m4.888s
user	0m7.984s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.406398
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0382
Level     0,  Iter     1:    Energy =   0.0410
Level     0,  Iter     2:    Energy =   0.0459
Level     0,  Iter     3:    Energy =   0.0497
Level     0,  Iter     4:    Energy =   0.0527
Level     0,  Iter     5:    Energy =   0.0550
Level     0,  Iter     6:    Energy =   0.0567
Level     0,  Iter     7:    Energy =   0.0583
Level     0,  Iter     8:    Energy =   0.0598
Level     0,  Iter     9:    Energy =   0.0609
Level     0,  Iter    10:    Energy =   0.0616
Level     0,  Iter    11:    Energy =   0.0620
Level     0,  Iter    12:    Energy =   0.0623
Level     0,  Iter    13:    Energy =   0.0634
Level     0,  Iter    14:    Energy =   0.0644
Level     0,  Iter    15:    Energy =   0.0654
Level     0,  Iter    16:    Energy =   0.0653
Level     0,  Iter    17:    Energy =   0.0661
Level     0,  Iter    18:    Energy =   0.0659
Level     0,  Iter    19:    Energy =   0.0667
Level     0,  Iter    20:    Energy =   0.0663
Level     0,  Iter    21:    Energy =   0.0670
Level     0,  Iter    22:    Energy =   0.0668
Level     0,  Iter    23:    Energy =   0.0675
Level     0,  Iter    24:    Energy =   0.0673
Level     0,  Iter    25:    Energy =   0.0679
Level     0,  Iter    26:    Energy =   0.0676
Level     0,  Iter    27:    Energy =   0.0683
Level     0,  Iter    28:    Energy =   0.0682
Level     0,  Iter    29:    Energy =   0.0688
Level     0,  Iter    30:    Energy =   0.0686
Level     0,  Iter    31:    Energy =   0.0692
Level     0,  Iter    32:    Energy =   0.0690
Level     0,  Iter    33:    Energy =   0.0695
Level     0,  Iter    34:    Energy =   0.0692
Level     0,  Iter    35:    Energy =   0.0698
Level     0,  Iter    36:    Energy =   0.0695
Level     0,  Iter    37:    Energy =   0.0699
Level     0,  Iter    38:    Energy =   0.0696
Level     0,  Iter    39:    Energy =   0.0699
Level     0,  Iter    40:    Energy =   0.0697
Level     0,  Iter    41:    Energy =   0.0701
Level     0,  Iter    42:    Energy =   0.0699
Level     0,  Iter    43:    Energy =   0.0702
Level     0,  Iter    44:    Energy =   0.0700
Level     0,  Iter    45:    Energy =   0.0704
Level     0,  Iter    46:    Energy =   0.0702
Level     0,  Iter    47:    Energy =   0.0704
Level     0,  Iter    48:    Energy =   0.0703
Level     0,  Iter    49:    Energy =   0.0706
Level     0,  Iter    50:    Energy =   0.0704
Level     0,  Iter    51:    Energy =   0.0706
Level     0,  Iter    52:    Energy =   0.0704
Level     0,  Iter    53:    Energy =   0.0707
Level     0,  Iter    54:    Energy =   0.0705
Level     0,  Iter    55:    Energy =   0.0707
Level     0,  Iter    56:    Energy =   0.0705
Level     0,  Iter    57:    Energy =   0.0709
Level     0,  Iter    58:    Energy =   0.0706
Level     0,  Iter    59:    Energy =   0.0710
END OF LEVEL     0    DetJac Range:   0.1518  to   1.9909 
  Avg. Gradient Time  : 0.0068s  33.30% 
  Avg. Gaussian Time  : 0.0097s  47.95% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0392
Level     1,  Iter     1:    Energy =   0.0415
Level     1,  Iter     2:    Energy =   0.0431
Level     1,  Iter     3:    Energy =   0.0444
Level     1,  Iter     4:    Energy =   0.0456
Level     1,  Iter     5:    Energy =   0.0468
Level     1,  Iter     6:    Energy =   0.0478
Level     1,  Iter     7:    Energy =   0.0487
Level     1,  Iter     8:    Energy =   0.0495
Level     1,  Iter     9:    Energy =   0.0502
Level     1,  Iter    10:    Energy =   0.0509
Level     1,  Iter    11:    Energy =   0.0514
Level     1,  Iter    12:    Energy =   0.0520
Level     1,  Iter    13:    Energy =   0.0524
Level     1,  Iter    14:    Energy =   0.0528
Level     1,  Iter    15:    Energy =   0.0531
Level     1,  Iter    16:    Energy =   0.0534
Level     1,  Iter    17:    Energy =   0.0537
Level     1,  Iter    18:    Energy =   0.0539
Level     1,  Iter    19:    Energy =   0.0540
Level     1,  Iter    20:    Energy =   0.0542
Level     1,  Iter    21:    Energy =   0.0544
Level     1,  Iter    22:    Energy =   0.0546
Level     1,  Iter    23:    Energy =   0.0548
Level     1,  Iter    24:    Energy =   0.0550
Level     1,  Iter    25:    Energy =   0.0553
Level     1,  Iter    26:    Energy =   0.0555
Level     1,  Iter    27:    Energy =   0.0556
Level     1,  Iter    28:    Energy =   0.0558
Level     1,  Iter    29:    Energy =   0.0558
Level     1,  Iter    30:    Energy =   0.0560
Level     1,  Iter    31:    Energy =   0.0560
Level     1,  Iter    32:    Energy =   0.0562
Level     1,  Iter    33:    Energy =   0.0562
Level     1,  Iter    34:    Energy =   0.0564
Level     1,  Iter    35:    Energy =   0.0564
Level     1,  Iter    36:    Energy =   0.0562
Level     1,  Iter    37:    Energy =   0.0562
Level     1,  Iter    38:    Energy =   0.0563
Level     1,  Iter    39:    Energy =   0.0564
Level     1,  Iter    40:    Energy =   0.0565
Level     1,  Iter    41:    Energy =   0.0566
Level     1,  Iter    42:    Energy =   0.0568
Level     1,  Iter    43:    Energy =   0.0569
Level     1,  Iter    44:    Energy =   0.0570
Level     1,  Iter    45:    Energy =   0.0571
Level     1,  Iter    46:    Energy =   0.0572
Level     1,  Iter    47:    Energy =   0.0572
Level     1,  Iter    48:    Energy =   0.0573
Level     1,  Iter    49:    Energy =   0.0573
Level     1,  Iter    50:    Energy =   0.0574
Level     1,  Iter    51:    Energy =   0.0574
Level     1,  Iter    52:    Energy =   0.0575
Level     1,  Iter    53:    Energy =   0.0575
Level     1,  Iter    54:    Energy =   0.0575
Level     1,  Iter    55:    Energy =   0.0576
Level     1,  Iter    56:    Energy =   0.0576
Level     1,  Iter    57:    Energy =   0.0576
Level     1,  Iter    58:    Energy =   0.0577
Level     1,  Iter    59:    Energy =   0.0577
END OF LEVEL     1    DetJac Range:   0.0705  to   4.2737 
  Avg. Gradient Time  : 0.0281s  33.92% 
  Avg. Gaussian Time  : 0.0432s  52.17% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0263
Level     2,  Iter     1:    Energy =   0.0268
Level     2,  Iter     2:    Energy =   0.0273
Level     2,  Iter     3:    Energy =   0.0278
Level     2,  Iter     4:    Energy =   0.0283
Level     2,  Iter     5:    Energy =   0.0287
Level     2,  Iter     6:    Energy =   0.0292
Level     2,  Iter     7:    Energy =   0.0296
Level     2,  Iter     8:    Energy =   0.0301
Level     2,  Iter     9:    Energy =   0.0307
Level     2,  Iter    10:    Energy =   0.0312
Level     2,  Iter    11:    Energy =   0.0316
Level     2,  Iter    12:    Energy =   0.0320
Level     2,  Iter    13:    Energy =   0.0324
Level     2,  Iter    14:    Energy =   0.0327
Level     2,  Iter    15:    Energy =   0.0329
Level     2,  Iter    16:    Energy =   0.0331
Level     2,  Iter    17:    Energy =   0.0332
Level     2,  Iter    18:    Energy =   0.0334
Level     2,  Iter    19:    Energy =   0.0336
END OF LEVEL     2    DetJac Range:   0.0566  to   3.7282 
  Avg. Gradient Time  : 0.1836s  32.44% 
  Avg. Gaussian Time  : 0.3064s  54.15% 
  Avg. Iteration Time : 0.5658s 

real	0m20.261s
user	0m35.180s
sys	0m2.320s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 345.612   GNORM= 264.827
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       176.384     123.109       0.004
   2    3        77.829      72.961       1.000
   3    4       -23.098      68.503       1.000
   4    5      -125.259     112.981       1.000
   5    6      -451.575      39.895       1.000
   6   10      -501.464      42.931       3.121
   7   11      -562.109      47.046       1.000
   8   14      -575.325      60.421       0.043
   9   15      -609.575     111.103       1.000
  10   16      -669.271      59.222       1.000
  11   17      -706.150      66.053       1.000
  12   21      -732.188      32.832       1.405
  13   22      -762.843     580.875       1.000
  14   25      -788.967      57.437       0.022
  15   28      -798.729      39.956       0.022
  16   29      -801.856      75.775       1.000
  17   30      -817.447      65.755       1.000
  18   31      -826.922      61.524       1.000
  19   33      -832.842      44.414       0.328
  20   34      -842.905      48.486       1.000
  21   37      -856.319      70.117       0.734
  22   39      -863.272      62.000       0.078
  23   42      -868.070      16.631       1.818
  24   43      -870.833      19.126       1.000
  25   44      -880.214      24.277       1.000
  26   47      -902.171      43.514       0.223
  27   50      -902.750      80.084       0.008
  28   53      -902.848      69.798       0.058
  29   54      -912.782      40.148       1.000
  30   55      -924.382      63.454       1.000
  31   59      -927.305      43.520       0.092
  32   61      -927.582      43.930       0.303
Final RAS Transform: 
1.10546 0.0511612 0.417133 -10.6024 
-0.388565 0.965352 -0.108729 6.24575 
0.865475 0.218311 0.539844 -16.8905 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -360.135   GNORM= 32.6387
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -373.387      17.008       0.021
   2    5      -375.414      17.720       1.000
   3   11      -392.393      42.120       1.801
   4   12      -402.297      15.058       1.000
   5   15      -403.946     105.832       2.330
   6   23      -404.002     595.222       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.09605 0.0617668 0.407863 -9.16683 
-0.381832 0.96875 -0.121449 5.06775 
0.856539 0.234592 0.549758 -16.7351 
0 0 0 1 

Final RAS Transform: 
1.09605 0.0617668 0.407863 -9.16683 
-0.381832 0.96875 -0.121449 5.06775 
0.856539 0.234592 0.549758 -16.7351 
0 0 0 1 


real	0m4.737s
user	0m7.748s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.307123
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0228
Level     0,  Iter     1:    Energy =   0.0245
Level     0,  Iter     2:    Energy =   0.0272
Level     0,  Iter     3:    Energy =   0.0291
Level     0,  Iter     4:    Energy =   0.0309
Level     0,  Iter     5:    Energy =   0.0328
Level     0,  Iter     6:    Energy =   0.0345
Level     0,  Iter     7:    Energy =   0.0358
Level     0,  Iter     8:    Energy =   0.0364
Level     0,  Iter     9:    Energy =   0.0368
Level     0,  Iter    10:    Energy =   0.0373
Level     0,  Iter    11:    Energy =   0.0376
Level     0,  Iter    12:    Energy =   0.0379
Level     0,  Iter    13:    Energy =   0.0382
Level     0,  Iter    14:    Energy =   0.0385
Level     0,  Iter    15:    Energy =   0.0387
Level     0,  Iter    16:    Energy =   0.0389
Level     0,  Iter    17:    Energy =   0.0391
Level     0,  Iter    18:    Energy =   0.0393
Level     0,  Iter    19:    Energy =   0.0395
Level     0,  Iter    20:    Energy =   0.0397
Level     0,  Iter    21:    Energy =   0.0399
Level     0,  Iter    22:    Energy =   0.0400
Level     0,  Iter    23:    Energy =   0.0403
Level     0,  Iter    24:    Energy =   0.0403
Level     0,  Iter    25:    Energy =   0.0405
Level     0,  Iter    26:    Energy =   0.0406
Level     0,  Iter    27:    Energy =   0.0407
Level     0,  Iter    28:    Energy =   0.0408
Level     0,  Iter    29:    Energy =   0.0410
Level     0,  Iter    30:    Energy =   0.0409
Level     0,  Iter    31:    Energy =   0.0411
Level     0,  Iter    32:    Energy =   0.0411
Level     0,  Iter    33:    Energy =   0.0412
Level     0,  Iter    34:    Energy =   0.0411
Level     0,  Iter    35:    Energy =   0.0412
Level     0,  Iter    36:    Energy =   0.0412
Level     0,  Iter    37:    Energy =   0.0414
Level     0,  Iter    38:    Energy =   0.0414
Level     0,  Iter    39:    Energy =   0.0415
Level     0,  Iter    40:    Energy =   0.0415
Level     0,  Iter    41:    Energy =   0.0416
Level     0,  Iter    42:    Energy =   0.0415
Level     0,  Iter    43:    Energy =   0.0416
Level     0,  Iter    44:    Energy =   0.0416
Level     0,  Iter    45:    Energy =   0.0418
Level     0,  Iter    46:    Energy =   0.0418
Level     0,  Iter    47:    Energy =   0.0418
Level     0,  Iter    48:    Energy =   0.0419
Level     0,  Iter    49:    Energy =   0.0421
Level     0,  Iter    50:    Energy =   0.0420
Level     0,  Iter    51:    Energy =   0.0420
Level     0,  Iter    52:    Energy =   0.0421
Level     0,  Iter    53:    Energy =   0.0423
Level     0,  Iter    54:    Energy =   0.0421
Level     0,  Iter    55:    Energy =   0.0421
Level     0,  Iter    56:    Energy =   0.0421
Level     0,  Iter    57:    Energy =   0.0422
Level     0,  Iter    58:    Energy =   0.0421
Level     0,  Iter    59:    Energy =   0.0421
END OF LEVEL     0    DetJac Range:   0.1149  to   1.7676 
  Avg. Gradient Time  : 0.0071s  33.25% 
  Avg. Gaussian Time  : 0.0103s  48.03% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0210
Level     1,  Iter     1:    Energy =   0.0219
Level     1,  Iter     2:    Energy =   0.0227
Level     1,  Iter     3:    Energy =   0.0234
Level     1,  Iter     4:    Energy =   0.0240
Level     1,  Iter     5:    Energy =   0.0247
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0258
Level     1,  Iter     8:    Energy =   0.0261
Level     1,  Iter     9:    Energy =   0.0265
Level     1,  Iter    10:    Energy =   0.0267
Level     1,  Iter    11:    Energy =   0.0269
Level     1,  Iter    12:    Energy =   0.0272
Level     1,  Iter    13:    Energy =   0.0275
Level     1,  Iter    14:    Energy =   0.0277
Level     1,  Iter    15:    Energy =   0.0278
Level     1,  Iter    16:    Energy =   0.0280
Level     1,  Iter    17:    Energy =   0.0282
Level     1,  Iter    18:    Energy =   0.0283
Level     1,  Iter    19:    Energy =   0.0285
Level     1,  Iter    20:    Energy =   0.0286
Level     1,  Iter    21:    Energy =   0.0288
Level     1,  Iter    22:    Energy =   0.0289
Level     1,  Iter    23:    Energy =   0.0289
Level     1,  Iter    24:    Energy =   0.0290
Level     1,  Iter    25:    Energy =   0.0290
Level     1,  Iter    26:    Energy =   0.0291
Level     1,  Iter    27:    Energy =   0.0292
Level     1,  Iter    28:    Energy =   0.0293
Level     1,  Iter    29:    Energy =   0.0293
Level     1,  Iter    30:    Energy =   0.0294
Level     1,  Iter    31:    Energy =   0.0295
Level     1,  Iter    32:    Energy =   0.0296
Level     1,  Iter    33:    Energy =   0.0297
Level     1,  Iter    34:    Energy =   0.0297
Level     1,  Iter    35:    Energy =   0.0298
Level     1,  Iter    36:    Energy =   0.0299
Level     1,  Iter    37:    Energy =   0.0299
Level     1,  Iter    38:    Energy =   0.0300
Level     1,  Iter    39:    Energy =   0.0300
Level     1,  Iter    40:    Energy =   0.0300
Level     1,  Iter    41:    Energy =   0.0300
Level     1,  Iter    42:    Energy =   0.0301
Level     1,  Iter    43:    Energy =   0.0301
Level     1,  Iter    44:    Energy =   0.0301
Level     1,  Iter    45:    Energy =   0.0302
Level     1,  Iter    46:    Energy =   0.0302
Level     1,  Iter    47:    Energy =   0.0303
Level     1,  Iter    48:    Energy =   0.0303
Level     1,  Iter    49:    Energy =   0.0304
Level     1,  Iter    50:    Energy =   0.0305
Level     1,  Iter    51:    Energy =   0.0305
Level     1,  Iter    52:    Energy =   0.0306
Level     1,  Iter    53:    Energy =   0.0306
Level     1,  Iter    54:    Energy =   0.0307
Level     1,  Iter    55:    Energy =   0.0308
Level     1,  Iter    56:    Energy =   0.0308
Level     1,  Iter    57:    Energy =   0.0309
Level     1,  Iter    58:    Energy =   0.0309
Level     1,  Iter    59:    Energy =   0.0310
END OF LEVEL     1    DetJac Range:   0.0578  to   2.7560 
  Avg. Gradient Time  : 0.0308s  34.21% 
  Avg. Gaussian Time  : 0.0466s  51.70% 
  Avg. Iteration Time : 0.0901s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0133
Level     2,  Iter     1:    Energy =   0.0138
Level     2,  Iter     2:    Energy =   0.0143
Level     2,  Iter     3:    Energy =   0.0150
Level     2,  Iter     4:    Energy =   0.0156
Level     2,  Iter     5:    Energy =   0.0161
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0169
Level     2,  Iter     8:    Energy =   0.0173
Level     2,  Iter     9:    Energy =   0.0176
Level     2,  Iter    10:    Energy =   0.0179
Level     2,  Iter    11:    Energy =   0.0181
Level     2,  Iter    12:    Energy =   0.0183
Level     2,  Iter    13:    Energy =   0.0185
Level     2,  Iter    14:    Energy =   0.0185
Level     2,  Iter    15:    Energy =   0.0187
Level     2,  Iter    16:    Energy =   0.0188
Level     2,  Iter    17:    Energy =   0.0189
Level     2,  Iter    18:    Energy =   0.0190
Level     2,  Iter    19:    Energy =   0.0190
END OF LEVEL     2    DetJac Range:   0.0324  to   2.9306 
  Avg. Gradient Time  : 0.1939s  32.32% 
  Avg. Gaussian Time  : 0.3259s  54.34% 
  Avg. Iteration Time : 0.5998s 

real	0m21.477s
user	0m37.416s
sys	0m2.384s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 541.137   GNORM= 132.587
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       449.165      67.591       0.008
   2    8      -241.870      69.637      15.939
   3    9      -332.963     134.983       1.000
   4   14      -336.738      77.982       0.000
   5   22      -336.943      69.528       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02303 0.00674823 0.0706064 -9.31872 
0.0210401 1.02988 -0.167645 6.44771 
0.157162 -0.19272 0.92223 -10.7404 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -139.563   GNORM= 623.362
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02303 0.00674823 0.0706064 -9.31872 
0.0210401 1.02988 -0.167645 6.44771 
0.157162 -0.19272 0.92223 -10.7404 
0 0 0 1 

Final RAS Transform: 
1.02303 0.00674823 0.0706064 -9.31872 
0.0210401 1.02988 -0.167645 6.44771 
0.157162 -0.19272 0.92223 -10.7404 
0 0 0 1 


real	0m3.484s
user	0m5.368s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.353701
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0084
Level     0,  Iter     1:    Energy =   0.0098
Level     0,  Iter     2:    Energy =   0.0120
Level     0,  Iter     3:    Energy =   0.0148
Level     0,  Iter     4:    Energy =   0.0172
Level     0,  Iter     5:    Energy =   0.0195
Level     0,  Iter     6:    Energy =   0.0214
Level     0,  Iter     7:    Energy =   0.0233
Level     0,  Iter     8:    Energy =   0.0239
Level     0,  Iter     9:    Energy =   0.0250
Level     0,  Iter    10:    Energy =   0.0262
Level     0,  Iter    11:    Energy =   0.0273
Level     0,  Iter    12:    Energy =   0.0285
Level     0,  Iter    13:    Energy =   0.0297
Level     0,  Iter    14:    Energy =   0.0308
Level     0,  Iter    15:    Energy =   0.0316
Level     0,  Iter    16:    Energy =   0.0326
Level     0,  Iter    17:    Energy =   0.0336
Level     0,  Iter    18:    Energy =   0.0343
Level     0,  Iter    19:    Energy =   0.0348
Level     0,  Iter    20:    Energy =   0.0355
Level     0,  Iter    21:    Energy =   0.0362
Level     0,  Iter    22:    Energy =   0.0368
Level     0,  Iter    23:    Energy =   0.0375
Level     0,  Iter    24:    Energy =   0.0378
Level     0,  Iter    25:    Energy =   0.0384
Level     0,  Iter    26:    Energy =   0.0388
Level     0,  Iter    27:    Energy =   0.0393
Level     0,  Iter    28:    Energy =   0.0397
Level     0,  Iter    29:    Energy =   0.0400
Level     0,  Iter    30:    Energy =   0.0403
Level     0,  Iter    31:    Energy =   0.0407
Level     0,  Iter    32:    Energy =   0.0409
Level     0,  Iter    33:    Energy =   0.0411
Level     0,  Iter    34:    Energy =   0.0413
Level     0,  Iter    35:    Energy =   0.0415
Level     0,  Iter    36:    Energy =   0.0417
Level     0,  Iter    37:    Energy =   0.0419
Level     0,  Iter    38:    Energy =   0.0422
Level     0,  Iter    39:    Energy =   0.0424
Level     0,  Iter    40:    Energy =   0.0427
Level     0,  Iter    41:    Energy =   0.0429
Level     0,  Iter    42:    Energy =   0.0431
Level     0,  Iter    43:    Energy =   0.0434
Level     0,  Iter    44:    Energy =   0.0438
Level     0,  Iter    45:    Energy =   0.0441
Level     0,  Iter    46:    Energy =   0.0444
Level     0,  Iter    47:    Energy =   0.0447
Level     0,  Iter    48:    Energy =   0.0449
Level     0,  Iter    49:    Energy =   0.0451
Level     0,  Iter    50:    Energy =   0.0453
Level     0,  Iter    51:    Energy =   0.0457
Level     0,  Iter    52:    Energy =   0.0460
Level     0,  Iter    53:    Energy =   0.0463
Level     0,  Iter    54:    Energy =   0.0465
Level     0,  Iter    55:    Energy =   0.0467
Level     0,  Iter    56:    Energy =   0.0470
Level     0,  Iter    57:    Energy =   0.0473
Level     0,  Iter    58:    Energy =   0.0474
Level     0,  Iter    59:    Energy =   0.0477
END OF LEVEL     0    DetJac Range:   0.0541  to   2.3271 
  Avg. Gradient Time  : 0.0073s  33.39% 
  Avg. Gaussian Time  : 0.0105s  47.84% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0280
Level     1,  Iter     2:    Energy =   0.0295
Level     1,  Iter     3:    Energy =   0.0306
Level     1,  Iter     4:    Energy =   0.0312
Level     1,  Iter     5:    Energy =   0.0317
Level     1,  Iter     6:    Energy =   0.0321
Level     1,  Iter     7:    Energy =   0.0325
Level     1,  Iter     8:    Energy =   0.0329
Level     1,  Iter     9:    Energy =   0.0335
Level     1,  Iter    10:    Energy =   0.0341
Level     1,  Iter    11:    Energy =   0.0347
Level     1,  Iter    12:    Energy =   0.0353
Level     1,  Iter    13:    Energy =   0.0359
Level     1,  Iter    14:    Energy =   0.0363
Level     1,  Iter    15:    Energy =   0.0368
Level     1,  Iter    16:    Energy =   0.0371
Level     1,  Iter    17:    Energy =   0.0374
Level     1,  Iter    18:    Energy =   0.0377
Level     1,  Iter    19:    Energy =   0.0379
Level     1,  Iter    20:    Energy =   0.0381
Level     1,  Iter    21:    Energy =   0.0383
Level     1,  Iter    22:    Energy =   0.0384
Level     1,  Iter    23:    Energy =   0.0385
Level     1,  Iter    24:    Energy =   0.0386
Level     1,  Iter    25:    Energy =   0.0387
Level     1,  Iter    26:    Energy =   0.0388
Level     1,  Iter    27:    Energy =   0.0388
Level     1,  Iter    28:    Energy =   0.0389
Level     1,  Iter    29:    Energy =   0.0389
Level     1,  Iter    30:    Energy =   0.0390
Level     1,  Iter    31:    Energy =   0.0390
Level     1,  Iter    32:    Energy =   0.0390
Level     1,  Iter    33:    Energy =   0.0391
Level     1,  Iter    34:    Energy =   0.0391
Level     1,  Iter    35:    Energy =   0.0392
Level     1,  Iter    36:    Energy =   0.0392
Level     1,  Iter    37:    Energy =   0.0393
Level     1,  Iter    38:    Energy =   0.0393
Level     1,  Iter    39:    Energy =   0.0393
Level     1,  Iter    40:    Energy =   0.0394
Level     1,  Iter    41:    Energy =   0.0394
Level     1,  Iter    42:    Energy =   0.0394
Level     1,  Iter    43:    Energy =   0.0395
Level     1,  Iter    44:    Energy =   0.0395
Level     1,  Iter    45:    Energy =   0.0395
Level     1,  Iter    46:    Energy =   0.0395
Level     1,  Iter    47:    Energy =   0.0396
Level     1,  Iter    48:    Energy =   0.0396
Level     1,  Iter    49:    Energy =   0.0396
Level     1,  Iter    50:    Energy =   0.0397
Level     1,  Iter    51:    Energy =   0.0397
Level     1,  Iter    52:    Energy =   0.0397
Level     1,  Iter    53:    Energy =   0.0397
Level     1,  Iter    54:    Energy =   0.0397
Level     1,  Iter    55:    Energy =   0.0397
Level     1,  Iter    56:    Energy =   0.0398
Level     1,  Iter    57:    Energy =   0.0398
Level     1,  Iter    58:    Energy =   0.0398
Level     1,  Iter    59:    Energy =   0.0398
END OF LEVEL     1    DetJac Range:   0.0251  to   2.6677 
  Avg. Gradient Time  : 0.0305s  34.04% 
  Avg. Gaussian Time  : 0.0466s  51.99% 
  Avg. Iteration Time : 0.0896s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0174
Level     2,  Iter     2:    Energy =   0.0178
Level     2,  Iter     3:    Energy =   0.0182
Level     2,  Iter     4:    Energy =   0.0186
Level     2,  Iter     5:    Energy =   0.0193
Level     2,  Iter     6:    Energy =   0.0199
Level     2,  Iter     7:    Energy =   0.0203
Level     2,  Iter     8:    Energy =   0.0207
Level     2,  Iter     9:    Energy =   0.0211
Level     2,  Iter    10:    Energy =   0.0214
Level     2,  Iter    11:    Energy =   0.0216
Level     2,  Iter    12:    Energy =   0.0218
Level     2,  Iter    13:    Energy =   0.0219
Level     2,  Iter    14:    Energy =   0.0221
Level     2,  Iter    15:    Energy =   0.0222
Level     2,  Iter    16:    Energy =   0.0223
Level     2,  Iter    17:    Energy =   0.0225
Level     2,  Iter    18:    Energy =   0.0226
Level     2,  Iter    19:    Energy =   0.0227
END OF LEVEL     2    DetJac Range:   0.0263  to   2.5713 
  Avg. Gradient Time  : 0.1901s  32.40% 
  Avg. Gaussian Time  : 0.3178s  54.18% 
  Avg. Iteration Time : 0.5867s 

real	0m21.301s
user	0m36.900s
sys	0m2.508s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 358.881   GNORM= 117.142
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       251.614      97.912       0.009
   2    3      -289.986     189.450       1.000
   3    5      -491.151      54.833       0.284
   4   10      -594.249      79.548       2.807
   5   11      -614.868     104.778       1.000
   6   13      -641.908      64.616       0.455
   7   15      -648.740      42.807       0.163
   8   16      -661.231      68.553       1.000
   9   17      -675.173      45.604       1.000
  10   18      -905.593      58.131       1.000
  11   21      -939.345     144.112       0.032
  12   22      -947.527      68.883       1.000
  13   23      -969.050      63.437       1.000
  14   26      -976.177      70.932       0.040
  15   27      -989.850      61.339       1.000
  16   28     -1026.746      67.412       1.000
  17   30     -1062.953      50.189       0.190
  18   31     -1108.960      66.583       1.000
  19   34     -1144.741     126.177       0.640
  20   35     -1195.647      72.559       1.000
  21   37     -1210.659     120.966       0.368
  22   40     -1212.105      72.942       0.039
  23   42     -1218.807      74.640       0.566
  24   43     -1231.001      30.155       1.000
  25   44     -1236.358      27.475       1.000
  26   45     -1246.337      39.299       1.000
  27   48     -1248.385      42.630       0.026
  28   49     -1249.368      52.438       1.000
  29   50     -1265.511      30.709       1.000
  30   51     -1270.400      62.204       1.000
  31   52     -1276.327      16.568       1.000
  32   53     -1278.041      14.611       1.000
  33   54     -1279.342      15.829       1.000
  34   55     -1281.756      31.000       1.000
  35   56     -1287.784      47.094       1.000
  36   57     -1292.354      30.869       1.000
  37   58     -1298.034      23.101       1.000
  38   60     -1301.567      24.517       0.087
Final RAS Transform: 
0.688822 -0.296038 0.138556 -4.53116 
-0.43418 1.28098 0.337414 6.39652 
0.263478 -0.134424 0.881096 -3.88054 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -687.519   GNORM= 103.328
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -728.318      34.786       0.010
   2    7      -733.996      28.835       0.963
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.688652 -0.2957 0.137021 -4.42767 
-0.43531 1.28315 0.338792 6.48362 
0.26755 -0.138757 0.885089 -4.49911 
0 0 0 1 

Final RAS Transform: 
0.688652 -0.2957 0.137021 -4.42767 
-0.43531 1.28315 0.338792 6.48362 
0.26755 -0.138757 0.885089 -4.49911 
0 0 0 1 


real	0m4.082s
user	0m6.464s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.328847
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0326
Level     0,  Iter     1:    Energy =   0.0348
Level     0,  Iter     2:    Energy =   0.0398
Level     0,  Iter     3:    Energy =   0.0440
Level     0,  Iter     4:    Energy =   0.0472
Level     0,  Iter     5:    Energy =   0.0501
Level     0,  Iter     6:    Energy =   0.0516
Level     0,  Iter     7:    Energy =   0.0531
Level     0,  Iter     8:    Energy =   0.0547
Level     0,  Iter     9:    Energy =   0.0561
Level     0,  Iter    10:    Energy =   0.0577
Level     0,  Iter    11:    Energy =   0.0590
Level     0,  Iter    12:    Energy =   0.0605
Level     0,  Iter    13:    Energy =   0.0617
Level     0,  Iter    14:    Energy =   0.0628
Level     0,  Iter    15:    Energy =   0.0636
Level     0,  Iter    16:    Energy =   0.0642
Level     0,  Iter    17:    Energy =   0.0648
Level     0,  Iter    18:    Energy =   0.0653
Level     0,  Iter    19:    Energy =   0.0661
Level     0,  Iter    20:    Energy =   0.0669
Level     0,  Iter    21:    Energy =   0.0669
Level     0,  Iter    22:    Energy =   0.0674
Level     0,  Iter    23:    Energy =   0.0679
Level     0,  Iter    24:    Energy =   0.0682
Level     0,  Iter    25:    Energy =   0.0687
Level     0,  Iter    26:    Energy =   0.0688
Level     0,  Iter    27:    Energy =   0.0690
Level     0,  Iter    28:    Energy =   0.0686
Level     0,  Iter    29:    Energy =   0.0689
Level     0,  Iter    30:    Energy =   0.0688
Level     0,  Iter    31:    Energy =   0.0690
Level     0,  Iter    32:    Energy =   0.0686
Level     0,  Iter    33:    Energy =   0.0690
Level     0,  Iter    34:    Energy =   0.0688
Level     0,  Iter    35:    Energy =   0.0691
Level     0,  Iter    36:    Energy =   0.0687
Level     0,  Iter    37:    Energy =   0.0690
Level     0,  Iter    38:    Energy =   0.0689
Level     0,  Iter    39:    Energy =   0.0689
Level     0,  Iter    40:    Energy =   0.0687
Level     0,  Iter    41:    Energy =   0.0690
Level     0,  Iter    42:    Energy =   0.0691
Level     0,  Iter    43:    Energy =   0.0691
Level     0,  Iter    44:    Energy =   0.0688
Level     0,  Iter    45:    Energy =   0.0691
Level     0,  Iter    46:    Energy =   0.0692
Level     0,  Iter    47:    Energy =   0.0692
Level     0,  Iter    48:    Energy =   0.0689
Level     0,  Iter    49:    Energy =   0.0693
Level     0,  Iter    50:    Energy =   0.0692
Level     0,  Iter    51:    Energy =   0.0693
Level     0,  Iter    52:    Energy =   0.0690
Level     0,  Iter    53:    Energy =   0.0694
Level     0,  Iter    54:    Energy =   0.0694
Level     0,  Iter    55:    Energy =   0.0694
Level     0,  Iter    56:    Energy =   0.0691
Level     0,  Iter    57:    Energy =   0.0694
Level     0,  Iter    58:    Energy =   0.0695
Level     0,  Iter    59:    Energy =   0.0695
END OF LEVEL     0    DetJac Range:   0.0888  to   2.2377 
  Avg. Gradient Time  : 0.0071s  33.16% 
  Avg. Gaussian Time  : 0.0103s  47.91% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0381
Level     1,  Iter     1:    Energy =   0.0400
Level     1,  Iter     2:    Energy =   0.0415
Level     1,  Iter     3:    Energy =   0.0430
Level     1,  Iter     4:    Energy =   0.0443
Level     1,  Iter     5:    Energy =   0.0455
Level     1,  Iter     6:    Energy =   0.0464
Level     1,  Iter     7:    Energy =   0.0472
Level     1,  Iter     8:    Energy =   0.0479
Level     1,  Iter     9:    Energy =   0.0485
Level     1,  Iter    10:    Energy =   0.0491
Level     1,  Iter    11:    Energy =   0.0496
Level     1,  Iter    12:    Energy =   0.0499
Level     1,  Iter    13:    Energy =   0.0503
Level     1,  Iter    14:    Energy =   0.0506
Level     1,  Iter    15:    Energy =   0.0509
Level     1,  Iter    16:    Energy =   0.0511
Level     1,  Iter    17:    Energy =   0.0513
Level     1,  Iter    18:    Energy =   0.0514
Level     1,  Iter    19:    Energy =   0.0516
Level     1,  Iter    20:    Energy =   0.0517
Level     1,  Iter    21:    Energy =   0.0518
Level     1,  Iter    22:    Energy =   0.0519
Level     1,  Iter    23:    Energy =   0.0520
Level     1,  Iter    24:    Energy =   0.0520
Level     1,  Iter    25:    Energy =   0.0521
Level     1,  Iter    26:    Energy =   0.0521
Level     1,  Iter    27:    Energy =   0.0522
Level     1,  Iter    28:    Energy =   0.0522
Level     1,  Iter    29:    Energy =   0.0522
Level     1,  Iter    30:    Energy =   0.0522
Level     1,  Iter    31:    Energy =   0.0522
Level     1,  Iter    32:    Energy =   0.0523
Level     1,  Iter    33:    Energy =   0.0522
Level     1,  Iter    34:    Energy =   0.0522
Level     1,  Iter    35:    Energy =   0.0522
Level     1,  Iter    36:    Energy =   0.0521
Level     1,  Iter    37:    Energy =   0.0520
Level     1,  Iter    38:    Energy =   0.0520
Level     1,  Iter    39:    Energy =   0.0519
Level     1,  Iter    40:    Energy =   0.0518
Level     1,  Iter    41:    Energy =   0.0516
Level     1,  Iter    42:    Energy =   0.0515
Level     1,  Iter    43:    Energy =   0.0513
Level     1,  Iter    44:    Energy =   0.0512
Level     1,  Iter    45:    Energy =   0.0511
Level     1,  Iter    46:    Energy =   0.0510
Level     1,  Iter    47:    Energy =   0.0509
Level     1,  Iter    48:    Energy =   0.0507
Level     1,  Iter    49:    Energy =   0.0505
Level     1,  Iter    50:    Energy =   0.0504
Level     1,  Iter    51:    Energy =   0.0504
Level     1,  Iter    52:    Energy =   0.0503
Level     1,  Iter    53:    Energy =   0.0503
Level     1,  Iter    54:    Energy =   0.0503
Level     1,  Iter    55:    Energy =   0.0502
Level     1,  Iter    56:    Energy =   0.0501
Level     1,  Iter    57:    Energy =   0.0500
Level     1,  Iter    58:    Energy =   0.0499
Level     1,  Iter    59:    Energy =   0.0499
END OF LEVEL     1    DetJac Range:   0.0406  to   2.8264 
  Avg. Gradient Time  : 0.0296s  33.88% 
  Avg. Gaussian Time  : 0.0457s  52.26% 
  Avg. Iteration Time : 0.0874s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0198
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0219
Level     2,  Iter     3:    Energy =   0.0227
Level     2,  Iter     4:    Energy =   0.0234
Level     2,  Iter     5:    Energy =   0.0239
Level     2,  Iter     6:    Energy =   0.0244
Level     2,  Iter     7:    Energy =   0.0249
Level     2,  Iter     8:    Energy =   0.0253
Level     2,  Iter     9:    Energy =   0.0257
Level     2,  Iter    10:    Energy =   0.0260
Level     2,  Iter    11:    Energy =   0.0263
Level     2,  Iter    12:    Energy =   0.0265
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0269
Level     2,  Iter    15:    Energy =   0.0271
Level     2,  Iter    16:    Energy =   0.0273
Level     2,  Iter    17:    Energy =   0.0275
Level     2,  Iter    18:    Energy =   0.0276
Level     2,  Iter    19:    Energy =   0.0277
END OF LEVEL     2    DetJac Range:   0.0374  to   2.9313 
  Avg. Gradient Time  : 0.1924s  32.60% 
  Avg. Gaussian Time  : 0.3189s  54.03% 
  Avg. Iteration Time : 0.5903s 

real	0m21.202s
user	0m36.780s
sys	0m2.464s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 486.237   GNORM= 140.868
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       353.112      97.693       0.007
   2    5      -210.742     111.984       2.122
   3    6      -711.865      80.076       1.000
   4   10      -733.859      62.135       0.080
   5   11      -850.056     102.579       1.000
   6   12     -1001.102     605.107       1.000
   7   16     -1009.513      64.182       0.001
   8   17     -1035.973     243.897       1.000
   9   18     -1058.859      82.154       1.000
  10   21     -1081.002     106.720       0.047
  11   22     -1101.615     103.993       1.000
  12   23     -1132.689      61.352       1.000
  13   24     -1137.917      76.344       1.000
  14   25     -1146.172      71.521       1.000
  15   26     -1152.903      66.591       1.000
  16   34     -1153.340      82.917       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.899237 -0.149614 0.186736 -3.95522 
-0.321233 1.03758 0.0302796 8.02488 
0.277097 -0.0108391 1.05788 -3.77096 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -537.528   GNORM= 1399.73
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.899237 -0.149614 0.186736 -3.95522 
-0.321233 1.03758 0.0302796 8.02488 
0.277097 -0.0108391 1.05788 -3.77096 
0 0 0 1 

Final RAS Transform: 
0.899237 -0.149614 0.186736 -3.95522 
-0.321233 1.03758 0.0302796 8.02488 
0.277097 -0.0108391 1.05788 -3.77096 
0 0 0 1 


real	0m3.646s
user	0m5.672s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.350263
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0273
Level     0,  Iter     1:    Energy =   0.0291
Level     0,  Iter     2:    Energy =   0.0316
Level     0,  Iter     3:    Energy =   0.0337
Level     0,  Iter     4:    Energy =   0.0355
Level     0,  Iter     5:    Energy =   0.0370
Level     0,  Iter     6:    Energy =   0.0385
Level     0,  Iter     7:    Energy =   0.0399
Level     0,  Iter     8:    Energy =   0.0411
Level     0,  Iter     9:    Energy =   0.0422
Level     0,  Iter    10:    Energy =   0.0431
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0454
Level     0,  Iter    13:    Energy =   0.0465
Level     0,  Iter    14:    Energy =   0.0471
Level     0,  Iter    15:    Energy =   0.0477
Level     0,  Iter    16:    Energy =   0.0484
Level     0,  Iter    17:    Energy =   0.0491
Level     0,  Iter    18:    Energy =   0.0499
Level     0,  Iter    19:    Energy =   0.0507
Level     0,  Iter    20:    Energy =   0.0515
Level     0,  Iter    21:    Energy =   0.0524
Level     0,  Iter    22:    Energy =   0.0532
Level     0,  Iter    23:    Energy =   0.0540
Level     0,  Iter    24:    Energy =   0.0546
Level     0,  Iter    25:    Energy =   0.0553
Level     0,  Iter    26:    Energy =   0.0558
Level     0,  Iter    27:    Energy =   0.0563
Level     0,  Iter    28:    Energy =   0.0567
Level     0,  Iter    29:    Energy =   0.0571
Level     0,  Iter    30:    Energy =   0.0576
Level     0,  Iter    31:    Energy =   0.0582
Level     0,  Iter    32:    Energy =   0.0587
Level     0,  Iter    33:    Energy =   0.0593
Level     0,  Iter    34:    Energy =   0.0598
Level     0,  Iter    35:    Energy =   0.0602
Level     0,  Iter    36:    Energy =   0.0607
Level     0,  Iter    37:    Energy =   0.0610
Level     0,  Iter    38:    Energy =   0.0612
Level     0,  Iter    39:    Energy =   0.0614
Level     0,  Iter    40:    Energy =   0.0616
Level     0,  Iter    41:    Energy =   0.0618
Level     0,  Iter    42:    Energy =   0.0620
Level     0,  Iter    43:    Energy =   0.0621
Level     0,  Iter    44:    Energy =   0.0624
Level     0,  Iter    45:    Energy =   0.0626
Level     0,  Iter    46:    Energy =   0.0628
Level     0,  Iter    47:    Energy =   0.0629
Level     0,  Iter    48:    Energy =   0.0630
Level     0,  Iter    49:    Energy =   0.0632
Level     0,  Iter    50:    Energy =   0.0633
Level     0,  Iter    51:    Energy =   0.0634
Level     0,  Iter    52:    Energy =   0.0636
Level     0,  Iter    53:    Energy =   0.0638
Level     0,  Iter    54:    Energy =   0.0639
Level     0,  Iter    55:    Energy =   0.0639
Level     0,  Iter    56:    Energy =   0.0640
Level     0,  Iter    57:    Energy =   0.0641
Level     0,  Iter    58:    Energy =   0.0642
Level     0,  Iter    59:    Energy =   0.0641
END OF LEVEL     0    DetJac Range:   0.0725  to   2.7091 
  Avg. Gradient Time  : 0.0073s  33.19% 
  Avg. Gaussian Time  : 0.0105s  47.98% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0365
Level     1,  Iter     1:    Energy =   0.0383
Level     1,  Iter     2:    Energy =   0.0398
Level     1,  Iter     3:    Energy =   0.0411
Level     1,  Iter     4:    Energy =   0.0423
Level     1,  Iter     5:    Energy =   0.0433
Level     1,  Iter     6:    Energy =   0.0443
Level     1,  Iter     7:    Energy =   0.0453
Level     1,  Iter     8:    Energy =   0.0461
Level     1,  Iter     9:    Energy =   0.0470
Level     1,  Iter    10:    Energy =   0.0477
Level     1,  Iter    11:    Energy =   0.0484
Level     1,  Iter    12:    Energy =   0.0489
Level     1,  Iter    13:    Energy =   0.0494
Level     1,  Iter    14:    Energy =   0.0497
Level     1,  Iter    15:    Energy =   0.0501
Level     1,  Iter    16:    Energy =   0.0504
Level     1,  Iter    17:    Energy =   0.0506
Level     1,  Iter    18:    Energy =   0.0509
Level     1,  Iter    19:    Energy =   0.0511
Level     1,  Iter    20:    Energy =   0.0513
Level     1,  Iter    21:    Energy =   0.0514
Level     1,  Iter    22:    Energy =   0.0516
Level     1,  Iter    23:    Energy =   0.0517
Level     1,  Iter    24:    Energy =   0.0518
Level     1,  Iter    25:    Energy =   0.0519
Level     1,  Iter    26:    Energy =   0.0520
Level     1,  Iter    27:    Energy =   0.0521
Level     1,  Iter    28:    Energy =   0.0523
Level     1,  Iter    29:    Energy =   0.0524
Level     1,  Iter    30:    Energy =   0.0525
Level     1,  Iter    31:    Energy =   0.0526
Level     1,  Iter    32:    Energy =   0.0527
Level     1,  Iter    33:    Energy =   0.0528
Level     1,  Iter    34:    Energy =   0.0528
Level     1,  Iter    35:    Energy =   0.0529
Level     1,  Iter    36:    Energy =   0.0529
Level     1,  Iter    37:    Energy =   0.0530
Level     1,  Iter    38:    Energy =   0.0530
Level     1,  Iter    39:    Energy =   0.0530
Level     1,  Iter    40:    Energy =   0.0530
Level     1,  Iter    41:    Energy =   0.0531
Level     1,  Iter    42:    Energy =   0.0531
Level     1,  Iter    43:    Energy =   0.0531
Level     1,  Iter    44:    Energy =   0.0531
Level     1,  Iter    45:    Energy =   0.0532
Level     1,  Iter    46:    Energy =   0.0532
Level     1,  Iter    47:    Energy =   0.0532
Level     1,  Iter    48:    Energy =   0.0532
Level     1,  Iter    49:    Energy =   0.0533
Level     1,  Iter    50:    Energy =   0.0533
Level     1,  Iter    51:    Energy =   0.0533
Level     1,  Iter    52:    Energy =   0.0533
Level     1,  Iter    53:    Energy =   0.0534
Level     1,  Iter    54:    Energy =   0.0534
Level     1,  Iter    55:    Energy =   0.0535
Level     1,  Iter    56:    Energy =   0.0535
Level     1,  Iter    57:    Energy =   0.0535
Level     1,  Iter    58:    Energy =   0.0536
Level     1,  Iter    59:    Energy =   0.0536
END OF LEVEL     1    DetJac Range:   0.0394  to   3.3157 
  Avg. Gradient Time  : 0.0297s  34.19% 
  Avg. Gaussian Time  : 0.0451s  51.88% 
  Avg. Iteration Time : 0.0870s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0240
Level     2,  Iter     1:    Energy =   0.0247
Level     2,  Iter     2:    Energy =   0.0254
Level     2,  Iter     3:    Energy =   0.0260
Level     2,  Iter     4:    Energy =   0.0265
Level     2,  Iter     5:    Energy =   0.0269
Level     2,  Iter     6:    Energy =   0.0273
Level     2,  Iter     7:    Energy =   0.0277
Level     2,  Iter     8:    Energy =   0.0281
Level     2,  Iter     9:    Energy =   0.0287
Level     2,  Iter    10:    Energy =   0.0292
Level     2,  Iter    11:    Energy =   0.0295
Level     2,  Iter    12:    Energy =   0.0298
Level     2,  Iter    13:    Energy =   0.0300
Level     2,  Iter    14:    Energy =   0.0302
Level     2,  Iter    15:    Energy =   0.0304
Level     2,  Iter    16:    Energy =   0.0305
Level     2,  Iter    17:    Energy =   0.0307
Level     2,  Iter    18:    Energy =   0.0308
Level     2,  Iter    19:    Energy =   0.0310
END OF LEVEL     2    DetJac Range:   0.0219  to   3.0615 
  Avg. Gradient Time  : 0.1905s  32.47% 
  Avg. Gaussian Time  : 0.3184s  54.28% 
  Avg. Iteration Time : 0.5866s 

real	0m21.130s
user	0m36.776s
sys	0m2.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 461.514   GNORM= 167.563
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       329.087      83.087       0.006
   2    3       250.191      88.563       1.000
   3    4      -420.152     259.575       1.000
   4    6      -460.950     202.180       0.319
   5    7      -682.976      98.653       1.000
   6    8      -733.163     137.090       1.000
   7    9      -747.153     103.959       1.000
   8   10      -783.085      67.362       1.000
   9   11      -783.401      58.141       1.000
  10   12      -805.413      60.140       1.000
  11   14      -814.062      68.219       0.404
  12   15      -831.355      50.883       1.000
  13   18     -1021.023     145.046       1.892
  14   22     -1024.201      93.983       0.009
  15   23     -1037.176      84.151       1.000
  16   24     -1095.741      97.418       1.000
  17   25     -1122.311      54.693       1.000
  18   26     -1175.029      83.184       1.000
  19   28     -1201.128     130.734       0.266
  20   29     -1241.866      56.750       1.000
  21   30     -1252.796      28.608       1.000
  22   31     -1267.237      46.738       1.000
  23   33     -1271.086      32.435       0.172
  24   34     -1273.277      17.750       1.000
  25   35     -1275.722      18.858       1.000
  26   36     -1277.225      15.090       1.000
  27   38     -1279.044      50.496       0.242
  28   39     -1280.846      34.030       1.000
  29   40     -1285.099      15.978       1.000
  30   41     -1287.395      75.611       1.000
  31   42     -1293.536      62.827       1.000
  32   44     -1294.869      15.626       0.238
  33   45     -1296.138      22.143       1.000
  34   46     -1300.369      67.168       1.000
  35   49     -1301.432      65.445       0.031
  36   50     -1304.814      43.596       1.000
  37   51     -1308.858      40.372       1.000
  38   53     -1311.268      23.920       0.341
  39   57     -1312.088      36.570       1.111
  40   58     -1313.087      34.040       1.000
  41   59     -1315.316      28.830       1.000
  42   60     -1316.716      14.411       1.000
  43   61     -1319.052      25.087       1.000
Final RAS Transform: 
0.954314 -0.181241 0.207382 -0.09782 
-0.406407 1.06676 0.186864 7.88445 
0.265334 0.040655 0.924059 -6.57846 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -699.098   GNORM= 267.605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.954314 -0.181241 0.207382 -0.0978199 
-0.406407 1.06676 0.186864 7.88445 
0.265334 0.040655 0.924059 -6.57846 
0 0 0 1 

Final RAS Transform: 
0.954314 -0.181241 0.207382 -0.0978199 
-0.406407 1.06676 0.186864 7.88445 
0.265334 0.040655 0.924059 -6.57846 
0 0 0 1 


real	0m3.695s
user	0m5.732s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.365304
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0324
Level     0,  Iter     1:    Energy =   0.0344
Level     0,  Iter     2:    Energy =   0.0376
Level     0,  Iter     3:    Energy =   0.0405
Level     0,  Iter     4:    Energy =   0.0431
Level     0,  Iter     5:    Energy =   0.0454
Level     0,  Iter     6:    Energy =   0.0471
Level     0,  Iter     7:    Energy =   0.0487
Level     0,  Iter     8:    Energy =   0.0503
Level     0,  Iter     9:    Energy =   0.0519
Level     0,  Iter    10:    Energy =   0.0531
Level     0,  Iter    11:    Energy =   0.0541
Level     0,  Iter    12:    Energy =   0.0547
Level     0,  Iter    13:    Energy =   0.0556
Level     0,  Iter    14:    Energy =   0.0561
Level     0,  Iter    15:    Energy =   0.0566
Level     0,  Iter    16:    Energy =   0.0570
Level     0,  Iter    17:    Energy =   0.0574
Level     0,  Iter    18:    Energy =   0.0576
Level     0,  Iter    19:    Energy =   0.0578
Level     0,  Iter    20:    Energy =   0.0580
Level     0,  Iter    21:    Energy =   0.0583
Level     0,  Iter    22:    Energy =   0.0587
Level     0,  Iter    23:    Energy =   0.0591
Level     0,  Iter    24:    Energy =   0.0593
Level     0,  Iter    25:    Energy =   0.0598
Level     0,  Iter    26:    Energy =   0.0601
Level     0,  Iter    27:    Energy =   0.0604
Level     0,  Iter    28:    Energy =   0.0605
Level     0,  Iter    29:    Energy =   0.0607
Level     0,  Iter    30:    Energy =   0.0608
Level     0,  Iter    31:    Energy =   0.0609
Level     0,  Iter    32:    Energy =   0.0609
Level     0,  Iter    33:    Energy =   0.0611
Level     0,  Iter    34:    Energy =   0.0610
Level     0,  Iter    35:    Energy =   0.0612
Level     0,  Iter    36:    Energy =   0.0612
Level     0,  Iter    37:    Energy =   0.0612
Level     0,  Iter    38:    Energy =   0.0612
Level     0,  Iter    39:    Energy =   0.0613
Level     0,  Iter    40:    Energy =   0.0612
Level     0,  Iter    41:    Energy =   0.0613
Level     0,  Iter    42:    Energy =   0.0613
Level     0,  Iter    43:    Energy =   0.0613
Level     0,  Iter    44:    Energy =   0.0613
Level     0,  Iter    45:    Energy =   0.0614
Level     0,  Iter    46:    Energy =   0.0613
Level     0,  Iter    47:    Energy =   0.0614
Level     0,  Iter    48:    Energy =   0.0614
Level     0,  Iter    49:    Energy =   0.0614
Level     0,  Iter    50:    Energy =   0.0614
Level     0,  Iter    51:    Energy =   0.0614
Level     0,  Iter    52:    Energy =   0.0614
Level     0,  Iter    53:    Energy =   0.0614
Level     0,  Iter    54:    Energy =   0.0613
Level     0,  Iter    55:    Energy =   0.0613
Level     0,  Iter    56:    Energy =   0.0613
Level     0,  Iter    57:    Energy =   0.0613
Level     0,  Iter    58:    Energy =   0.0612
Level     0,  Iter    59:    Energy =   0.0612
END OF LEVEL     0    DetJac Range:   0.1539  to   2.3530 
  Avg. Gradient Time  : 0.0070s  33.50% 
  Avg. Gaussian Time  : 0.0099s  47.40% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0356
Level     1,  Iter     1:    Energy =   0.0376
Level     1,  Iter     2:    Energy =   0.0391
Level     1,  Iter     3:    Energy =   0.0404
Level     1,  Iter     4:    Energy =   0.0415
Level     1,  Iter     5:    Energy =   0.0425
Level     1,  Iter     6:    Energy =   0.0432
Level     1,  Iter     7:    Energy =   0.0438
Level     1,  Iter     8:    Energy =   0.0442
Level     1,  Iter     9:    Energy =   0.0447
Level     1,  Iter    10:    Energy =   0.0451
Level     1,  Iter    11:    Energy =   0.0454
Level     1,  Iter    12:    Energy =   0.0457
Level     1,  Iter    13:    Energy =   0.0459
Level     1,  Iter    14:    Energy =   0.0461
Level     1,  Iter    15:    Energy =   0.0464
Level     1,  Iter    16:    Energy =   0.0466
Level     1,  Iter    17:    Energy =   0.0469
Level     1,  Iter    18:    Energy =   0.0472
Level     1,  Iter    19:    Energy =   0.0475
Level     1,  Iter    20:    Energy =   0.0478
Level     1,  Iter    21:    Energy =   0.0481
Level     1,  Iter    22:    Energy =   0.0483
Level     1,  Iter    23:    Energy =   0.0486
Level     1,  Iter    24:    Energy =   0.0489
Level     1,  Iter    25:    Energy =   0.0492
Level     1,  Iter    26:    Energy =   0.0495
Level     1,  Iter    27:    Energy =   0.0498
Level     1,  Iter    28:    Energy =   0.0501
Level     1,  Iter    29:    Energy =   0.0503
Level     1,  Iter    30:    Energy =   0.0506
Level     1,  Iter    31:    Energy =   0.0509
Level     1,  Iter    32:    Energy =   0.0511
Level     1,  Iter    33:    Energy =   0.0514
Level     1,  Iter    34:    Energy =   0.0515
Level     1,  Iter    35:    Energy =   0.0517
Level     1,  Iter    36:    Energy =   0.0518
Level     1,  Iter    37:    Energy =   0.0518
Level     1,  Iter    38:    Energy =   0.0519
Level     1,  Iter    39:    Energy =   0.0520
Level     1,  Iter    40:    Energy =   0.0521
Level     1,  Iter    41:    Energy =   0.0521
Level     1,  Iter    42:    Energy =   0.0522
Level     1,  Iter    43:    Energy =   0.0522
Level     1,  Iter    44:    Energy =   0.0522
Level     1,  Iter    45:    Energy =   0.0523
Level     1,  Iter    46:    Energy =   0.0523
Level     1,  Iter    47:    Energy =   0.0523
Level     1,  Iter    48:    Energy =   0.0524
Level     1,  Iter    49:    Energy =   0.0524
Level     1,  Iter    50:    Energy =   0.0524
Level     1,  Iter    51:    Energy =   0.0525
Level     1,  Iter    52:    Energy =   0.0525
Level     1,  Iter    53:    Energy =   0.0525
Level     1,  Iter    54:    Energy =   0.0526
Level     1,  Iter    55:    Energy =   0.0526
Level     1,  Iter    56:    Energy =   0.0526
Level     1,  Iter    57:    Energy =   0.0527
Level     1,  Iter    58:    Energy =   0.0527
Level     1,  Iter    59:    Energy =   0.0527
END OF LEVEL     1    DetJac Range:   0.0400  to   4.3792 
  Avg. Gradient Time  : 0.0286s  33.93% 
  Avg. Gaussian Time  : 0.0440s  52.16% 
  Avg. Iteration Time : 0.0844s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0244
Level     2,  Iter     1:    Energy =   0.0252
Level     2,  Iter     2:    Energy =   0.0258
Level     2,  Iter     3:    Energy =   0.0264
Level     2,  Iter     4:    Energy =   0.0269
Level     2,  Iter     5:    Energy =   0.0273
Level     2,  Iter     6:    Energy =   0.0277
Level     2,  Iter     7:    Energy =   0.0280
Level     2,  Iter     8:    Energy =   0.0282
Level     2,  Iter     9:    Energy =   0.0285
Level     2,  Iter    10:    Energy =   0.0287
Level     2,  Iter    11:    Energy =   0.0289
Level     2,  Iter    12:    Energy =   0.0291
Level     2,  Iter    13:    Energy =   0.0293
Level     2,  Iter    14:    Energy =   0.0295
Level     2,  Iter    15:    Energy =   0.0298
Level     2,  Iter    16:    Energy =   0.0300
Level     2,  Iter    17:    Energy =   0.0302
Level     2,  Iter    18:    Energy =   0.0304
Level     2,  Iter    19:    Energy =   0.0306
END OF LEVEL     2    DetJac Range:   0.0277  to   4.6744 
  Avg. Gradient Time  : 0.1949s  32.59% 
  Avg. Gaussian Time  : 0.3236s  54.12% 
  Avg. Iteration Time : 0.5980s 

real	0m21.094s
user	0m36.728s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 539.738   GNORM= 260.473
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       328.303     156.853       0.004
   2    3       126.157      92.888       1.000
   3    4       -63.299     131.836       1.000
   4    8      -260.852     156.752       0.347
   5    9      -293.772     116.840       1.000
   6   10      -343.033     129.782       1.000
   7   11      -379.870      50.646       1.000
   8   14      -382.280      47.300       0.690
   9   17      -391.696      76.300       0.723
  10   19      -452.363     105.617       0.431
  11   21      -504.288      96.775       0.091
  12   22      -534.511     119.339       1.000
  13   23      -620.289      77.549       1.000
  14   24      -666.405      62.310       1.000
  15   25      -710.484      98.388       1.000
  16   27      -732.232      74.503       0.242
  17   32      -732.560      42.619       0.000
  18   33      -733.095      40.721       1.000
  19   36      -734.926      46.095       2.047
  20   37      -737.974     130.164       1.000
  21   39      -738.638      36.659       0.089
  22   40      -740.680      26.674       1.000
  23   42      -740.826      65.422       0.001
  24   47      -747.320      49.150       0.072
Final RAS Transform: 
0.942842 -0.185459 0.160231 -1.62598 
-0.122115 1.1466 -0.0657552 4.92899 
0.177865 -0.115018 0.870582 -6.39348 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -311.574   GNORM= 567.669
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.943238 -0.185609 0.160593 -1.65439 
-0.122565 1.14713 -0.066558 4.98043 
0.181455 -0.119225 0.877375 -6.88049 
0 0 0 1 

Final RAS Transform: 
0.943238 -0.185609 0.160593 -1.65439 
-0.122565 1.14713 -0.066558 4.98043 
0.181455 -0.119225 0.877375 -6.88049 
0 0 0 1 


real	0m3.640s
user	0m5.620s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.409756
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0198
Level     0,  Iter     2:    Energy =   0.0228
Level     0,  Iter     3:    Energy =   0.0260
Level     0,  Iter     4:    Energy =   0.0281
Level     0,  Iter     5:    Energy =   0.0299
Level     0,  Iter     6:    Energy =   0.0319
Level     0,  Iter     7:    Energy =   0.0339
Level     0,  Iter     8:    Energy =   0.0351
Level     0,  Iter     9:    Energy =   0.0361
Level     0,  Iter    10:    Energy =   0.0370
Level     0,  Iter    11:    Energy =   0.0378
Level     0,  Iter    12:    Energy =   0.0387
Level     0,  Iter    13:    Energy =   0.0395
Level     0,  Iter    14:    Energy =   0.0403
Level     0,  Iter    15:    Energy =   0.0410
Level     0,  Iter    16:    Energy =   0.0418
Level     0,  Iter    17:    Energy =   0.0426
Level     0,  Iter    18:    Energy =   0.0433
Level     0,  Iter    19:    Energy =   0.0439
Level     0,  Iter    20:    Energy =   0.0443
Level     0,  Iter    21:    Energy =   0.0446
Level     0,  Iter    22:    Energy =   0.0450
Level     0,  Iter    23:    Energy =   0.0456
Level     0,  Iter    24:    Energy =   0.0463
Level     0,  Iter    25:    Energy =   0.0469
Level     0,  Iter    26:    Energy =   0.0473
Level     0,  Iter    27:    Energy =   0.0478
Level     0,  Iter    28:    Energy =   0.0482
Level     0,  Iter    29:    Energy =   0.0485
Level     0,  Iter    30:    Energy =   0.0485
Level     0,  Iter    31:    Energy =   0.0486
Level     0,  Iter    32:    Energy =   0.0485
Level     0,  Iter    33:    Energy =   0.0486
Level     0,  Iter    34:    Energy =   0.0485
Level     0,  Iter    35:    Energy =   0.0485
Level     0,  Iter    36:    Energy =   0.0485
Level     0,  Iter    37:    Energy =   0.0485
Level     0,  Iter    38:    Energy =   0.0485
Level     0,  Iter    39:    Energy =   0.0486
Level     0,  Iter    40:    Energy =   0.0487
Level     0,  Iter    41:    Energy =   0.0488
Level     0,  Iter    42:    Energy =   0.0489
Level     0,  Iter    43:    Energy =   0.0492
Level     0,  Iter    44:    Energy =   0.0493
Level     0,  Iter    45:    Energy =   0.0496
Level     0,  Iter    46:    Energy =   0.0497
Level     0,  Iter    47:    Energy =   0.0499
Level     0,  Iter    48:    Energy =   0.0501
Level     0,  Iter    49:    Energy =   0.0504
Level     0,  Iter    50:    Energy =   0.0506
Level     0,  Iter    51:    Energy =   0.0508
Level     0,  Iter    52:    Energy =   0.0507
Level     0,  Iter    53:    Energy =   0.0508
Level     0,  Iter    54:    Energy =   0.0508
Level     0,  Iter    55:    Energy =   0.0508
Level     0,  Iter    56:    Energy =   0.0509
Level     0,  Iter    57:    Energy =   0.0509
Level     0,  Iter    58:    Energy =   0.0511
Level     0,  Iter    59:    Energy =   0.0511
END OF LEVEL     0    DetJac Range:   0.0529  to   3.0823 
  Avg. Gradient Time  : 0.0070s  33.10% 
  Avg. Gaussian Time  : 0.0102s  47.96% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0286
Level     1,  Iter     1:    Energy =   0.0304
Level     1,  Iter     2:    Energy =   0.0319
Level     1,  Iter     3:    Energy =   0.0332
Level     1,  Iter     4:    Energy =   0.0343
Level     1,  Iter     5:    Energy =   0.0352
Level     1,  Iter     6:    Energy =   0.0359
Level     1,  Iter     7:    Energy =   0.0367
Level     1,  Iter     8:    Energy =   0.0374
Level     1,  Iter     9:    Energy =   0.0381
Level     1,  Iter    10:    Energy =   0.0388
Level     1,  Iter    11:    Energy =   0.0395
Level     1,  Iter    12:    Energy =   0.0403
Level     1,  Iter    13:    Energy =   0.0409
Level     1,  Iter    14:    Energy =   0.0414
Level     1,  Iter    15:    Energy =   0.0419
Level     1,  Iter    16:    Energy =   0.0423
Level     1,  Iter    17:    Energy =   0.0428
Level     1,  Iter    18:    Energy =   0.0431
Level     1,  Iter    19:    Energy =   0.0434
Level     1,  Iter    20:    Energy =   0.0436
Level     1,  Iter    21:    Energy =   0.0439
Level     1,  Iter    22:    Energy =   0.0441
Level     1,  Iter    23:    Energy =   0.0443
Level     1,  Iter    24:    Energy =   0.0445
Level     1,  Iter    25:    Energy =   0.0447
Level     1,  Iter    26:    Energy =   0.0448
Level     1,  Iter    27:    Energy =   0.0449
Level     1,  Iter    28:    Energy =   0.0450
Level     1,  Iter    29:    Energy =   0.0451
Level     1,  Iter    30:    Energy =   0.0453
Level     1,  Iter    31:    Energy =   0.0454
Level     1,  Iter    32:    Energy =   0.0455
Level     1,  Iter    33:    Energy =   0.0456
Level     1,  Iter    34:    Energy =   0.0457
Level     1,  Iter    35:    Energy =   0.0457
Level     1,  Iter    36:    Energy =   0.0458
Level     1,  Iter    37:    Energy =   0.0459
Level     1,  Iter    38:    Energy =   0.0460
Level     1,  Iter    39:    Energy =   0.0460
Level     1,  Iter    40:    Energy =   0.0461
Level     1,  Iter    41:    Energy =   0.0461
Level     1,  Iter    42:    Energy =   0.0462
Level     1,  Iter    43:    Energy =   0.0463
Level     1,  Iter    44:    Energy =   0.0463
Level     1,  Iter    45:    Energy =   0.0464
Level     1,  Iter    46:    Energy =   0.0465
Level     1,  Iter    47:    Energy =   0.0466
Level     1,  Iter    48:    Energy =   0.0467
Level     1,  Iter    49:    Energy =   0.0468
Level     1,  Iter    50:    Energy =   0.0468
Level     1,  Iter    51:    Energy =   0.0469
Level     1,  Iter    52:    Energy =   0.0470
Level     1,  Iter    53:    Energy =   0.0470
Level     1,  Iter    54:    Energy =   0.0470
Level     1,  Iter    55:    Energy =   0.0470
Level     1,  Iter    56:    Energy =   0.0470
Level     1,  Iter    57:    Energy =   0.0470
Level     1,  Iter    58:    Energy =   0.0470
Level     1,  Iter    59:    Energy =   0.0470
END OF LEVEL     1    DetJac Range:   0.0562  to   3.7886 
  Avg. Gradient Time  : 0.0299s  34.18% 
  Avg. Gaussian Time  : 0.0454s  51.97% 
  Avg. Iteration Time : 0.0874s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0213
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0223
Level     2,  Iter     3:    Energy =   0.0226
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0231
Level     2,  Iter     6:    Energy =   0.0233
Level     2,  Iter     7:    Energy =   0.0235
Level     2,  Iter     8:    Energy =   0.0236
Level     2,  Iter     9:    Energy =   0.0237
Level     2,  Iter    10:    Energy =   0.0238
Level     2,  Iter    11:    Energy =   0.0239
Level     2,  Iter    12:    Energy =   0.0241
Level     2,  Iter    13:    Energy =   0.0243
Level     2,  Iter    14:    Energy =   0.0245
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0252
Level     2,  Iter    17:    Energy =   0.0255
Level     2,  Iter    18:    Energy =   0.0258
Level     2,  Iter    19:    Energy =   0.0262
END OF LEVEL     2    DetJac Range:   0.0287  to   3.4258 
  Avg. Gradient Time  : 0.1900s  32.27% 
  Avg. Gaussian Time  : 0.3204s  54.41% 
  Avg. Iteration Time : 0.5889s 

real	0m21.161s
user	0m36.880s
sys	0m2.292s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 405.86   GNORM= 159.061
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       314.030      67.372       0.006
   2    3       262.178      57.905       1.000
   3    5      -171.321      61.453       5.000
   4    8      -413.853     118.088       0.690
   5   13      -425.331     119.099       0.010
   6   15      -636.621     160.441       5.000
   7   16      -695.896     153.025       1.000
   8   18      -768.174      89.569       0.202
   9   19      -782.944      77.530       1.000
  10   20      -818.055      47.060       1.000
  11   21      -906.793     104.329       1.000
  12   23      -972.524     169.650       0.222
  13   24     -1050.957     142.570       1.000
  14   28     -1118.425     136.036       2.334
  15   33     -1118.497     123.537       0.007
  16   34     -1169.712      62.120       1.000
  17   35     -1186.082      53.010       1.000
  18   36     -1217.164      65.816       1.000
  19   38     -1321.780      80.957       0.275
  20   39     -1335.973      60.435       1.000
  21   40     -1337.128      63.141       1.000
  22   41     -1389.341      51.310       1.000
  23   43     -1395.610      23.082       0.125
  24   44     -1401.001      25.985       1.000
  25   46     -1403.200      24.883       0.356
  26   47     -1404.950      18.939       1.000
  27   48     -1407.338      56.163       1.000
  28   51     -1408.374      56.673       0.086
  29   52     -1412.625      37.318       1.000
  30   55     -1422.499      71.802       2.440
  31   56     -1426.641      67.054       1.000
  32   57     -1431.112      96.128       1.000
  33   58     -1442.155      48.241       1.000
  34   59     -1456.145      11.189       1.000
  35   60     -1457.097      16.009       1.000
Final RAS Transform: 
0.823682 -0.215848 0.108791 -2.09474 
-0.364248 1.16269 0.295175 10.0236 
0.286987 0.00370981 0.838182 -7.22558 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -742.036   GNORM= 37.6515
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -753.052      26.198       0.011
   2    6      -762.784      15.468       1.697
   3    7      -765.558      19.947       1.000
   4    8      -767.799      38.691       1.000
   5    9      -774.518      20.560       1.000
   6   11      -806.930      37.044       0.514
   7   13      -809.290      36.614       0.267
   8   14      -812.043      21.737       1.000
   9   15      -814.887      18.603       1.000
  10   17      -816.256      13.582       0.186
  11   18      -816.839      11.132       1.000
  12   20      -817.440      11.108       0.298
  13   21      -818.155      12.879       1.000
  14   22      -819.123       7.927       1.000
  15   23      -820.548      16.220       1.000
  16   24      -823.588      27.369       1.000
  17   27      -827.687      25.613       2.439
  18   28      -831.235       9.072       1.000
  19   30      -832.185      15.837       0.351
  20   31      -834.216      26.457       1.000
  21   33      -835.299      37.017       0.352
  22   34      -839.431      33.810       1.000
  23   35      -842.614      13.329       1.000
  24   36      -844.693      13.548       1.000
  25   37      -848.175      13.386       1.000
  26   38      -849.930      46.272       1.000
  27   39      -855.391      26.859       1.000
  28   41      -857.287      23.158       0.209
  29   43      -858.060      12.356       0.426
  30   44      -858.258      10.064       1.000
  31   45      -858.456       5.644       1.000
  32   46      -858.500       4.040       1.000
  33   47      -858.601       6.277       1.000
  34   48      -858.775       7.142       1.000
  35   50      -859.044      14.412       0.375
  36   51      -859.463      11.981       1.000
  37   52      -859.723      15.068       1.000
  38   53      -860.055       5.923       1.000
  39   54      -860.280       4.481       1.000
  40   56      -860.304       2.891       0.285
  41   57      -860.324       4.261       1.000
  42   59      -860.341       4.675       0.189
  43   60      -860.352       5.434       1.000
  44   61      -860.371       4.810       1.000
Final RAS Transform: 
0.851763 -0.294148 0.0166136 -2.01964 
-0.455811 1.04909 0.413249 11.9204 
0.186952 0.0885752 0.793968 -12.439 
0 0 0 1 

Final RAS Transform: 
0.851763 -0.294148 0.0166136 -2.01964 
-0.455811 1.04909 0.413249 11.9204 
0.186952 0.0885752 0.793968 -12.439 
0 0 0 1 


real	0m6.271s
user	0m10.496s
sys	0m0.712s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.497651
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0323
Level     0,  Iter     1:    Energy =   0.0354
Level     0,  Iter     2:    Energy =   0.0400
Level     0,  Iter     3:    Energy =   0.0436
Level     0,  Iter     4:    Energy =   0.0466
Level     0,  Iter     5:    Energy =   0.0491
Level     0,  Iter     6:    Energy =   0.0515
Level     0,  Iter     7:    Energy =   0.0540
Level     0,  Iter     8:    Energy =   0.0559
Level     0,  Iter     9:    Energy =   0.0574
Level     0,  Iter    10:    Energy =   0.0588
Level     0,  Iter    11:    Energy =   0.0599
Level     0,  Iter    12:    Energy =   0.0614
Level     0,  Iter    13:    Energy =   0.0618
Level     0,  Iter    14:    Energy =   0.0630
Level     0,  Iter    15:    Energy =   0.0638
Level     0,  Iter    16:    Energy =   0.0650
Level     0,  Iter    17:    Energy =   0.0653
Level     0,  Iter    18:    Energy =   0.0661
Level     0,  Iter    19:    Energy =   0.0656
Level     0,  Iter    20:    Energy =   0.0661
Level     0,  Iter    21:    Energy =   0.0660
Level     0,  Iter    22:    Energy =   0.0665
Level     0,  Iter    23:    Energy =   0.0662
Level     0,  Iter    24:    Energy =   0.0667
Level     0,  Iter    25:    Energy =   0.0664
Level     0,  Iter    26:    Energy =   0.0669
Level     0,  Iter    27:    Energy =   0.0665
Level     0,  Iter    28:    Energy =   0.0670
Level     0,  Iter    29:    Energy =   0.0667
Level     0,  Iter    30:    Energy =   0.0674
Level     0,  Iter    31:    Energy =   0.0672
Level     0,  Iter    32:    Energy =   0.0677
Level     0,  Iter    33:    Energy =   0.0675
Level     0,  Iter    34:    Energy =   0.0681
Level     0,  Iter    35:    Energy =   0.0677
Level     0,  Iter    36:    Energy =   0.0682
Level     0,  Iter    37:    Energy =   0.0678
Level     0,  Iter    38:    Energy =   0.0683
Level     0,  Iter    39:    Energy =   0.0679
Level     0,  Iter    40:    Energy =   0.0683
Level     0,  Iter    41:    Energy =   0.0681
Level     0,  Iter    42:    Energy =   0.0686
Level     0,  Iter    43:    Energy =   0.0684
Level     0,  Iter    44:    Energy =   0.0688
Level     0,  Iter    45:    Energy =   0.0686
Level     0,  Iter    46:    Energy =   0.0689
Level     0,  Iter    47:    Energy =   0.0687
Level     0,  Iter    48:    Energy =   0.0691
Level     0,  Iter    49:    Energy =   0.0690
Level     0,  Iter    50:    Energy =   0.0692
Level     0,  Iter    51:    Energy =   0.0691
Level     0,  Iter    52:    Energy =   0.0694
Level     0,  Iter    53:    Energy =   0.0693
Level     0,  Iter    54:    Energy =   0.0694
Level     0,  Iter    55:    Energy =   0.0691
Level     0,  Iter    56:    Energy =   0.0693
Level     0,  Iter    57:    Energy =   0.0691
Level     0,  Iter    58:    Energy =   0.0693
Level     0,  Iter    59:    Energy =   0.0691
END OF LEVEL     0    DetJac Range:   0.1858  to   2.4789 
  Avg. Gradient Time  : 0.0071s  33.31% 
  Avg. Gaussian Time  : 0.0102s  47.90% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0398
Level     1,  Iter     1:    Energy =   0.0417
Level     1,  Iter     2:    Energy =   0.0436
Level     1,  Iter     3:    Energy =   0.0450
Level     1,  Iter     4:    Energy =   0.0464
Level     1,  Iter     5:    Energy =   0.0476
Level     1,  Iter     6:    Energy =   0.0488
Level     1,  Iter     7:    Energy =   0.0497
Level     1,  Iter     8:    Energy =   0.0503
Level     1,  Iter     9:    Energy =   0.0509
Level     1,  Iter    10:    Energy =   0.0514
Level     1,  Iter    11:    Energy =   0.0518
Level     1,  Iter    12:    Energy =   0.0521
Level     1,  Iter    13:    Energy =   0.0524
Level     1,  Iter    14:    Energy =   0.0526
Level     1,  Iter    15:    Energy =   0.0529
Level     1,  Iter    16:    Energy =   0.0531
Level     1,  Iter    17:    Energy =   0.0534
Level     1,  Iter    18:    Energy =   0.0537
Level     1,  Iter    19:    Energy =   0.0541
Level     1,  Iter    20:    Energy =   0.0544
Level     1,  Iter    21:    Energy =   0.0547
Level     1,  Iter    22:    Energy =   0.0550
Level     1,  Iter    23:    Energy =   0.0552
Level     1,  Iter    24:    Energy =   0.0553
Level     1,  Iter    25:    Energy =   0.0554
Level     1,  Iter    26:    Energy =   0.0555
Level     1,  Iter    27:    Energy =   0.0555
Level     1,  Iter    28:    Energy =   0.0554
Level     1,  Iter    29:    Energy =   0.0554
Level     1,  Iter    30:    Energy =   0.0554
Level     1,  Iter    31:    Energy =   0.0553
Level     1,  Iter    32:    Energy =   0.0553
Level     1,  Iter    33:    Energy =   0.0553
Level     1,  Iter    34:    Energy =   0.0554
Level     1,  Iter    35:    Energy =   0.0555
Level     1,  Iter    36:    Energy =   0.0556
Level     1,  Iter    37:    Energy =   0.0556
Level     1,  Iter    38:    Energy =   0.0557
Level     1,  Iter    39:    Energy =   0.0558
Level     1,  Iter    40:    Energy =   0.0559
Level     1,  Iter    41:    Energy =   0.0560
Level     1,  Iter    42:    Energy =   0.0561
Level     1,  Iter    43:    Energy =   0.0562
Level     1,  Iter    44:    Energy =   0.0563
Level     1,  Iter    45:    Energy =   0.0564
Level     1,  Iter    46:    Energy =   0.0564
Level     1,  Iter    47:    Energy =   0.0564
Level     1,  Iter    48:    Energy =   0.0564
Level     1,  Iter    49:    Energy =   0.0565
Level     1,  Iter    50:    Energy =   0.0565
Level     1,  Iter    51:    Energy =   0.0566
Level     1,  Iter    52:    Energy =   0.0566
Level     1,  Iter    53:    Energy =   0.0567
Level     1,  Iter    54:    Energy =   0.0568
Level     1,  Iter    55:    Energy =   0.0569
Level     1,  Iter    56:    Energy =   0.0569
Level     1,  Iter    57:    Energy =   0.0570
Level     1,  Iter    58:    Energy =   0.0569
Level     1,  Iter    59:    Energy =   0.0569
END OF LEVEL     1    DetJac Range:   0.0467  to   3.2310 
  Avg. Gradient Time  : 0.0300s  34.16% 
  Avg. Gaussian Time  : 0.0455s  51.88% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0258
Level     2,  Iter     1:    Energy =   0.0269
Level     2,  Iter     2:    Energy =   0.0277
Level     2,  Iter     3:    Energy =   0.0284
Level     2,  Iter     4:    Energy =   0.0291
Level     2,  Iter     5:    Energy =   0.0297
Level     2,  Iter     6:    Energy =   0.0301
Level     2,  Iter     7:    Energy =   0.0305
Level     2,  Iter     8:    Energy =   0.0307
Level     2,  Iter     9:    Energy =   0.0310
Level     2,  Iter    10:    Energy =   0.0313
Level     2,  Iter    11:    Energy =   0.0316
Level     2,  Iter    12:    Energy =   0.0319
Level     2,  Iter    13:    Energy =   0.0322
Level     2,  Iter    14:    Energy =   0.0324
Level     2,  Iter    15:    Energy =   0.0327
Level     2,  Iter    16:    Energy =   0.0329
Level     2,  Iter    17:    Energy =   0.0331
Level     2,  Iter    18:    Energy =   0.0334
Level     2,  Iter    19:    Energy =   0.0336
END OF LEVEL     2    DetJac Range:   0.0258  to   3.2691 
  Avg. Gradient Time  : 0.1908s  32.45% 
  Avg. Gaussian Time  : 0.3188s  54.24% 
  Avg. Iteration Time : 0.5878s 

real	0m21.127s
user	0m36.732s
sys	0m2.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 573.962   GNORM= 133.977
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -125.742     109.549       0.157
   2    5      -720.461      83.568       1.000
   3    7      -763.406      90.598       0.116
   4    9      -814.468      79.734       0.123
   5   11      -825.633      78.002       0.044
   6   13      -838.471      69.870       0.338
   7   15      -858.574     121.029       5.000
   8   17      -859.346      87.975       0.013
   9   19      -907.654      50.971       0.181
  10   22      -919.200      88.640       0.092
  11   25     -1033.458     148.866      21.000
  12   26     -1128.716     106.191       1.000
  13   29     -1172.423     102.466       0.689
  14   30     -1236.073     103.442       1.000
  15   32     -1289.611      47.733       0.170
  16   33     -1302.375      99.054       1.000
  17   34     -1336.825      47.035       1.000
  18   38     -1349.266      28.602       0.356
  19   39     -1351.343      79.835       1.000
  20   40     -1366.288      24.737       1.000
  21   41     -1370.185      23.785       1.000
  22   43     -1372.738      40.244       0.396
  23   44     -1374.621      38.645       1.000
  24   45     -1376.851      34.680       1.000
  25   46     -1379.930      34.140       1.000
  26   48     -1381.319      32.135       0.377
  27   49     -1384.249      34.011       1.000
  28   50     -1389.088      25.245       1.000
  29   52     -1390.625      21.886       0.279
  30   53     -1392.231      17.513       1.000
  31   54     -1393.859      20.711       1.000
  32   55     -1394.713      21.833       1.000
  33   56     -1396.302      20.927       1.000
  34   58     -1397.208      27.884       0.359
  35   59     -1397.762      19.204       1.000
  36   60     -1398.548      17.673       1.000
  37   61     -1399.001      17.955       1.000
Final RAS Transform: 
0.697486 -0.261329 0.140107 -3.98848 
-0.209294 1.07813 0.261282 13.3086 
0.306468 -0.0992056 0.825656 -3.94777 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -817.014   GNORM= 60.3355
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -825.604      61.814       0.006
   2    4      -825.609      45.925       1.000
   3    5      -826.806      25.639       1.000
   4    6      -828.728      48.249       1.000
   5    7      -830.777      19.145       1.000
   6    9      -831.708      22.267       0.236
   7   10      -832.871      19.435       1.000
   8   11      -837.238      25.337       1.000
   9   12      -841.624      28.001       1.000
  10   13      -850.755      32.896       1.000
  11   15      -853.121      17.478       0.230
  12   16      -854.507      13.417       1.000
  13   18      -861.747      23.648       0.516
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.713162 -0.262378 0.143501 -2.80049 
-0.188407 1.13759 0.318511 13.9338 
0.341124 -0.0915645 0.851647 -2.51471 
0 0 0 1 

Final RAS Transform: 
0.713162 -0.262378 0.143501 -2.80049 
-0.188407 1.13759 0.318511 13.9338 
0.341124 -0.0915645 0.851647 -2.51471 
0 0 0 1 


real	0m4.966s
user	0m7.928s
sys	0m0.720s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.413177
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0339
Level     0,  Iter     1:    Energy =   0.0363
Level     0,  Iter     2:    Energy =   0.0406
Level     0,  Iter     3:    Energy =   0.0441
Level     0,  Iter     4:    Energy =   0.0476
Level     0,  Iter     5:    Energy =   0.0505
Level     0,  Iter     6:    Energy =   0.0525
Level     0,  Iter     7:    Energy =   0.0543
Level     0,  Iter     8:    Energy =   0.0556
Level     0,  Iter     9:    Energy =   0.0571
Level     0,  Iter    10:    Energy =   0.0584
Level     0,  Iter    11:    Energy =   0.0598
Level     0,  Iter    12:    Energy =   0.0607
Level     0,  Iter    13:    Energy =   0.0619
Level     0,  Iter    14:    Energy =   0.0630
Level     0,  Iter    15:    Energy =   0.0635
Level     0,  Iter    16:    Energy =   0.0642
Level     0,  Iter    17:    Energy =   0.0647
Level     0,  Iter    18:    Energy =   0.0652
Level     0,  Iter    19:    Energy =   0.0654
Level     0,  Iter    20:    Energy =   0.0658
Level     0,  Iter    21:    Energy =   0.0658
Level     0,  Iter    22:    Energy =   0.0661
Level     0,  Iter    23:    Energy =   0.0661
Level     0,  Iter    24:    Energy =   0.0664
Level     0,  Iter    25:    Energy =   0.0664
Level     0,  Iter    26:    Energy =   0.0666
Level     0,  Iter    27:    Energy =   0.0665
Level     0,  Iter    28:    Energy =   0.0670
Level     0,  Iter    29:    Energy =   0.0669
Level     0,  Iter    30:    Energy =   0.0670
Level     0,  Iter    31:    Energy =   0.0669
Level     0,  Iter    32:    Energy =   0.0674
Level     0,  Iter    33:    Energy =   0.0673
Level     0,  Iter    34:    Energy =   0.0674
Level     0,  Iter    35:    Energy =   0.0672
Level     0,  Iter    36:    Energy =   0.0678
Level     0,  Iter    37:    Energy =   0.0679
Level     0,  Iter    38:    Energy =   0.0679
Level     0,  Iter    39:    Energy =   0.0678
Level     0,  Iter    40:    Energy =   0.0682
Level     0,  Iter    41:    Energy =   0.0685
Level     0,  Iter    42:    Energy =   0.0684
Level     0,  Iter    43:    Energy =   0.0683
Level     0,  Iter    44:    Energy =   0.0685
Level     0,  Iter    45:    Energy =   0.0690
Level     0,  Iter    46:    Energy =   0.0693
Level     0,  Iter    47:    Energy =   0.0694
Level     0,  Iter    48:    Energy =   0.0693
Level     0,  Iter    49:    Energy =   0.0690
Level     0,  Iter    50:    Energy =   0.0694
Level     0,  Iter    51:    Energy =   0.0696
Level     0,  Iter    52:    Energy =   0.0698
Level     0,  Iter    53:    Energy =   0.0695
Level     0,  Iter    54:    Energy =   0.0696
Level     0,  Iter    55:    Energy =   0.0694
Level     0,  Iter    56:    Energy =   0.0697
Level     0,  Iter    57:    Energy =   0.0698
Level     0,  Iter    58:    Energy =   0.0697
Level     0,  Iter    59:    Energy =   0.0695
END OF LEVEL     0    DetJac Range:   0.1473  to   2.4285 
  Avg. Gradient Time  : 0.0071s  33.13% 
  Avg. Gaussian Time  : 0.0102s  48.02% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0402
Level     1,  Iter     1:    Energy =   0.0421
Level     1,  Iter     2:    Energy =   0.0438
Level     1,  Iter     3:    Energy =   0.0456
Level     1,  Iter     4:    Energy =   0.0471
Level     1,  Iter     5:    Energy =   0.0482
Level     1,  Iter     6:    Energy =   0.0491
Level     1,  Iter     7:    Energy =   0.0499
Level     1,  Iter     8:    Energy =   0.0506
Level     1,  Iter     9:    Energy =   0.0512
Level     1,  Iter    10:    Energy =   0.0517
Level     1,  Iter    11:    Energy =   0.0521
Level     1,  Iter    12:    Energy =   0.0524
Level     1,  Iter    13:    Energy =   0.0527
Level     1,  Iter    14:    Energy =   0.0530
Level     1,  Iter    15:    Energy =   0.0532
Level     1,  Iter    16:    Energy =   0.0534
Level     1,  Iter    17:    Energy =   0.0536
Level     1,  Iter    18:    Energy =   0.0537
Level     1,  Iter    19:    Energy =   0.0538
Level     1,  Iter    20:    Energy =   0.0539
Level     1,  Iter    21:    Energy =   0.0540
Level     1,  Iter    22:    Energy =   0.0541
Level     1,  Iter    23:    Energy =   0.0541
Level     1,  Iter    24:    Energy =   0.0542
Level     1,  Iter    25:    Energy =   0.0542
Level     1,  Iter    26:    Energy =   0.0543
Level     1,  Iter    27:    Energy =   0.0543
Level     1,  Iter    28:    Energy =   0.0543
Level     1,  Iter    29:    Energy =   0.0544
Level     1,  Iter    30:    Energy =   0.0544
Level     1,  Iter    31:    Energy =   0.0545
Level     1,  Iter    32:    Energy =   0.0545
Level     1,  Iter    33:    Energy =   0.0545
Level     1,  Iter    34:    Energy =   0.0546
Level     1,  Iter    35:    Energy =   0.0546
Level     1,  Iter    36:    Energy =   0.0546
Level     1,  Iter    37:    Energy =   0.0547
Level     1,  Iter    38:    Energy =   0.0547
Level     1,  Iter    39:    Energy =   0.0547
Level     1,  Iter    40:    Energy =   0.0547
Level     1,  Iter    41:    Energy =   0.0548
Level     1,  Iter    42:    Energy =   0.0549
Level     1,  Iter    43:    Energy =   0.0549
Level     1,  Iter    44:    Energy =   0.0548
Level     1,  Iter    45:    Energy =   0.0548
Level     1,  Iter    46:    Energy =   0.0549
Level     1,  Iter    47:    Energy =   0.0549
Level     1,  Iter    48:    Energy =   0.0550
Level     1,  Iter    49:    Energy =   0.0551
Level     1,  Iter    50:    Energy =   0.0551
Level     1,  Iter    51:    Energy =   0.0552
Level     1,  Iter    52:    Energy =   0.0552
Level     1,  Iter    53:    Energy =   0.0553
Level     1,  Iter    54:    Energy =   0.0553
Level     1,  Iter    55:    Energy =   0.0553
Level     1,  Iter    56:    Energy =   0.0554
Level     1,  Iter    57:    Energy =   0.0554
Level     1,  Iter    58:    Energy =   0.0555
Level     1,  Iter    59:    Energy =   0.0555
END OF LEVEL     1    DetJac Range:   0.0200  to   3.7571 
  Avg. Gradient Time  : 0.0294s  34.11% 
  Avg. Gaussian Time  : 0.0448s  52.01% 
  Avg. Iteration Time : 0.0860s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0254
Level     2,  Iter     1:    Energy =   0.0263
Level     2,  Iter     2:    Energy =   0.0271
Level     2,  Iter     3:    Energy =   0.0280
Level     2,  Iter     4:    Energy =   0.0287
Level     2,  Iter     5:    Energy =   0.0293
Level     2,  Iter     6:    Energy =   0.0299
Level     2,  Iter     7:    Energy =   0.0305
Level     2,  Iter     8:    Energy =   0.0310
Level     2,  Iter     9:    Energy =   0.0315
Level     2,  Iter    10:    Energy =   0.0319
Level     2,  Iter    11:    Energy =   0.0322
Level     2,  Iter    12:    Energy =   0.0325
Level     2,  Iter    13:    Energy =   0.0328
Level     2,  Iter    14:    Energy =   0.0330
Level     2,  Iter    15:    Energy =   0.0332
Level     2,  Iter    16:    Energy =   0.0334
Level     2,  Iter    17:    Energy =   0.0336
Level     2,  Iter    18:    Energy =   0.0338
Level     2,  Iter    19:    Energy =   0.0339
END OF LEVEL     2    DetJac Range:   0.0084  to   4.7370 
  Avg. Gradient Time  : 0.1993s  32.60% 
  Avg. Gaussian Time  : 0.3305s  54.07% 
  Avg. Iteration Time : 0.6112s 

real	0m21.561s
user	0m37.684s
sys	0m2.296s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 481.442   GNORM= 170.526
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       349.750     119.186       0.006
   2    3        43.508     115.473       1.000
   3    6      -475.386      84.495       1.982
   4    8      -605.839     105.622       0.521
   5    9      -769.897     102.164       1.000
   6   13      -841.177     159.589       0.218
   7   15      -898.412     160.461       0.505
   8   16      -988.602      60.448       1.000
   9   17     -1006.617      94.436       1.000
  10   19     -1014.738     164.811       0.484
  11   20     -1057.364     131.899       1.000
  12   23     -1061.428     141.396       0.068
  13   25     -1079.457     177.518       0.394
  14   28     -1083.600      84.232       0.079
  15   31     -1090.562      41.388       2.121
  16   32     -1097.515      32.197       1.000
  17   33     -1112.237     103.519       1.000
  18   35     -1201.286      98.417       5.000
  19   37     -1222.069      74.107       0.405
  20   38     -1224.800      63.443       1.000
  21   39     -1240.821      64.653       1.000
  22   40     -1256.721     104.429       1.000
  23   43     -1282.703      73.847       1.000
  24   45     -1287.582      40.208       0.224
  25   46     -1292.263      35.629       1.000
  26   48     -1293.913      28.277       0.369
  27   50     -1294.263      21.924       0.315
  28   51     -1295.519      17.098       1.000
  29   52     -1295.798      53.793       1.000
  30   53     -1297.300      26.215       1.000
  31   54     -1300.969      19.530       1.000
  32   55     -1302.745      44.107       1.000
  33   57     -1303.856      29.793       0.352
  34   58     -1304.798      17.117       1.000
  35   60     -1305.454      18.285       0.412
  36   61     -1305.606      30.702       1.000
Final RAS Transform: 
0.892264 -0.166031 0.324982 -3.08256 
-0.323618 1.09198 0.0828663 7.59344 
0.284294 -0.0466269 0.822303 -7.88289 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -615.136   GNORM= 56.7126
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -628.891      37.904       0.018
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.893862 -0.167154 0.327346 -3.22413 
-0.321632 1.08778 0.0877871 7.02468 
0.280076 -0.0420276 0.817725 -7.35056 
0 0 0 1 

Final RAS Transform: 
0.893862 -0.167154 0.327346 -3.22413 
-0.321632 1.08778 0.0877871 7.02468 
0.280076 -0.0420276 0.817725 -7.35056 
0 0 0 1 


real	0m3.691s
user	0m5.700s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.435451
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0313
Level     0,  Iter     1:    Energy =   0.0345
Level     0,  Iter     2:    Energy =   0.0383
Level     0,  Iter     3:    Energy =   0.0413
Level     0,  Iter     4:    Energy =   0.0437
Level     0,  Iter     5:    Energy =   0.0457
Level     0,  Iter     6:    Energy =   0.0474
Level     0,  Iter     7:    Energy =   0.0486
Level     0,  Iter     8:    Energy =   0.0499
Level     0,  Iter     9:    Energy =   0.0515
Level     0,  Iter    10:    Energy =   0.0532
Level     0,  Iter    11:    Energy =   0.0546
Level     0,  Iter    12:    Energy =   0.0556
Level     0,  Iter    13:    Energy =   0.0568
Level     0,  Iter    14:    Energy =   0.0573
Level     0,  Iter    15:    Energy =   0.0582
Level     0,  Iter    16:    Energy =   0.0584
Level     0,  Iter    17:    Energy =   0.0590
Level     0,  Iter    18:    Energy =   0.0591
Level     0,  Iter    19:    Energy =   0.0597
Level     0,  Iter    20:    Energy =   0.0598
Level     0,  Iter    21:    Energy =   0.0598
Level     0,  Iter    22:    Energy =   0.0599
Level     0,  Iter    23:    Energy =   0.0606
Level     0,  Iter    24:    Energy =   0.0606
Level     0,  Iter    25:    Energy =   0.0606
Level     0,  Iter    26:    Energy =   0.0605
Level     0,  Iter    27:    Energy =   0.0610
Level     0,  Iter    28:    Energy =   0.0609
Level     0,  Iter    29:    Energy =   0.0609
Level     0,  Iter    30:    Energy =   0.0608
Level     0,  Iter    31:    Energy =   0.0614
Level     0,  Iter    32:    Energy =   0.0613
Level     0,  Iter    33:    Energy =   0.0613
Level     0,  Iter    34:    Energy =   0.0611
Level     0,  Iter    35:    Energy =   0.0618
Level     0,  Iter    36:    Energy =   0.0615
Level     0,  Iter    37:    Energy =   0.0615
Level     0,  Iter    38:    Energy =   0.0613
Level     0,  Iter    39:    Energy =   0.0619
Level     0,  Iter    40:    Energy =   0.0616
Level     0,  Iter    41:    Energy =   0.0614
Level     0,  Iter    42:    Energy =   0.0614
Level     0,  Iter    43:    Energy =   0.0621
Level     0,  Iter    44:    Energy =   0.0620
Level     0,  Iter    45:    Energy =   0.0618
Level     0,  Iter    46:    Energy =   0.0617
Level     0,  Iter    47:    Energy =   0.0623
Level     0,  Iter    48:    Energy =   0.0619
Level     0,  Iter    49:    Energy =   0.0618
Level     0,  Iter    50:    Energy =   0.0616
Level     0,  Iter    51:    Energy =   0.0622
Level     0,  Iter    52:    Energy =   0.0618
Level     0,  Iter    53:    Energy =   0.0619
Level     0,  Iter    54:    Energy =   0.0617
Level     0,  Iter    55:    Energy =   0.0624
Level     0,  Iter    56:    Energy =   0.0620
Level     0,  Iter    57:    Energy =   0.0621
Level     0,  Iter    58:    Energy =   0.0620
Level     0,  Iter    59:    Energy =   0.0627
END OF LEVEL     0    DetJac Range:   0.1850  to   2.1559 
  Avg. Gradient Time  : 0.0072s  33.29% 
  Avg. Gaussian Time  : 0.0103s  47.76% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0358
Level     1,  Iter     1:    Energy =   0.0375
Level     1,  Iter     2:    Energy =   0.0386
Level     1,  Iter     3:    Energy =   0.0396
Level     1,  Iter     4:    Energy =   0.0404
Level     1,  Iter     5:    Energy =   0.0415
Level     1,  Iter     6:    Energy =   0.0424
Level     1,  Iter     7:    Energy =   0.0431
Level     1,  Iter     8:    Energy =   0.0437
Level     1,  Iter     9:    Energy =   0.0443
Level     1,  Iter    10:    Energy =   0.0450
Level     1,  Iter    11:    Energy =   0.0457
Level     1,  Iter    12:    Energy =   0.0462
Level     1,  Iter    13:    Energy =   0.0466
Level     1,  Iter    14:    Energy =   0.0469
Level     1,  Iter    15:    Energy =   0.0474
Level     1,  Iter    16:    Energy =   0.0477
Level     1,  Iter    17:    Energy =   0.0480
Level     1,  Iter    18:    Energy =   0.0482
Level     1,  Iter    19:    Energy =   0.0485
Level     1,  Iter    20:    Energy =   0.0487
Level     1,  Iter    21:    Energy =   0.0489
Level     1,  Iter    22:    Energy =   0.0491
Level     1,  Iter    23:    Energy =   0.0493
Level     1,  Iter    24:    Energy =   0.0494
Level     1,  Iter    25:    Energy =   0.0496
Level     1,  Iter    26:    Energy =   0.0497
Level     1,  Iter    27:    Energy =   0.0497
Level     1,  Iter    28:    Energy =   0.0498
Level     1,  Iter    29:    Energy =   0.0498
Level     1,  Iter    30:    Energy =   0.0499
Level     1,  Iter    31:    Energy =   0.0500
Level     1,  Iter    32:    Energy =   0.0500
Level     1,  Iter    33:    Energy =   0.0500
Level     1,  Iter    34:    Energy =   0.0501
Level     1,  Iter    35:    Energy =   0.0501
Level     1,  Iter    36:    Energy =   0.0502
Level     1,  Iter    37:    Energy =   0.0502
Level     1,  Iter    38:    Energy =   0.0503
Level     1,  Iter    39:    Energy =   0.0503
Level     1,  Iter    40:    Energy =   0.0504
Level     1,  Iter    41:    Energy =   0.0504
Level     1,  Iter    42:    Energy =   0.0505
Level     1,  Iter    43:    Energy =   0.0505
Level     1,  Iter    44:    Energy =   0.0506
Level     1,  Iter    45:    Energy =   0.0506
Level     1,  Iter    46:    Energy =   0.0507
Level     1,  Iter    47:    Energy =   0.0507
Level     1,  Iter    48:    Energy =   0.0507
Level     1,  Iter    49:    Energy =   0.0507
Level     1,  Iter    50:    Energy =   0.0507
Level     1,  Iter    51:    Energy =   0.0508
Level     1,  Iter    52:    Energy =   0.0508
Level     1,  Iter    53:    Energy =   0.0508
Level     1,  Iter    54:    Energy =   0.0508
Level     1,  Iter    55:    Energy =   0.0508
Level     1,  Iter    56:    Energy =   0.0509
Level     1,  Iter    57:    Energy =   0.0509
Level     1,  Iter    58:    Energy =   0.0509
Level     1,  Iter    59:    Energy =   0.0509
END OF LEVEL     1    DetJac Range:   0.0697  to   3.8659 
  Avg. Gradient Time  : 0.0307s  34.06% 
  Avg. Gaussian Time  : 0.0469s  52.01% 
  Avg. Iteration Time : 0.0902s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0234
Level     2,  Iter     1:    Energy =   0.0244
Level     2,  Iter     2:    Energy =   0.0252
Level     2,  Iter     3:    Energy =   0.0259
Level     2,  Iter     4:    Energy =   0.0264
Level     2,  Iter     5:    Energy =   0.0269
Level     2,  Iter     6:    Energy =   0.0274
Level     2,  Iter     7:    Energy =   0.0280
Level     2,  Iter     8:    Energy =   0.0284
Level     2,  Iter     9:    Energy =   0.0287
Level     2,  Iter    10:    Energy =   0.0289
Level     2,  Iter    11:    Energy =   0.0291
Level     2,  Iter    12:    Energy =   0.0294
Level     2,  Iter    13:    Energy =   0.0297
Level     2,  Iter    14:    Energy =   0.0300
Level     2,  Iter    15:    Energy =   0.0302
Level     2,  Iter    16:    Energy =   0.0304
Level     2,  Iter    17:    Energy =   0.0306
Level     2,  Iter    18:    Energy =   0.0307
Level     2,  Iter    19:    Energy =   0.0309
END OF LEVEL     2    DetJac Range:   0.0309  to   3.6471 
  Avg. Gradient Time  : 0.1925s  32.52% 
  Avg. Gaussian Time  : 0.3205s  54.15% 
  Avg. Iteration Time : 0.5918s 

real	0m21.366s
user	0m37.164s
sys	0m2.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 466.262   GNORM= 125.675
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       347.419     114.598       0.008
   2    3        21.849      76.126       1.000
   3    4      -179.416      56.932       1.000
   4    5      -298.886     130.151       1.000
   5   10      -401.834      50.054       0.053
   6   13      -577.404     143.607       0.349
   7   15      -585.216     142.176       0.076
   8   16      -645.993     164.204       1.000
   9   19      -671.670     120.191       0.527
  10   20      -726.500     115.717       1.000
  11   22      -735.668      73.553       0.393
  12   24      -737.407      65.449       0.065
  13   25      -746.630      33.949       1.000
  14   28      -877.060    1034.655      21.000
  15   30      -884.303     135.599       0.234
  16   41      -889.114     126.599       0.523
  17   43      -934.385      50.838       0.513
  18   44      -957.298      69.327       1.000
  19   46     -1026.629      31.233       5.000
  20   48     -1028.905     102.867       0.164
  21   50     -1032.200      79.004       0.296
  22   54     -1038.225      47.994       0.876
  23   55     -1038.990      39.886       1.000
  24   60     -1059.224     229.903       2.489
Final RAS Transform: 
0.784216 -0.308233 0.254908 -4.9745 
-0.255031 1.11444 -0.0800816 6.93939 
0.300929 -0.0949078 1.00144 -3.62341 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -468.768   GNORM= 147.669
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -469.068      54.415       0.000
   2    7      -469.447      53.194       1.000
   3   11      -469.605      43.386       1.435
   4   27      -469.807      39.116       0.152
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.784325 -0.30828 0.255093 -4.99475 
-0.254766 1.11485 -0.0799388 6.95399 
0.301084 -0.0951268 1.00167 -3.6347 
0 0 0 1 

Final RAS Transform: 
0.784325 -0.30828 0.255093 -4.99475 
-0.254766 1.11485 -0.0799388 6.95399 
0.301084 -0.0951268 1.00167 -3.6347 
0 0 0 1 


real	0m5.277s
user	0m8.744s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.323403
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0240
Level     0,  Iter     1:    Energy =   0.0256
Level     0,  Iter     2:    Energy =   0.0280
Level     0,  Iter     3:    Energy =   0.0299
Level     0,  Iter     4:    Energy =   0.0316
Level     0,  Iter     5:    Energy =   0.0333
Level     0,  Iter     6:    Energy =   0.0353
Level     0,  Iter     7:    Energy =   0.0370
Level     0,  Iter     8:    Energy =   0.0385
Level     0,  Iter     9:    Energy =   0.0398
Level     0,  Iter    10:    Energy =   0.0408
Level     0,  Iter    11:    Energy =   0.0417
Level     0,  Iter    12:    Energy =   0.0425
Level     0,  Iter    13:    Energy =   0.0431
Level     0,  Iter    14:    Energy =   0.0436
Level     0,  Iter    15:    Energy =   0.0442
Level     0,  Iter    16:    Energy =   0.0447
Level     0,  Iter    17:    Energy =   0.0452
Level     0,  Iter    18:    Energy =   0.0457
Level     0,  Iter    19:    Energy =   0.0461
Level     0,  Iter    20:    Energy =   0.0464
Level     0,  Iter    21:    Energy =   0.0469
Level     0,  Iter    22:    Energy =   0.0474
Level     0,  Iter    23:    Energy =   0.0481
Level     0,  Iter    24:    Energy =   0.0489
Level     0,  Iter    25:    Energy =   0.0495
Level     0,  Iter    26:    Energy =   0.0503
Level     0,  Iter    27:    Energy =   0.0510
Level     0,  Iter    28:    Energy =   0.0517
Level     0,  Iter    29:    Energy =   0.0523
Level     0,  Iter    30:    Energy =   0.0530
Level     0,  Iter    31:    Energy =   0.0536
Level     0,  Iter    32:    Energy =   0.0540
Level     0,  Iter    33:    Energy =   0.0545
Level     0,  Iter    34:    Energy =   0.0550
Level     0,  Iter    35:    Energy =   0.0557
Level     0,  Iter    36:    Energy =   0.0561
Level     0,  Iter    37:    Energy =   0.0565
Level     0,  Iter    38:    Energy =   0.0567
Level     0,  Iter    39:    Energy =   0.0571
Level     0,  Iter    40:    Energy =   0.0576
Level     0,  Iter    41:    Energy =   0.0581
Level     0,  Iter    42:    Energy =   0.0586
Level     0,  Iter    43:    Energy =   0.0589
Level     0,  Iter    44:    Energy =   0.0592
Level     0,  Iter    45:    Energy =   0.0595
Level     0,  Iter    46:    Energy =   0.0595
Level     0,  Iter    47:    Energy =   0.0596
Level     0,  Iter    48:    Energy =   0.0596
Level     0,  Iter    49:    Energy =   0.0598
Level     0,  Iter    50:    Energy =   0.0597
Level     0,  Iter    51:    Energy =   0.0599
Level     0,  Iter    52:    Energy =   0.0597
Level     0,  Iter    53:    Energy =   0.0598
Level     0,  Iter    54:    Energy =   0.0597
Level     0,  Iter    55:    Energy =   0.0597
Level     0,  Iter    56:    Energy =   0.0596
Level     0,  Iter    57:    Energy =   0.0597
Level     0,  Iter    58:    Energy =   0.0595
Level     0,  Iter    59:    Energy =   0.0595
END OF LEVEL     0    DetJac Range:   0.0790  to   2.5641 
  Avg. Gradient Time  : 0.0070s  32.97% 
  Avg. Gaussian Time  : 0.0102s  47.97% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0344
Level     1,  Iter     1:    Energy =   0.0366
Level     1,  Iter     2:    Energy =   0.0382
Level     1,  Iter     3:    Energy =   0.0393
Level     1,  Iter     4:    Energy =   0.0401
Level     1,  Iter     5:    Energy =   0.0408
Level     1,  Iter     6:    Energy =   0.0414
Level     1,  Iter     7:    Energy =   0.0419
Level     1,  Iter     8:    Energy =   0.0424
Level     1,  Iter     9:    Energy =   0.0427
Level     1,  Iter    10:    Energy =   0.0430
Level     1,  Iter    11:    Energy =   0.0433
Level     1,  Iter    12:    Energy =   0.0436
Level     1,  Iter    13:    Energy =   0.0438
Level     1,  Iter    14:    Energy =   0.0440
Level     1,  Iter    15:    Energy =   0.0442
Level     1,  Iter    16:    Energy =   0.0443
Level     1,  Iter    17:    Energy =   0.0444
Level     1,  Iter    18:    Energy =   0.0446
Level     1,  Iter    19:    Energy =   0.0448
Level     1,  Iter    20:    Energy =   0.0450
Level     1,  Iter    21:    Energy =   0.0453
Level     1,  Iter    22:    Energy =   0.0457
Level     1,  Iter    23:    Energy =   0.0460
Level     1,  Iter    24:    Energy =   0.0462
Level     1,  Iter    25:    Energy =   0.0465
Level     1,  Iter    26:    Energy =   0.0468
Level     1,  Iter    27:    Energy =   0.0471
Level     1,  Iter    28:    Energy =   0.0473
Level     1,  Iter    29:    Energy =   0.0476
Level     1,  Iter    30:    Energy =   0.0476
Level     1,  Iter    31:    Energy =   0.0478
Level     1,  Iter    32:    Energy =   0.0479
Level     1,  Iter    33:    Energy =   0.0481
Level     1,  Iter    34:    Energy =   0.0482
Level     1,  Iter    35:    Energy =   0.0483
Level     1,  Iter    36:    Energy =   0.0484
Level     1,  Iter    37:    Energy =   0.0485
Level     1,  Iter    38:    Energy =   0.0487
Level     1,  Iter    39:    Energy =   0.0489
Level     1,  Iter    40:    Energy =   0.0490
Level     1,  Iter    41:    Energy =   0.0491
Level     1,  Iter    42:    Energy =   0.0492
Level     1,  Iter    43:    Energy =   0.0493
Level     1,  Iter    44:    Energy =   0.0494
Level     1,  Iter    45:    Energy =   0.0494
Level     1,  Iter    46:    Energy =   0.0495
Level     1,  Iter    47:    Energy =   0.0495
Level     1,  Iter    48:    Energy =   0.0496
Level     1,  Iter    49:    Energy =   0.0497
Level     1,  Iter    50:    Energy =   0.0498
Level     1,  Iter    51:    Energy =   0.0499
Level     1,  Iter    52:    Energy =   0.0499
Level     1,  Iter    53:    Energy =   0.0500
Level     1,  Iter    54:    Energy =   0.0500
Level     1,  Iter    55:    Energy =   0.0501
Level     1,  Iter    56:    Energy =   0.0501
Level     1,  Iter    57:    Energy =   0.0502
Level     1,  Iter    58:    Energy =   0.0502
Level     1,  Iter    59:    Energy =   0.0502
END OF LEVEL     1    DetJac Range:   0.0450  to   4.6174 
  Avg. Gradient Time  : 0.0294s  34.09% 
  Avg. Gaussian Time  : 0.0449s  52.11% 
  Avg. Iteration Time : 0.0861s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0226
Level     2,  Iter     1:    Energy =   0.0235
Level     2,  Iter     2:    Energy =   0.0243
Level     2,  Iter     3:    Energy =   0.0249
Level     2,  Iter     4:    Energy =   0.0254
Level     2,  Iter     5:    Energy =   0.0259
Level     2,  Iter     6:    Energy =   0.0264
Level     2,  Iter     7:    Energy =   0.0268
Level     2,  Iter     8:    Energy =   0.0272
Level     2,  Iter     9:    Energy =   0.0275
Level     2,  Iter    10:    Energy =   0.0278
Level     2,  Iter    11:    Energy =   0.0281
Level     2,  Iter    12:    Energy =   0.0283
Level     2,  Iter    13:    Energy =   0.0286
Level     2,  Iter    14:    Energy =   0.0288
Level     2,  Iter    15:    Energy =   0.0290
Level     2,  Iter    16:    Energy =   0.0292
Level     2,  Iter    17:    Energy =   0.0293
Level     2,  Iter    18:    Energy =   0.0295
Level     2,  Iter    19:    Energy =   0.0296
END OF LEVEL     2    DetJac Range:   0.0264  to   4.2090 
  Avg. Gradient Time  : 0.1930s  32.23% 
  Avg. Gaussian Time  : 0.3258s  54.40% 
  Avg. Iteration Time : 0.5988s 

real	0m21.305s
user	0m37.160s
sys	0m2.312s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 394.532   GNORM= 220.027
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       220.108     141.876       0.005
   2    3        18.905     145.547       1.000
   3    4      -385.659     207.011       1.000
   4   11      -398.438     223.872       0.051
   5   13      -594.409     321.698       5.000
   6   22      -595.551     131.548       0.003
   7   23      -610.966     103.377       1.000
   8   24      -629.452      70.974       1.000
   9   25      -633.896      27.319       1.000
  10   27      -637.741      51.875       5.000
  11   28      -646.182      61.791       1.000
  12   30      -699.793     183.856       0.419
  13   34      -703.954      83.163       0.040
  14   35      -715.414      29.791       1.000
  15   39      -717.046      33.083       0.990
  16   41      -719.352      68.740       0.327
  17   44      -720.910      14.114       2.310
Final RAS Transform: 
0.958456 -0.0075568 -0.0718363 -1.07063 
-0.0201831 1.15969 -0.0574412 8.14607 
0.138146 -0.0442686 1.03445 -4.278 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -468.206   GNORM= 67.6253
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -473.140      78.990       0.016
   2    6      -500.415      66.038       1.000
   3   10      -509.103     204.276       0.423
   4   15      -509.862      35.455       0.006
   5   33      -509.903      40.982       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.959559 -0.00799506 -0.070828 -1.22844 
-0.0229718 1.16482 -0.0615411 8.72922 
0.143923 -0.049598 1.03941 -4.97882 
0 0 0 1 

Final RAS Transform: 
0.959559 -0.00799506 -0.070828 -1.22844 
-0.0229718 1.16482 -0.0615411 8.72922 
0.143923 -0.049598 1.03941 -4.97882 
0 0 0 1 


real	0m5.683s
user	0m9.428s
sys	0m0.660s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.455557
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0182
Level     0,  Iter     1:    Energy =   0.0192
Level     0,  Iter     2:    Energy =   0.0214
Level     0,  Iter     3:    Energy =   0.0233
Level     0,  Iter     4:    Energy =   0.0249
Level     0,  Iter     5:    Energy =   0.0263
Level     0,  Iter     6:    Energy =   0.0275
Level     0,  Iter     7:    Energy =   0.0286
Level     0,  Iter     8:    Energy =   0.0297
Level     0,  Iter     9:    Energy =   0.0305
Level     0,  Iter    10:    Energy =   0.0313
Level     0,  Iter    11:    Energy =   0.0320
Level     0,  Iter    12:    Energy =   0.0328
Level     0,  Iter    13:    Energy =   0.0335
Level     0,  Iter    14:    Energy =   0.0340
Level     0,  Iter    15:    Energy =   0.0345
Level     0,  Iter    16:    Energy =   0.0348
Level     0,  Iter    17:    Energy =   0.0351
Level     0,  Iter    18:    Energy =   0.0355
Level     0,  Iter    19:    Energy =   0.0359
Level     0,  Iter    20:    Energy =   0.0364
Level     0,  Iter    21:    Energy =   0.0368
Level     0,  Iter    22:    Energy =   0.0371
Level     0,  Iter    23:    Energy =   0.0375
Level     0,  Iter    24:    Energy =   0.0378
Level     0,  Iter    25:    Energy =   0.0381
Level     0,  Iter    26:    Energy =   0.0383
Level     0,  Iter    27:    Energy =   0.0385
Level     0,  Iter    28:    Energy =   0.0386
Level     0,  Iter    29:    Energy =   0.0388
Level     0,  Iter    30:    Energy =   0.0390
Level     0,  Iter    31:    Energy =   0.0391
Level     0,  Iter    32:    Energy =   0.0392
Level     0,  Iter    33:    Energy =   0.0392
Level     0,  Iter    34:    Energy =   0.0392
Level     0,  Iter    35:    Energy =   0.0392
Level     0,  Iter    36:    Energy =   0.0391
Level     0,  Iter    37:    Energy =   0.0392
Level     0,  Iter    38:    Energy =   0.0391
Level     0,  Iter    39:    Energy =   0.0391
Level     0,  Iter    40:    Energy =   0.0391
Level     0,  Iter    41:    Energy =   0.0391
Level     0,  Iter    42:    Energy =   0.0391
Level     0,  Iter    43:    Energy =   0.0392
Level     0,  Iter    44:    Energy =   0.0392
Level     0,  Iter    45:    Energy =   0.0393
Level     0,  Iter    46:    Energy =   0.0393
Level     0,  Iter    47:    Energy =   0.0394
Level     0,  Iter    48:    Energy =   0.0395
Level     0,  Iter    49:    Energy =   0.0396
Level     0,  Iter    50:    Energy =   0.0396
Level     0,  Iter    51:    Energy =   0.0398
Level     0,  Iter    52:    Energy =   0.0400
Level     0,  Iter    53:    Energy =   0.0401
Level     0,  Iter    54:    Energy =   0.0402
Level     0,  Iter    55:    Energy =   0.0403
Level     0,  Iter    56:    Energy =   0.0403
Level     0,  Iter    57:    Energy =   0.0404
Level     0,  Iter    58:    Energy =   0.0405
Level     0,  Iter    59:    Energy =   0.0405
END OF LEVEL     0    DetJac Range:   0.0476  to   2.9452 
  Avg. Gradient Time  : 0.0088s  35.24% 
  Avg. Gaussian Time  : 0.0116s  46.76% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0243
Level     1,  Iter     1:    Energy =   0.0258
Level     1,  Iter     2:    Energy =   0.0271
Level     1,  Iter     3:    Energy =   0.0282
Level     1,  Iter     4:    Energy =   0.0292
Level     1,  Iter     5:    Energy =   0.0303
Level     1,  Iter     6:    Energy =   0.0313
Level     1,  Iter     7:    Energy =   0.0322
Level     1,  Iter     8:    Energy =   0.0328
Level     1,  Iter     9:    Energy =   0.0334
Level     1,  Iter    10:    Energy =   0.0338
Level     1,  Iter    11:    Energy =   0.0343
Level     1,  Iter    12:    Energy =   0.0347
Level     1,  Iter    13:    Energy =   0.0349
Level     1,  Iter    14:    Energy =   0.0352
Level     1,  Iter    15:    Energy =   0.0354
Level     1,  Iter    16:    Energy =   0.0356
Level     1,  Iter    17:    Energy =   0.0358
Level     1,  Iter    18:    Energy =   0.0360
Level     1,  Iter    19:    Energy =   0.0361
Level     1,  Iter    20:    Energy =   0.0362
Level     1,  Iter    21:    Energy =   0.0364
Level     1,  Iter    22:    Energy =   0.0365
Level     1,  Iter    23:    Energy =   0.0366
Level     1,  Iter    24:    Energy =   0.0367
Level     1,  Iter    25:    Energy =   0.0368
Level     1,  Iter    26:    Energy =   0.0369
Level     1,  Iter    27:    Energy =   0.0370
Level     1,  Iter    28:    Energy =   0.0371
Level     1,  Iter    29:    Energy =   0.0372
Level     1,  Iter    30:    Energy =   0.0372
Level     1,  Iter    31:    Energy =   0.0373
Level     1,  Iter    32:    Energy =   0.0374
Level     1,  Iter    33:    Energy =   0.0375
Level     1,  Iter    34:    Energy =   0.0375
Level     1,  Iter    35:    Energy =   0.0376
Level     1,  Iter    36:    Energy =   0.0376
Level     1,  Iter    37:    Energy =   0.0376
Level     1,  Iter    38:    Energy =   0.0377
Level     1,  Iter    39:    Energy =   0.0377
Level     1,  Iter    40:    Energy =   0.0377
Level     1,  Iter    41:    Energy =   0.0377
Level     1,  Iter    42:    Energy =   0.0377
Level     1,  Iter    43:    Energy =   0.0378
Level     1,  Iter    44:    Energy =   0.0378
Level     1,  Iter    45:    Energy =   0.0378
Level     1,  Iter    46:    Energy =   0.0378
Level     1,  Iter    47:    Energy =   0.0378
Level     1,  Iter    48:    Energy =   0.0378
Level     1,  Iter    49:    Energy =   0.0378
Level     1,  Iter    50:    Energy =   0.0378
Level     1,  Iter    51:    Energy =   0.0378
Level     1,  Iter    52:    Energy =   0.0379
Level     1,  Iter    53:    Energy =   0.0379
Level     1,  Iter    54:    Energy =   0.0379
Level     1,  Iter    55:    Energy =   0.0379
Level     1,  Iter    56:    Energy =   0.0378
Level     1,  Iter    57:    Energy =   0.0378
Level     1,  Iter    58:    Energy =   0.0378
Level     1,  Iter    59:    Energy =   0.0378
END OF LEVEL     1    DetJac Range:   0.0154  to   2.7732 
  Avg. Gradient Time  : 0.0299s  33.61% 
  Avg. Gaussian Time  : 0.0467s  52.50% 
  Avg. Iteration Time : 0.0890s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0179
Level     2,  Iter     1:    Energy =   0.0187
Level     2,  Iter     2:    Energy =   0.0196
Level     2,  Iter     3:    Energy =   0.0203
Level     2,  Iter     4:    Energy =   0.0210
Level     2,  Iter     5:    Energy =   0.0217
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0227
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0235
Level     2,  Iter    10:    Energy =   0.0238
Level     2,  Iter    11:    Energy =   0.0242
Level     2,  Iter    12:    Energy =   0.0246
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0253
Level     2,  Iter    15:    Energy =   0.0256
Level     2,  Iter    16:    Energy =   0.0259
Level     2,  Iter    17:    Energy =   0.0261
Level     2,  Iter    18:    Energy =   0.0262
Level     2,  Iter    19:    Energy =   0.0264
END OF LEVEL     2    DetJac Range:   0.0151  to   3.6656 
  Avg. Gradient Time  : 0.2192s  34.88% 
  Avg. Gaussian Time  : 0.3300s  52.50% 
  Avg. Iteration Time : 0.6285s 

real	0m22.687s
user	0m37.464s
sys	0m4.148s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 484.089   GNORM= 157.401
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       362.566      71.217       0.006
   2    3       329.447      86.952       1.000
   3    6       208.252     158.818       3.051
   4    7       122.082      86.787       1.000
   5    9       106.344      52.996       0.386
   6   10        83.718      61.530       1.000
   7   11         4.368     130.104       1.000
   8   12      -111.289      59.074       1.000
   9   14      -134.234      33.926       0.470
  10   15      -199.292      58.721       1.000
  11   16      -223.616      69.279       1.000
  12   17      -228.176      53.364       1.000
  13   18      -237.642      29.804       1.000
  14   20      -238.325      15.651       0.347
  15   21      -238.976      21.614       1.000
  16   22      -240.222      21.758       1.000
  17   23      -244.169      38.315       1.000
  18   24      -247.743      58.228       1.000
  19   25      -257.482      53.467       1.000
  20   26      -275.754     144.585       1.000
  21   27      -515.803      62.331       1.000
  22   28      -541.040     163.028       1.000
  23   35      -541.091     113.347       0.000
  24   38      -551.086     116.018       2.325
  25   40      -602.626    3153.125       0.318
  26   43      -608.824     443.514       0.022
  27   47      -611.683      61.400       0.249
  28   49      -612.737      85.321       0.382
Final RAS Transform: 
1.13329 0.239038 0.233856 -4.42521 
-0.0729976 1.11375 -0.0230127 -16.1422 
0.128311 -0.0657625 0.210868 -11.9521 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -414.939   GNORM= 127.337
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -459.612      40.009       0.008
   2    3      -464.025      73.351       1.000
   3    5      -465.103      41.819       0.338
   4    6      -468.093      27.967       1.000
   5    7      -477.337      25.166       1.000
   6    8      -484.044      35.152       1.000
   7    9      -494.899      52.240       1.000
   8   10      -507.970      99.173       1.000
   9   11      -531.765      69.983       1.000
  10   12      -551.607      29.027       1.000
  11   13      -554.949      14.011       1.000
  12   14      -558.370      15.500       1.000
  13   15      -559.095      41.850       1.000
  14   16      -566.792      36.037       1.000
  15   18      -566.962      35.744       0.002
  16   19      -575.973      40.199       1.000
  17   20      -584.240      31.608       1.000
  18   21      -595.854      28.965       1.000
  19   22      -598.702      21.372       1.000
  20   23      -601.954      17.087       1.000
  21   26      -602.710      15.700       0.084
  22   28      -602.846      28.855       0.327
  23   29      -604.789      18.675       1.000
  24   30      -606.536       7.613       1.000
  25   31      -607.403      11.175       1.000
  26   32      -608.247      20.679       1.000
  27   33      -609.432      16.144       1.000
  28   34      -610.795      19.150       1.000
  29   35      -612.056      22.093       1.000
  30   36      -613.841      13.278       1.000
  31   37      -614.841      25.644       1.000
  32   38      -615.963       9.387       1.000
  33   39      -616.425       6.808       1.000
  34   40      -617.273       7.912       1.000
  35   41      -618.440      13.977       1.000
  36   42      -619.365      18.350       1.000
  37   44      -619.954       6.600       0.533
  38   45      -620.173       7.719       1.000
  39   48      -621.764      11.754       2.361
  40   52      -621.911       9.558       0.237
  41   54      -625.504      17.118       5.000
  42   55      -628.371      13.136       1.000
  43   56      -630.646      24.990       1.000
  44   58      -631.544      26.817       0.309
  45   60      -632.120      11.174       0.109
Final RAS Transform: 
1.12277 0.0948026 0.165034 -0.905489 
-0.196102 1.03818 -0.183543 -21.1345 
0.0746746 -0.0798356 0.291577 -10.9356 
0 0 0 1 

Final RAS Transform: 
1.12277 0.0948026 0.165034 -0.905489 
-0.196102 1.03818 -0.183543 -21.1345 
0.0746746 -0.0798356 0.291577 -10.9356 
0 0 0 1 


real	0m6.279s
user	0m10.564s
sys	0m0.664s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.424268
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0255
Level     0,  Iter     1:    Energy =   0.0286
Level     0,  Iter     2:    Energy =   0.0318
Level     0,  Iter     3:    Energy =   0.0349
Level     0,  Iter     4:    Energy =   0.0381
Level     0,  Iter     5:    Energy =   0.0407
Level     0,  Iter     6:    Energy =   0.0425
Level     0,  Iter     7:    Energy =   0.0440
Level     0,  Iter     8:    Energy =   0.0451
Level     0,  Iter     9:    Energy =   0.0461
Level     0,  Iter    10:    Energy =   0.0470
Level     0,  Iter    11:    Energy =   0.0477
Level     0,  Iter    12:    Energy =   0.0484
Level     0,  Iter    13:    Energy =   0.0490
Level     0,  Iter    14:    Energy =   0.0495
Level     0,  Iter    15:    Energy =   0.0498
Level     0,  Iter    16:    Energy =   0.0502
Level     0,  Iter    17:    Energy =   0.0506
Level     0,  Iter    18:    Energy =   0.0510
Level     0,  Iter    19:    Energy =   0.0515
Level     0,  Iter    20:    Energy =   0.0521
Level     0,  Iter    21:    Energy =   0.0527
Level     0,  Iter    22:    Energy =   0.0532
Level     0,  Iter    23:    Energy =   0.0538
Level     0,  Iter    24:    Energy =   0.0546
Level     0,  Iter    25:    Energy =   0.0554
Level     0,  Iter    26:    Energy =   0.0560
Level     0,  Iter    27:    Energy =   0.0565
Level     0,  Iter    28:    Energy =   0.0569
Level     0,  Iter    29:    Energy =   0.0576
Level     0,  Iter    30:    Energy =   0.0582
Level     0,  Iter    31:    Energy =   0.0587
Level     0,  Iter    32:    Energy =   0.0594
Level     0,  Iter    33:    Energy =   0.0599
Level     0,  Iter    34:    Energy =   0.0606
Level     0,  Iter    35:    Energy =   0.0611
Level     0,  Iter    36:    Energy =   0.0618
Level     0,  Iter    37:    Energy =   0.0624
Level     0,  Iter    38:    Energy =   0.0631
Level     0,  Iter    39:    Energy =   0.0636
Level     0,  Iter    40:    Energy =   0.0642
Level     0,  Iter    41:    Energy =   0.0648
Level     0,  Iter    42:    Energy =   0.0652
Level     0,  Iter    43:    Energy =   0.0656
Level     0,  Iter    44:    Energy =   0.0659
Level     0,  Iter    45:    Energy =   0.0661
Level     0,  Iter    46:    Energy =   0.0663
Level     0,  Iter    47:    Energy =   0.0664
Level     0,  Iter    48:    Energy =   0.0665
Level     0,  Iter    49:    Energy =   0.0666
Level     0,  Iter    50:    Energy =   0.0666
Level     0,  Iter    51:    Energy =   0.0667
Level     0,  Iter    52:    Energy =   0.0669
Level     0,  Iter    53:    Energy =   0.0670
Level     0,  Iter    54:    Energy =   0.0671
Level     0,  Iter    55:    Energy =   0.0673
Level     0,  Iter    56:    Energy =   0.0675
Level     0,  Iter    57:    Energy =   0.0677
Level     0,  Iter    58:    Energy =   0.0679
Level     0,  Iter    59:    Energy =   0.0681
END OF LEVEL     0    DetJac Range:   0.1335  to   1.9935 
  Avg. Gradient Time  : 0.0070s  33.26% 
  Avg. Gaussian Time  : 0.0100s  47.47% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0458
Level     1,  Iter     1:    Energy =   0.0476
Level     1,  Iter     2:    Energy =   0.0493
Level     1,  Iter     3:    Energy =   0.0510
Level     1,  Iter     4:    Energy =   0.0527
Level     1,  Iter     5:    Energy =   0.0544
Level     1,  Iter     6:    Energy =   0.0556
Level     1,  Iter     7:    Energy =   0.0565
Level     1,  Iter     8:    Energy =   0.0572
Level     1,  Iter     9:    Energy =   0.0579
Level     1,  Iter    10:    Energy =   0.0585
Level     1,  Iter    11:    Energy =   0.0590
Level     1,  Iter    12:    Energy =   0.0596
Level     1,  Iter    13:    Energy =   0.0602
Level     1,  Iter    14:    Energy =   0.0609
Level     1,  Iter    15:    Energy =   0.0615
Level     1,  Iter    16:    Energy =   0.0620
Level     1,  Iter    17:    Energy =   0.0624
Level     1,  Iter    18:    Energy =   0.0628
Level     1,  Iter    19:    Energy =   0.0631
Level     1,  Iter    20:    Energy =   0.0634
Level     1,  Iter    21:    Energy =   0.0637
Level     1,  Iter    22:    Energy =   0.0639
Level     1,  Iter    23:    Energy =   0.0641
Level     1,  Iter    24:    Energy =   0.0643
Level     1,  Iter    25:    Energy =   0.0645
Level     1,  Iter    26:    Energy =   0.0647
Level     1,  Iter    27:    Energy =   0.0650
Level     1,  Iter    28:    Energy =   0.0652
Level     1,  Iter    29:    Energy =   0.0653
Level     1,  Iter    30:    Energy =   0.0655
Level     1,  Iter    31:    Energy =   0.0656
Level     1,  Iter    32:    Energy =   0.0657
Level     1,  Iter    33:    Energy =   0.0658
Level     1,  Iter    34:    Energy =   0.0659
Level     1,  Iter    35:    Energy =   0.0660
Level     1,  Iter    36:    Energy =   0.0661
Level     1,  Iter    37:    Energy =   0.0662
Level     1,  Iter    38:    Energy =   0.0663
Level     1,  Iter    39:    Energy =   0.0663
Level     1,  Iter    40:    Energy =   0.0664
Level     1,  Iter    41:    Energy =   0.0665
Level     1,  Iter    42:    Energy =   0.0665
Level     1,  Iter    43:    Energy =   0.0666
Level     1,  Iter    44:    Energy =   0.0665
Level     1,  Iter    45:    Energy =   0.0665
Level     1,  Iter    46:    Energy =   0.0664
Level     1,  Iter    47:    Energy =   0.0664
Level     1,  Iter    48:    Energy =   0.0663
Level     1,  Iter    49:    Energy =   0.0662
Level     1,  Iter    50:    Energy =   0.0662
Level     1,  Iter    51:    Energy =   0.0662
Level     1,  Iter    52:    Energy =   0.0661
Level     1,  Iter    53:    Energy =   0.0661
Level     1,  Iter    54:    Energy =   0.0661
Level     1,  Iter    55:    Energy =   0.0661
Level     1,  Iter    56:    Energy =   0.0660
Level     1,  Iter    57:    Energy =   0.0661
Level     1,  Iter    58:    Energy =   0.0661
Level     1,  Iter    59:    Energy =   0.0661
END OF LEVEL     1    DetJac Range:   0.0302  to   3.1964 
  Avg. Gradient Time  : 0.0297s  34.14% 
  Avg. Gaussian Time  : 0.0452s  51.94% 
  Avg. Iteration Time : 0.0871s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0311
Level     2,  Iter     1:    Energy =   0.0320
Level     2,  Iter     2:    Energy =   0.0328
Level     2,  Iter     3:    Energy =   0.0334
Level     2,  Iter     4:    Energy =   0.0339
Level     2,  Iter     5:    Energy =   0.0343
Level     2,  Iter     6:    Energy =   0.0347
Level     2,  Iter     7:    Energy =   0.0350
Level     2,  Iter     8:    Energy =   0.0352
Level     2,  Iter     9:    Energy =   0.0354
Level     2,  Iter    10:    Energy =   0.0356
Level     2,  Iter    11:    Energy =   0.0357
Level     2,  Iter    12:    Energy =   0.0358
Level     2,  Iter    13:    Energy =   0.0359
Level     2,  Iter    14:    Energy =   0.0360
Level     2,  Iter    15:    Energy =   0.0360
Level     2,  Iter    16:    Energy =   0.0360
Level     2,  Iter    17:    Energy =   0.0360
Level     2,  Iter    18:    Energy =   0.0360
Level     2,  Iter    19:    Energy =   0.0360
END OF LEVEL     2    DetJac Range:   0.0220  to   3.4977 
  Avg. Gradient Time  : 0.1968s  32.90% 
  Avg. Gaussian Time  : 0.3221s  53.84% 
  Avg. Iteration Time : 0.5983s 

real	0m21.321s
user	0m37.084s
sys	0m2.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 622.888   GNORM= 133.315
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       140.820     112.506       0.038
   2    4      -403.111     162.470       1.000
   3    5      -553.237     180.888       1.000
   4    7      -592.867     141.331       0.187
   5    8      -714.629      84.022       1.000
   6    9      -765.237      56.922       1.000
   7   10      -873.361      63.963       1.000
   8   13      -933.910     368.919       0.105
   9   16      -939.509     131.135       0.021
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01078 -0.12762 0.121439 -3.34885 
-0.148674 1.11434 -0.170652 5.33654 
0.186331 -0.097456 0.931985 -6.41151 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -449.401   GNORM= 168.721
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -449.704      93.922       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01078 -0.127621 0.121439 -3.34886 
-0.148672 1.11433 -0.170648 5.33613 
0.186339 -0.0974593 0.931997 -6.41226 
0 0 0 1 

Final RAS Transform: 
1.01078 -0.127621 0.121439 -3.34886 
-0.148672 1.11433 -0.170648 5.33613 
0.186339 -0.0974593 0.931997 -6.41226 
0 0 0 1 


real	0m3.499s
user	0m5.476s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.375692
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0227
Level     0,  Iter     1:    Energy =   0.0246
Level     0,  Iter     2:    Energy =   0.0269
Level     0,  Iter     3:    Energy =   0.0298
Level     0,  Iter     4:    Energy =   0.0324
Level     0,  Iter     5:    Energy =   0.0345
Level     0,  Iter     6:    Energy =   0.0362
Level     0,  Iter     7:    Energy =   0.0375
Level     0,  Iter     8:    Energy =   0.0384
Level     0,  Iter     9:    Energy =   0.0394
Level     0,  Iter    10:    Energy =   0.0405
Level     0,  Iter    11:    Energy =   0.0415
Level     0,  Iter    12:    Energy =   0.0423
Level     0,  Iter    13:    Energy =   0.0428
Level     0,  Iter    14:    Energy =   0.0433
Level     0,  Iter    15:    Energy =   0.0438
Level     0,  Iter    16:    Energy =   0.0442
Level     0,  Iter    17:    Energy =   0.0445
Level     0,  Iter    18:    Energy =   0.0448
Level     0,  Iter    19:    Energy =   0.0451
Level     0,  Iter    20:    Energy =   0.0454
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0461
Level     0,  Iter    23:    Energy =   0.0464
Level     0,  Iter    24:    Energy =   0.0467
Level     0,  Iter    25:    Energy =   0.0473
Level     0,  Iter    26:    Energy =   0.0478
Level     0,  Iter    27:    Energy =   0.0483
Level     0,  Iter    28:    Energy =   0.0489
Level     0,  Iter    29:    Energy =   0.0493
Level     0,  Iter    30:    Energy =   0.0497
Level     0,  Iter    31:    Energy =   0.0499
Level     0,  Iter    32:    Energy =   0.0501
Level     0,  Iter    33:    Energy =   0.0502
Level     0,  Iter    34:    Energy =   0.0503
Level     0,  Iter    35:    Energy =   0.0504
Level     0,  Iter    36:    Energy =   0.0505
Level     0,  Iter    37:    Energy =   0.0506
Level     0,  Iter    38:    Energy =   0.0507
Level     0,  Iter    39:    Energy =   0.0508
Level     0,  Iter    40:    Energy =   0.0509
Level     0,  Iter    41:    Energy =   0.0510
Level     0,  Iter    42:    Energy =   0.0510
Level     0,  Iter    43:    Energy =   0.0511
Level     0,  Iter    44:    Energy =   0.0512
Level     0,  Iter    45:    Energy =   0.0512
Level     0,  Iter    46:    Energy =   0.0514
Level     0,  Iter    47:    Energy =   0.0515
Level     0,  Iter    48:    Energy =   0.0516
Level     0,  Iter    49:    Energy =   0.0517
Level     0,  Iter    50:    Energy =   0.0519
Level     0,  Iter    51:    Energy =   0.0522
Level     0,  Iter    52:    Energy =   0.0522
Level     0,  Iter    53:    Energy =   0.0525
Level     0,  Iter    54:    Energy =   0.0529
Level     0,  Iter    55:    Energy =   0.0532
Level     0,  Iter    56:    Energy =   0.0535
Level     0,  Iter    57:    Energy =   0.0536
Level     0,  Iter    58:    Energy =   0.0537
Level     0,  Iter    59:    Energy =   0.0538
END OF LEVEL     0    DetJac Range:   0.1329  to   2.0100 
  Avg. Gradient Time  : 0.0064s  32.98% 
  Avg. Gaussian Time  : 0.0094s  47.91% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0328
Level     1,  Iter     1:    Energy =   0.0345
Level     1,  Iter     2:    Energy =   0.0359
Level     1,  Iter     3:    Energy =   0.0371
Level     1,  Iter     4:    Energy =   0.0380
Level     1,  Iter     5:    Energy =   0.0388
Level     1,  Iter     6:    Energy =   0.0394
Level     1,  Iter     7:    Energy =   0.0400
Level     1,  Iter     8:    Energy =   0.0406
Level     1,  Iter     9:    Energy =   0.0411
Level     1,  Iter    10:    Energy =   0.0415
Level     1,  Iter    11:    Energy =   0.0418
Level     1,  Iter    12:    Energy =   0.0421
Level     1,  Iter    13:    Energy =   0.0424
Level     1,  Iter    14:    Energy =   0.0426
Level     1,  Iter    15:    Energy =   0.0428
Level     1,  Iter    16:    Energy =   0.0429
Level     1,  Iter    17:    Energy =   0.0431
Level     1,  Iter    18:    Energy =   0.0432
Level     1,  Iter    19:    Energy =   0.0433
Level     1,  Iter    20:    Energy =   0.0435
Level     1,  Iter    21:    Energy =   0.0436
Level     1,  Iter    22:    Energy =   0.0438
Level     1,  Iter    23:    Energy =   0.0439
Level     1,  Iter    24:    Energy =   0.0439
Level     1,  Iter    25:    Energy =   0.0440
Level     1,  Iter    26:    Energy =   0.0441
Level     1,  Iter    27:    Energy =   0.0442
Level     1,  Iter    28:    Energy =   0.0443
Level     1,  Iter    29:    Energy =   0.0444
Level     1,  Iter    30:    Energy =   0.0444
Level     1,  Iter    31:    Energy =   0.0444
Level     1,  Iter    32:    Energy =   0.0445
Level     1,  Iter    33:    Energy =   0.0445
Level     1,  Iter    34:    Energy =   0.0445
Level     1,  Iter    35:    Energy =   0.0445
Level     1,  Iter    36:    Energy =   0.0446
Level     1,  Iter    37:    Energy =   0.0446
Level     1,  Iter    38:    Energy =   0.0446
Level     1,  Iter    39:    Energy =   0.0447
Level     1,  Iter    40:    Energy =   0.0447
Level     1,  Iter    41:    Energy =   0.0447
Level     1,  Iter    42:    Energy =   0.0448
Level     1,  Iter    43:    Energy =   0.0449
Level     1,  Iter    44:    Energy =   0.0449
Level     1,  Iter    45:    Energy =   0.0450
Level     1,  Iter    46:    Energy =   0.0450
Level     1,  Iter    47:    Energy =   0.0450
Level     1,  Iter    48:    Energy =   0.0450
Level     1,  Iter    49:    Energy =   0.0450
Level     1,  Iter    50:    Energy =   0.0450
Level     1,  Iter    51:    Energy =   0.0451
Level     1,  Iter    52:    Energy =   0.0451
Level     1,  Iter    53:    Energy =   0.0451
Level     1,  Iter    54:    Energy =   0.0451
Level     1,  Iter    55:    Energy =   0.0451
Level     1,  Iter    56:    Energy =   0.0451
Level     1,  Iter    57:    Energy =   0.0451
Level     1,  Iter    58:    Energy =   0.0451
Level     1,  Iter    59:    Energy =   0.0451
END OF LEVEL     1    DetJac Range:   0.0338  to   3.0223 
  Avg. Gradient Time  : 0.0267s  33.77% 
  Avg. Gaussian Time  : 0.0414s  52.33% 
  Avg. Iteration Time : 0.0791s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0208
Level     2,  Iter     1:    Energy =   0.0214
Level     2,  Iter     2:    Energy =   0.0219
Level     2,  Iter     3:    Energy =   0.0224
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0237
Level     2,  Iter     7:    Energy =   0.0240
Level     2,  Iter     8:    Energy =   0.0243
Level     2,  Iter     9:    Energy =   0.0245
Level     2,  Iter    10:    Energy =   0.0248
Level     2,  Iter    11:    Energy =   0.0251
Level     2,  Iter    12:    Energy =   0.0254
Level     2,  Iter    13:    Energy =   0.0256
Level     2,  Iter    14:    Energy =   0.0259
Level     2,  Iter    15:    Energy =   0.0261
Level     2,  Iter    16:    Energy =   0.0264
Level     2,  Iter    17:    Energy =   0.0267
Level     2,  Iter    18:    Energy =   0.0270
Level     2,  Iter    19:    Energy =   0.0273
END OF LEVEL     2    DetJac Range:   0.0164  to   3.5309 
  Avg. Gradient Time  : 0.1763s  31.87% 
  Avg. Gaussian Time  : 0.3021s  54.59% 
  Avg. Iteration Time : 0.5533s 

real	0m19.723s
user	0m34.268s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 416.998   GNORM= 178.128
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       274.163     115.751       0.006
   2    3       107.795      51.734       1.000
   3    4        75.949     112.589       1.000
   4    8      -238.773     194.110       1.470
   5   12      -448.005     129.088       0.388
   6   17      -582.652     111.223       0.971
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03865 -0.109465 0.0796341 -5.0047 
-0.111502 1.17059 -0.233736 10.1829 
0.201511 -0.0541694 0.859071 -9.96397 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -306.286   GNORM= 96.2473
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -306.577     187.776       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03865 -0.109457 0.0796076 -5.00333 
-0.11147 1.17056 -0.233705 10.1793 
0.201502 -0.0541548 0.859053 -9.96283 
0 0 0 1 

Final RAS Transform: 
1.03865 -0.109457 0.0796076 -5.00333 
-0.11147 1.17056 -0.233705 10.1793 
0.201502 -0.0541548 0.859053 -9.96283 
0 0 0 1 


real	0m3.342s
user	0m5.132s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.410947
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0164
Level     0,  Iter     1:    Energy =   0.0182
Level     0,  Iter     2:    Energy =   0.0206
Level     0,  Iter     3:    Energy =   0.0232
Level     0,  Iter     4:    Energy =   0.0262
Level     0,  Iter     5:    Energy =   0.0285
Level     0,  Iter     6:    Energy =   0.0297
Level     0,  Iter     7:    Energy =   0.0306
Level     0,  Iter     8:    Energy =   0.0323
Level     0,  Iter     9:    Energy =   0.0339
Level     0,  Iter    10:    Energy =   0.0348
Level     0,  Iter    11:    Energy =   0.0359
Level     0,  Iter    12:    Energy =   0.0370
Level     0,  Iter    13:    Energy =   0.0381
Level     0,  Iter    14:    Energy =   0.0387
Level     0,  Iter    15:    Energy =   0.0394
Level     0,  Iter    16:    Energy =   0.0400
Level     0,  Iter    17:    Energy =   0.0404
Level     0,  Iter    18:    Energy =   0.0409
Level     0,  Iter    19:    Energy =   0.0413
Level     0,  Iter    20:    Energy =   0.0419
Level     0,  Iter    21:    Energy =   0.0424
Level     0,  Iter    22:    Energy =   0.0430
Level     0,  Iter    23:    Energy =   0.0435
Level     0,  Iter    24:    Energy =   0.0439
Level     0,  Iter    25:    Energy =   0.0443
Level     0,  Iter    26:    Energy =   0.0446
Level     0,  Iter    27:    Energy =   0.0449
Level     0,  Iter    28:    Energy =   0.0452
Level     0,  Iter    29:    Energy =   0.0455
Level     0,  Iter    30:    Energy =   0.0459
Level     0,  Iter    31:    Energy =   0.0463
Level     0,  Iter    32:    Energy =   0.0468
Level     0,  Iter    33:    Energy =   0.0472
Level     0,  Iter    34:    Energy =   0.0477
Level     0,  Iter    35:    Energy =   0.0481
Level     0,  Iter    36:    Energy =   0.0486
Level     0,  Iter    37:    Energy =   0.0492
Level     0,  Iter    38:    Energy =   0.0497
Level     0,  Iter    39:    Energy =   0.0504
Level     0,  Iter    40:    Energy =   0.0509
Level     0,  Iter    41:    Energy =   0.0514
Level     0,  Iter    42:    Energy =   0.0520
Level     0,  Iter    43:    Energy =   0.0523
Level     0,  Iter    44:    Energy =   0.0528
Level     0,  Iter    45:    Energy =   0.0531
Level     0,  Iter    46:    Energy =   0.0535
Level     0,  Iter    47:    Energy =   0.0538
Level     0,  Iter    48:    Energy =   0.0541
Level     0,  Iter    49:    Energy =   0.0543
Level     0,  Iter    50:    Energy =   0.0544
Level     0,  Iter    51:    Energy =   0.0546
Level     0,  Iter    52:    Energy =   0.0547
Level     0,  Iter    53:    Energy =   0.0548
Level     0,  Iter    54:    Energy =   0.0549
Level     0,  Iter    55:    Energy =   0.0550
Level     0,  Iter    56:    Energy =   0.0550
Level     0,  Iter    57:    Energy =   0.0551
Level     0,  Iter    58:    Energy =   0.0552
Level     0,  Iter    59:    Energy =   0.0552
END OF LEVEL     0    DetJac Range:   0.0611  to   2.1759 
  Avg. Gradient Time  : 0.0067s  32.85% 
  Avg. Gaussian Time  : 0.0098s  48.18% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0321
Level     1,  Iter     1:    Energy =   0.0334
Level     1,  Iter     2:    Energy =   0.0345
Level     1,  Iter     3:    Energy =   0.0356
Level     1,  Iter     4:    Energy =   0.0368
Level     1,  Iter     5:    Energy =   0.0377
Level     1,  Iter     6:    Energy =   0.0386
Level     1,  Iter     7:    Energy =   0.0394
Level     1,  Iter     8:    Energy =   0.0401
Level     1,  Iter     9:    Energy =   0.0407
Level     1,  Iter    10:    Energy =   0.0412
Level     1,  Iter    11:    Energy =   0.0416
Level     1,  Iter    12:    Energy =   0.0420
Level     1,  Iter    13:    Energy =   0.0425
Level     1,  Iter    14:    Energy =   0.0429
Level     1,  Iter    15:    Energy =   0.0432
Level     1,  Iter    16:    Energy =   0.0435
Level     1,  Iter    17:    Energy =   0.0438
Level     1,  Iter    18:    Energy =   0.0440
Level     1,  Iter    19:    Energy =   0.0442
Level     1,  Iter    20:    Energy =   0.0444
Level     1,  Iter    21:    Energy =   0.0446
Level     1,  Iter    22:    Energy =   0.0447
Level     1,  Iter    23:    Energy =   0.0449
Level     1,  Iter    24:    Energy =   0.0451
Level     1,  Iter    25:    Energy =   0.0452
Level     1,  Iter    26:    Energy =   0.0453
Level     1,  Iter    27:    Energy =   0.0455
Level     1,  Iter    28:    Energy =   0.0456
Level     1,  Iter    29:    Energy =   0.0456
Level     1,  Iter    30:    Energy =   0.0457
Level     1,  Iter    31:    Energy =   0.0458
Level     1,  Iter    32:    Energy =   0.0458
Level     1,  Iter    33:    Energy =   0.0458
Level     1,  Iter    34:    Energy =   0.0459
Level     1,  Iter    35:    Energy =   0.0459
Level     1,  Iter    36:    Energy =   0.0459
Level     1,  Iter    37:    Energy =   0.0459
Level     1,  Iter    38:    Energy =   0.0459
Level     1,  Iter    39:    Energy =   0.0460
Level     1,  Iter    40:    Energy =   0.0460
Level     1,  Iter    41:    Energy =   0.0460
Level     1,  Iter    42:    Energy =   0.0460
Level     1,  Iter    43:    Energy =   0.0461
Level     1,  Iter    44:    Energy =   0.0461
Level     1,  Iter    45:    Energy =   0.0462
Level     1,  Iter    46:    Energy =   0.0462
Level     1,  Iter    47:    Energy =   0.0463
Level     1,  Iter    48:    Energy =   0.0463
Level     1,  Iter    49:    Energy =   0.0463
Level     1,  Iter    50:    Energy =   0.0464
Level     1,  Iter    51:    Energy =   0.0464
Level     1,  Iter    52:    Energy =   0.0465
Level     1,  Iter    53:    Energy =   0.0465
Level     1,  Iter    54:    Energy =   0.0465
Level     1,  Iter    55:    Energy =   0.0466
Level     1,  Iter    56:    Energy =   0.0466
Level     1,  Iter    57:    Energy =   0.0466
Level     1,  Iter    58:    Energy =   0.0466
Level     1,  Iter    59:    Energy =   0.0466
END OF LEVEL     1    DetJac Range:   0.0244  to   3.2804 
  Avg. Gradient Time  : 0.0275s  33.66% 
  Avg. Gaussian Time  : 0.0429s  52.46% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0212
Level     2,  Iter     1:    Energy =   0.0221
Level     2,  Iter     2:    Energy =   0.0230
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0242
Level     2,  Iter     5:    Energy =   0.0247
Level     2,  Iter     6:    Energy =   0.0250
Level     2,  Iter     7:    Energy =   0.0254
Level     2,  Iter     8:    Energy =   0.0258
Level     2,  Iter     9:    Energy =   0.0261
Level     2,  Iter    10:    Energy =   0.0264
Level     2,  Iter    11:    Energy =   0.0267
Level     2,  Iter    12:    Energy =   0.0271
Level     2,  Iter    13:    Energy =   0.0274
Level     2,  Iter    14:    Energy =   0.0277
Level     2,  Iter    15:    Energy =   0.0279
Level     2,  Iter    16:    Energy =   0.0281
Level     2,  Iter    17:    Energy =   0.0283
Level     2,  Iter    18:    Energy =   0.0284
Level     2,  Iter    19:    Energy =   0.0286
END OF LEVEL     2    DetJac Range:   0.0236  to   3.9000 
  Avg. Gradient Time  : 0.1752s  32.08% 
  Avg. Gaussian Time  : 0.2974s  54.44% 
  Avg. Iteration Time : 0.5462s 

real	0m19.795s
user	0m34.252s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 481.947   GNORM= 269.855
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       238.109     227.857       0.004
   2    4       124.123      10.554       5.000
   3    7         7.969       1.547      21.000
   4    8         4.042       1.085       1.000
   5    9        -0.001       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.07116 -0.123417 0.0785261 -3.57605 
-0.0338257 1.11887 -0.12039 2.91803 
0.0752661 -0.0991116 0.982776 -3.40664 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -112.642   GNORM= 53.0519
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -126.535      64.540       0.019
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.07153 -0.125287 0.0773117 -3.66679 
-0.0383227 1.12577 -0.127903 3.57338 
0.0727151 -0.0940718 0.9801 -3.26292 
0 0 0 1 

Final RAS Transform: 
1.07153 -0.125287 0.0773117 -3.66679 
-0.0383227 1.12577 -0.127903 3.57338 
0.0727151 -0.0940718 0.9801 -3.26292 
0 0 0 1 


real	0m2.989s
user	0m4.600s
sys	0m0.340s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.474407
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0058
Level     0,  Iter     1:    Energy =   0.0078
Level     0,  Iter     2:    Energy =   0.0106
Level     0,  Iter     3:    Energy =   0.0133
Level     0,  Iter     4:    Energy =   0.0155
Level     0,  Iter     5:    Energy =   0.0174
Level     0,  Iter     6:    Energy =   0.0198
Level     0,  Iter     7:    Energy =   0.0220
Level     0,  Iter     8:    Energy =   0.0240
Level     0,  Iter     9:    Energy =   0.0258
Level     0,  Iter    10:    Energy =   0.0270
Level     0,  Iter    11:    Energy =   0.0279
Level     0,  Iter    12:    Energy =   0.0290
Level     0,  Iter    13:    Energy =   0.0300
Level     0,  Iter    14:    Energy =   0.0308
Level     0,  Iter    15:    Energy =   0.0318
Level     0,  Iter    16:    Energy =   0.0328
Level     0,  Iter    17:    Energy =   0.0338
Level     0,  Iter    18:    Energy =   0.0345
Level     0,  Iter    19:    Energy =   0.0351
Level     0,  Iter    20:    Energy =   0.0355
Level     0,  Iter    21:    Energy =   0.0360
Level     0,  Iter    22:    Energy =   0.0362
Level     0,  Iter    23:    Energy =   0.0367
Level     0,  Iter    24:    Energy =   0.0372
Level     0,  Iter    25:    Energy =   0.0375
Level     0,  Iter    26:    Energy =   0.0379
Level     0,  Iter    27:    Energy =   0.0382
Level     0,  Iter    28:    Energy =   0.0387
Level     0,  Iter    29:    Energy =   0.0391
Level     0,  Iter    30:    Energy =   0.0394
Level     0,  Iter    31:    Energy =   0.0398
Level     0,  Iter    32:    Energy =   0.0401
Level     0,  Iter    33:    Energy =   0.0405
Level     0,  Iter    34:    Energy =   0.0405
Level     0,  Iter    35:    Energy =   0.0406
Level     0,  Iter    36:    Energy =   0.0406
Level     0,  Iter    37:    Energy =   0.0407
Level     0,  Iter    38:    Energy =   0.0408
Level     0,  Iter    39:    Energy =   0.0409
Level     0,  Iter    40:    Energy =   0.0410
Level     0,  Iter    41:    Energy =   0.0411
Level     0,  Iter    42:    Energy =   0.0412
Level     0,  Iter    43:    Energy =   0.0413
Level     0,  Iter    44:    Energy =   0.0415
Level     0,  Iter    45:    Energy =   0.0417
Level     0,  Iter    46:    Energy =   0.0418
Level     0,  Iter    47:    Energy =   0.0420
Level     0,  Iter    48:    Energy =   0.0421
Level     0,  Iter    49:    Energy =   0.0421
Level     0,  Iter    50:    Energy =   0.0421
Level     0,  Iter    51:    Energy =   0.0422
Level     0,  Iter    52:    Energy =   0.0424
Level     0,  Iter    53:    Energy =   0.0425
Level     0,  Iter    54:    Energy =   0.0426
Level     0,  Iter    55:    Energy =   0.0428
Level     0,  Iter    56:    Energy =   0.0429
Level     0,  Iter    57:    Energy =   0.0430
Level     0,  Iter    58:    Energy =   0.0431
Level     0,  Iter    59:    Energy =   0.0431
END OF LEVEL     0    DetJac Range:   0.0265  to   2.1498 
  Avg. Gradient Time  : 0.0066s  33.01% 
  Avg. Gaussian Time  : 0.0096s  48.19% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0302
Level     1,  Iter     1:    Energy =   0.0319
Level     1,  Iter     2:    Energy =   0.0334
Level     1,  Iter     3:    Energy =   0.0349
Level     1,  Iter     4:    Energy =   0.0362
Level     1,  Iter     5:    Energy =   0.0374
Level     1,  Iter     6:    Energy =   0.0384
Level     1,  Iter     7:    Energy =   0.0392
Level     1,  Iter     8:    Energy =   0.0401
Level     1,  Iter     9:    Energy =   0.0408
Level     1,  Iter    10:    Energy =   0.0415
Level     1,  Iter    11:    Energy =   0.0422
Level     1,  Iter    12:    Energy =   0.0428
Level     1,  Iter    13:    Energy =   0.0433
Level     1,  Iter    14:    Energy =   0.0437
Level     1,  Iter    15:    Energy =   0.0442
Level     1,  Iter    16:    Energy =   0.0446
Level     1,  Iter    17:    Energy =   0.0450
Level     1,  Iter    18:    Energy =   0.0454
Level     1,  Iter    19:    Energy =   0.0457
Level     1,  Iter    20:    Energy =   0.0461
Level     1,  Iter    21:    Energy =   0.0464
Level     1,  Iter    22:    Energy =   0.0468
Level     1,  Iter    23:    Energy =   0.0472
Level     1,  Iter    24:    Energy =   0.0474
Level     1,  Iter    25:    Energy =   0.0476
Level     1,  Iter    26:    Energy =   0.0478
Level     1,  Iter    27:    Energy =   0.0480
Level     1,  Iter    28:    Energy =   0.0482
Level     1,  Iter    29:    Energy =   0.0484
Level     1,  Iter    30:    Energy =   0.0485
Level     1,  Iter    31:    Energy =   0.0487
Level     1,  Iter    32:    Energy =   0.0488
Level     1,  Iter    33:    Energy =   0.0490
Level     1,  Iter    34:    Energy =   0.0491
Level     1,  Iter    35:    Energy =   0.0493
Level     1,  Iter    36:    Energy =   0.0495
Level     1,  Iter    37:    Energy =   0.0496
Level     1,  Iter    38:    Energy =   0.0498
Level     1,  Iter    39:    Energy =   0.0498
Level     1,  Iter    40:    Energy =   0.0499
Level     1,  Iter    41:    Energy =   0.0500
Level     1,  Iter    42:    Energy =   0.0501
Level     1,  Iter    43:    Energy =   0.0503
Level     1,  Iter    44:    Energy =   0.0504
Level     1,  Iter    45:    Energy =   0.0505
Level     1,  Iter    46:    Energy =   0.0506
Level     1,  Iter    47:    Energy =   0.0507
Level     1,  Iter    48:    Energy =   0.0508
Level     1,  Iter    49:    Energy =   0.0509
Level     1,  Iter    50:    Energy =   0.0509
Level     1,  Iter    51:    Energy =   0.0509
Level     1,  Iter    52:    Energy =   0.0510
Level     1,  Iter    53:    Energy =   0.0510
Level     1,  Iter    54:    Energy =   0.0510
Level     1,  Iter    55:    Energy =   0.0510
Level     1,  Iter    56:    Energy =   0.0511
Level     1,  Iter    57:    Energy =   0.0511
Level     1,  Iter    58:    Energy =   0.0511
Level     1,  Iter    59:    Energy =   0.0511
END OF LEVEL     1    DetJac Range:   0.0130  to   3.3999 
  Avg. Gradient Time  : 0.0275s  33.84% 
  Avg. Gaussian Time  : 0.0425s  52.29% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0227
Level     2,  Iter     1:    Energy =   0.0235
Level     2,  Iter     2:    Energy =   0.0243
Level     2,  Iter     3:    Energy =   0.0250
Level     2,  Iter     4:    Energy =   0.0256
Level     2,  Iter     5:    Energy =   0.0261
Level     2,  Iter     6:    Energy =   0.0266
Level     2,  Iter     7:    Energy =   0.0270
Level     2,  Iter     8:    Energy =   0.0275
Level     2,  Iter     9:    Energy =   0.0279
Level     2,  Iter    10:    Energy =   0.0283
Level     2,  Iter    11:    Energy =   0.0286
Level     2,  Iter    12:    Energy =   0.0290
Level     2,  Iter    13:    Energy =   0.0293
Level     2,  Iter    14:    Energy =   0.0296
Level     2,  Iter    15:    Energy =   0.0299
Level     2,  Iter    16:    Energy =   0.0302
Level     2,  Iter    17:    Energy =   0.0305
Level     2,  Iter    18:    Energy =   0.0307
Level     2,  Iter    19:    Energy =   0.0310
END OF LEVEL     2    DetJac Range:   0.0081  to   3.3466 
  Avg. Gradient Time  : 0.1764s  32.19% 
  Avg. Gaussian Time  : 0.2980s  54.39% 
  Avg. Iteration Time : 0.5479s 

real	0m19.778s
user	0m34.280s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 313.111   GNORM= 213.461
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       205.102      86.096       0.005
   2    3       160.498      57.894       1.000
   3    4       104.606      54.831       1.000
   4    6       -29.853     129.602       5.000
   5    7       -41.836      87.181       1.000
   6    8      -220.638      61.304       1.000
   7   11      -269.698      69.800       0.074
   8   15      -279.028      43.547       0.026
   9   16      -289.550      55.658       1.000
  10   18      -292.088      59.092       0.054
  11   34      -292.280      47.987       1.609
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.591185 0.162956 0.033106 -15.6615 
-0.0322152 1.13802 -0.217684 18.1928 
0.279459 -0.238813 0.557166 -17.751 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -41.026   GNORM= 81.6614
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -62.911      33.235       0.012
   2    5       -74.390      38.749       2.382
   3   11       -78.076      43.385       0.960
   4   15       -88.242      31.093       1.451
   5   20       -98.470      20.870       0.205
   6   23       -98.781      14.998       0.139
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.584363 0.156261 0.022186 -15.3506 
-0.0154142 1.12694 -0.218184 17.1415 
0.286837 -0.23932 0.555744 -18.8331 
0 0 0 1 

Final RAS Transform: 
0.584363 0.156261 0.022186 -15.3506 
-0.0154142 1.12694 -0.218184 17.1415 
0.286837 -0.23932 0.555744 -18.8331 
0 0 0 1 


real	0m4.616s
user	0m7.508s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.358697
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0062
Level     0,  Iter     1:    Energy =   0.0072
Level     0,  Iter     2:    Energy =   0.0088
Level     0,  Iter     3:    Energy =   0.0105
Level     0,  Iter     4:    Energy =   0.0117
Level     0,  Iter     5:    Energy =   0.0128
Level     0,  Iter     6:    Energy =   0.0136
Level     0,  Iter     7:    Energy =   0.0144
Level     0,  Iter     8:    Energy =   0.0152
Level     0,  Iter     9:    Energy =   0.0164
Level     0,  Iter    10:    Energy =   0.0175
Level     0,  Iter    11:    Energy =   0.0184
Level     0,  Iter    12:    Energy =   0.0193
Level     0,  Iter    13:    Energy =   0.0202
Level     0,  Iter    14:    Energy =   0.0210
Level     0,  Iter    15:    Energy =   0.0216
Level     0,  Iter    16:    Energy =   0.0220
Level     0,  Iter    17:    Energy =   0.0224
Level     0,  Iter    18:    Energy =   0.0228
Level     0,  Iter    19:    Energy =   0.0232
Level     0,  Iter    20:    Energy =   0.0237
Level     0,  Iter    21:    Energy =   0.0240
Level     0,  Iter    22:    Energy =   0.0242
Level     0,  Iter    23:    Energy =   0.0245
Level     0,  Iter    24:    Energy =   0.0249
Level     0,  Iter    25:    Energy =   0.0251
Level     0,  Iter    26:    Energy =   0.0255
Level     0,  Iter    27:    Energy =   0.0259
Level     0,  Iter    28:    Energy =   0.0264
Level     0,  Iter    29:    Energy =   0.0268
Level     0,  Iter    30:    Energy =   0.0272
Level     0,  Iter    31:    Energy =   0.0275
Level     0,  Iter    32:    Energy =   0.0277
Level     0,  Iter    33:    Energy =   0.0280
Level     0,  Iter    34:    Energy =   0.0282
Level     0,  Iter    35:    Energy =   0.0284
Level     0,  Iter    36:    Energy =   0.0284
Level     0,  Iter    37:    Energy =   0.0284
Level     0,  Iter    38:    Energy =   0.0285
Level     0,  Iter    39:    Energy =   0.0285
Level     0,  Iter    40:    Energy =   0.0286
Level     0,  Iter    41:    Energy =   0.0287
Level     0,  Iter    42:    Energy =   0.0289
Level     0,  Iter    43:    Energy =   0.0291
Level     0,  Iter    44:    Energy =   0.0291
Level     0,  Iter    45:    Energy =   0.0291
Level     0,  Iter    46:    Energy =   0.0290
Level     0,  Iter    47:    Energy =   0.0290
Level     0,  Iter    48:    Energy =   0.0289
Level     0,  Iter    49:    Energy =   0.0288
Level     0,  Iter    50:    Energy =   0.0288
Level     0,  Iter    51:    Energy =   0.0289
Level     0,  Iter    52:    Energy =   0.0290
Level     0,  Iter    53:    Energy =   0.0292
Level     0,  Iter    54:    Energy =   0.0294
Level     0,  Iter    55:    Energy =   0.0295
Level     0,  Iter    56:    Energy =   0.0296
Level     0,  Iter    57:    Energy =   0.0298
Level     0,  Iter    58:    Energy =   0.0300
Level     0,  Iter    59:    Energy =   0.0301
END OF LEVEL     0    DetJac Range:   0.0088  to   2.2194 
  Avg. Gradient Time  : 0.0066s  32.70% 
  Avg. Gaussian Time  : 0.0097s  48.41% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0172
Level     1,  Iter     1:    Energy =   0.0180
Level     1,  Iter     2:    Energy =   0.0186
Level     1,  Iter     3:    Energy =   0.0192
Level     1,  Iter     4:    Energy =   0.0197
Level     1,  Iter     5:    Energy =   0.0202
Level     1,  Iter     6:    Energy =   0.0207
Level     1,  Iter     7:    Energy =   0.0211
Level     1,  Iter     8:    Energy =   0.0214
Level     1,  Iter     9:    Energy =   0.0218
Level     1,  Iter    10:    Energy =   0.0221
Level     1,  Iter    11:    Energy =   0.0224
Level     1,  Iter    12:    Energy =   0.0227
Level     1,  Iter    13:    Energy =   0.0229
Level     1,  Iter    14:    Energy =   0.0232
Level     1,  Iter    15:    Energy =   0.0234
Level     1,  Iter    16:    Energy =   0.0236
Level     1,  Iter    17:    Energy =   0.0238
Level     1,  Iter    18:    Energy =   0.0240
Level     1,  Iter    19:    Energy =   0.0241
Level     1,  Iter    20:    Energy =   0.0243
Level     1,  Iter    21:    Energy =   0.0244
Level     1,  Iter    22:    Energy =   0.0246
Level     1,  Iter    23:    Energy =   0.0248
Level     1,  Iter    24:    Energy =   0.0250
Level     1,  Iter    25:    Energy =   0.0252
Level     1,  Iter    26:    Energy =   0.0254
Level     1,  Iter    27:    Energy =   0.0256
Level     1,  Iter    28:    Energy =   0.0257
Level     1,  Iter    29:    Energy =   0.0259
Level     1,  Iter    30:    Energy =   0.0260
Level     1,  Iter    31:    Energy =   0.0261
Level     1,  Iter    32:    Energy =   0.0262
Level     1,  Iter    33:    Energy =   0.0262
Level     1,  Iter    34:    Energy =   0.0263
Level     1,  Iter    35:    Energy =   0.0263
Level     1,  Iter    36:    Energy =   0.0264
Level     1,  Iter    37:    Energy =   0.0264
Level     1,  Iter    38:    Energy =   0.0265
Level     1,  Iter    39:    Energy =   0.0266
Level     1,  Iter    40:    Energy =   0.0266
Level     1,  Iter    41:    Energy =   0.0267
Level     1,  Iter    42:    Energy =   0.0267
Level     1,  Iter    43:    Energy =   0.0268
Level     1,  Iter    44:    Energy =   0.0268
Level     1,  Iter    45:    Energy =   0.0268
Level     1,  Iter    46:    Energy =   0.0269
Level     1,  Iter    47:    Energy =   0.0269
Level     1,  Iter    48:    Energy =   0.0269
Level     1,  Iter    49:    Energy =   0.0269
Level     1,  Iter    50:    Energy =   0.0269
Level     1,  Iter    51:    Energy =   0.0269
Level     1,  Iter    52:    Energy =   0.0270
Level     1,  Iter    53:    Energy =   0.0270
Level     1,  Iter    54:    Energy =   0.0271
Level     1,  Iter    55:    Energy =   0.0271
Level     1,  Iter    56:    Energy =   0.0272
Level     1,  Iter    57:    Energy =   0.0272
Level     1,  Iter    58:    Energy =   0.0273
Level     1,  Iter    59:    Energy =   0.0273
END OF LEVEL     1    DetJac Range:   0.0062  to   2.4374 
  Avg. Gradient Time  : 0.0272s  33.54% 
  Avg. Gaussian Time  : 0.0427s  52.59% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0143
Level     2,  Iter     1:    Energy =   0.0149
Level     2,  Iter     2:    Energy =   0.0154
Level     2,  Iter     3:    Energy =   0.0159
Level     2,  Iter     4:    Energy =   0.0162
Level     2,  Iter     5:    Energy =   0.0166
Level     2,  Iter     6:    Energy =   0.0168
Level     2,  Iter     7:    Energy =   0.0171
Level     2,  Iter     8:    Energy =   0.0174
Level     2,  Iter     9:    Energy =   0.0176
Level     2,  Iter    10:    Energy =   0.0179
Level     2,  Iter    11:    Energy =   0.0181
Level     2,  Iter    12:    Energy =   0.0183
Level     2,  Iter    13:    Energy =   0.0185
Level     2,  Iter    14:    Energy =   0.0187
Level     2,  Iter    15:    Energy =   0.0188
Level     2,  Iter    16:    Energy =   0.0190
Level     2,  Iter    17:    Energy =   0.0191
Level     2,  Iter    18:    Energy =   0.0192
Level     2,  Iter    19:    Energy =   0.0193
END OF LEVEL     2    DetJac Range:   0.0040  to   2.3573 
  Avg. Gradient Time  : 0.1775s  32.05% 
  Avg. Gaussian Time  : 0.3017s  54.49% 
  Avg. Iteration Time : 0.5537s 

real	0m19.820s
user	0m34.492s
sys	0m2.156s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 408.096   GNORM= 184.703
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       282.240     104.089       0.005
   2    3       180.038      75.084       1.000
   3    7        -0.001       0.000      85.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
0.896214 0.132538 -0.131431 -2.44468 
-0.124565 1.28848 -0.277788 10.4361 
0.176947 -0.177904 0.694149 -14.5765 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -132.75   GNORM= 95.9088
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -133.194      55.198       0.000
   2    4      -134.106      22.785       1.000
   3   10      -166.969      26.602     134.935
   4   17      -171.321      30.775       0.571
   5   22      -183.875      27.438       0.543
   6   28      -184.991      45.279       0.066
   7   33      -191.513     239.126       0.037
   8   34      -193.445     218.651       1.000
   9   42      -194.003     638.886       0.000
  10   52      -194.323      49.131       0.000
Final RAS Transform: 
0.887303 0.145306 -0.142685 2.06615 
-0.129259 1.25291 -0.247119 9.52041 
0.208981 -0.148484 0.687764 -14.5261 
0 0 0 1 

Final RAS Transform: 
0.887303 0.145306 -0.142685 2.06615 
-0.129259 1.25291 -0.247119 9.52041 
0.208981 -0.148484 0.687764 -14.5261 
0 0 0 1 


real	0m5.292s
user	0m8.968s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.371319
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0087
Level     0,  Iter     1:    Energy =   0.0104
Level     0,  Iter     2:    Energy =   0.0127
Level     0,  Iter     3:    Energy =   0.0146
Level     0,  Iter     4:    Energy =   0.0163
Level     0,  Iter     5:    Energy =   0.0179
Level     0,  Iter     6:    Energy =   0.0192
Level     0,  Iter     7:    Energy =   0.0200
Level     0,  Iter     8:    Energy =   0.0204
Level     0,  Iter     9:    Energy =   0.0209
Level     0,  Iter    10:    Energy =   0.0213
Level     0,  Iter    11:    Energy =   0.0214
Level     0,  Iter    12:    Energy =   0.0218
Level     0,  Iter    13:    Energy =   0.0223
Level     0,  Iter    14:    Energy =   0.0231
Level     0,  Iter    15:    Energy =   0.0238
Level     0,  Iter    16:    Energy =   0.0243
Level     0,  Iter    17:    Energy =   0.0246
Level     0,  Iter    18:    Energy =   0.0249
Level     0,  Iter    19:    Energy =   0.0252
Level     0,  Iter    20:    Energy =   0.0255
Level     0,  Iter    21:    Energy =   0.0257
Level     0,  Iter    22:    Energy =   0.0259
Level     0,  Iter    23:    Energy =   0.0261
Level     0,  Iter    24:    Energy =   0.0262
Level     0,  Iter    25:    Energy =   0.0265
Level     0,  Iter    26:    Energy =   0.0267
Level     0,  Iter    27:    Energy =   0.0270
Level     0,  Iter    28:    Energy =   0.0273
Level     0,  Iter    29:    Energy =   0.0277
Level     0,  Iter    30:    Energy =   0.0278
Level     0,  Iter    31:    Energy =   0.0281
Level     0,  Iter    32:    Energy =   0.0282
Level     0,  Iter    33:    Energy =   0.0285
Level     0,  Iter    34:    Energy =   0.0286
Level     0,  Iter    35:    Energy =   0.0288
Level     0,  Iter    36:    Energy =   0.0289
Level     0,  Iter    37:    Energy =   0.0291
Level     0,  Iter    38:    Energy =   0.0292
Level     0,  Iter    39:    Energy =   0.0293
Level     0,  Iter    40:    Energy =   0.0295
Level     0,  Iter    41:    Energy =   0.0298
Level     0,  Iter    42:    Energy =   0.0300
Level     0,  Iter    43:    Energy =   0.0302
Level     0,  Iter    44:    Energy =   0.0303
Level     0,  Iter    45:    Energy =   0.0304
Level     0,  Iter    46:    Energy =   0.0303
Level     0,  Iter    47:    Energy =   0.0304
Level     0,  Iter    48:    Energy =   0.0304
Level     0,  Iter    49:    Energy =   0.0304
Level     0,  Iter    50:    Energy =   0.0303
Level     0,  Iter    51:    Energy =   0.0304
Level     0,  Iter    52:    Energy =   0.0303
Level     0,  Iter    53:    Energy =   0.0304
Level     0,  Iter    54:    Energy =   0.0304
Level     0,  Iter    55:    Energy =   0.0304
Level     0,  Iter    56:    Energy =   0.0303
Level     0,  Iter    57:    Energy =   0.0303
Level     0,  Iter    58:    Energy =   0.0303
Level     0,  Iter    59:    Energy =   0.0303
END OF LEVEL     0    DetJac Range:   0.0390  to   2.7303 
  Avg. Gradient Time  : 0.0068s  32.67% 
  Avg. Gaussian Time  : 0.0101s  48.54% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0174
Level     1,  Iter     1:    Energy =   0.0188
Level     1,  Iter     2:    Energy =   0.0199
Level     1,  Iter     3:    Energy =   0.0209
Level     1,  Iter     4:    Energy =   0.0217
Level     1,  Iter     5:    Energy =   0.0223
Level     1,  Iter     6:    Energy =   0.0228
Level     1,  Iter     7:    Energy =   0.0233
Level     1,  Iter     8:    Energy =   0.0239
Level     1,  Iter     9:    Energy =   0.0244
Level     1,  Iter    10:    Energy =   0.0248
Level     1,  Iter    11:    Energy =   0.0251
Level     1,  Iter    12:    Energy =   0.0256
Level     1,  Iter    13:    Energy =   0.0259
Level     1,  Iter    14:    Energy =   0.0262
Level     1,  Iter    15:    Energy =   0.0264
Level     1,  Iter    16:    Energy =   0.0267
Level     1,  Iter    17:    Energy =   0.0268
Level     1,  Iter    18:    Energy =   0.0270
Level     1,  Iter    19:    Energy =   0.0272
Level     1,  Iter    20:    Energy =   0.0274
Level     1,  Iter    21:    Energy =   0.0276
Level     1,  Iter    22:    Energy =   0.0277
Level     1,  Iter    23:    Energy =   0.0279
Level     1,  Iter    24:    Energy =   0.0280
Level     1,  Iter    25:    Energy =   0.0280
Level     1,  Iter    26:    Energy =   0.0281
Level     1,  Iter    27:    Energy =   0.0281
Level     1,  Iter    28:    Energy =   0.0281
Level     1,  Iter    29:    Energy =   0.0282
Level     1,  Iter    30:    Energy =   0.0282
Level     1,  Iter    31:    Energy =   0.0282
Level     1,  Iter    32:    Energy =   0.0283
Level     1,  Iter    33:    Energy =   0.0283
Level     1,  Iter    34:    Energy =   0.0284
Level     1,  Iter    35:    Energy =   0.0284
Level     1,  Iter    36:    Energy =   0.0284
Level     1,  Iter    37:    Energy =   0.0284
Level     1,  Iter    38:    Energy =   0.0285
Level     1,  Iter    39:    Energy =   0.0285
Level     1,  Iter    40:    Energy =   0.0286
Level     1,  Iter    41:    Energy =   0.0286
Level     1,  Iter    42:    Energy =   0.0287
Level     1,  Iter    43:    Energy =   0.0288
Level     1,  Iter    44:    Energy =   0.0288
Level     1,  Iter    45:    Energy =   0.0288
Level     1,  Iter    46:    Energy =   0.0289
Level     1,  Iter    47:    Energy =   0.0289
Level     1,  Iter    48:    Energy =   0.0290
Level     1,  Iter    49:    Energy =   0.0290
Level     1,  Iter    50:    Energy =   0.0290
Level     1,  Iter    51:    Energy =   0.0291
Level     1,  Iter    52:    Energy =   0.0291
Level     1,  Iter    53:    Energy =   0.0291
Level     1,  Iter    54:    Energy =   0.0291
Level     1,  Iter    55:    Energy =   0.0292
Level     1,  Iter    56:    Energy =   0.0292
Level     1,  Iter    57:    Energy =   0.0293
Level     1,  Iter    58:    Energy =   0.0293
Level     1,  Iter    59:    Energy =   0.0294
END OF LEVEL     1    DetJac Range:   0.0210  to   2.2620 
  Avg. Gradient Time  : 0.0306s  33.78% 
  Avg. Gaussian Time  : 0.0474s  52.31% 
  Avg. Iteration Time : 0.0906s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0128
Level     2,  Iter     1:    Energy =   0.0133
Level     2,  Iter     2:    Energy =   0.0136
Level     2,  Iter     3:    Energy =   0.0140
Level     2,  Iter     4:    Energy =   0.0143
Level     2,  Iter     5:    Energy =   0.0147
Level     2,  Iter     6:    Energy =   0.0151
Level     2,  Iter     7:    Energy =   0.0155
Level     2,  Iter     8:    Energy =   0.0158
Level     2,  Iter     9:    Energy =   0.0160
Level     2,  Iter    10:    Energy =   0.0163
Level     2,  Iter    11:    Energy =   0.0165
Level     2,  Iter    12:    Energy =   0.0167
Level     2,  Iter    13:    Energy =   0.0169
Level     2,  Iter    14:    Energy =   0.0171
Level     2,  Iter    15:    Energy =   0.0172
Level     2,  Iter    16:    Energy =   0.0173
Level     2,  Iter    17:    Energy =   0.0174
Level     2,  Iter    18:    Energy =   0.0176
Level     2,  Iter    19:    Energy =   0.0177
END OF LEVEL     2    DetJac Range:   0.0217  to   2.2597 
  Avg. Gradient Time  : 0.1874s  32.59% 
  Avg. Gaussian Time  : 0.3110s  54.09% 
  Avg. Iteration Time : 0.5751s 

real	0m21.158s
user	0m36.252s
sys	0m2.724s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 389.345   GNORM= 168.735
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       257.992      99.188       0.006
   2    3       111.747      98.498       1.000
   3    4        62.397      39.170       1.000
   4    5      -111.774      70.077       1.000
   5    6      -363.078      45.789       1.000
   6    8      -421.690      55.906       0.283
   7   11      -425.416      60.665       0.037
   8   12      -433.173      20.329       1.000
   9   13      -437.328      16.604       1.000
  10   14      -453.922      15.625       1.000
  11   16      -484.710      68.884       0.392
  12   17      -503.560      67.749       1.000
  13   18      -560.274      41.811       1.000
  14   19      -619.689      44.187       1.000
  15   23      -685.421      62.315       0.838
  16   26      -706.423      23.359       0.236
  17   28      -716.231      38.476       0.433
  18   33      -718.575      40.362       0.281
  19   37      -733.697      73.404       1.330
  20   38      -742.066      27.038       1.000
  21   42      -765.767    5053.247       2.896
Final RAS Transform: 
0.961953 -0.297606 0.70805 -10.4988 
-0.531921 0.676493 -0.529236 13.1644 
0.0582688 0.390004 0.952134 -0.764627 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -347.653   GNORM= 62.1682
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -382.434      26.269       0.017
   2    8      -404.899      43.292       5.000
   3    9      -419.856      54.263       1.000
   4   11      -423.520      21.892       0.224
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.952315 -0.29691 0.698551 -9.02725 
-0.532499 0.670882 -0.530828 13.4343 
0.0529658 0.393231 0.944534 0.466236 
0 0 0 1 

Final RAS Transform: 
0.952315 -0.29691 0.698551 -9.02725 
-0.532499 0.670882 -0.530828 13.4343 
0.0529658 0.393231 0.944534 0.466236 
0 0 0 1 


real	0m4.162s
user	0m6.568s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.327441
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0212
Level     0,  Iter     1:    Energy =   0.0225
Level     0,  Iter     2:    Energy =   0.0248
Level     0,  Iter     3:    Energy =   0.0266
Level     0,  Iter     4:    Energy =   0.0280
Level     0,  Iter     5:    Energy =   0.0292
Level     0,  Iter     6:    Energy =   0.0300
Level     0,  Iter     7:    Energy =   0.0308
Level     0,  Iter     8:    Energy =   0.0315
Level     0,  Iter     9:    Energy =   0.0320
Level     0,  Iter    10:    Energy =   0.0325
Level     0,  Iter    11:    Energy =   0.0329
Level     0,  Iter    12:    Energy =   0.0334
Level     0,  Iter    13:    Energy =   0.0337
Level     0,  Iter    14:    Energy =   0.0339
Level     0,  Iter    15:    Energy =   0.0342
Level     0,  Iter    16:    Energy =   0.0343
Level     0,  Iter    17:    Energy =   0.0345
Level     0,  Iter    18:    Energy =   0.0346
Level     0,  Iter    19:    Energy =   0.0347
Level     0,  Iter    20:    Energy =   0.0347
Level     0,  Iter    21:    Energy =   0.0348
Level     0,  Iter    22:    Energy =   0.0349
Level     0,  Iter    23:    Energy =   0.0351
Level     0,  Iter    24:    Energy =   0.0352
Level     0,  Iter    25:    Energy =   0.0353
Level     0,  Iter    26:    Energy =   0.0353
Level     0,  Iter    27:    Energy =   0.0355
Level     0,  Iter    28:    Energy =   0.0355
Level     0,  Iter    29:    Energy =   0.0357
Level     0,  Iter    30:    Energy =   0.0359
Level     0,  Iter    31:    Energy =   0.0359
Level     0,  Iter    32:    Energy =   0.0358
Level     0,  Iter    33:    Energy =   0.0360
Level     0,  Iter    34:    Energy =   0.0361
Level     0,  Iter    35:    Energy =   0.0362
Level     0,  Iter    36:    Energy =   0.0363
Level     0,  Iter    37:    Energy =   0.0363
Level     0,  Iter    38:    Energy =   0.0362
Level     0,  Iter    39:    Energy =   0.0363
Level     0,  Iter    40:    Energy =   0.0365
Level     0,  Iter    41:    Energy =   0.0365
Level     0,  Iter    42:    Energy =   0.0367
Level     0,  Iter    43:    Energy =   0.0367
Level     0,  Iter    44:    Energy =   0.0367
Level     0,  Iter    45:    Energy =   0.0368
Level     0,  Iter    46:    Energy =   0.0368
Level     0,  Iter    47:    Energy =   0.0368
Level     0,  Iter    48:    Energy =   0.0368
Level     0,  Iter    49:    Energy =   0.0369
Level     0,  Iter    50:    Energy =   0.0369
Level     0,  Iter    51:    Energy =   0.0369
Level     0,  Iter    52:    Energy =   0.0369
Level     0,  Iter    53:    Energy =   0.0370
Level     0,  Iter    54:    Energy =   0.0371
Level     0,  Iter    55:    Energy =   0.0370
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0372
Level     0,  Iter    58:    Energy =   0.0373
Level     0,  Iter    59:    Energy =   0.0373
END OF LEVEL     0    DetJac Range:   0.0223  to   1.7591 
  Avg. Gradient Time  : 0.0078s  33.26% 
  Avg. Gaussian Time  : 0.0113s  48.25% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0205
Level     1,  Iter     1:    Energy =   0.0218
Level     1,  Iter     2:    Energy =   0.0229
Level     1,  Iter     3:    Energy =   0.0237
Level     1,  Iter     4:    Energy =   0.0242
Level     1,  Iter     5:    Energy =   0.0247
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0256
Level     1,  Iter     8:    Energy =   0.0260
Level     1,  Iter     9:    Energy =   0.0263
Level     1,  Iter    10:    Energy =   0.0266
Level     1,  Iter    11:    Energy =   0.0267
Level     1,  Iter    12:    Energy =   0.0269
Level     1,  Iter    13:    Energy =   0.0271
Level     1,  Iter    14:    Energy =   0.0272
Level     1,  Iter    15:    Energy =   0.0273
Level     1,  Iter    16:    Energy =   0.0274
Level     1,  Iter    17:    Energy =   0.0275
Level     1,  Iter    18:    Energy =   0.0276
Level     1,  Iter    19:    Energy =   0.0277
Level     1,  Iter    20:    Energy =   0.0278
Level     1,  Iter    21:    Energy =   0.0278
Level     1,  Iter    22:    Energy =   0.0279
Level     1,  Iter    23:    Energy =   0.0279
Level     1,  Iter    24:    Energy =   0.0280
Level     1,  Iter    25:    Energy =   0.0277
Level     1,  Iter    26:    Energy =   0.0278
Level     1,  Iter    27:    Energy =   0.0279
Level     1,  Iter    28:    Energy =   0.0279
Level     1,  Iter    29:    Energy =   0.0280
Level     1,  Iter    30:    Energy =   0.0280
Level     1,  Iter    31:    Energy =   0.0281
Level     1,  Iter    32:    Energy =   0.0281
Level     1,  Iter    33:    Energy =   0.0281
Level     1,  Iter    34:    Energy =   0.0281
Level     1,  Iter    35:    Energy =   0.0282
Level     1,  Iter    36:    Energy =   0.0282
Level     1,  Iter    37:    Energy =   0.0282
Level     1,  Iter    38:    Energy =   0.0282
Level     1,  Iter    39:    Energy =   0.0283
Level     1,  Iter    40:    Energy =   0.0283
Level     1,  Iter    41:    Energy =   0.0283
Level     1,  Iter    42:    Energy =   0.0283
Level     1,  Iter    43:    Energy =   0.0284
Level     1,  Iter    44:    Energy =   0.0284
Level     1,  Iter    45:    Energy =   0.0279
Level     1,  Iter    46:    Energy =   0.0280
Level     1,  Iter    47:    Energy =   0.0281
Level     1,  Iter    48:    Energy =   0.0282
Level     1,  Iter    49:    Energy =   0.0277
Level     1,  Iter    50:    Energy =   0.0277
Level     1,  Iter    51:    Energy =   0.0278
Level     1,  Iter    52:    Energy =   0.0279
Level     1,  Iter    53:    Energy =   0.0280
Level     1,  Iter    54:    Energy =   0.0281
Level     1,  Iter    55:    Energy =   0.0282
Level     1,  Iter    56:    Energy =   0.0283
Level     1,  Iter    57:    Energy =   0.0278
Level     1,  Iter    58:    Energy =   0.0280
Level     1,  Iter    59:    Energy =   0.0281
END OF LEVEL     1    DetJac Range:   0.0335  to   1.8271 
  Avg. Gradient Time  : 0.0308s  33.85% 
  Avg. Gaussian Time  : 0.0475s  52.15% 
  Avg. Iteration Time : 0.0911s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
big value: -38418.549796
big value: -171320.528875
big value: 118539.441270
Level     2,  Iter     0:    Energy =   0.0118
Level     2,  Iter     1:    Energy =   0.0117
big value: -8467.083983
big value: -3251.633325
big value: 1447.641989
Level     2,  Iter     2:    Energy =   0.0118
Level     2,  Iter     3:    Energy =   0.0117
big value: 28967.435557
big value: 32867.161924
big value: 31846.582748
Level     2,  Iter     4:    Energy =   0.0118
Level     2,  Iter     5:    Energy =   0.0117
Level     2,  Iter     6:    Energy =   0.0122
Level     2,  Iter     7:    Energy =   0.0122
big value: 1780.588943
Level     2,  Iter     8:    Energy =   0.0126
big value: -1043.377009
Level     2,  Iter     9:    Energy =   0.0125
Level     2,  Iter    10:    Energy =   0.0123
Level     2,  Iter    11:    Energy =   0.0123
big value: 1309.533241
big value: 1012.855519
Level     2,  Iter    12:    Energy =   0.0123
Level     2,  Iter    13:    Energy =   0.0122
big value: -4331.200684
big value: 3575.617385
Level     2,  Iter    14:    Energy =   0.0122
Level     2,  Iter    15:    Energy =   0.0121
big value: -1219.975314
big value: -1372.249547
Level     2,  Iter    16:    Energy =   0.0120
Level     2,  Iter    17:    Energy =   0.0119
Level     2,  Iter    18:    Energy =   0.0118
Level     2,  Iter    19:    Energy =   0.0122
END OF LEVEL     2    DetJac Range:   0.0557  to   1.6230 
  Avg. Gradient Time  : 0.1869s  32.46% 
  Avg. Gaussian Time  : 0.3121s  54.21% 
  Avg. Iteration Time : 0.5757s 

real	0m21.211s
user	0m36.620s
sys	0m2.632s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 446.264   GNORM= 198.432
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       340.913      75.932       0.005
   2    3       300.059      70.985       1.000
   3    4       100.269     200.948       1.000
   4    6        24.579     247.934       0.259
   5    7         8.604     132.948       1.000
   6    8       -83.883     105.214       1.000
   7   10       -87.383     162.996       0.122
   8   11      -140.464     135.094       1.000
   9   12      -188.327      25.840       1.000
  10   13      -195.651      35.753       1.000
  11   14      -204.640      43.388       1.000
  12   15      -238.930     117.102       1.000
  13   16      -283.493      50.946       1.000
  14   17      -297.907      50.381       1.000
  15   18      -304.379      30.635       1.000
  16   19      -315.297      44.399       1.000
  17   20      -331.989      67.388       1.000
  18   22      -429.122     158.300       5.000
  19   23      -539.498     176.187       1.000
  20   27      -617.302     183.823       0.244
  21   29      -632.952     189.512       0.365
  22   30      -656.507     122.063       1.000
  23   31      -757.470     103.180       1.000
  24   34      -773.098      67.854       0.051
  25   35      -814.194      61.035       1.000
  26   37      -872.158      75.828       0.107
  27   39      -888.113      63.795       0.352
  28   40      -888.129      65.507       1.000
  29   41      -906.524      49.441       1.000
  30   43      -914.618      46.780       0.291
  31   44      -924.567      48.808       1.000
  32   45      -952.147      83.056       1.000
  33   46     -1094.401     123.526       1.000
  34   48     -1191.873     166.774       0.310
  35   51     -1332.098      78.415       0.819
  36   53     -1348.507      92.465       0.443
  37   55     -1363.626      69.796       0.496
  38   56     -1379.465      44.631       1.000
  39   57     -1389.470      64.050       1.000
  40   59     -1401.368     102.854       0.450
  41   60     -1425.871      76.535       1.000
  42   61     -1439.986      38.139       1.000
Final RAS Transform: 
0.386356 -0.427463 0.229518 -16.5922 
-0.133595 0.628366 -0.0503377 -16.2192 
0.341392 -0.573788 0.244603 -4.09703 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -836.069   GNORM= 99.1166
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -863.517      47.610       0.005
   2    4      -865.574      44.150       1.000
   3    5      -870.097      32.042       1.000
   4    7      -872.490      25.721       0.353
   5    9      -885.129      25.790       5.000
   6   10      -889.814      75.781       1.000
   7   11      -902.903      32.160       1.000
   8   12      -904.404      17.851       1.000
   9   14      -910.101      52.485       5.000
  10   15      -920.368      67.088       1.000
  11   16      -936.679      76.084       1.000
  12   18      -943.461      53.619       0.346
  13   19      -948.871      60.156       1.000
  14   20      -956.490      40.793       1.000
  15   21      -959.010      26.686       1.000
  16   22      -961.498      22.536       1.000
  17   23      -963.174     105.868       1.000
  18   24      -978.922      53.808       1.000
  19   25      -985.912      29.775       1.000
  20   26      -993.251      41.404       1.000
  21   28      -997.140      30.191       0.104
  22   30     -1000.032      28.631       0.435
  23   31     -1002.573      22.463       1.000
  24   33     -1013.100      52.063       5.000
  25   35     -1016.050      76.195       0.278
  26   36     -1025.128      43.788       1.000
  27   37     -1027.454      24.324       1.000
  28   38     -1029.884      28.344       1.000
  29   40     -1031.621      36.120       0.258
  30   41     -1034.405      24.847       1.000
  31   42     -1036.800      24.086       1.000
  32   43     -1037.840      16.945       1.000
  33   44     -1039.154      24.584       1.000
  34   46     -1039.513      20.973       0.159
  35   47     -1040.593      14.469       1.000
  36   49     -1042.282      25.212       0.389
  37   51     -1047.411      53.451       5.000
  38   52     -1051.988      54.564       1.000
  39   53     -1068.509      38.867       1.000
  40   54     -1071.525      36.348       1.000
  41   55     -1073.155      18.951       1.000
  42   57     -1076.873      33.504       5.000
  43   59     -1077.705      21.564       0.460
Final RAS Transform: 
0.51582 -0.348729 0.219875 -16.1376 
-0.211518 0.549007 -0.208691 -18.9395 
0.304824 -0.669567 0.152203 -4.11683 
0 0 0 1 

Final RAS Transform: 
0.51582 -0.348729 0.219875 -16.1376 
-0.211518 0.549007 -0.208691 -18.9395 
0.304824 -0.669567 0.152203 -4.11683 
0 0 0 1 


real	0m6.390s
user	0m10.572s
sys	0m0.820s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.28937
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0487
Level     0,  Iter     1:    Energy =   0.0515
Level     0,  Iter     2:    Energy =   0.0546
Level     0,  Iter     3:    Energy =   0.0572
Level     0,  Iter     4:    Energy =   0.0589
Level     0,  Iter     5:    Energy =   0.0603
Level     0,  Iter     6:    Energy =   0.0611
Level     0,  Iter     7:    Energy =   0.0621
Level     0,  Iter     8:    Energy =   0.0627
Level     0,  Iter     9:    Energy =   0.0634
Level     0,  Iter    10:    Energy =   0.0637
Level     0,  Iter    11:    Energy =   0.0643
Level     0,  Iter    12:    Energy =   0.0646
Level     0,  Iter    13:    Energy =   0.0651
Level     0,  Iter    14:    Energy =   0.0652
Level     0,  Iter    15:    Energy =   0.0656
Level     0,  Iter    16:    Energy =   0.0658
Level     0,  Iter    17:    Energy =   0.0661
Level     0,  Iter    18:    Energy =   0.0662
Level     0,  Iter    19:    Energy =   0.0665
Level     0,  Iter    20:    Energy =   0.0666
Level     0,  Iter    21:    Energy =   0.0670
Level     0,  Iter    22:    Energy =   0.0671
Level     0,  Iter    23:    Energy =   0.0674
Level     0,  Iter    24:    Energy =   0.0676
Level     0,  Iter    25:    Energy =   0.0679
Level     0,  Iter    26:    Energy =   0.0680
Level     0,  Iter    27:    Energy =   0.0682
Level     0,  Iter    28:    Energy =   0.0683
Level     0,  Iter    29:    Energy =   0.0683
Level     0,  Iter    30:    Energy =   0.0683
Level     0,  Iter    31:    Energy =   0.0683
Level     0,  Iter    32:    Energy =   0.0682
Level     0,  Iter    33:    Energy =   0.0681
Level     0,  Iter    34:    Energy =   0.0681
Level     0,  Iter    35:    Energy =   0.0681
Level     0,  Iter    36:    Energy =   0.0681
Level     0,  Iter    37:    Energy =   0.0680
Level     0,  Iter    38:    Energy =   0.0680
Level     0,  Iter    39:    Energy =   0.0679
Level     0,  Iter    40:    Energy =   0.0680
Level     0,  Iter    41:    Energy =   0.0679
Level     0,  Iter    42:    Energy =   0.0679
Level     0,  Iter    43:    Energy =   0.0679
Level     0,  Iter    44:    Energy =   0.0679
Level     0,  Iter    45:    Energy =   0.0679
Level     0,  Iter    46:    Energy =   0.0679
Level     0,  Iter    47:    Energy =   0.0679
Level     0,  Iter    48:    Energy =   0.0679
Level     0,  Iter    49:    Energy =   0.0679
Level     0,  Iter    50:    Energy =   0.0678
Level     0,  Iter    51:    Energy =   0.0678
Level     0,  Iter    52:    Energy =   0.0678
Level     0,  Iter    53:    Energy =   0.0678
Level     0,  Iter    54:    Energy =   0.0678
Level     0,  Iter    55:    Energy =   0.0678
Level     0,  Iter    56:    Energy =   0.0678
Level     0,  Iter    57:    Energy =   0.0678
Level     0,  Iter    58:    Energy =   0.0678
Level     0,  Iter    59:    Energy =   0.0679
END OF LEVEL     0    DetJac Range:   0.0767  to   2.6616 
  Avg. Gradient Time  : 0.0069s  32.93% 
  Avg. Gaussian Time  : 0.0102s  48.42% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0433
Level     1,  Iter     1:    Energy =   0.0452
Level     1,  Iter     2:    Energy =   0.0472
Level     1,  Iter     3:    Energy =   0.0484
Level     1,  Iter     4:    Energy =   0.0494
Level     1,  Iter     5:    Energy =   0.0503
Level     1,  Iter     6:    Energy =   0.0510
Level     1,  Iter     7:    Energy =   0.0516
Level     1,  Iter     8:    Energy =   0.0519
Level     1,  Iter     9:    Energy =   0.0524
Level     1,  Iter    10:    Energy =   0.0528
Level     1,  Iter    11:    Energy =   0.0534
Level     1,  Iter    12:    Energy =   0.0538
Level     1,  Iter    13:    Energy =   0.0541
Level     1,  Iter    14:    Energy =   0.0543
Level     1,  Iter    15:    Energy =   0.0546
Level     1,  Iter    16:    Energy =   0.0547
Level     1,  Iter    17:    Energy =   0.0549
Level     1,  Iter    18:    Energy =   0.0551
Level     1,  Iter    19:    Energy =   0.0552
Level     1,  Iter    20:    Energy =   0.0554
Level     1,  Iter    21:    Energy =   0.0555
Level     1,  Iter    22:    Energy =   0.0557
Level     1,  Iter    23:    Energy =   0.0558
Level     1,  Iter    24:    Energy =   0.0560
Level     1,  Iter    25:    Energy =   0.0561
Level     1,  Iter    26:    Energy =   0.0561
Level     1,  Iter    27:    Energy =   0.0562
Level     1,  Iter    28:    Energy =   0.0562
Level     1,  Iter    29:    Energy =   0.0562
Level     1,  Iter    30:    Energy =   0.0562
Level     1,  Iter    31:    Energy =   0.0562
Level     1,  Iter    32:    Energy =   0.0562
Level     1,  Iter    33:    Energy =   0.0562
Level     1,  Iter    34:    Energy =   0.0562
Level     1,  Iter    35:    Energy =   0.0563
Level     1,  Iter    36:    Energy =   0.0564
Level     1,  Iter    37:    Energy =   0.0565
Level     1,  Iter    38:    Energy =   0.0566
Level     1,  Iter    39:    Energy =   0.0567
Level     1,  Iter    40:    Energy =   0.0567
Level     1,  Iter    41:    Energy =   0.0568
Level     1,  Iter    42:    Energy =   0.0568
Level     1,  Iter    43:    Energy =   0.0569
Level     1,  Iter    44:    Energy =   0.0569
Level     1,  Iter    45:    Energy =   0.0569
Level     1,  Iter    46:    Energy =   0.0570
Level     1,  Iter    47:    Energy =   0.0570
Level     1,  Iter    48:    Energy =   0.0571
Level     1,  Iter    49:    Energy =   0.0571
Level     1,  Iter    50:    Energy =   0.0572
Level     1,  Iter    51:    Energy =   0.0573
Level     1,  Iter    52:    Energy =   0.0574
Level     1,  Iter    53:    Energy =   0.0575
Level     1,  Iter    54:    Energy =   0.0576
Level     1,  Iter    55:    Energy =   0.0576
Level     1,  Iter    56:    Energy =   0.0577
Level     1,  Iter    57:    Energy =   0.0578
Level     1,  Iter    58:    Energy =   0.0579
Level     1,  Iter    59:    Energy =   0.0579
END OF LEVEL     1    DetJac Range:   0.0584  to   3.5112 
  Avg. Gradient Time  : 0.0308s  34.16% 
  Avg. Gaussian Time  : 0.0469s  51.92% 
  Avg. Iteration Time : 0.0903s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0283
Level     2,  Iter     1:    Energy =   0.0295
Level     2,  Iter     2:    Energy =   0.0305
Level     2,  Iter     3:    Energy =   0.0314
Level     2,  Iter     4:    Energy =   0.0321
Level     2,  Iter     5:    Energy =   0.0327
Level     2,  Iter     6:    Energy =   0.0332
Level     2,  Iter     7:    Energy =   0.0336
Level     2,  Iter     8:    Energy =   0.0341
Level     2,  Iter     9:    Energy =   0.0344
Level     2,  Iter    10:    Energy =   0.0347
Level     2,  Iter    11:    Energy =   0.0350
Level     2,  Iter    12:    Energy =   0.0353
Level     2,  Iter    13:    Energy =   0.0355
Level     2,  Iter    14:    Energy =   0.0358
Level     2,  Iter    15:    Energy =   0.0360
Level     2,  Iter    16:    Energy =   0.0362
Level     2,  Iter    17:    Energy =   0.0365
Level     2,  Iter    18:    Energy =   0.0366
Level     2,  Iter    19:    Energy =   0.0368
END OF LEVEL     2    DetJac Range:   0.0630  to   3.3817 
  Avg. Gradient Time  : 0.1911s  32.58% 
  Avg. Gaussian Time  : 0.3175s  54.12% 
  Avg. Iteration Time : 0.5866s 

real	0m21.210s
user	0m36.800s
sys	0m2.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 373.22   GNORM= 229.219
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       185.254     177.160       0.004
   2    3      -246.920     159.346       1.000
   3    5      -698.653     103.097       0.263
   4    7      -742.466     115.505       0.181
   5    9      -765.857     125.431       0.293
   6   11      -775.842      76.351       0.274
   7   14      -786.659      79.787       2.821
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05028 -0.130197 0.132922 -3.65431 
-0.112669 1.14829 -0.1825 5.42938 
0.104791 -0.153944 1.03423 -5.40702 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -422.128   GNORM= 89.209
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   16      -424.884     912.624       0.002
   2   20      -425.163      50.244       0.011
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.04997 -0.130431 0.132949 -3.64121 
-0.112489 1.14809 -0.182051 5.3913 
0.105497 -0.154819 1.03554 -5.52609 
0 0 0 1 

Final RAS Transform: 
1.04997 -0.130431 0.132949 -3.64121 
-0.112489 1.14809 -0.182051 5.3913 
0.105497 -0.154819 1.03554 -5.52609 
0 0 0 1 


real	0m4.537s
user	0m7.352s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.408618
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0196
Level     0,  Iter     1:    Energy =   0.0214
Level     0,  Iter     2:    Energy =   0.0240
Level     0,  Iter     3:    Energy =   0.0273
Level     0,  Iter     4:    Energy =   0.0304
Level     0,  Iter     5:    Energy =   0.0328
Level     0,  Iter     6:    Energy =   0.0353
Level     0,  Iter     7:    Energy =   0.0363
Level     0,  Iter     8:    Energy =   0.0375
Level     0,  Iter     9:    Energy =   0.0389
Level     0,  Iter    10:    Energy =   0.0405
Level     0,  Iter    11:    Energy =   0.0423
Level     0,  Iter    12:    Energy =   0.0439
Level     0,  Iter    13:    Energy =   0.0454
Level     0,  Iter    14:    Energy =   0.0464
Level     0,  Iter    15:    Energy =   0.0472
Level     0,  Iter    16:    Energy =   0.0481
Level     0,  Iter    17:    Energy =   0.0487
Level     0,  Iter    18:    Energy =   0.0492
Level     0,  Iter    19:    Energy =   0.0499
Level     0,  Iter    20:    Energy =   0.0506
Level     0,  Iter    21:    Energy =   0.0516
Level     0,  Iter    22:    Energy =   0.0526
Level     0,  Iter    23:    Energy =   0.0533
Level     0,  Iter    24:    Energy =   0.0539
Level     0,  Iter    25:    Energy =   0.0544
Level     0,  Iter    26:    Energy =   0.0548
Level     0,  Iter    27:    Energy =   0.0551
Level     0,  Iter    28:    Energy =   0.0555
Level     0,  Iter    29:    Energy =   0.0558
Level     0,  Iter    30:    Energy =   0.0561
Level     0,  Iter    31:    Energy =   0.0565
Level     0,  Iter    32:    Energy =   0.0567
Level     0,  Iter    33:    Energy =   0.0570
Level     0,  Iter    34:    Energy =   0.0573
Level     0,  Iter    35:    Energy =   0.0575
Level     0,  Iter    36:    Energy =   0.0577
Level     0,  Iter    37:    Energy =   0.0578
Level     0,  Iter    38:    Energy =   0.0578
Level     0,  Iter    39:    Energy =   0.0578
Level     0,  Iter    40:    Energy =   0.0579
Level     0,  Iter    41:    Energy =   0.0580
Level     0,  Iter    42:    Energy =   0.0581
Level     0,  Iter    43:    Energy =   0.0583
Level     0,  Iter    44:    Energy =   0.0585
Level     0,  Iter    45:    Energy =   0.0589
Level     0,  Iter    46:    Energy =   0.0592
Level     0,  Iter    47:    Energy =   0.0594
Level     0,  Iter    48:    Energy =   0.0595
Level     0,  Iter    49:    Energy =   0.0595
Level     0,  Iter    50:    Energy =   0.0596
Level     0,  Iter    51:    Energy =   0.0596
Level     0,  Iter    52:    Energy =   0.0597
Level     0,  Iter    53:    Energy =   0.0597
Level     0,  Iter    54:    Energy =   0.0598
Level     0,  Iter    55:    Energy =   0.0598
Level     0,  Iter    56:    Energy =   0.0600
Level     0,  Iter    57:    Energy =   0.0599
Level     0,  Iter    58:    Energy =   0.0601
Level     0,  Iter    59:    Energy =   0.0600
END OF LEVEL     0    DetJac Range:   0.0464  to   3.1387 
  Avg. Gradient Time  : 0.0070s  32.98% 
  Avg. Gaussian Time  : 0.0102s  48.35% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0364
Level     1,  Iter     1:    Energy =   0.0379
Level     1,  Iter     2:    Energy =   0.0391
Level     1,  Iter     3:    Energy =   0.0403
Level     1,  Iter     4:    Energy =   0.0415
Level     1,  Iter     5:    Energy =   0.0424
Level     1,  Iter     6:    Energy =   0.0431
Level     1,  Iter     7:    Energy =   0.0438
Level     1,  Iter     8:    Energy =   0.0444
Level     1,  Iter     9:    Energy =   0.0449
Level     1,  Iter    10:    Energy =   0.0454
Level     1,  Iter    11:    Energy =   0.0457
Level     1,  Iter    12:    Energy =   0.0460
Level     1,  Iter    13:    Energy =   0.0463
Level     1,  Iter    14:    Energy =   0.0465
Level     1,  Iter    15:    Energy =   0.0467
Level     1,  Iter    16:    Energy =   0.0470
Level     1,  Iter    17:    Energy =   0.0471
Level     1,  Iter    18:    Energy =   0.0473
Level     1,  Iter    19:    Energy =   0.0475
Level     1,  Iter    20:    Energy =   0.0476
Level     1,  Iter    21:    Energy =   0.0477
Level     1,  Iter    22:    Energy =   0.0479
Level     1,  Iter    23:    Energy =   0.0480
Level     1,  Iter    24:    Energy =   0.0481
Level     1,  Iter    25:    Energy =   0.0482
Level     1,  Iter    26:    Energy =   0.0484
Level     1,  Iter    27:    Energy =   0.0485
Level     1,  Iter    28:    Energy =   0.0486
Level     1,  Iter    29:    Energy =   0.0487
Level     1,  Iter    30:    Energy =   0.0488
Level     1,  Iter    31:    Energy =   0.0489
Level     1,  Iter    32:    Energy =   0.0490
Level     1,  Iter    33:    Energy =   0.0490
Level     1,  Iter    34:    Energy =   0.0491
Level     1,  Iter    35:    Energy =   0.0492
Level     1,  Iter    36:    Energy =   0.0493
Level     1,  Iter    37:    Energy =   0.0493
Level     1,  Iter    38:    Energy =   0.0494
Level     1,  Iter    39:    Energy =   0.0494
Level     1,  Iter    40:    Energy =   0.0494
Level     1,  Iter    41:    Energy =   0.0495
Level     1,  Iter    42:    Energy =   0.0495
Level     1,  Iter    43:    Energy =   0.0495
Level     1,  Iter    44:    Energy =   0.0495
Level     1,  Iter    45:    Energy =   0.0496
Level     1,  Iter    46:    Energy =   0.0496
Level     1,  Iter    47:    Energy =   0.0496
Level     1,  Iter    48:    Energy =   0.0496
Level     1,  Iter    49:    Energy =   0.0496
Level     1,  Iter    50:    Energy =   0.0496
Level     1,  Iter    51:    Energy =   0.0496
Level     1,  Iter    52:    Energy =   0.0496
Level     1,  Iter    53:    Energy =   0.0497
Level     1,  Iter    54:    Energy =   0.0497
Level     1,  Iter    55:    Energy =   0.0497
Level     1,  Iter    56:    Energy =   0.0497
Level     1,  Iter    57:    Energy =   0.0497
Level     1,  Iter    58:    Energy =   0.0497
Level     1,  Iter    59:    Energy =   0.0497
END OF LEVEL     1    DetJac Range:   0.0154  to   3.7952 
  Avg. Gradient Time  : 0.0280s  33.61% 
  Avg. Gaussian Time  : 0.0437s  52.50% 
  Avg. Iteration Time : 0.0832s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0229
Level     2,  Iter     1:    Energy =   0.0236
Level     2,  Iter     2:    Energy =   0.0245
Level     2,  Iter     3:    Energy =   0.0253
Level     2,  Iter     4:    Energy =   0.0260
Level     2,  Iter     5:    Energy =   0.0266
Level     2,  Iter     6:    Energy =   0.0270
Level     2,  Iter     7:    Energy =   0.0274
Level     2,  Iter     8:    Energy =   0.0277
Level     2,  Iter     9:    Energy =   0.0280
Level     2,  Iter    10:    Energy =   0.0282
Level     2,  Iter    11:    Energy =   0.0284
Level     2,  Iter    12:    Energy =   0.0286
Level     2,  Iter    13:    Energy =   0.0287
Level     2,  Iter    14:    Energy =   0.0288
Level     2,  Iter    15:    Energy =   0.0290
Level     2,  Iter    16:    Energy =   0.0291
Level     2,  Iter    17:    Energy =   0.0292
Level     2,  Iter    18:    Energy =   0.0292
Level     2,  Iter    19:    Energy =   0.0293
END OF LEVEL     2    DetJac Range:   0.0139  to   3.4133 
  Avg. Gradient Time  : 0.1900s  32.75% 
  Avg. Gaussian Time  : 0.3130s  53.95% 
  Avg. Iteration Time : 0.5802s 

real	0m20.698s
user	0m35.808s
sys	0m2.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 397.449   GNORM= 246.976
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       192.272     179.508       0.004
   2    3        -7.617      98.870       1.000
   3    4       -67.206      40.742       1.000
   4    5       -81.811      43.472       1.000
   5    7      -362.591     120.338       5.000
   6   10      -469.198     129.803       0.664
   7   15      -475.550     106.115       0.083
   8   17      -663.656      81.767       5.000
   9   21      -730.756      64.926       0.846
  10   23      -746.221      76.757       0.210
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00674 0.157906 0.304022 -3.01849 
-0.179805 1.09194 -0.334256 9.09924 
0.333634 0.0912947 0.721072 -10.1468 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -365.794   GNORM= 701.318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -365.983    3230.105       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0082 0.157177 0.305605 -3.17612 
-0.180651 1.09236 -0.334533 9.16172 
0.333592 0.0916311 0.721418 -10.1563 
0 0 0 1 

Final RAS Transform: 
1.0082 0.157177 0.305605 -3.17612 
-0.180651 1.09236 -0.334533 9.16172 
0.333592 0.0916311 0.721418 -10.1563 
0 0 0 1 


real	0m3.686s
user	0m5.680s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.390133
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0183
Level     0,  Iter     1:    Energy =   0.0198
Level     0,  Iter     2:    Energy =   0.0225
Level     0,  Iter     3:    Energy =   0.0259
Level     0,  Iter     4:    Energy =   0.0284
Level     0,  Iter     5:    Energy =   0.0306
Level     0,  Iter     6:    Energy =   0.0324
Level     0,  Iter     7:    Energy =   0.0337
Level     0,  Iter     8:    Energy =   0.0346
Level     0,  Iter     9:    Energy =   0.0356
Level     0,  Iter    10:    Energy =   0.0364
Level     0,  Iter    11:    Energy =   0.0371
Level     0,  Iter    12:    Energy =   0.0377
Level     0,  Iter    13:    Energy =   0.0381
Level     0,  Iter    14:    Energy =   0.0385
Level     0,  Iter    15:    Energy =   0.0388
Level     0,  Iter    16:    Energy =   0.0392
Level     0,  Iter    17:    Energy =   0.0396
Level     0,  Iter    18:    Energy =   0.0398
Level     0,  Iter    19:    Energy =   0.0400
Level     0,  Iter    20:    Energy =   0.0403
Level     0,  Iter    21:    Energy =   0.0406
Level     0,  Iter    22:    Energy =   0.0409
Level     0,  Iter    23:    Energy =   0.0413
Level     0,  Iter    24:    Energy =   0.0417
Level     0,  Iter    25:    Energy =   0.0420
Level     0,  Iter    26:    Energy =   0.0422
Level     0,  Iter    27:    Energy =   0.0424
Level     0,  Iter    28:    Energy =   0.0426
Level     0,  Iter    29:    Energy =   0.0427
Level     0,  Iter    30:    Energy =   0.0427
Level     0,  Iter    31:    Energy =   0.0428
Level     0,  Iter    32:    Energy =   0.0428
Level     0,  Iter    33:    Energy =   0.0428
Level     0,  Iter    34:    Energy =   0.0428
Level     0,  Iter    35:    Energy =   0.0428
Level     0,  Iter    36:    Energy =   0.0428
Level     0,  Iter    37:    Energy =   0.0428
Level     0,  Iter    38:    Energy =   0.0428
Level     0,  Iter    39:    Energy =   0.0428
Level     0,  Iter    40:    Energy =   0.0428
Level     0,  Iter    41:    Energy =   0.0428
Level     0,  Iter    42:    Energy =   0.0429
Level     0,  Iter    43:    Energy =   0.0429
Level     0,  Iter    44:    Energy =   0.0429
Level     0,  Iter    45:    Energy =   0.0429
Level     0,  Iter    46:    Energy =   0.0430
Level     0,  Iter    47:    Energy =   0.0430
Level     0,  Iter    48:    Energy =   0.0431
Level     0,  Iter    49:    Energy =   0.0431
Level     0,  Iter    50:    Energy =   0.0432
Level     0,  Iter    51:    Energy =   0.0434
Level     0,  Iter    52:    Energy =   0.0436
Level     0,  Iter    53:    Energy =   0.0437
Level     0,  Iter    54:    Energy =   0.0438
Level     0,  Iter    55:    Energy =   0.0439
Level     0,  Iter    56:    Energy =   0.0440
Level     0,  Iter    57:    Energy =   0.0441
Level     0,  Iter    58:    Energy =   0.0442
Level     0,  Iter    59:    Energy =   0.0443
END OF LEVEL     0    DetJac Range:   0.0922  to   1.8601 
  Avg. Gradient Time  : 0.0069s  33.43% 
  Avg. Gaussian Time  : 0.0098s  47.75% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0245
Level     1,  Iter     1:    Energy =   0.0261
Level     1,  Iter     2:    Energy =   0.0274
Level     1,  Iter     3:    Energy =   0.0283
Level     1,  Iter     4:    Energy =   0.0291
Level     1,  Iter     5:    Energy =   0.0298
Level     1,  Iter     6:    Energy =   0.0303
Level     1,  Iter     7:    Energy =   0.0308
Level     1,  Iter     8:    Energy =   0.0311
Level     1,  Iter     9:    Energy =   0.0315
Level     1,  Iter    10:    Energy =   0.0318
Level     1,  Iter    11:    Energy =   0.0321
Level     1,  Iter    12:    Energy =   0.0324
Level     1,  Iter    13:    Energy =   0.0326
Level     1,  Iter    14:    Energy =   0.0328
Level     1,  Iter    15:    Energy =   0.0331
Level     1,  Iter    16:    Energy =   0.0333
Level     1,  Iter    17:    Energy =   0.0336
Level     1,  Iter    18:    Energy =   0.0338
Level     1,  Iter    19:    Energy =   0.0340
Level     1,  Iter    20:    Energy =   0.0343
Level     1,  Iter    21:    Energy =   0.0345
Level     1,  Iter    22:    Energy =   0.0347
Level     1,  Iter    23:    Energy =   0.0349
Level     1,  Iter    24:    Energy =   0.0351
Level     1,  Iter    25:    Energy =   0.0353
Level     1,  Iter    26:    Energy =   0.0355
Level     1,  Iter    27:    Energy =   0.0356
Level     1,  Iter    28:    Energy =   0.0358
Level     1,  Iter    29:    Energy =   0.0360
Level     1,  Iter    30:    Energy =   0.0362
Level     1,  Iter    31:    Energy =   0.0363
Level     1,  Iter    32:    Energy =   0.0365
Level     1,  Iter    33:    Energy =   0.0366
Level     1,  Iter    34:    Energy =   0.0368
Level     1,  Iter    35:    Energy =   0.0370
Level     1,  Iter    36:    Energy =   0.0371
Level     1,  Iter    37:    Energy =   0.0373
Level     1,  Iter    38:    Energy =   0.0374
Level     1,  Iter    39:    Energy =   0.0375
Level     1,  Iter    40:    Energy =   0.0377
Level     1,  Iter    41:    Energy =   0.0378
Level     1,  Iter    42:    Energy =   0.0379
Level     1,  Iter    43:    Energy =   0.0380
Level     1,  Iter    44:    Energy =   0.0381
Level     1,  Iter    45:    Energy =   0.0382
Level     1,  Iter    46:    Energy =   0.0383
Level     1,  Iter    47:    Energy =   0.0383
Level     1,  Iter    48:    Energy =   0.0384
Level     1,  Iter    49:    Energy =   0.0385
Level     1,  Iter    50:    Energy =   0.0386
Level     1,  Iter    51:    Energy =   0.0386
Level     1,  Iter    52:    Energy =   0.0387
Level     1,  Iter    53:    Energy =   0.0387
Level     1,  Iter    54:    Energy =   0.0388
Level     1,  Iter    55:    Energy =   0.0389
Level     1,  Iter    56:    Energy =   0.0389
Level     1,  Iter    57:    Energy =   0.0390
Level     1,  Iter    58:    Energy =   0.0390
Level     1,  Iter    59:    Energy =   0.0391
END OF LEVEL     1    DetJac Range:   0.0391  to   2.5425 
  Avg. Gradient Time  : 0.0286s  33.63% 
  Avg. Gaussian Time  : 0.0445s  52.38% 
  Avg. Iteration Time : 0.0850s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0193
Level     2,  Iter     2:    Energy =   0.0200
Level     2,  Iter     3:    Energy =   0.0206
Level     2,  Iter     4:    Energy =   0.0211
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0221
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0228
Level     2,  Iter     9:    Energy =   0.0232
Level     2,  Iter    10:    Energy =   0.0234
Level     2,  Iter    11:    Energy =   0.0237
Level     2,  Iter    12:    Energy =   0.0239
Level     2,  Iter    13:    Energy =   0.0241
Level     2,  Iter    14:    Energy =   0.0243
Level     2,  Iter    15:    Energy =   0.0244
Level     2,  Iter    16:    Energy =   0.0246
Level     2,  Iter    17:    Energy =   0.0247
Level     2,  Iter    18:    Energy =   0.0249
Level     2,  Iter    19:    Energy =   0.0250
END OF LEVEL     2    DetJac Range:   0.0246  to   2.5716 
  Avg. Gradient Time  : 0.1922s  32.63% 
  Avg. Gaussian Time  : 0.3187s  54.10% 
  Avg. Iteration Time : 0.5891s 

real	0m20.931s
user	0m36.520s
sys	0m2.208s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 525.048   GNORM= 240.117
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       351.542     140.053       0.004
   2    3       173.910     112.386       1.000
   3    4      -413.494     214.938       1.000
   4    6      -489.148     146.202       0.447
   5    7      -680.925     148.588       1.000
   6    8      -744.473     111.490       1.000
   7   11      -812.503      67.421       0.760
   8   12      -829.851     316.878       1.000
   9   14      -832.705      55.912       0.100
  10   18      -852.180      56.110       1.837
  11   22      -852.559      54.868       0.029
  12   23      -857.108      57.997       1.000
  13   25      -862.233      38.852       0.269
  14   26      -865.311      30.617       1.000
  15   28      -872.117      43.457       0.494
  16   34      -876.358     116.426       1.409
  17   35      -918.013      65.242       1.000
  18   36      -941.429     205.017       1.000
  19   39      -997.849     123.275       0.082
  20   41     -1010.745      79.576       0.095
  21   43     -1103.977      53.784       5.000
  22   44     -1161.291      52.109       1.000
  23   45     -1252.804     147.645       1.000
  24   47     -1282.185     207.408       0.114
  25   49     -1301.518     170.127       0.400
  26   50     -1352.053      93.885       1.000
  27   51     -1370.603      46.898       1.000
  28   52     -1386.418      50.532       1.000
  29   54     -1393.369      46.660       0.389
  30   55     -1399.910      39.780       1.000
  31   56     -1407.167      19.238       1.000
  32   58     -1411.270      47.329       0.296
  33   59     -1416.892      67.712       1.000
  34   60     -1431.813      78.736       1.000
  35   61     -1441.848      85.002       1.000
Final RAS Transform: 
0.636864 -0.522834 0.210004 4.30477 
-0.295322 1.08725 0.38652 14.4405 
0.394609 -0.258644 0.751248 -0.159528 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -738.96   GNORM= 55.5882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -766.292      40.870       0.018
   2    3      -768.667      35.820       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.63475 -0.522137 0.209213 4.34348 
-0.290345 1.08367 0.392531 13.9242 
0.400865 -0.25937 0.755785 -0.804845 
0 0 0 1 

Final RAS Transform: 
0.63475 -0.522137 0.209213 4.34348 
-0.290345 1.08367 0.392531 13.9242 
0.400865 -0.25937 0.755785 -0.804845 
0 0 0 1 


real	0m3.865s
user	0m6.008s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.387977
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0350
Level     0,  Iter     1:    Energy =   0.0369
Level     0,  Iter     2:    Energy =   0.0406
Level     0,  Iter     3:    Energy =   0.0436
Level     0,  Iter     4:    Energy =   0.0461
Level     0,  Iter     5:    Energy =   0.0484
Level     0,  Iter     6:    Energy =   0.0501
Level     0,  Iter     7:    Energy =   0.0513
Level     0,  Iter     8:    Energy =   0.0522
Level     0,  Iter     9:    Energy =   0.0533
Level     0,  Iter    10:    Energy =   0.0543
Level     0,  Iter    11:    Energy =   0.0552
Level     0,  Iter    12:    Energy =   0.0561
Level     0,  Iter    13:    Energy =   0.0564
Level     0,  Iter    14:    Energy =   0.0571
Level     0,  Iter    15:    Energy =   0.0572
Level     0,  Iter    16:    Energy =   0.0579
Level     0,  Iter    17:    Energy =   0.0582
Level     0,  Iter    18:    Energy =   0.0587
Level     0,  Iter    19:    Energy =   0.0591
Level     0,  Iter    20:    Energy =   0.0595
Level     0,  Iter    21:    Energy =   0.0598
Level     0,  Iter    22:    Energy =   0.0602
Level     0,  Iter    23:    Energy =   0.0606
Level     0,  Iter    24:    Energy =   0.0610
Level     0,  Iter    25:    Energy =   0.0614
Level     0,  Iter    26:    Energy =   0.0617
Level     0,  Iter    27:    Energy =   0.0620
Level     0,  Iter    28:    Energy =   0.0622
Level     0,  Iter    29:    Energy =   0.0624
Level     0,  Iter    30:    Energy =   0.0626
Level     0,  Iter    31:    Energy =   0.0628
Level     0,  Iter    32:    Energy =   0.0630
Level     0,  Iter    33:    Energy =   0.0631
Level     0,  Iter    34:    Energy =   0.0633
Level     0,  Iter    35:    Energy =   0.0633
Level     0,  Iter    36:    Energy =   0.0634
Level     0,  Iter    37:    Energy =   0.0635
Level     0,  Iter    38:    Energy =   0.0636
Level     0,  Iter    39:    Energy =   0.0637
Level     0,  Iter    40:    Energy =   0.0638
Level     0,  Iter    41:    Energy =   0.0638
Level     0,  Iter    42:    Energy =   0.0639
Level     0,  Iter    43:    Energy =   0.0640
Level     0,  Iter    44:    Energy =   0.0641
Level     0,  Iter    45:    Energy =   0.0641
Level     0,  Iter    46:    Energy =   0.0643
Level     0,  Iter    47:    Energy =   0.0643
Level     0,  Iter    48:    Energy =   0.0644
Level     0,  Iter    49:    Energy =   0.0644
Level     0,  Iter    50:    Energy =   0.0645
Level     0,  Iter    51:    Energy =   0.0645
Level     0,  Iter    52:    Energy =   0.0646
Level     0,  Iter    53:    Energy =   0.0646
Level     0,  Iter    54:    Energy =   0.0647
Level     0,  Iter    55:    Energy =   0.0647
Level     0,  Iter    56:    Energy =   0.0647
Level     0,  Iter    57:    Energy =   0.0647
Level     0,  Iter    58:    Energy =   0.0647
Level     0,  Iter    59:    Energy =   0.0647
END OF LEVEL     0    DetJac Range:   0.2579  to   2.3764 
  Avg. Gradient Time  : 0.0073s  33.34% 
  Avg. Gaussian Time  : 0.0105s  47.91% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0387
Level     1,  Iter     1:    Energy =   0.0407
Level     1,  Iter     2:    Energy =   0.0426
Level     1,  Iter     3:    Energy =   0.0440
Level     1,  Iter     4:    Energy =   0.0453
Level     1,  Iter     5:    Energy =   0.0465
Level     1,  Iter     6:    Energy =   0.0476
Level     1,  Iter     7:    Energy =   0.0486
Level     1,  Iter     8:    Energy =   0.0495
Level     1,  Iter     9:    Energy =   0.0502
Level     1,  Iter    10:    Energy =   0.0507
Level     1,  Iter    11:    Energy =   0.0511
Level     1,  Iter    12:    Energy =   0.0516
Level     1,  Iter    13:    Energy =   0.0520
Level     1,  Iter    14:    Energy =   0.0523
Level     1,  Iter    15:    Energy =   0.0526
Level     1,  Iter    16:    Energy =   0.0528
Level     1,  Iter    17:    Energy =   0.0531
Level     1,  Iter    18:    Energy =   0.0532
Level     1,  Iter    19:    Energy =   0.0534
Level     1,  Iter    20:    Energy =   0.0536
Level     1,  Iter    21:    Energy =   0.0536
Level     1,  Iter    22:    Energy =   0.0537
Level     1,  Iter    23:    Energy =   0.0538
Level     1,  Iter    24:    Energy =   0.0539
Level     1,  Iter    25:    Energy =   0.0540
Level     1,  Iter    26:    Energy =   0.0541
Level     1,  Iter    27:    Energy =   0.0541
Level     1,  Iter    28:    Energy =   0.0542
Level     1,  Iter    29:    Energy =   0.0543
Level     1,  Iter    30:    Energy =   0.0544
Level     1,  Iter    31:    Energy =   0.0544
Level     1,  Iter    32:    Energy =   0.0545
Level     1,  Iter    33:    Energy =   0.0545
Level     1,  Iter    34:    Energy =   0.0545
Level     1,  Iter    35:    Energy =   0.0546
Level     1,  Iter    36:    Energy =   0.0546
Level     1,  Iter    37:    Energy =   0.0546
Level     1,  Iter    38:    Energy =   0.0546
Level     1,  Iter    39:    Energy =   0.0547
Level     1,  Iter    40:    Energy =   0.0547
Level     1,  Iter    41:    Energy =   0.0548
Level     1,  Iter    42:    Energy =   0.0548
Level     1,  Iter    43:    Energy =   0.0549
Level     1,  Iter    44:    Energy =   0.0549
Level     1,  Iter    45:    Energy =   0.0549
Level     1,  Iter    46:    Energy =   0.0549
Level     1,  Iter    47:    Energy =   0.0549
Level     1,  Iter    48:    Energy =   0.0549
Level     1,  Iter    49:    Energy =   0.0549
Level     1,  Iter    50:    Energy =   0.0549
Level     1,  Iter    51:    Energy =   0.0550
Level     1,  Iter    52:    Energy =   0.0550
Level     1,  Iter    53:    Energy =   0.0550
Level     1,  Iter    54:    Energy =   0.0550
Level     1,  Iter    55:    Energy =   0.0551
Level     1,  Iter    56:    Energy =   0.0551
Level     1,  Iter    57:    Energy =   0.0551
Level     1,  Iter    58:    Energy =   0.0551
Level     1,  Iter    59:    Energy =   0.0552
END OF LEVEL     1    DetJac Range:   0.0594  to   4.1792 
  Avg. Gradient Time  : 0.0300s  34.18% 
  Avg. Gaussian Time  : 0.0456s  51.93% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0260
Level     2,  Iter     1:    Energy =   0.0268
Level     2,  Iter     2:    Energy =   0.0276
Level     2,  Iter     3:    Energy =   0.0283
Level     2,  Iter     4:    Energy =   0.0291
Level     2,  Iter     5:    Energy =   0.0298
Level     2,  Iter     6:    Energy =   0.0304
Level     2,  Iter     7:    Energy =   0.0309
Level     2,  Iter     8:    Energy =   0.0313
Level     2,  Iter     9:    Energy =   0.0316
Level     2,  Iter    10:    Energy =   0.0319
Level     2,  Iter    11:    Energy =   0.0321
Level     2,  Iter    12:    Energy =   0.0323
Level     2,  Iter    13:    Energy =   0.0324
Level     2,  Iter    14:    Energy =   0.0325
Level     2,  Iter    15:    Energy =   0.0326
Level     2,  Iter    16:    Energy =   0.0327
Level     2,  Iter    17:    Energy =   0.0328
Level     2,  Iter    18:    Energy =   0.0329
Level     2,  Iter    19:    Energy =   0.0329
END OF LEVEL     2    DetJac Range:   0.0435  to   3.4566 
  Avg. Gradient Time  : 0.1855s  32.24% 
  Avg. Gaussian Time  : 0.3128s  54.38% 
  Avg. Iteration Time : 0.5752s 

real	0m20.928s
user	0m36.304s
sys	0m2.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 404.612   GNORM= 164.636
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       303.568     103.163       0.006
   2    5        43.016      18.235      21.000
   3   11      -483.346     122.457       3.426
   4   28      -601.109      84.938       1.545
   5   31      -648.198      75.397       0.066
   6   32      -679.424      83.580       1.000
   7   36      -712.641      43.523       0.940
   8   37      -750.635      95.614       1.000
   9   42      -766.947     145.703       1.147
  10   48      -768.128     166.277       0.000
  11   56      -824.958     247.077       5.103
  12   57      -837.351     127.397       1.000
  13   60      -845.578      90.595       0.062
Final RAS Transform: 
0.963129 -0.193778 0.0382175 -5.5055 
0.00727746 1.34811 -0.0296339 8.29234 
0.153312 -0.195576 0.917079 -5.80046 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -447.786   GNORM= 261.343
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -450.759      56.776       0.001
   2    4      -452.632      33.003       1.000
   3   10      -452.825      33.971       0.961
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.962258 -0.193346 0.037535 -5.43259 
0.0073398 1.34759 -0.0293081 8.26156 
0.15161 -0.193958 0.914997 -5.59479 
0 0 0 1 

Final RAS Transform: 
0.962258 -0.193346 0.037535 -5.43259 
0.0073398 1.34759 -0.0293081 8.26156 
0.15161 -0.193958 0.914997 -5.59479 
0 0 0 1 


real	0m4.252s
user	0m6.772s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.374195
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0225
Level     0,  Iter     1:    Energy =   0.0244
Level     0,  Iter     2:    Energy =   0.0288
Level     0,  Iter     3:    Energy =   0.0330
Level     0,  Iter     4:    Energy =   0.0368
Level     0,  Iter     5:    Energy =   0.0401
Level     0,  Iter     6:    Energy =   0.0430
Level     0,  Iter     7:    Energy =   0.0452
Level     0,  Iter     8:    Energy =   0.0473
Level     0,  Iter     9:    Energy =   0.0491
Level     0,  Iter    10:    Energy =   0.0505
Level     0,  Iter    11:    Energy =   0.0506
Level     0,  Iter    12:    Energy =   0.0523
Level     0,  Iter    13:    Energy =   0.0535
Level     0,  Iter    14:    Energy =   0.0546
Level     0,  Iter    15:    Energy =   0.0554
Level     0,  Iter    16:    Energy =   0.0561
Level     0,  Iter    17:    Energy =   0.0566
Level     0,  Iter    18:    Energy =   0.0570
Level     0,  Iter    19:    Energy =   0.0574
Level     0,  Iter    20:    Energy =   0.0578
Level     0,  Iter    21:    Energy =   0.0582
Level     0,  Iter    22:    Energy =   0.0586
Level     0,  Iter    23:    Energy =   0.0589
Level     0,  Iter    24:    Energy =   0.0592
Level     0,  Iter    25:    Energy =   0.0595
Level     0,  Iter    26:    Energy =   0.0596
Level     0,  Iter    27:    Energy =   0.0599
Level     0,  Iter    28:    Energy =   0.0599
Level     0,  Iter    29:    Energy =   0.0603
Level     0,  Iter    30:    Energy =   0.0603
Level     0,  Iter    31:    Energy =   0.0605
Level     0,  Iter    32:    Energy =   0.0609
Level     0,  Iter    33:    Energy =   0.0615
Level     0,  Iter    34:    Energy =   0.0615
Level     0,  Iter    35:    Energy =   0.0620
Level     0,  Iter    36:    Energy =   0.0620
Level     0,  Iter    37:    Energy =   0.0621
Level     0,  Iter    38:    Energy =   0.0621
Level     0,  Iter    39:    Energy =   0.0623
Level     0,  Iter    40:    Energy =   0.0622
Level     0,  Iter    41:    Energy =   0.0623
Level     0,  Iter    42:    Energy =   0.0621
Level     0,  Iter    43:    Energy =   0.0624
Level     0,  Iter    44:    Energy =   0.0622
Level     0,  Iter    45:    Energy =   0.0625
Level     0,  Iter    46:    Energy =   0.0623
Level     0,  Iter    47:    Energy =   0.0625
Level     0,  Iter    48:    Energy =   0.0622
Level     0,  Iter    49:    Energy =   0.0626
Level     0,  Iter    50:    Energy =   0.0626
Level     0,  Iter    51:    Energy =   0.0628
Level     0,  Iter    52:    Energy =   0.0628
Level     0,  Iter    53:    Energy =   0.0628
Level     0,  Iter    54:    Energy =   0.0628
Level     0,  Iter    55:    Energy =   0.0627
Level     0,  Iter    56:    Energy =   0.0627
Level     0,  Iter    57:    Energy =   0.0627
Level     0,  Iter    58:    Energy =   0.0626
Level     0,  Iter    59:    Energy =   0.0626
END OF LEVEL     0    DetJac Range:   0.1520  to   2.7830 
  Avg. Gradient Time  : 0.0069s  33.00% 
  Avg. Gaussian Time  : 0.0100s  48.16% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0362
Level     1,  Iter     1:    Energy =   0.0382
Level     1,  Iter     2:    Energy =   0.0401
Level     1,  Iter     3:    Energy =   0.0414
Level     1,  Iter     4:    Energy =   0.0425
Level     1,  Iter     5:    Energy =   0.0434
Level     1,  Iter     6:    Energy =   0.0444
Level     1,  Iter     7:    Energy =   0.0453
Level     1,  Iter     8:    Energy =   0.0460
Level     1,  Iter     9:    Energy =   0.0467
Level     1,  Iter    10:    Energy =   0.0473
Level     1,  Iter    11:    Energy =   0.0480
Level     1,  Iter    12:    Energy =   0.0486
Level     1,  Iter    13:    Energy =   0.0490
Level     1,  Iter    14:    Energy =   0.0493
Level     1,  Iter    15:    Energy =   0.0498
Level     1,  Iter    16:    Energy =   0.0503
Level     1,  Iter    17:    Energy =   0.0508
Level     1,  Iter    18:    Energy =   0.0513
Level     1,  Iter    19:    Energy =   0.0517
Level     1,  Iter    20:    Energy =   0.0518
Level     1,  Iter    21:    Energy =   0.0520
Level     1,  Iter    22:    Energy =   0.0520
Level     1,  Iter    23:    Energy =   0.0520
Level     1,  Iter    24:    Energy =   0.0520
Level     1,  Iter    25:    Energy =   0.0521
Level     1,  Iter    26:    Energy =   0.0521
Level     1,  Iter    27:    Energy =   0.0522
Level     1,  Iter    28:    Energy =   0.0523
Level     1,  Iter    29:    Energy =   0.0525
Level     1,  Iter    30:    Energy =   0.0526
Level     1,  Iter    31:    Energy =   0.0528
Level     1,  Iter    32:    Energy =   0.0528
Level     1,  Iter    33:    Energy =   0.0529
Level     1,  Iter    34:    Energy =   0.0530
Level     1,  Iter    35:    Energy =   0.0530
Level     1,  Iter    36:    Energy =   0.0531
Level     1,  Iter    37:    Energy =   0.0532
Level     1,  Iter    38:    Energy =   0.0532
Level     1,  Iter    39:    Energy =   0.0532
Level     1,  Iter    40:    Energy =   0.0533
Level     1,  Iter    41:    Energy =   0.0533
Level     1,  Iter    42:    Energy =   0.0533
Level     1,  Iter    43:    Energy =   0.0533
Level     1,  Iter    44:    Energy =   0.0533
Level     1,  Iter    45:    Energy =   0.0533
Level     1,  Iter    46:    Energy =   0.0533
Level     1,  Iter    47:    Energy =   0.0533
Level     1,  Iter    48:    Energy =   0.0533
Level     1,  Iter    49:    Energy =   0.0533
Level     1,  Iter    50:    Energy =   0.0533
Level     1,  Iter    51:    Energy =   0.0533
Level     1,  Iter    52:    Energy =   0.0532
Level     1,  Iter    53:    Energy =   0.0532
Level     1,  Iter    54:    Energy =   0.0532
Level     1,  Iter    55:    Energy =   0.0532
Level     1,  Iter    56:    Energy =   0.0532
Level     1,  Iter    57:    Energy =   0.0532
Level     1,  Iter    58:    Energy =   0.0532
Level     1,  Iter    59:    Energy =   0.0532
END OF LEVEL     1    DetJac Range:   0.0615  to   3.7738 
  Avg. Gradient Time  : 0.0295s  33.66% 
  Avg. Gaussian Time  : 0.0460s  52.44% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0227
Level     2,  Iter     1:    Energy =   0.0240
Level     2,  Iter     2:    Energy =   0.0252
Level     2,  Iter     3:    Energy =   0.0260
Level     2,  Iter     4:    Energy =   0.0268
Level     2,  Iter     5:    Energy =   0.0274
Level     2,  Iter     6:    Energy =   0.0280
Level     2,  Iter     7:    Energy =   0.0286
Level     2,  Iter     8:    Energy =   0.0291
Level     2,  Iter     9:    Energy =   0.0294
Level     2,  Iter    10:    Energy =   0.0298
Level     2,  Iter    11:    Energy =   0.0301
Level     2,  Iter    12:    Energy =   0.0303
Level     2,  Iter    13:    Energy =   0.0305
Level     2,  Iter    14:    Energy =   0.0306
Level     2,  Iter    15:    Energy =   0.0308
Level     2,  Iter    16:    Energy =   0.0309
Level     2,  Iter    17:    Energy =   0.0310
Level     2,  Iter    18:    Energy =   0.0311
Level     2,  Iter    19:    Energy =   0.0312
END OF LEVEL     2    DetJac Range:   0.0377  to   4.8476 
  Avg. Gradient Time  : 0.1868s  32.08% 
  Avg. Gaussian Time  : 0.3169s  54.43% 
  Avg. Iteration Time : 0.5822s 

real	0m21.039s
user	0m36.428s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 535.464   GNORM= 219.438
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       342.989     189.353       0.005
   2    3      -140.070     211.198       1.000
   3    4      -338.363      72.162       1.000
   4    7      -442.258     126.217       2.301
   5    8      -516.794      54.226       1.000
   6   14      -656.441     141.770       5.177
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.875648 -0.245136 0.181926 0.0767126 
-0.101499 1.09362 -0.295654 6.82394 
0.147555 -0.194532 0.931004 -5.53177 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -198.196   GNORM= 1385.36
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -240.026     263.891       0.001
   2    7      -284.174     266.338       5.052
   3    9      -284.439     147.182       0.560
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.873469 -0.243663 0.181002 0.356115 
-0.0925373 1.07972 -0.268109 4.88532 
0.145373 -0.188799 0.921436 -4.73925 
0 0 0 1 

Final RAS Transform: 
0.873469 -0.243663 0.181002 0.356115 
-0.0925373 1.07972 -0.268109 4.88532 
0.145373 -0.188799 0.921436 -4.73925 
0 0 0 1 


real	0m3.950s
user	0m6.352s
sys	0m0.376s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.77, moving = 0.377896
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0151
Level     0,  Iter     1:    Energy =   0.0173
Level     0,  Iter     2:    Energy =   0.0210
Level     0,  Iter     3:    Energy =   0.0244
Level     0,  Iter     4:    Energy =   0.0270
Level     0,  Iter     5:    Energy =   0.0295
Level     0,  Iter     6:    Energy =   0.0316
Level     0,  Iter     7:    Energy =   0.0332
Level     0,  Iter     8:    Energy =   0.0345
Level     0,  Iter     9:    Energy =   0.0358
Level     0,  Iter    10:    Energy =   0.0374
Level     0,  Iter    11:    Energy =   0.0387
Level     0,  Iter    12:    Energy =   0.0400
Level     0,  Iter    13:    Energy =   0.0411
Level     0,  Iter    14:    Energy =   0.0423
Level     0,  Iter    15:    Energy =   0.0437
Level     0,  Iter    16:    Energy =   0.0448
Level     0,  Iter    17:    Energy =   0.0458
Level     0,  Iter    18:    Energy =   0.0465
Level     0,  Iter    19:    Energy =   0.0471
Level     0,  Iter    20:    Energy =   0.0475
Level     0,  Iter    21:    Energy =   0.0479
Level     0,  Iter    22:    Energy =   0.0483
Level     0,  Iter    23:    Energy =   0.0489
Level     0,  Iter    24:    Energy =   0.0494
Level     0,  Iter    25:    Energy =   0.0497
Level     0,  Iter    26:    Energy =   0.0500
Level     0,  Iter    27:    Energy =   0.0503
Level     0,  Iter    28:    Energy =   0.0506
Level     0,  Iter    29:    Energy =   0.0511
Level     0,  Iter    30:    Energy =   0.0516
Level     0,  Iter    31:    Energy =   0.0520
Level     0,  Iter    32:    Energy =   0.0523
Level     0,  Iter    33:    Energy =   0.0524
Level     0,  Iter    34:    Energy =   0.0525
Level     0,  Iter    35:    Energy =   0.0527
Level     0,  Iter    36:    Energy =   0.0528
Level     0,  Iter    37:    Energy =   0.0530
Level     0,  Iter    38:    Energy =   0.0530
Level     0,  Iter    39:    Energy =   0.0532
Level     0,  Iter    40:    Energy =   0.0532
Level     0,  Iter    41:    Energy =   0.0533
Level     0,  Iter    42:    Energy =   0.0532
Level     0,  Iter    43:    Energy =   0.0534
Level     0,  Iter    44:    Energy =   0.0533
Level     0,  Iter    45:    Energy =   0.0535
Level     0,  Iter    46:    Energy =   0.0535
Level     0,  Iter    47:    Energy =   0.0537
Level     0,  Iter    48:    Energy =   0.0537
Level     0,  Iter    49:    Energy =   0.0537
Level     0,  Iter    50:    Energy =   0.0537
Level     0,  Iter    51:    Energy =   0.0538
Level     0,  Iter    52:    Energy =   0.0539
Level     0,  Iter    53:    Energy =   0.0540
Level     0,  Iter    54:    Energy =   0.0539
Level     0,  Iter    55:    Energy =   0.0541
Level     0,  Iter    56:    Energy =   0.0539
Level     0,  Iter    57:    Energy =   0.0541
Level     0,  Iter    58:    Energy =   0.0540
Level     0,  Iter    59:    Energy =   0.0541
END OF LEVEL     0    DetJac Range:   0.0441  to   2.9774 
  Avg. Gradient Time  : 0.0070s  33.00% 
  Avg. Gaussian Time  : 0.0102s  48.22% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0323
Level     1,  Iter     1:    Energy =   0.0341
Level     1,  Iter     2:    Energy =   0.0358
Level     1,  Iter     3:    Energy =   0.0371
Level     1,  Iter     4:    Energy =   0.0384
Level     1,  Iter     5:    Energy =   0.0394
Level     1,  Iter     6:    Energy =   0.0402
Level     1,  Iter     7:    Energy =   0.0408
Level     1,  Iter     8:    Energy =   0.0413
Level     1,  Iter     9:    Energy =   0.0417
Level     1,  Iter    10:    Energy =   0.0420
Level     1,  Iter    11:    Energy =   0.0423
Level     1,  Iter    12:    Energy =   0.0425
Level     1,  Iter    13:    Energy =   0.0428
Level     1,  Iter    14:    Energy =   0.0430
Level     1,  Iter    15:    Energy =   0.0432
Level     1,  Iter    16:    Energy =   0.0434
Level     1,  Iter    17:    Energy =   0.0435
Level     1,  Iter    18:    Energy =   0.0436
Level     1,  Iter    19:    Energy =   0.0437
Level     1,  Iter    20:    Energy =   0.0437
Level     1,  Iter    21:    Energy =   0.0438
Level     1,  Iter    22:    Energy =   0.0438
Level     1,  Iter    23:    Energy =   0.0439
Level     1,  Iter    24:    Energy =   0.0439
Level     1,  Iter    25:    Energy =   0.0440
Level     1,  Iter    26:    Energy =   0.0440
Level     1,  Iter    27:    Energy =   0.0441
Level     1,  Iter    28:    Energy =   0.0441
Level     1,  Iter    29:    Energy =   0.0441
Level     1,  Iter    30:    Energy =   0.0441
Level     1,  Iter    31:    Energy =   0.0441
Level     1,  Iter    32:    Energy =   0.0441
Level     1,  Iter    33:    Energy =   0.0440
Level     1,  Iter    34:    Energy =   0.0440
Level     1,  Iter    35:    Energy =   0.0440
Level     1,  Iter    36:    Energy =   0.0439
Level     1,  Iter    37:    Energy =   0.0439
Level     1,  Iter    38:    Energy =   0.0439
Level     1,  Iter    39:    Energy =   0.0438
Level     1,  Iter    40:    Energy =   0.0438
Level     1,  Iter    41:    Energy =   0.0438
Level     1,  Iter    42:    Energy =   0.0437
Level     1,  Iter    43:    Energy =   0.0437
Level     1,  Iter    44:    Energy =   0.0437
Level     1,  Iter    45:    Energy =   0.0437
Level     1,  Iter    46:    Energy =   0.0437
Level     1,  Iter    47:    Energy =   0.0436
Level     1,  Iter    48:    Energy =   0.0436
Level     1,  Iter    49:    Energy =   0.0436
Level     1,  Iter    50:    Energy =   0.0436
Level     1,  Iter    51:    Energy =   0.0436
Level     1,  Iter    52:    Energy =   0.0435
Level     1,  Iter    53:    Energy =   0.0435
Level     1,  Iter    54:    Energy =   0.0435
Level     1,  Iter    55:    Energy =   0.0435
Level     1,  Iter    56:    Energy =   0.0434
Level     1,  Iter    57:    Energy =   0.0434
Level     1,  Iter    58:    Energy =   0.0434
Level     1,  Iter    59:    Energy =   0.0434
END OF LEVEL     1    DetJac Range:   0.0459  to   4.1970 
  Avg. Gradient Time  : 0.0292s  33.64% 
  Avg. Gaussian Time  : 0.0454s  52.41% 
  Avg. Iteration Time : 0.0867s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0212
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0226
Level     2,  Iter     3:    Energy =   0.0231
Level     2,  Iter     4:    Energy =   0.0237
Level     2,  Iter     5:    Energy =   0.0242
Level     2,  Iter     6:    Energy =   0.0248
Level     2,  Iter     7:    Energy =   0.0254
Level     2,  Iter     8:    Energy =   0.0259
Level     2,  Iter     9:    Energy =   0.0264
Level     2,  Iter    10:    Energy =   0.0269
Level     2,  Iter    11:    Energy =   0.0273
Level     2,  Iter    12:    Energy =   0.0276
Level     2,  Iter    13:    Energy =   0.0278
Level     2,  Iter    14:    Energy =   0.0280
Level     2,  Iter    15:    Energy =   0.0282
Level     2,  Iter    16:    Energy =   0.0284
Level     2,  Iter    17:    Energy =   0.0286
Level     2,  Iter    18:    Energy =   0.0288
Level     2,  Iter    19:    Energy =   0.0290
END OF LEVEL     2    DetJac Range:   0.0339  to   4.9027 
  Avg. Gradient Time  : 0.1949s  32.63% 
  Avg. Gaussian Time  : 0.3232s  54.12% 
  Avg. Iteration Time : 0.5972s 

real	0m21.334s
user	0m36.920s
sys	0m2.512s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 540.14   GNORM= 135.857
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -197.042      87.750       0.037
   2    4      -572.193     112.115       1.000
   3   11      -572.382      62.810       0.000
   4   15      -603.013     654.549       0.981
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983609 0.0474559 -0.0675606 2.02289 
0.163744 1.14681 -0.327849 8.71137 
0.00568685 -0.149867 0.998703 -2.46552 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -323.753   GNORM= 499.967
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -324.927    1414.200       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983621 0.0474482 -0.0675875 2.02381 
0.163811 1.14698 -0.328074 8.73247 
0.00569019 -0.149816 0.998594 -2.4581 
0 0 0 1 

Final RAS Transform: 
0.983621 0.0474482 -0.0675875 2.02381 
0.163811 1.14698 -0.328074 8.73247 
0.00569019 -0.149816 0.998594 -2.4581 
0 0 0 1 


real	0m3.749s
user	0m5.840s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.398228
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0185
Level     0,  Iter     1:    Energy =   0.0202
Level     0,  Iter     2:    Energy =   0.0228
Level     0,  Iter     3:    Energy =   0.0248
Level     0,  Iter     4:    Energy =   0.0267
Level     0,  Iter     5:    Energy =   0.0278
Level     0,  Iter     6:    Energy =   0.0292
Level     0,  Iter     7:    Energy =   0.0303
Level     0,  Iter     8:    Energy =   0.0308
Level     0,  Iter     9:    Energy =   0.0316
Level     0,  Iter    10:    Energy =   0.0325
Level     0,  Iter    11:    Energy =   0.0332
Level     0,  Iter    12:    Energy =   0.0339
Level     0,  Iter    13:    Energy =   0.0345
Level     0,  Iter    14:    Energy =   0.0353
Level     0,  Iter    15:    Energy =   0.0360
Level     0,  Iter    16:    Energy =   0.0366
Level     0,  Iter    17:    Energy =   0.0371
Level     0,  Iter    18:    Energy =   0.0377
Level     0,  Iter    19:    Energy =   0.0383
Level     0,  Iter    20:    Energy =   0.0386
Level     0,  Iter    21:    Energy =   0.0390
Level     0,  Iter    22:    Energy =   0.0393
Level     0,  Iter    23:    Energy =   0.0398
Level     0,  Iter    24:    Energy =   0.0400
Level     0,  Iter    25:    Energy =   0.0405
Level     0,  Iter    26:    Energy =   0.0407
Level     0,  Iter    27:    Energy =   0.0411
Level     0,  Iter    28:    Energy =   0.0412
Level     0,  Iter    29:    Energy =   0.0414
Level     0,  Iter    30:    Energy =   0.0413
Level     0,  Iter    31:    Energy =   0.0414
Level     0,  Iter    32:    Energy =   0.0415
Level     0,  Iter    33:    Energy =   0.0417
Level     0,  Iter    34:    Energy =   0.0416
Level     0,  Iter    35:    Energy =   0.0414
Level     0,  Iter    36:    Energy =   0.0414
Level     0,  Iter    37:    Energy =   0.0413
Level     0,  Iter    38:    Energy =   0.0414
Level     0,  Iter    39:    Energy =   0.0415
Level     0,  Iter    40:    Energy =   0.0415
Level     0,  Iter    41:    Energy =   0.0415
Level     0,  Iter    42:    Energy =   0.0414
Level     0,  Iter    43:    Energy =   0.0412
Level     0,  Iter    44:    Energy =   0.0412
Level     0,  Iter    45:    Energy =   0.0410
Level     0,  Iter    46:    Energy =   0.0412
Level     0,  Iter    47:    Energy =   0.0411
Level     0,  Iter    48:    Energy =   0.0412
Level     0,  Iter    49:    Energy =   0.0410
Level     0,  Iter    50:    Energy =   0.0410
Level     0,  Iter    51:    Energy =   0.0408
Level     0,  Iter    52:    Energy =   0.0408
Level     0,  Iter    53:    Energy =   0.0406
Level     0,  Iter    54:    Energy =   0.0408
Level     0,  Iter    55:    Energy =   0.0407
Level     0,  Iter    56:    Energy =   0.0407
Level     0,  Iter    57:    Energy =   0.0407
Level     0,  Iter    58:    Energy =   0.0408
Level     0,  Iter    59:    Energy =   0.0407
END OF LEVEL     0    DetJac Range:   0.1157  to   2.8260 
  Avg. Gradient Time  : 0.0070s  33.28% 
  Avg. Gaussian Time  : 0.0102s  48.61% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0225
Level     1,  Iter     1:    Energy =   0.0233
Level     1,  Iter     2:    Energy =   0.0241
Level     1,  Iter     3:    Energy =   0.0248
Level     1,  Iter     4:    Energy =   0.0257
Level     1,  Iter     5:    Energy =   0.0263
Level     1,  Iter     6:    Energy =   0.0269
Level     1,  Iter     7:    Energy =   0.0274
Level     1,  Iter     8:    Energy =   0.0278
Level     1,  Iter     9:    Energy =   0.0281
Level     1,  Iter    10:    Energy =   0.0284
Level     1,  Iter    11:    Energy =   0.0286
Level     1,  Iter    12:    Energy =   0.0289
Level     1,  Iter    13:    Energy =   0.0291
Level     1,  Iter    14:    Energy =   0.0293
Level     1,  Iter    15:    Energy =   0.0295
Level     1,  Iter    16:    Energy =   0.0295
Level     1,  Iter    17:    Energy =   0.0297
Level     1,  Iter    18:    Energy =   0.0299
Level     1,  Iter    19:    Energy =   0.0300
Level     1,  Iter    20:    Energy =   0.0300
Level     1,  Iter    21:    Energy =   0.0301
Level     1,  Iter    22:    Energy =   0.0301
Level     1,  Iter    23:    Energy =   0.0301
Level     1,  Iter    24:    Energy =   0.0301
Level     1,  Iter    25:    Energy =   0.0302
Level     1,  Iter    26:    Energy =   0.0302
Level     1,  Iter    27:    Energy =   0.0303
Level     1,  Iter    28:    Energy =   0.0303
Level     1,  Iter    29:    Energy =   0.0303
Level     1,  Iter    30:    Energy =   0.0303
Level     1,  Iter    31:    Energy =   0.0303
Level     1,  Iter    32:    Energy =   0.0303
Level     1,  Iter    33:    Energy =   0.0304
Level     1,  Iter    34:    Energy =   0.0304
Level     1,  Iter    35:    Energy =   0.0304
Level     1,  Iter    36:    Energy =   0.0304
Level     1,  Iter    37:    Energy =   0.0304
Level     1,  Iter    38:    Energy =   0.0305
Level     1,  Iter    39:    Energy =   0.0305
Level     1,  Iter    40:    Energy =   0.0305
Level     1,  Iter    41:    Energy =   0.0305
Level     1,  Iter    42:    Energy =   0.0305
Level     1,  Iter    43:    Energy =   0.0306
Level     1,  Iter    44:    Energy =   0.0306
Level     1,  Iter    45:    Energy =   0.0306
Level     1,  Iter    46:    Energy =   0.0307
Level     1,  Iter    47:    Energy =   0.0307
Level     1,  Iter    48:    Energy =   0.0307
Level     1,  Iter    49:    Energy =   0.0308
Level     1,  Iter    50:    Energy =   0.0308
Level     1,  Iter    51:    Energy =   0.0308
Level     1,  Iter    52:    Energy =   0.0309
Level     1,  Iter    53:    Energy =   0.0309
Level     1,  Iter    54:    Energy =   0.0310
Level     1,  Iter    55:    Energy =   0.0310
Level     1,  Iter    56:    Energy =   0.0310
Level     1,  Iter    57:    Energy =   0.0310
Level     1,  Iter    58:    Energy =   0.0311
Level     1,  Iter    59:    Energy =   0.0311
END OF LEVEL     1    DetJac Range:   0.0687  to   2.6277 
  Avg. Gradient Time  : 0.0301s  34.48% 
  Avg. Gaussian Time  : 0.0450s  51.54% 
  Avg. Iteration Time : 0.0873s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0143
Level     2,  Iter     1:    Energy =   0.0147
Level     2,  Iter     2:    Energy =   0.0154
Level     2,  Iter     3:    Energy =   0.0157
Level     2,  Iter     4:    Energy =   0.0160
Level     2,  Iter     5:    Energy =   0.0163
Level     2,  Iter     6:    Energy =   0.0165
Level     2,  Iter     7:    Energy =   0.0168
Level     2,  Iter     8:    Energy =   0.0169
Level     2,  Iter     9:    Energy =   0.0171
Level     2,  Iter    10:    Energy =   0.0174
Level     2,  Iter    11:    Energy =   0.0177
Level     2,  Iter    12:    Energy =   0.0180
Level     2,  Iter    13:    Energy =   0.0181
Level     2,  Iter    14:    Energy =   0.0181
Level     2,  Iter    15:    Energy =   0.0181
Level     2,  Iter    16:    Energy =   0.0182
Level     2,  Iter    17:    Energy =   0.0182
Level     2,  Iter    18:    Energy =   0.0182
Level     2,  Iter    19:    Energy =   0.0183
END OF LEVEL     2    DetJac Range:   0.0515  to   3.0369 
  Avg. Gradient Time  : 0.1976s  32.54% 
  Avg. Gaussian Time  : 0.3276s  53.95% 
  Avg. Iteration Time : 0.6072s 

real	0m21.490s
user	0m37.392s
sys	0m2.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 525.056   GNORM= 213.526
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       328.782     170.378       0.005
   2    3      -371.613      85.010       1.000
   3    4      -665.522      91.298       1.000
   4    9      -670.946      44.838       0.252
   5   10      -701.106      72.543       1.000
   6   13      -756.292      92.128       0.056
   7   17      -761.961     109.136       0.069
   8   19      -777.580     111.374       0.305
   9   22      -779.497     139.765       0.054
  10   23      -806.513     100.736       1.000
  11   24      -848.952      47.303       1.000
  12   25      -854.780      45.354       1.000
  13   26      -865.101      34.971       1.000
  14   31      -890.527      77.930       0.985
  15   35      -896.307      73.924       0.725
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.953677 0.0972811 -0.1414 3.10794 
0.160567 1.13815 -0.296943 7.31157 
-0.0410473 -0.16822 0.998165 -3.58419 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -421.488   GNORM= 64.8833
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -444.127     239.223       0.017
   2   10      -444.216      77.851       0.002
   3   16      -447.350      90.682       1.040
   4   17      -451.596      40.521       1.000
   5   22      -452.167      75.976       0.281
   6   26      -452.994      86.645       1.313
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.953997 0.0995657 -0.141659 3.36057 
0.160786 1.13794 -0.296759 7.40994 
-0.0371609 -0.165808 0.992622 -2.93495 
0 0 0 1 

Final RAS Transform: 
0.953997 0.0995657 -0.141659 3.36057 
0.160786 1.13794 -0.296759 7.40994 
-0.0371609 -0.165808 0.992622 -2.93495 
0 0 0 1 


real	0m5.168s
user	0m8.432s
sys	0m0.588s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.433149
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0222
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0266
Level     0,  Iter     3:    Energy =   0.0290
Level     0,  Iter     4:    Energy =   0.0306
Level     0,  Iter     5:    Energy =   0.0317
Level     0,  Iter     6:    Energy =   0.0324
Level     0,  Iter     7:    Energy =   0.0329
Level     0,  Iter     8:    Energy =   0.0333
Level     0,  Iter     9:    Energy =   0.0338
Level     0,  Iter    10:    Energy =   0.0346
Level     0,  Iter    11:    Energy =   0.0353
Level     0,  Iter    12:    Energy =   0.0360
Level     0,  Iter    13:    Energy =   0.0365
Level     0,  Iter    14:    Energy =   0.0371
Level     0,  Iter    15:    Energy =   0.0376
Level     0,  Iter    16:    Energy =   0.0381
Level     0,  Iter    17:    Energy =   0.0385
Level     0,  Iter    18:    Energy =   0.0389
Level     0,  Iter    19:    Energy =   0.0391
Level     0,  Iter    20:    Energy =   0.0392
Level     0,  Iter    21:    Energy =   0.0393
Level     0,  Iter    22:    Energy =   0.0394
Level     0,  Iter    23:    Energy =   0.0394
Level     0,  Iter    24:    Energy =   0.0395
Level     0,  Iter    25:    Energy =   0.0395
Level     0,  Iter    26:    Energy =   0.0396
Level     0,  Iter    27:    Energy =   0.0396
Level     0,  Iter    28:    Energy =   0.0397
Level     0,  Iter    29:    Energy =   0.0397
Level     0,  Iter    30:    Energy =   0.0398
Level     0,  Iter    31:    Energy =   0.0399
Level     0,  Iter    32:    Energy =   0.0399
Level     0,  Iter    33:    Energy =   0.0399
Level     0,  Iter    34:    Energy =   0.0400
Level     0,  Iter    35:    Energy =   0.0400
Level     0,  Iter    36:    Energy =   0.0401
Level     0,  Iter    37:    Energy =   0.0401
Level     0,  Iter    38:    Energy =   0.0402
Level     0,  Iter    39:    Energy =   0.0402
Level     0,  Iter    40:    Energy =   0.0402
Level     0,  Iter    41:    Energy =   0.0401
Level     0,  Iter    42:    Energy =   0.0402
Level     0,  Iter    43:    Energy =   0.0402
Level     0,  Iter    44:    Energy =   0.0402
Level     0,  Iter    45:    Energy =   0.0402
Level     0,  Iter    46:    Energy =   0.0402
Level     0,  Iter    47:    Energy =   0.0402
Level     0,  Iter    48:    Energy =   0.0402
Level     0,  Iter    49:    Energy =   0.0402
Level     0,  Iter    50:    Energy =   0.0402
Level     0,  Iter    51:    Energy =   0.0401
Level     0,  Iter    52:    Energy =   0.0402
Level     0,  Iter    53:    Energy =   0.0401
Level     0,  Iter    54:    Energy =   0.0402
Level     0,  Iter    55:    Energy =   0.0402
Level     0,  Iter    56:    Energy =   0.0402
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0401
Level     0,  Iter    59:    Energy =   0.0401
END OF LEVEL     0    DetJac Range:   0.0824  to   2.5257 
  Avg. Gradient Time  : 0.0080s  33.68% 
  Avg. Gaussian Time  : 0.0113s  47.68% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0199
Level     1,  Iter     1:    Energy =   0.0211
Level     1,  Iter     2:    Energy =   0.0222
Level     1,  Iter     3:    Energy =   0.0232
Level     1,  Iter     4:    Energy =   0.0240
Level     1,  Iter     5:    Energy =   0.0246
Level     1,  Iter     6:    Energy =   0.0252
Level     1,  Iter     7:    Energy =   0.0257
Level     1,  Iter     8:    Energy =   0.0263
Level     1,  Iter     9:    Energy =   0.0268
Level     1,  Iter    10:    Energy =   0.0274
Level     1,  Iter    11:    Energy =   0.0280
Level     1,  Iter    12:    Energy =   0.0285
Level     1,  Iter    13:    Energy =   0.0289
Level     1,  Iter    14:    Energy =   0.0292
Level     1,  Iter    15:    Energy =   0.0296
Level     1,  Iter    16:    Energy =   0.0299
Level     1,  Iter    17:    Energy =   0.0301
Level     1,  Iter    18:    Energy =   0.0304
Level     1,  Iter    19:    Energy =   0.0307
Level     1,  Iter    20:    Energy =   0.0309
Level     1,  Iter    21:    Energy =   0.0312
Level     1,  Iter    22:    Energy =   0.0314
Level     1,  Iter    23:    Energy =   0.0317
Level     1,  Iter    24:    Energy =   0.0319
Level     1,  Iter    25:    Energy =   0.0321
Level     1,  Iter    26:    Energy =   0.0323
Level     1,  Iter    27:    Energy =   0.0325
Level     1,  Iter    28:    Energy =   0.0327
Level     1,  Iter    29:    Energy =   0.0329
Level     1,  Iter    30:    Energy =   0.0331
Level     1,  Iter    31:    Energy =   0.0332
Level     1,  Iter    32:    Energy =   0.0334
Level     1,  Iter    33:    Energy =   0.0336
Level     1,  Iter    34:    Energy =   0.0338
Level     1,  Iter    35:    Energy =   0.0339
Level     1,  Iter    36:    Energy =   0.0341
Level     1,  Iter    37:    Energy =   0.0343
Level     1,  Iter    38:    Energy =   0.0344
Level     1,  Iter    39:    Energy =   0.0345
Level     1,  Iter    40:    Energy =   0.0346
Level     1,  Iter    41:    Energy =   0.0346
Level     1,  Iter    42:    Energy =   0.0347
Level     1,  Iter    43:    Energy =   0.0347
Level     1,  Iter    44:    Energy =   0.0348
Level     1,  Iter    45:    Energy =   0.0348
Level     1,  Iter    46:    Energy =   0.0350
Level     1,  Iter    47:    Energy =   0.0351
Level     1,  Iter    48:    Energy =   0.0352
Level     1,  Iter    49:    Energy =   0.0354
Level     1,  Iter    50:    Energy =   0.0356
Level     1,  Iter    51:    Energy =   0.0358
Level     1,  Iter    52:    Energy =   0.0359
Level     1,  Iter    53:    Energy =   0.0360
Level     1,  Iter    54:    Energy =   0.0362
Level     1,  Iter    55:    Energy =   0.0363
Level     1,  Iter    56:    Energy =   0.0365
Level     1,  Iter    57:    Energy =   0.0367
Level     1,  Iter    58:    Energy =   0.0369
Level     1,  Iter    59:    Energy =   0.0371
END OF LEVEL     1    DetJac Range:   0.0354  to   2.9487 
  Avg. Gradient Time  : 0.0302s  34.77% 
  Avg. Gaussian Time  : 0.0445s  51.28% 
  Avg. Iteration Time : 0.0868s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0175
Level     2,  Iter     1:    Energy =   0.0181
Level     2,  Iter     2:    Energy =   0.0187
Level     2,  Iter     3:    Energy =   0.0192
Level     2,  Iter     4:    Energy =   0.0196
Level     2,  Iter     5:    Energy =   0.0201
Level     2,  Iter     6:    Energy =   0.0204
Level     2,  Iter     7:    Energy =   0.0207
Level     2,  Iter     8:    Energy =   0.0209
Level     2,  Iter     9:    Energy =   0.0212
Level     2,  Iter    10:    Energy =   0.0215
Level     2,  Iter    11:    Energy =   0.0217
Level     2,  Iter    12:    Energy =   0.0220
Level     2,  Iter    13:    Energy =   0.0222
Level     2,  Iter    14:    Energy =   0.0224
Level     2,  Iter    15:    Energy =   0.0225
Level     2,  Iter    16:    Energy =   0.0227
Level     2,  Iter    17:    Energy =   0.0229
Level     2,  Iter    18:    Energy =   0.0230
Level     2,  Iter    19:    Energy =   0.0231
END OF LEVEL     2    DetJac Range:   0.0319  to   3.1531 
  Avg. Gradient Time  : 0.1963s  32.46% 
  Avg. Gaussian Time  : 0.3271s  54.09% 
  Avg. Iteration Time : 0.6048s 

real	0m21.650s
user	0m37.356s
sys	0m2.576s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 694.346   GNORM= 141.034
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       150.398     179.373       0.035
   2    4      -394.362      36.023       1.000
   3    5      -401.134      18.496       1.000
   4    7      -403.305      19.908       0.293
   5    8      -407.694      24.240       1.000
   6    9      -410.876      38.260       1.000
   7   15      -410.928      14.662       0.002
   8   16      -410.971      13.473       1.000
   9   20      -414.037      16.262       0.963
  10   24      -415.751      27.542       1.336
  11   28      -420.667      19.485       0.978
  12   29      -422.288      29.125       1.000
  13   32      -427.260      28.553       1.032
  14   34      -436.131      27.803       0.509
  15   35      -445.763      21.865       1.000
  16   36      -454.620      48.839       1.000
  17   37      -468.072      32.782       1.000
  18   39      -570.744      39.298       5.000
  19   40      -594.714      32.252       1.000
  20   41      -653.974      50.686       1.000
  21   43      -729.944      42.320       0.319
  22   44      -849.726      45.553       1.000
  23   46     -1047.764      51.204       5.000
  24   49     -1056.705     473.951       0.055
  25   56     -1057.366      39.821       0.000
  26   57     -1093.069      33.468       1.000
Final RAS Transform: 
0.621577 2.0107 -0.284638 -32.7953 
0.797329 0.919415 -0.109356 2.73463 
-0.225746 -0.218506 1.69983 9.14784 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -429.636   GNORM= 23.0135
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -440.728      28.301       0.028
   2    6      -440.958      29.063       0.286
   3    8      -441.285     174.515       0.374
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.617939 2.0078 -0.286173 -33.6079 
0.796031 0.924962 -0.111724 3.17157 
-0.226602 -0.216973 1.6973 9.31981 
0 0 0 1 

Final RAS Transform: 
0.617939 2.0078 -0.286173 -33.6079 
0.796031 0.924962 -0.111724 3.17157 
-0.226602 -0.216973 1.6973 9.31981 
0 0 0 1 


real	0m4.255s
user	0m6.608s
sys	0m0.608s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.323052
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0313
Level     0,  Iter     1:    Energy =   0.0328
Level     0,  Iter     2:    Energy =   0.0357
Level     0,  Iter     3:    Energy =   0.0383
Level     0,  Iter     4:    Energy =   0.0405
Level     0,  Iter     5:    Energy =   0.0425
Level     0,  Iter     6:    Energy =   0.0443
Level     0,  Iter     7:    Energy =   0.0460
Level     0,  Iter     8:    Energy =   0.0481
Level     0,  Iter     9:    Energy =   0.0499
Level     0,  Iter    10:    Energy =   0.0504
Level     0,  Iter    11:    Energy =   0.0517
Level     0,  Iter    12:    Energy =   0.0532
Level     0,  Iter    13:    Energy =   0.0541
Level     0,  Iter    14:    Energy =   0.0551
Level     0,  Iter    15:    Energy =   0.0558
Level     0,  Iter    16:    Energy =   0.0563
Level     0,  Iter    17:    Energy =   0.0564
Level     0,  Iter    18:    Energy =   0.0567
Level     0,  Iter    19:    Energy =   0.0566
Level     0,  Iter    20:    Energy =   0.0567
Level     0,  Iter    21:    Energy =   0.0566
Level     0,  Iter    22:    Energy =   0.0567
Level     0,  Iter    23:    Energy =   0.0567
Level     0,  Iter    24:    Energy =   0.0569
Level     0,  Iter    25:    Energy =   0.0567
Level     0,  Iter    26:    Energy =   0.0568
Level     0,  Iter    27:    Energy =   0.0566
Level     0,  Iter    28:    Energy =   0.0569
Level     0,  Iter    29:    Energy =   0.0567
Level     0,  Iter    30:    Energy =   0.0569
Level     0,  Iter    31:    Energy =   0.0565
Level     0,  Iter    32:    Energy =   0.0566
Level     0,  Iter    33:    Energy =   0.0566
Level     0,  Iter    34:    Energy =   0.0567
Level     0,  Iter    35:    Energy =   0.0566
Level     0,  Iter    36:    Energy =   0.0567
Level     0,  Iter    37:    Energy =   0.0564
Level     0,  Iter    38:    Energy =   0.0565
Level     0,  Iter    39:    Energy =   0.0561
Level     0,  Iter    40:    Energy =   0.0562
Level     0,  Iter    41:    Energy =   0.0561
Level     0,  Iter    42:    Energy =   0.0560
Level     0,  Iter    43:    Energy =   0.0558
Level     0,  Iter    44:    Energy =   0.0558
Level     0,  Iter    45:    Energy =   0.0554
Level     0,  Iter    46:    Energy =   0.0556
Level     0,  Iter    47:    Energy =   0.0555
Level     0,  Iter    48:    Energy =   0.0557
Level     0,  Iter    49:    Energy =   0.0553
Level     0,  Iter    50:    Energy =   0.0554
Level     0,  Iter    51:    Energy =   0.0552
Level     0,  Iter    52:    Energy =   0.0553
Level     0,  Iter    53:    Energy =   0.0550
Level     0,  Iter    54:    Energy =   0.0551
Level     0,  Iter    55:    Energy =   0.0553
Level     0,  Iter    56:    Energy =   0.0554
Level     0,  Iter    57:    Energy =   0.0555
Level     0,  Iter    58:    Energy =   0.0554
Level     0,  Iter    59:    Energy =   0.0555
END OF LEVEL     0    DetJac Range:   0.1176  to   2.0878 
  Avg. Gradient Time  : 0.0075s  33.40% 
  Avg. Gaussian Time  : 0.0109s  48.06% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0288
Level     1,  Iter     1:    Energy =   0.0305
Level     1,  Iter     2:    Energy =   0.0321
Level     1,  Iter     3:    Energy =   0.0335
Level     1,  Iter     4:    Energy =   0.0348
Level     1,  Iter     5:    Energy =   0.0359
Level     1,  Iter     6:    Energy =   0.0368
Level     1,  Iter     7:    Energy =   0.0375
Level     1,  Iter     8:    Energy =   0.0379
Level     1,  Iter     9:    Energy =   0.0381
Level     1,  Iter    10:    Energy =   0.0384
Level     1,  Iter    11:    Energy =   0.0389
Level     1,  Iter    12:    Energy =   0.0393
Level     1,  Iter    13:    Energy =   0.0396
Level     1,  Iter    14:    Energy =   0.0399
Level     1,  Iter    15:    Energy =   0.0401
Level     1,  Iter    16:    Energy =   0.0403
Level     1,  Iter    17:    Energy =   0.0406
Level     1,  Iter    18:    Energy =   0.0408
Level     1,  Iter    19:    Energy =   0.0410
Level     1,  Iter    20:    Energy =   0.0413
Level     1,  Iter    21:    Energy =   0.0415
Level     1,  Iter    22:    Energy =   0.0416
Level     1,  Iter    23:    Energy =   0.0418
Level     1,  Iter    24:    Energy =   0.0419
Level     1,  Iter    25:    Energy =   0.0420
Level     1,  Iter    26:    Energy =   0.0422
Level     1,  Iter    27:    Energy =   0.0423
Level     1,  Iter    28:    Energy =   0.0424
Level     1,  Iter    29:    Energy =   0.0426
Level     1,  Iter    30:    Energy =   0.0428
Level     1,  Iter    31:    Energy =   0.0429
Level     1,  Iter    32:    Energy =   0.0431
Level     1,  Iter    33:    Energy =   0.0433
Level     1,  Iter    34:    Energy =   0.0435
Level     1,  Iter    35:    Energy =   0.0437
Level     1,  Iter    36:    Energy =   0.0438
Level     1,  Iter    37:    Energy =   0.0439
Level     1,  Iter    38:    Energy =   0.0439
Level     1,  Iter    39:    Energy =   0.0439
Level     1,  Iter    40:    Energy =   0.0439
Level     1,  Iter    41:    Energy =   0.0440
Level     1,  Iter    42:    Energy =   0.0442
Level     1,  Iter    43:    Energy =   0.0443
Level     1,  Iter    44:    Energy =   0.0445
Level     1,  Iter    45:    Energy =   0.0446
Level     1,  Iter    46:    Energy =   0.0446
Level     1,  Iter    47:    Energy =   0.0446
Level     1,  Iter    48:    Energy =   0.0448
Level     1,  Iter    49:    Energy =   0.0450
Level     1,  Iter    50:    Energy =   0.0451
Level     1,  Iter    51:    Energy =   0.0451
Level     1,  Iter    52:    Energy =   0.0451
Level     1,  Iter    53:    Energy =   0.0452
Level     1,  Iter    54:    Energy =   0.0452
Level     1,  Iter    55:    Energy =   0.0453
Level     1,  Iter    56:    Energy =   0.0454
Level     1,  Iter    57:    Energy =   0.0455
Level     1,  Iter    58:    Energy =   0.0455
Level     1,  Iter    59:    Energy =   0.0454
END OF LEVEL     1    DetJac Range:   0.0249  to   2.7636 
  Avg. Gradient Time  : 0.0308s  34.43% 
  Avg. Gaussian Time  : 0.0461s  51.42% 
  Avg. Iteration Time : 0.0896s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0190
Level     2,  Iter     1:    Energy =   0.0194
Level     2,  Iter     2:    Energy =   0.0202
Level     2,  Iter     3:    Energy =   0.0210
Level     2,  Iter     4:    Energy =   0.0217
Level     2,  Iter     5:    Energy =   0.0221
Level     2,  Iter     6:    Energy =   0.0227
Level     2,  Iter     7:    Energy =   0.0230
Level     2,  Iter     8:    Energy =   0.0231
Level     2,  Iter     9:    Energy =   0.0235
Level     2,  Iter    10:    Energy =   0.0239
Level     2,  Iter    11:    Energy =   0.0242
Level     2,  Iter    12:    Energy =   0.0244
Level     2,  Iter    13:    Energy =   0.0245
Level     2,  Iter    14:    Energy =   0.0246
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0249
Level     2,  Iter    17:    Energy =   0.0250
Level     2,  Iter    18:    Energy =   0.0251
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0139  to   2.6250 
  Avg. Gradient Time  : 0.2042s  33.23% 
  Avg. Gaussian Time  : 0.3285s  53.45% 
  Avg. Iteration Time : 0.6145s 

real	0m21.859s
user	0m37.824s
sys	0m2.512s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 626.805   GNORM= 180.276
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3         0.040     112.578       0.028
   2    5        -0.389      82.577       0.308
   3    7      -576.292      80.802       5.000
   4   14      -638.167      77.611       0.013
   5   17      -660.231      86.522       0.678
   6   18      -770.200      64.842       1.000
   7   21      -771.899      83.241       0.086
   8   25      -773.043      63.718       0.199
   9   27      -817.268     233.727       5.000
  10   31      -832.437      81.684       1.686
  11   32      -865.813      55.881       1.000
  12   37      -888.373      41.776       0.856
  13   39      -896.335    2127.815       5.000
  14   55      -899.885      78.308       0.000
  15   58      -918.719      79.223       0.998
  16   60      -927.440     145.018       0.398
  17   61      -930.418     105.462       1.000
Final RAS Transform: 
0.935511 0.130645 -0.183896 1.36042 
0.276051 1.08164 -0.312406 7.75254 
-0.0740424 -0.294772 0.869246 -4.69981 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -412.788   GNORM= 128.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -418.959     148.726       0.002
   2    4      -426.305     486.136       1.000
   3    6      -437.202      23.088       5.000
   4    8      -444.936      38.357       5.000
   5   13      -445.326      34.035       0.089
   6   16      -447.537      56.917       2.417
   7   18      -447.786      28.088       0.107
   8   19      -450.022      38.630       1.000
   9   23      -451.385      16.039       1.226
  10   35      -451.551      27.591       1.195
  11   37      -452.454      26.909       0.301
  12   39      -454.103      56.693       0.326
  13   43      -454.304      31.253       0.000
  14   44      -457.676     300.572       1.000
  15   58      -458.089     127.731       0.007
Final RAS Transform: 
0.926021 0.121751 -0.161967 -0.337704 
0.271246 1.0724 -0.294788 6.53615 
-0.0725791 -0.292478 0.863232 -3.97987 
0 0 0 1 

Final RAS Transform: 
0.926021 0.121751 -0.161967 -0.337704 
0.271246 1.0724 -0.294788 6.53615 
-0.0725791 -0.292478 0.863232 -3.97987 
0 0 0 1 


real	0m6.664s
user	0m11.064s
sys	0m0.756s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.480391
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0226
Level     0,  Iter     1:    Energy =   0.0241
Level     0,  Iter     2:    Energy =   0.0267
Level     0,  Iter     3:    Energy =   0.0286
Level     0,  Iter     4:    Energy =   0.0310
Level     0,  Iter     5:    Energy =   0.0328
Level     0,  Iter     6:    Energy =   0.0342
Level     0,  Iter     7:    Energy =   0.0351
Level     0,  Iter     8:    Energy =   0.0358
Level     0,  Iter     9:    Energy =   0.0364
Level     0,  Iter    10:    Energy =   0.0368
Level     0,  Iter    11:    Energy =   0.0372
Level     0,  Iter    12:    Energy =   0.0376
Level     0,  Iter    13:    Energy =   0.0378
Level     0,  Iter    14:    Energy =   0.0380
Level     0,  Iter    15:    Energy =   0.0382
Level     0,  Iter    16:    Energy =   0.0385
Level     0,  Iter    17:    Energy =   0.0387
Level     0,  Iter    18:    Energy =   0.0389
Level     0,  Iter    19:    Energy =   0.0392
Level     0,  Iter    20:    Energy =   0.0394
Level     0,  Iter    21:    Energy =   0.0395
Level     0,  Iter    22:    Energy =   0.0396
Level     0,  Iter    23:    Energy =   0.0396
Level     0,  Iter    24:    Energy =   0.0396
Level     0,  Iter    25:    Energy =   0.0397
Level     0,  Iter    26:    Energy =   0.0397
Level     0,  Iter    27:    Energy =   0.0398
Level     0,  Iter    28:    Energy =   0.0398
Level     0,  Iter    29:    Energy =   0.0398
Level     0,  Iter    30:    Energy =   0.0398
Level     0,  Iter    31:    Energy =   0.0398
Level     0,  Iter    32:    Energy =   0.0399
Level     0,  Iter    33:    Energy =   0.0399
Level     0,  Iter    34:    Energy =   0.0399
Level     0,  Iter    35:    Energy =   0.0399
Level     0,  Iter    36:    Energy =   0.0400
Level     0,  Iter    37:    Energy =   0.0400
Level     0,  Iter    38:    Energy =   0.0401
Level     0,  Iter    39:    Energy =   0.0401
Level     0,  Iter    40:    Energy =   0.0402
Level     0,  Iter    41:    Energy =   0.0402
Level     0,  Iter    42:    Energy =   0.0402
Level     0,  Iter    43:    Energy =   0.0403
Level     0,  Iter    44:    Energy =   0.0403
Level     0,  Iter    45:    Energy =   0.0404
Level     0,  Iter    46:    Energy =   0.0405
Level     0,  Iter    47:    Energy =   0.0405
Level     0,  Iter    48:    Energy =   0.0406
Level     0,  Iter    49:    Energy =   0.0406
Level     0,  Iter    50:    Energy =   0.0407
Level     0,  Iter    51:    Energy =   0.0407
Level     0,  Iter    52:    Energy =   0.0408
Level     0,  Iter    53:    Energy =   0.0408
Level     0,  Iter    54:    Energy =   0.0409
Level     0,  Iter    55:    Energy =   0.0409
Level     0,  Iter    56:    Energy =   0.0410
Level     0,  Iter    57:    Energy =   0.0411
Level     0,  Iter    58:    Energy =   0.0411
Level     0,  Iter    59:    Energy =   0.0411
END OF LEVEL     0    DetJac Range:   0.0780  to   1.9136 
  Avg. Gradient Time  : 0.0076s  34.11% 
  Avg. Gaussian Time  : 0.0107s  48.21% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0218
Level     1,  Iter     1:    Energy =   0.0227
Level     1,  Iter     2:    Energy =   0.0236
Level     1,  Iter     3:    Energy =   0.0246
Level     1,  Iter     4:    Energy =   0.0255
Level     1,  Iter     5:    Energy =   0.0263
Level     1,  Iter     6:    Energy =   0.0271
Level     1,  Iter     7:    Energy =   0.0279
Level     1,  Iter     8:    Energy =   0.0286
Level     1,  Iter     9:    Energy =   0.0293
Level     1,  Iter    10:    Energy =   0.0300
Level     1,  Iter    11:    Energy =   0.0304
Level     1,  Iter    12:    Energy =   0.0309
Level     1,  Iter    13:    Energy =   0.0313
Level     1,  Iter    14:    Energy =   0.0317
Level     1,  Iter    15:    Energy =   0.0320
Level     1,  Iter    16:    Energy =   0.0322
Level     1,  Iter    17:    Energy =   0.0324
Level     1,  Iter    18:    Energy =   0.0325
Level     1,  Iter    19:    Energy =   0.0326
Level     1,  Iter    20:    Energy =   0.0327
Level     1,  Iter    21:    Energy =   0.0328
Level     1,  Iter    22:    Energy =   0.0328
Level     1,  Iter    23:    Energy =   0.0328
Level     1,  Iter    24:    Energy =   0.0328
Level     1,  Iter    25:    Energy =   0.0328
Level     1,  Iter    26:    Energy =   0.0328
Level     1,  Iter    27:    Energy =   0.0328
Level     1,  Iter    28:    Energy =   0.0328
Level     1,  Iter    29:    Energy =   0.0328
Level     1,  Iter    30:    Energy =   0.0328
Level     1,  Iter    31:    Energy =   0.0328
Level     1,  Iter    32:    Energy =   0.0328
Level     1,  Iter    33:    Energy =   0.0328
Level     1,  Iter    34:    Energy =   0.0328
Level     1,  Iter    35:    Energy =   0.0328
Level     1,  Iter    36:    Energy =   0.0328
Level     1,  Iter    37:    Energy =   0.0328
Level     1,  Iter    38:    Energy =   0.0328
Level     1,  Iter    39:    Energy =   0.0329
Level     1,  Iter    40:    Energy =   0.0329
Level     1,  Iter    41:    Energy =   0.0329
Level     1,  Iter    42:    Energy =   0.0329
Level     1,  Iter    43:    Energy =   0.0329
Level     1,  Iter    44:    Energy =   0.0329
Level     1,  Iter    45:    Energy =   0.0330
Level     1,  Iter    46:    Energy =   0.0330
Level     1,  Iter    47:    Energy =   0.0330
Level     1,  Iter    48:    Energy =   0.0330
Level     1,  Iter    49:    Energy =   0.0331
Level     1,  Iter    50:    Energy =   0.0331
Level     1,  Iter    51:    Energy =   0.0331
Level     1,  Iter    52:    Energy =   0.0332
Level     1,  Iter    53:    Energy =   0.0332
Level     1,  Iter    54:    Energy =   0.0332
Level     1,  Iter    55:    Energy =   0.0333
Level     1,  Iter    56:    Energy =   0.0333
Level     1,  Iter    57:    Energy =   0.0335
Level     1,  Iter    58:    Energy =   0.0336
Level     1,  Iter    59:    Energy =   0.0337
END OF LEVEL     1    DetJac Range:   0.0576  to   2.5869 
  Avg. Gradient Time  : 0.0321s  34.93% 
  Avg. Gaussian Time  : 0.0469s  51.04% 
  Avg. Iteration Time : 0.0919s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0167
Level     2,  Iter     1:    Energy =   0.0173
Level     2,  Iter     2:    Energy =   0.0178
Level     2,  Iter     3:    Energy =   0.0184
Level     2,  Iter     4:    Energy =   0.0189
Level     2,  Iter     5:    Energy =   0.0193
Level     2,  Iter     6:    Energy =   0.0197
Level     2,  Iter     7:    Energy =   0.0201
Level     2,  Iter     8:    Energy =   0.0204
Level     2,  Iter     9:    Energy =   0.0207
Level     2,  Iter    10:    Energy =   0.0210
Level     2,  Iter    11:    Energy =   0.0212
Level     2,  Iter    12:    Energy =   0.0214
Level     2,  Iter    13:    Energy =   0.0216
Level     2,  Iter    14:    Energy =   0.0218
Level     2,  Iter    15:    Energy =   0.0220
Level     2,  Iter    16:    Energy =   0.0222
Level     2,  Iter    17:    Energy =   0.0223
Level     2,  Iter    18:    Energy =   0.0225
Level     2,  Iter    19:    Energy =   0.0227
END OF LEVEL     2    DetJac Range:   0.0336  to   2.6500 
  Avg. Gradient Time  : 0.1991s  32.83% 
  Avg. Gaussian Time  : 0.3259s  53.74% 
  Avg. Iteration Time : 0.6065s 

real	0m21.862s
user	0m37.888s
sys	0m2.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 675.923   GNORM= 164.737
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       271.511     122.695       0.030
   2    4       104.872      69.995       1.000
   3    5        89.359      52.387       1.000
   4    6        61.671      46.660       1.000
   5    7        11.544      66.009       1.000
   6    8       -20.706      47.172       1.000
   7   10      -162.189      98.455       5.000
   8   15      -201.592      69.562       0.043
   9   16      -216.979      49.957       1.000
  10   19      -332.786      86.090       2.709
  11   20      -381.256      52.420       1.000
  12   21      -404.609      50.865       1.000
  13   27     -1216.873     111.367       9.523
  14   30     -1268.369     163.292       0.058
  15   35     -1284.903     143.639       0.070
  16   40     -1285.747     202.697       0.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.594161 0.646018 -0.492794 -9.23436 
0.470371 0.954259 -0.269222 6.95071 
-0.432026 -0.196008 0.596554 -6.64697 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -599.174   GNORM= 334.111
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -604.187     290.945       0.002
   2   17      -631.411    1299.021       1.816
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.602671 0.650892 -0.509579 -8.17928 
0.468663 0.96777 -0.302522 8.57753 
-0.435829 -0.194647 0.596455 -6.66515 
0 0 0 1 

Final RAS Transform: 
0.602671 0.650892 -0.509579 -8.17928 
0.468663 0.96777 -0.302522 8.57753 
-0.435829 -0.194647 0.596455 -6.66515 
0 0 0 1 


real	0m5.060s
user	0m7.952s
sys	0m0.712s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.34577
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0325
Level     0,  Iter     1:    Energy =   0.0341
Level     0,  Iter     2:    Energy =   0.0363
Level     0,  Iter     3:    Energy =   0.0380
Level     0,  Iter     4:    Energy =   0.0394
Level     0,  Iter     5:    Energy =   0.0402
Level     0,  Iter     6:    Energy =   0.0407
Level     0,  Iter     7:    Energy =   0.0410
Level     0,  Iter     8:    Energy =   0.0413
Level     0,  Iter     9:    Energy =   0.0416
Level     0,  Iter    10:    Energy =   0.0418
Level     0,  Iter    11:    Energy =   0.0419
Level     0,  Iter    12:    Energy =   0.0418
Level     0,  Iter    13:    Energy =   0.0419
Level     0,  Iter    14:    Energy =   0.0418
Level     0,  Iter    15:    Energy =   0.0418
Level     0,  Iter    16:    Energy =   0.0418
Level     0,  Iter    17:    Energy =   0.0418
Level     0,  Iter    18:    Energy =   0.0418
Level     0,  Iter    19:    Energy =   0.0419
Level     0,  Iter    20:    Energy =   0.0420
Level     0,  Iter    21:    Energy =   0.0421
Level     0,  Iter    22:    Energy =   0.0422
Level     0,  Iter    23:    Energy =   0.0422
Level     0,  Iter    24:    Energy =   0.0423
Level     0,  Iter    25:    Energy =   0.0423
Level     0,  Iter    26:    Energy =   0.0423
Level     0,  Iter    27:    Energy =   0.0424
Level     0,  Iter    28:    Energy =   0.0424
Level     0,  Iter    29:    Energy =   0.0425
Level     0,  Iter    30:    Energy =   0.0425
Level     0,  Iter    31:    Energy =   0.0425
Level     0,  Iter    32:    Energy =   0.0425
Level     0,  Iter    33:    Energy =   0.0426
Level     0,  Iter    34:    Energy =   0.0426
Level     0,  Iter    35:    Energy =   0.0427
Level     0,  Iter    36:    Energy =   0.0427
Level     0,  Iter    37:    Energy =   0.0428
Level     0,  Iter    38:    Energy =   0.0427
Level     0,  Iter    39:    Energy =   0.0428
Level     0,  Iter    40:    Energy =   0.0427
Level     0,  Iter    41:    Energy =   0.0428
Level     0,  Iter    42:    Energy =   0.0428
Level     0,  Iter    43:    Energy =   0.0429
Level     0,  Iter    44:    Energy =   0.0428
Level     0,  Iter    45:    Energy =   0.0430
Level     0,  Iter    46:    Energy =   0.0430
Level     0,  Iter    47:    Energy =   0.0432
Level     0,  Iter    48:    Energy =   0.0431
Level     0,  Iter    49:    Energy =   0.0433
Level     0,  Iter    50:    Energy =   0.0433
Level     0,  Iter    51:    Energy =   0.0434
Level     0,  Iter    52:    Energy =   0.0434
Level     0,  Iter    53:    Energy =   0.0435
Level     0,  Iter    54:    Energy =   0.0436
Level     0,  Iter    55:    Energy =   0.0437
Level     0,  Iter    56:    Energy =   0.0438
Level     0,  Iter    57:    Energy =   0.0440
Level     0,  Iter    58:    Energy =   0.0441
Level     0,  Iter    59:    Energy =   0.0443
END OF LEVEL     0    DetJac Range:   0.0900  to   2.0926 
  Avg. Gradient Time  : 0.0071s  33.67% 
  Avg. Gaussian Time  : 0.0102s  48.12% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0240
Level     1,  Iter     1:    Energy =   0.0251
Level     1,  Iter     2:    Energy =   0.0260
Level     1,  Iter     3:    Energy =   0.0267
Level     1,  Iter     4:    Energy =   0.0272
Level     1,  Iter     5:    Energy =   0.0277
Level     1,  Iter     6:    Energy =   0.0281
Level     1,  Iter     7:    Energy =   0.0284
Level     1,  Iter     8:    Energy =   0.0287
Level     1,  Iter     9:    Energy =   0.0290
Level     1,  Iter    10:    Energy =   0.0293
Level     1,  Iter    11:    Energy =   0.0295
Level     1,  Iter    12:    Energy =   0.0298
Level     1,  Iter    13:    Energy =   0.0300
Level     1,  Iter    14:    Energy =   0.0302
Level     1,  Iter    15:    Energy =   0.0303
Level     1,  Iter    16:    Energy =   0.0305
Level     1,  Iter    17:    Energy =   0.0306
Level     1,  Iter    18:    Energy =   0.0307
Level     1,  Iter    19:    Energy =   0.0309
Level     1,  Iter    20:    Energy =   0.0310
Level     1,  Iter    21:    Energy =   0.0308
Level     1,  Iter    22:    Energy =   0.0309
Level     1,  Iter    23:    Energy =   0.0310
Level     1,  Iter    24:    Energy =   0.0312
Level     1,  Iter    25:    Energy =   0.0313
Level     1,  Iter    26:    Energy =   0.0314
Level     1,  Iter    27:    Energy =   0.0314
Level     1,  Iter    28:    Energy =   0.0315
Level     1,  Iter    29:    Energy =   0.0316
Level     1,  Iter    30:    Energy =   0.0317
Level     1,  Iter    31:    Energy =   0.0318
Level     1,  Iter    32:    Energy =   0.0318
Level     1,  Iter    33:    Energy =   0.0319
Level     1,  Iter    34:    Energy =   0.0318
Level     1,  Iter    35:    Energy =   0.0319
Level     1,  Iter    36:    Energy =   0.0319
Level     1,  Iter    37:    Energy =   0.0320
Level     1,  Iter    38:    Energy =   0.0321
Level     1,  Iter    39:    Energy =   0.0321
Level     1,  Iter    40:    Energy =   0.0322
Level     1,  Iter    41:    Energy =   0.0322
Level     1,  Iter    42:    Energy =   0.0323
Level     1,  Iter    43:    Energy =   0.0323
Level     1,  Iter    44:    Energy =   0.0319
Level     1,  Iter    45:    Energy =   0.0319
Level     1,  Iter    46:    Energy =   0.0320
Level     1,  Iter    47:    Energy =   0.0317
Level     1,  Iter    48:    Energy =   0.0319
Level     1,  Iter    49:    Energy =   0.0320
Level     1,  Iter    50:    Energy =   0.0321
Level     1,  Iter    51:    Energy =   0.0322
Level     1,  Iter    52:    Energy =   0.0323
Level     1,  Iter    53:    Energy =   0.0322
Level     1,  Iter    54:    Energy =   0.0323
Level     1,  Iter    55:    Energy =   0.0324
Level     1,  Iter    56:    Energy =   0.0324
Level     1,  Iter    57:    Energy =   0.0325
Level     1,  Iter    58:    Energy =   0.0325
Level     1,  Iter    59:    Energy =   0.0326
END OF LEVEL     1    DetJac Range:   0.0667  to   2.0619 
  Avg. Gradient Time  : 0.0313s  35.10% 
  Avg. Gaussian Time  : 0.0454s  51.01% 
  Avg. Iteration Time : 0.0891s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 2029.711192
big value: 1760.496422
Level     2,  Iter     0:    Energy =   0.0150
big value: -6446.519660
big value: -2288.004548
big value: -3637.191090
Level     2,  Iter     1:    Energy =   0.0149
Level     2,  Iter     2:    Energy =   0.0149
Level     2,  Iter     3:    Energy =   0.0153
Level     2,  Iter     4:    Energy =   0.0157
Level     2,  Iter     5:    Energy =   0.0156
Level     2,  Iter     6:    Energy =   0.0157
Level     2,  Iter     7:    Energy =   0.0161
Level     2,  Iter     8:    Energy =   0.0164
big value: -1599.003803
big value: 1608.025739
Level     2,  Iter     9:    Energy =   0.0167
Level     2,  Iter    10:    Energy =   0.0165
big value: 1648.616319
Level     2,  Iter    11:    Energy =   0.0167
Level     2,  Iter    12:    Energy =   0.0165
Level     2,  Iter    13:    Energy =   0.0163
Level     2,  Iter    14:    Energy =   0.0164
Level     2,  Iter    15:    Energy =   0.0166
Level     2,  Iter    16:    Energy =   0.0165
Level     2,  Iter    17:    Energy =   0.0168
big value: 1149.516311
Level     2,  Iter    18:    Energy =   0.0167
Level     2,  Iter    19:    Energy =   0.0164
END OF LEVEL     2    DetJac Range:   0.0643  to   1.8918 
  Avg. Gradient Time  : 0.1948s  32.62% 
  Avg. Gaussian Time  : 0.3219s  53.89% 
  Avg. Iteration Time : 0.5973s 

real	0m21.335s
user	0m37.024s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 497.044   GNORM= 176.295
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -71.248     135.421       0.028
   2    6      -474.193      72.970       0.716
   3   11      -527.346     182.681       0.096
   4   13      -529.013      42.308       0.001
   5   15      -535.201      62.919       0.515
   6   16      -550.045      37.060       1.000
   7   21      -676.595      32.274       3.502
   8   22      -743.050      67.168       1.000
   9   24      -752.325      73.831       0.182
  10   25      -804.510      69.159       1.000
  11   26      -916.791      93.746       1.000
  12   30     -1185.465      96.093       0.136
  13   31     -1187.292      73.256       1.000
  14   34     -1190.051      74.941       0.080
  15   35     -1201.422      80.919       1.000
  16   37     -1202.075      51.963       0.237
  17   38     -1208.523      31.911       1.000
  18   39     -1213.676      43.153       1.000
  19   40     -1224.912      53.981       1.000
  20   41     -1242.961      62.661       1.000
  21   42     -1257.487      37.674       1.000
  22   43     -1271.435      75.158       1.000
  23   44     -1285.435      47.343       1.000
  24   45     -1309.110     141.884       1.000
Final RAS Transform: 
0.352149 0.488674 -0.503563 1.56993 
0.464511 0.947435 -0.145584 0.9368 
-0.156306 -0.335792 0.928931 -4.68287 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -678.719   GNORM= 1615.58
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -681.757     100.212       0.000
   2    4      -681.831      66.002       1.000
   3    8      -681.857      28.628       0.001
   4   13      -682.376     143.209       4.799
   5   14      -691.002     144.653       1.000
   6   17      -696.105      22.246       0.666
   7   18      -696.315      71.438       1.000
   8   23      -698.781      25.333      16.363
   9   26      -713.181      33.699       0.979
  10   37      -713.573      93.548       0.012
  11   43      -714.741      41.637       0.819
  12   47      -717.197      43.999       0.096
  13   50      -719.768      42.589       2.161
  14   51      -731.181      43.663       1.000
  15   53      -735.344      31.246       0.259
  16   55      -739.732      64.499       5.000
  17   61      -739.890      43.261       0.006
Final RAS Transform: 
0.302882 0.461983 -0.548536 1.43661 
0.521465 0.86785 -0.071036 2.16338 
-0.187232 -0.334373 0.954701 -2.95438 
0 0 0 1 

Final RAS Transform: 
0.302882 0.461983 -0.548536 1.43661 
0.521465 0.86785 -0.071036 2.16338 
-0.187232 -0.334373 0.954701 -2.95438 
0 0 0 1 


real	0m6.545s
user	0m10.796s
sys	0m0.860s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.496326
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0307
Level     0,  Iter     1:    Energy =   0.0335
Level     0,  Iter     2:    Energy =   0.0359
Level     0,  Iter     3:    Energy =   0.0378
Level     0,  Iter     4:    Energy =   0.0398
Level     0,  Iter     5:    Energy =   0.0411
Level     0,  Iter     6:    Energy =   0.0421
Level     0,  Iter     7:    Energy =   0.0428
Level     0,  Iter     8:    Energy =   0.0433
Level     0,  Iter     9:    Energy =   0.0438
Level     0,  Iter    10:    Energy =   0.0442
Level     0,  Iter    11:    Energy =   0.0445
Level     0,  Iter    12:    Energy =   0.0447
Level     0,  Iter    13:    Energy =   0.0450
Level     0,  Iter    14:    Energy =   0.0453
Level     0,  Iter    15:    Energy =   0.0455
Level     0,  Iter    16:    Energy =   0.0457
Level     0,  Iter    17:    Energy =   0.0458
Level     0,  Iter    18:    Energy =   0.0459
Level     0,  Iter    19:    Energy =   0.0461
Level     0,  Iter    20:    Energy =   0.0462
Level     0,  Iter    21:    Energy =   0.0463
Level     0,  Iter    22:    Energy =   0.0464
Level     0,  Iter    23:    Energy =   0.0465
Level     0,  Iter    24:    Energy =   0.0466
Level     0,  Iter    25:    Energy =   0.0466
Level     0,  Iter    26:    Energy =   0.0467
Level     0,  Iter    27:    Energy =   0.0467
Level     0,  Iter    28:    Energy =   0.0468
Level     0,  Iter    29:    Energy =   0.0468
Level     0,  Iter    30:    Energy =   0.0468
Level     0,  Iter    31:    Energy =   0.0468
Level     0,  Iter    32:    Energy =   0.0469
Level     0,  Iter    33:    Energy =   0.0469
Level     0,  Iter    34:    Energy =   0.0469
Level     0,  Iter    35:    Energy =   0.0469
Level     0,  Iter    36:    Energy =   0.0468
Level     0,  Iter    37:    Energy =   0.0468
Level     0,  Iter    38:    Energy =   0.0468
Level     0,  Iter    39:    Energy =   0.0467
Level     0,  Iter    40:    Energy =   0.0467
Level     0,  Iter    41:    Energy =   0.0467
Level     0,  Iter    42:    Energy =   0.0467
Level     0,  Iter    43:    Energy =   0.0467
Level     0,  Iter    44:    Energy =   0.0467
Level     0,  Iter    45:    Energy =   0.0466
Level     0,  Iter    46:    Energy =   0.0466
Level     0,  Iter    47:    Energy =   0.0466
Level     0,  Iter    48:    Energy =   0.0465
Level     0,  Iter    49:    Energy =   0.0465
Level     0,  Iter    50:    Energy =   0.0465
Level     0,  Iter    51:    Energy =   0.0465
Level     0,  Iter    52:    Energy =   0.0464
Level     0,  Iter    53:    Energy =   0.0464
Level     0,  Iter    54:    Energy =   0.0464
Level     0,  Iter    55:    Energy =   0.0464
Level     0,  Iter    56:    Energy =   0.0465
Level     0,  Iter    57:    Energy =   0.0465
Level     0,  Iter    58:    Energy =   0.0465
Level     0,  Iter    59:    Energy =   0.0465
END OF LEVEL     0    DetJac Range:   0.0647  to   1.7287 
  Avg. Gradient Time  : 0.0075s  33.00% 
  Avg. Gaussian Time  : 0.0111s  48.59% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0267
Level     1,  Iter     1:    Energy =   0.0279
Level     1,  Iter     2:    Energy =   0.0291
Level     1,  Iter     3:    Energy =   0.0301
Level     1,  Iter     4:    Energy =   0.0311
Level     1,  Iter     5:    Energy =   0.0319
Level     1,  Iter     6:    Energy =   0.0325
Level     1,  Iter     7:    Energy =   0.0330
Level     1,  Iter     8:    Energy =   0.0334
Level     1,  Iter     9:    Energy =   0.0337
Level     1,  Iter    10:    Energy =   0.0341
Level     1,  Iter    11:    Energy =   0.0346
Level     1,  Iter    12:    Energy =   0.0349
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0354
Level     1,  Iter    15:    Energy =   0.0356
Level     1,  Iter    16:    Energy =   0.0357
Level     1,  Iter    17:    Energy =   0.0358
Level     1,  Iter    18:    Energy =   0.0360
Level     1,  Iter    19:    Energy =   0.0361
Level     1,  Iter    20:    Energy =   0.0363
Level     1,  Iter    21:    Energy =   0.0364
Level     1,  Iter    22:    Energy =   0.0366
Level     1,  Iter    23:    Energy =   0.0367
Level     1,  Iter    24:    Energy =   0.0368
Level     1,  Iter    25:    Energy =   0.0369
Level     1,  Iter    26:    Energy =   0.0371
Level     1,  Iter    27:    Energy =   0.0372
Level     1,  Iter    28:    Energy =   0.0373
Level     1,  Iter    29:    Energy =   0.0374
Level     1,  Iter    30:    Energy =   0.0375
Level     1,  Iter    31:    Energy =   0.0376
Level     1,  Iter    32:    Energy =   0.0377
Level     1,  Iter    33:    Energy =   0.0378
Level     1,  Iter    34:    Energy =   0.0379
Level     1,  Iter    35:    Energy =   0.0380
Level     1,  Iter    36:    Energy =   0.0381
Level     1,  Iter    37:    Energy =   0.0383
Level     1,  Iter    38:    Energy =   0.0384
Level     1,  Iter    39:    Energy =   0.0385
Level     1,  Iter    40:    Energy =   0.0385
Level     1,  Iter    41:    Energy =   0.0386
Level     1,  Iter    42:    Energy =   0.0386
Level     1,  Iter    43:    Energy =   0.0386
Level     1,  Iter    44:    Energy =   0.0387
Level     1,  Iter    45:    Energy =   0.0387
Level     1,  Iter    46:    Energy =   0.0388
Level     1,  Iter    47:    Energy =   0.0388
Level     1,  Iter    48:    Energy =   0.0389
Level     1,  Iter    49:    Energy =   0.0389
Level     1,  Iter    50:    Energy =   0.0389
Level     1,  Iter    51:    Energy =   0.0390
Level     1,  Iter    52:    Energy =   0.0390
Level     1,  Iter    53:    Energy =   0.0390
Level     1,  Iter    54:    Energy =   0.0391
Level     1,  Iter    55:    Energy =   0.0391
Level     1,  Iter    56:    Energy =   0.0391
Level     1,  Iter    57:    Energy =   0.0391
Level     1,  Iter    58:    Energy =   0.0392
Level     1,  Iter    59:    Energy =   0.0392
END OF LEVEL     1    DetJac Range:   0.0187  to   3.0570 
  Avg. Gradient Time  : 0.0298s  34.65% 
  Avg. Gaussian Time  : 0.0442s  51.40% 
  Avg. Iteration Time : 0.0860s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0204
Level     2,  Iter     1:    Energy =   0.0210
Level     2,  Iter     2:    Energy =   0.0215
Level     2,  Iter     3:    Energy =   0.0220
Level     2,  Iter     4:    Energy =   0.0226
Level     2,  Iter     5:    Energy =   0.0230
Level     2,  Iter     6:    Energy =   0.0233
Level     2,  Iter     7:    Energy =   0.0236
Level     2,  Iter     8:    Energy =   0.0239
Level     2,  Iter     9:    Energy =   0.0242
Level     2,  Iter    10:    Energy =   0.0245
Level     2,  Iter    11:    Energy =   0.0247
Level     2,  Iter    12:    Energy =   0.0250
Level     2,  Iter    13:    Energy =   0.0253
Level     2,  Iter    14:    Energy =   0.0255
Level     2,  Iter    15:    Energy =   0.0257
Level     2,  Iter    16:    Energy =   0.0259
Level     2,  Iter    17:    Energy =   0.0261
Level     2,  Iter    18:    Energy =   0.0263
Level     2,  Iter    19:    Energy =   0.0264
END OF LEVEL     2    DetJac Range:   0.0182  to   2.9377 
  Avg. Gradient Time  : 0.1928s  32.97% 
  Avg. Gaussian Time  : 0.3131s  53.54% 
  Avg. Iteration Time : 0.5848s 

real	0m21.041s
user	0m36.444s
sys	0m2.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 496.739   GNORM= 212.265
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       172.453      55.277       0.024
   2    8      -393.075      72.524       5.459
   3   15      -444.023      44.733       0.093
   4   17      -460.363      55.902       0.494
   5   23      -830.149      83.003       5.100
   6   24      -865.409     141.660       1.000
   7   28      -949.316     116.437       0.132
   8   31      -983.362     136.352       0.039
   9   36      -986.278      51.582       0.014
  10   42      -994.946     118.346       0.991
  11   45      -996.167      44.199       0.014
  12   46      -997.209      40.061       1.000
  13   48      -997.530      41.903       0.001
Final RAS Transform: 
0.870598 -0.0845791 0.00636059 -3.1381 
0.188286 1.12772 -0.18969 6.99518 
-0.0581009 -0.216606 1.18788 -4.55876 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -473.359   GNORM= 2837.87
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -474.032     285.757       0.000
   2    6      -474.434     170.296       0.350
   3   10      -475.051     218.865       0.152
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.87049 -0.0846874 0.00653954 -3.15262 
0.188385 1.12778 -0.189888 7.0055 
-0.058733 -0.217265 1.18905 -4.64933 
0 0 0 1 

Final RAS Transform: 
0.87049 -0.0846874 0.00653954 -3.15262 
0.188385 1.12778 -0.189888 7.0055 
-0.058733 -0.217265 1.18905 -4.64933 
0 0 0 1 


real	0m3.971s
user	0m6.236s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.492096
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0237
Level     0,  Iter     1:    Energy =   0.0267
Level     0,  Iter     2:    Energy =   0.0301
Level     0,  Iter     3:    Energy =   0.0326
Level     0,  Iter     4:    Energy =   0.0352
Level     0,  Iter     5:    Energy =   0.0373
Level     0,  Iter     6:    Energy =   0.0391
Level     0,  Iter     7:    Energy =   0.0405
Level     0,  Iter     8:    Energy =   0.0415
Level     0,  Iter     9:    Energy =   0.0429
Level     0,  Iter    10:    Energy =   0.0442
Level     0,  Iter    11:    Energy =   0.0453
Level     0,  Iter    12:    Energy =   0.0462
Level     0,  Iter    13:    Energy =   0.0471
Level     0,  Iter    14:    Energy =   0.0479
Level     0,  Iter    15:    Energy =   0.0483
Level     0,  Iter    16:    Energy =   0.0486
Level     0,  Iter    17:    Energy =   0.0494
Level     0,  Iter    18:    Energy =   0.0499
Level     0,  Iter    19:    Energy =   0.0503
Level     0,  Iter    20:    Energy =   0.0507
Level     0,  Iter    21:    Energy =   0.0509
Level     0,  Iter    22:    Energy =   0.0512
Level     0,  Iter    23:    Energy =   0.0515
Level     0,  Iter    24:    Energy =   0.0517
Level     0,  Iter    25:    Energy =   0.0520
Level     0,  Iter    26:    Energy =   0.0520
Level     0,  Iter    27:    Energy =   0.0523
Level     0,  Iter    28:    Energy =   0.0524
Level     0,  Iter    29:    Energy =   0.0526
Level     0,  Iter    30:    Energy =   0.0527
Level     0,  Iter    31:    Energy =   0.0528
Level     0,  Iter    32:    Energy =   0.0530
Level     0,  Iter    33:    Energy =   0.0532
Level     0,  Iter    34:    Energy =   0.0533
Level     0,  Iter    35:    Energy =   0.0536
Level     0,  Iter    36:    Energy =   0.0539
Level     0,  Iter    37:    Energy =   0.0541
Level     0,  Iter    38:    Energy =   0.0543
Level     0,  Iter    39:    Energy =   0.0545
Level     0,  Iter    40:    Energy =   0.0546
Level     0,  Iter    41:    Energy =   0.0547
Level     0,  Iter    42:    Energy =   0.0547
Level     0,  Iter    43:    Energy =   0.0547
Level     0,  Iter    44:    Energy =   0.0548
Level     0,  Iter    45:    Energy =   0.0548
Level     0,  Iter    46:    Energy =   0.0548
Level     0,  Iter    47:    Energy =   0.0546
Level     0,  Iter    48:    Energy =   0.0546
Level     0,  Iter    49:    Energy =   0.0545
Level     0,  Iter    50:    Energy =   0.0545
Level     0,  Iter    51:    Energy =   0.0545
Level     0,  Iter    52:    Energy =   0.0545
Level     0,  Iter    53:    Energy =   0.0545
Level     0,  Iter    54:    Energy =   0.0545
Level     0,  Iter    55:    Energy =   0.0544
Level     0,  Iter    56:    Energy =   0.0544
Level     0,  Iter    57:    Energy =   0.0544
Level     0,  Iter    58:    Energy =   0.0543
Level     0,  Iter    59:    Energy =   0.0542
END OF LEVEL     0    DetJac Range:   0.0380  to   2.0122 
  Avg. Gradient Time  : 0.0072s  33.02% 
  Avg. Gaussian Time  : 0.0107s  49.05% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0269
Level     1,  Iter     1:    Energy =   0.0279
Level     1,  Iter     2:    Energy =   0.0288
Level     1,  Iter     3:    Energy =   0.0295
Level     1,  Iter     4:    Energy =   0.0303
Level     1,  Iter     5:    Energy =   0.0310
Level     1,  Iter     6:    Energy =   0.0317
Level     1,  Iter     7:    Energy =   0.0323
Level     1,  Iter     8:    Energy =   0.0328
Level     1,  Iter     9:    Energy =   0.0332
Level     1,  Iter    10:    Energy =   0.0336
Level     1,  Iter    11:    Energy =   0.0340
Level     1,  Iter    12:    Energy =   0.0344
Level     1,  Iter    13:    Energy =   0.0348
Level     1,  Iter    14:    Energy =   0.0351
Level     1,  Iter    15:    Energy =   0.0354
Level     1,  Iter    16:    Energy =   0.0357
Level     1,  Iter    17:    Energy =   0.0360
Level     1,  Iter    18:    Energy =   0.0361
Level     1,  Iter    19:    Energy =   0.0362
Level     1,  Iter    20:    Energy =   0.0363
Level     1,  Iter    21:    Energy =   0.0366
Level     1,  Iter    22:    Energy =   0.0367
Level     1,  Iter    23:    Energy =   0.0370
Level     1,  Iter    24:    Energy =   0.0373
Level     1,  Iter    25:    Energy =   0.0374
Level     1,  Iter    26:    Energy =   0.0377
Level     1,  Iter    27:    Energy =   0.0378
Level     1,  Iter    28:    Energy =   0.0381
Level     1,  Iter    29:    Energy =   0.0383
Level     1,  Iter    30:    Energy =   0.0385
Level     1,  Iter    31:    Energy =   0.0386
Level     1,  Iter    32:    Energy =   0.0387
Level     1,  Iter    33:    Energy =   0.0388
Level     1,  Iter    34:    Energy =   0.0390
Level     1,  Iter    35:    Energy =   0.0392
Level     1,  Iter    36:    Energy =   0.0394
Level     1,  Iter    37:    Energy =   0.0395
Level     1,  Iter    38:    Energy =   0.0397
Level     1,  Iter    39:    Energy =   0.0399
Level     1,  Iter    40:    Energy =   0.0400
Level     1,  Iter    41:    Energy =   0.0401
Level     1,  Iter    42:    Energy =   0.0402
Level     1,  Iter    43:    Energy =   0.0403
Level     1,  Iter    44:    Energy =   0.0404
Level     1,  Iter    45:    Energy =   0.0405
Level     1,  Iter    46:    Energy =   0.0406
Level     1,  Iter    47:    Energy =   0.0406
Level     1,  Iter    48:    Energy =   0.0407
Level     1,  Iter    49:    Energy =   0.0408
Level     1,  Iter    50:    Energy =   0.0408
Level     1,  Iter    51:    Energy =   0.0409
Level     1,  Iter    52:    Energy =   0.0410
Level     1,  Iter    53:    Energy =   0.0410
Level     1,  Iter    54:    Energy =   0.0411
Level     1,  Iter    55:    Energy =   0.0412
Level     1,  Iter    56:    Energy =   0.0412
Level     1,  Iter    57:    Energy =   0.0413
Level     1,  Iter    58:    Energy =   0.0414
Level     1,  Iter    59:    Energy =   0.0414
END OF LEVEL     1    DetJac Range:   0.0215  to   3.1037 
  Avg. Gradient Time  : 0.0278s  34.13% 
  Avg. Gaussian Time  : 0.0423s  51.86% 
  Avg. Iteration Time : 0.0815s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0195
Level     2,  Iter     1:    Energy =   0.0201
Level     2,  Iter     2:    Energy =   0.0207
Level     2,  Iter     3:    Energy =   0.0213
Level     2,  Iter     4:    Energy =   0.0218
Level     2,  Iter     5:    Energy =   0.0223
Level     2,  Iter     6:    Energy =   0.0227
Level     2,  Iter     7:    Energy =   0.0230
Level     2,  Iter     8:    Energy =   0.0232
Level     2,  Iter     9:    Energy =   0.0234
Level     2,  Iter    10:    Energy =   0.0236
Level     2,  Iter    11:    Energy =   0.0238
Level     2,  Iter    12:    Energy =   0.0239
Level     2,  Iter    13:    Energy =   0.0241
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0244
Level     2,  Iter    16:    Energy =   0.0247
Level     2,  Iter    17:    Energy =   0.0249
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0255
END OF LEVEL     2    DetJac Range:   0.0263  to   3.2174 
  Avg. Gradient Time  : 0.1834s  33.01% 
  Avg. Gaussian Time  : 0.2969s  53.45% 
  Avg. Iteration Time : 0.5555s 

real	0m20.229s
user	0m34.832s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 644.239   GNORM= 155.47
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -132.576     117.460       0.032
   2    5      -501.155      89.747       0.182
   3   10      -722.308     262.613       0.411
   4   11      -764.387      44.017       1.000
   5   14      -778.215      54.137       0.986
   6   16      -780.240      60.166       0.482
   7   17      -795.359     203.897       1.000
   8   22      -795.917      49.860       0.001
   9   23      -801.272      31.054       1.000
  10   28      -801.985      27.294       0.105
  11   29      -803.398      49.136       1.000
  12   30      -809.085      38.868       1.000
  13   33      -863.563     328.051       0.788
  14   35      -927.290     167.054       0.362
  15   37      -927.998      99.474       0.223
  16   46      -933.239      83.169       0.980
  17   53     -1012.187      56.664       5.280
  18   56     -1018.725      54.878       0.041
  19   58     -1024.728      70.298       5.000
Final RAS Transform: 
0.793581 0.18821 -0.219786 2.25955 
0.34032 0.937339 -0.515522 3.51558 
0.18502 -0.347679 0.924681 -5.75046 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -441.773   GNORM= 249.198
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -455.627     170.429       0.004
   2    6      -455.893     314.396       0.152
   3   13      -456.107      47.608       0.000
   4   21      -456.541     160.999       0.874
   5   25      -482.661      47.160       0.536
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.796325 0.190132 -0.223563 2.53517 
0.339169 0.924776 -0.500375 2.44194 
0.184191 -0.34998 0.917487 -5.90858 
0 0 0 1 

Final RAS Transform: 
0.796325 0.190132 -0.223563 2.53517 
0.339169 0.924776 -0.500375 2.44194 
0.184191 -0.34998 0.917487 -5.90858 
0 0 0 1 


real	0m4.988s
user	0m8.152s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.401571
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0244
Level     0,  Iter     1:    Energy =   0.0265
Level     0,  Iter     2:    Energy =   0.0290
Level     0,  Iter     3:    Energy =   0.0320
Level     0,  Iter     4:    Energy =   0.0349
Level     0,  Iter     5:    Energy =   0.0370
Level     0,  Iter     6:    Energy =   0.0385
Level     0,  Iter     7:    Energy =   0.0393
Level     0,  Iter     8:    Energy =   0.0400
Level     0,  Iter     9:    Energy =   0.0405
Level     0,  Iter    10:    Energy =   0.0411
Level     0,  Iter    11:    Energy =   0.0417
Level     0,  Iter    12:    Energy =   0.0421
Level     0,  Iter    13:    Energy =   0.0425
Level     0,  Iter    14:    Energy =   0.0427
Level     0,  Iter    15:    Energy =   0.0430
Level     0,  Iter    16:    Energy =   0.0431
Level     0,  Iter    17:    Energy =   0.0433
Level     0,  Iter    18:    Energy =   0.0434
Level     0,  Iter    19:    Energy =   0.0435
Level     0,  Iter    20:    Energy =   0.0435
Level     0,  Iter    21:    Energy =   0.0436
Level     0,  Iter    22:    Energy =   0.0437
Level     0,  Iter    23:    Energy =   0.0437
Level     0,  Iter    24:    Energy =   0.0438
Level     0,  Iter    25:    Energy =   0.0439
Level     0,  Iter    26:    Energy =   0.0440
Level     0,  Iter    27:    Energy =   0.0441
Level     0,  Iter    28:    Energy =   0.0441
Level     0,  Iter    29:    Energy =   0.0441
Level     0,  Iter    30:    Energy =   0.0441
Level     0,  Iter    31:    Energy =   0.0442
Level     0,  Iter    32:    Energy =   0.0442
Level     0,  Iter    33:    Energy =   0.0442
Level     0,  Iter    34:    Energy =   0.0441
Level     0,  Iter    35:    Energy =   0.0441
Level     0,  Iter    36:    Energy =   0.0440
Level     0,  Iter    37:    Energy =   0.0440
Level     0,  Iter    38:    Energy =   0.0440
Level     0,  Iter    39:    Energy =   0.0439
Level     0,  Iter    40:    Energy =   0.0437
Level     0,  Iter    41:    Energy =   0.0436
Level     0,  Iter    42:    Energy =   0.0435
Level     0,  Iter    43:    Energy =   0.0435
Level     0,  Iter    44:    Energy =   0.0435
Level     0,  Iter    45:    Energy =   0.0436
Level     0,  Iter    46:    Energy =   0.0437
Level     0,  Iter    47:    Energy =   0.0437
Level     0,  Iter    48:    Energy =   0.0438
Level     0,  Iter    49:    Energy =   0.0438
Level     0,  Iter    50:    Energy =   0.0438
Level     0,  Iter    51:    Energy =   0.0437
Level     0,  Iter    52:    Energy =   0.0437
Level     0,  Iter    53:    Energy =   0.0437
Level     0,  Iter    54:    Energy =   0.0437
Level     0,  Iter    55:    Energy =   0.0437
Level     0,  Iter    56:    Energy =   0.0438
Level     0,  Iter    57:    Energy =   0.0438
Level     0,  Iter    58:    Energy =   0.0439
Level     0,  Iter    59:    Energy =   0.0439
END OF LEVEL     0    DetJac Range:   0.1905  to   3.2391 
  Avg. Gradient Time  : 0.0067s  33.55% 
  Avg. Gaussian Time  : 0.0095s  47.93% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0233
Level     1,  Iter     1:    Energy =   0.0245
Level     1,  Iter     2:    Energy =   0.0254
Level     1,  Iter     3:    Energy =   0.0261
Level     1,  Iter     4:    Energy =   0.0267
Level     1,  Iter     5:    Energy =   0.0272
Level     1,  Iter     6:    Energy =   0.0277
Level     1,  Iter     7:    Energy =   0.0281
Level     1,  Iter     8:    Energy =   0.0284
Level     1,  Iter     9:    Energy =   0.0286
Level     1,  Iter    10:    Energy =   0.0289
Level     1,  Iter    11:    Energy =   0.0292
Level     1,  Iter    12:    Energy =   0.0294
Level     1,  Iter    13:    Energy =   0.0296
Level     1,  Iter    14:    Energy =   0.0297
Level     1,  Iter    15:    Energy =   0.0298
Level     1,  Iter    16:    Energy =   0.0299
Level     1,  Iter    17:    Energy =   0.0300
Level     1,  Iter    18:    Energy =   0.0301
Level     1,  Iter    19:    Energy =   0.0302
Level     1,  Iter    20:    Energy =   0.0302
Level     1,  Iter    21:    Energy =   0.0303
Level     1,  Iter    22:    Energy =   0.0303
Level     1,  Iter    23:    Energy =   0.0304
Level     1,  Iter    24:    Energy =   0.0305
Level     1,  Iter    25:    Energy =   0.0306
Level     1,  Iter    26:    Energy =   0.0307
Level     1,  Iter    27:    Energy =   0.0308
Level     1,  Iter    28:    Energy =   0.0309
Level     1,  Iter    29:    Energy =   0.0310
Level     1,  Iter    30:    Energy =   0.0311
Level     1,  Iter    31:    Energy =   0.0312
Level     1,  Iter    32:    Energy =   0.0313
Level     1,  Iter    33:    Energy =   0.0313
Level     1,  Iter    34:    Energy =   0.0314
Level     1,  Iter    35:    Energy =   0.0314
Level     1,  Iter    36:    Energy =   0.0315
Level     1,  Iter    37:    Energy =   0.0315
Level     1,  Iter    38:    Energy =   0.0316
Level     1,  Iter    39:    Energy =   0.0316
Level     1,  Iter    40:    Energy =   0.0317
Level     1,  Iter    41:    Energy =   0.0317
Level     1,  Iter    42:    Energy =   0.0317
Level     1,  Iter    43:    Energy =   0.0318
Level     1,  Iter    44:    Energy =   0.0318
Level     1,  Iter    45:    Energy =   0.0319
Level     1,  Iter    46:    Energy =   0.0319
Level     1,  Iter    47:    Energy =   0.0319
Level     1,  Iter    48:    Energy =   0.0319
Level     1,  Iter    49:    Energy =   0.0319
Level     1,  Iter    50:    Energy =   0.0319
Level     1,  Iter    51:    Energy =   0.0319
Level     1,  Iter    52:    Energy =   0.0319
Level     1,  Iter    53:    Energy =   0.0319
Level     1,  Iter    54:    Energy =   0.0319
Level     1,  Iter    55:    Energy =   0.0319
Level     1,  Iter    56:    Energy =   0.0319
Level     1,  Iter    57:    Energy =   0.0320
Level     1,  Iter    58:    Energy =   0.0320
Level     1,  Iter    59:    Energy =   0.0320
END OF LEVEL     1    DetJac Range:   0.0262  to   3.4764 
  Avg. Gradient Time  : 0.0284s  34.53% 
  Avg. Gaussian Time  : 0.0425s  51.54% 
  Avg. Iteration Time : 0.0824s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0144
Level     2,  Iter     1:    Energy =   0.0148
Level     2,  Iter     2:    Energy =   0.0152
Level     2,  Iter     3:    Energy =   0.0155
Level     2,  Iter     4:    Energy =   0.0158
Level     2,  Iter     5:    Energy =   0.0161
Level     2,  Iter     6:    Energy =   0.0164
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0168
Level     2,  Iter     9:    Energy =   0.0170
Level     2,  Iter    10:    Energy =   0.0172
Level     2,  Iter    11:    Energy =   0.0173
Level     2,  Iter    12:    Energy =   0.0174
Level     2,  Iter    13:    Energy =   0.0175
Level     2,  Iter    14:    Energy =   0.0176
Level     2,  Iter    15:    Energy =   0.0177
Level     2,  Iter    16:    Energy =   0.0178
Level     2,  Iter    17:    Energy =   0.0179
Level     2,  Iter    18:    Energy =   0.0180
Level     2,  Iter    19:    Energy =   0.0181
END OF LEVEL     2    DetJac Range:   0.0338  to   3.0660 
  Avg. Gradient Time  : 0.1865s  33.31% 
  Avg. Gaussian Time  : 0.2977s  53.18% 
  Avg. Iteration Time : 0.5597s 

real	0m20.042s
user	0m34.876s
sys	0m2.140s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 599.608   GNORM= 180.16
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -188.759     122.268       0.028
   2    4      -378.529     117.228       1.000
   3    5      -624.916      57.343       1.000
   4    8      -630.722      54.746       2.301
   5   11      -739.327     108.273       2.444
   6   15      -754.135      41.786       0.302
   7   18      -763.638      48.534       0.280
   8   19      -776.319      42.906       1.000
   9   26      -777.309      53.310       0.003
  10   30      -778.466      29.213       0.104
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.996772 0.0416466 -0.0431814 1.97899 
0.180243 1.15207 -0.257173 6.55459 
0.0234413 -0.130662 1.1068 -1.2143 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -409.085   GNORM= 430.336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.996725 0.0415244 -0.0428813 1.96285 
0.180659 1.15286 -0.258529 6.64975 
0.0233919 -0.130663 1.10669 -1.21585 
0 0 0 1 

Final RAS Transform: 
0.996725 0.0415244 -0.0428813 1.96285 
0.180659 1.15286 -0.258529 6.64975 
0.0233919 -0.130663 1.10669 -1.21585 
0 0 0 1 


real	0m3.428s
user	0m5.152s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.456412
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0185
Level     0,  Iter     1:    Energy =   0.0202
Level     0,  Iter     2:    Energy =   0.0230
Level     0,  Iter     3:    Energy =   0.0256
Level     0,  Iter     4:    Energy =   0.0276
Level     0,  Iter     5:    Energy =   0.0294
Level     0,  Iter     6:    Energy =   0.0309
Level     0,  Iter     7:    Energy =   0.0322
Level     0,  Iter     8:    Energy =   0.0334
Level     0,  Iter     9:    Energy =   0.0344
Level     0,  Iter    10:    Energy =   0.0352
Level     0,  Iter    11:    Energy =   0.0358
Level     0,  Iter    12:    Energy =   0.0363
Level     0,  Iter    13:    Energy =   0.0367
Level     0,  Iter    14:    Energy =   0.0371
Level     0,  Iter    15:    Energy =   0.0374
Level     0,  Iter    16:    Energy =   0.0377
Level     0,  Iter    17:    Energy =   0.0379
Level     0,  Iter    18:    Energy =   0.0382
Level     0,  Iter    19:    Energy =   0.0384
Level     0,  Iter    20:    Energy =   0.0385
Level     0,  Iter    21:    Energy =   0.0387
Level     0,  Iter    22:    Energy =   0.0389
Level     0,  Iter    23:    Energy =   0.0390
Level     0,  Iter    24:    Energy =   0.0392
Level     0,  Iter    25:    Energy =   0.0393
Level     0,  Iter    26:    Energy =   0.0395
Level     0,  Iter    27:    Energy =   0.0396
Level     0,  Iter    28:    Energy =   0.0397
Level     0,  Iter    29:    Energy =   0.0398
Level     0,  Iter    30:    Energy =   0.0400
Level     0,  Iter    31:    Energy =   0.0401
Level     0,  Iter    32:    Energy =   0.0402
Level     0,  Iter    33:    Energy =   0.0403
Level     0,  Iter    34:    Energy =   0.0405
Level     0,  Iter    35:    Energy =   0.0406
Level     0,  Iter    36:    Energy =   0.0407
Level     0,  Iter    37:    Energy =   0.0408
Level     0,  Iter    38:    Energy =   0.0409
Level     0,  Iter    39:    Energy =   0.0410
Level     0,  Iter    40:    Energy =   0.0411
Level     0,  Iter    41:    Energy =   0.0411
Level     0,  Iter    42:    Energy =   0.0412
Level     0,  Iter    43:    Energy =   0.0413
Level     0,  Iter    44:    Energy =   0.0414
Level     0,  Iter    45:    Energy =   0.0414
Level     0,  Iter    46:    Energy =   0.0414
Level     0,  Iter    47:    Energy =   0.0415
Level     0,  Iter    48:    Energy =   0.0415
Level     0,  Iter    49:    Energy =   0.0415
Level     0,  Iter    50:    Energy =   0.0415
Level     0,  Iter    51:    Energy =   0.0416
Level     0,  Iter    52:    Energy =   0.0416
Level     0,  Iter    53:    Energy =   0.0417
Level     0,  Iter    54:    Energy =   0.0417
Level     0,  Iter    55:    Energy =   0.0417
Level     0,  Iter    56:    Energy =   0.0417
Level     0,  Iter    57:    Energy =   0.0417
Level     0,  Iter    58:    Energy =   0.0417
Level     0,  Iter    59:    Energy =   0.0418
END OF LEVEL     0    DetJac Range:   0.1875  to   2.7859 
  Avg. Gradient Time  : 0.0067s  33.35% 
  Avg. Gaussian Time  : 0.0096s  48.27% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0224
Level     1,  Iter     1:    Energy =   0.0233
Level     1,  Iter     2:    Energy =   0.0240
Level     1,  Iter     3:    Energy =   0.0246
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0258
Level     1,  Iter     6:    Energy =   0.0263
Level     1,  Iter     7:    Energy =   0.0270
Level     1,  Iter     8:    Energy =   0.0276
Level     1,  Iter     9:    Energy =   0.0280
Level     1,  Iter    10:    Energy =   0.0283
Level     1,  Iter    11:    Energy =   0.0287
Level     1,  Iter    12:    Energy =   0.0288
Level     1,  Iter    13:    Energy =   0.0291
Level     1,  Iter    14:    Energy =   0.0294
Level     1,  Iter    15:    Energy =   0.0296
Level     1,  Iter    16:    Energy =   0.0298
Level     1,  Iter    17:    Energy =   0.0301
Level     1,  Iter    18:    Energy =   0.0302
Level     1,  Iter    19:    Energy =   0.0304
Level     1,  Iter    20:    Energy =   0.0305
Level     1,  Iter    21:    Energy =   0.0307
Level     1,  Iter    22:    Energy =   0.0308
Level     1,  Iter    23:    Energy =   0.0308
Level     1,  Iter    24:    Energy =   0.0309
Level     1,  Iter    25:    Energy =   0.0310
Level     1,  Iter    26:    Energy =   0.0310
Level     1,  Iter    27:    Energy =   0.0311
Level     1,  Iter    28:    Energy =   0.0312
Level     1,  Iter    29:    Energy =   0.0312
Level     1,  Iter    30:    Energy =   0.0312
Level     1,  Iter    31:    Energy =   0.0313
Level     1,  Iter    32:    Energy =   0.0313
Level     1,  Iter    33:    Energy =   0.0313
Level     1,  Iter    34:    Energy =   0.0313
Level     1,  Iter    35:    Energy =   0.0314
Level     1,  Iter    36:    Energy =   0.0314
Level     1,  Iter    37:    Energy =   0.0314
Level     1,  Iter    38:    Energy =   0.0314
Level     1,  Iter    39:    Energy =   0.0313
Level     1,  Iter    40:    Energy =   0.0313
Level     1,  Iter    41:    Energy =   0.0313
Level     1,  Iter    42:    Energy =   0.0313
Level     1,  Iter    43:    Energy =   0.0313
Level     1,  Iter    44:    Energy =   0.0313
Level     1,  Iter    45:    Energy =   0.0313
Level     1,  Iter    46:    Energy =   0.0313
Level     1,  Iter    47:    Energy =   0.0314
Level     1,  Iter    48:    Energy =   0.0314
Level     1,  Iter    49:    Energy =   0.0314
Level     1,  Iter    50:    Energy =   0.0315
Level     1,  Iter    51:    Energy =   0.0315
Level     1,  Iter    52:    Energy =   0.0316
Level     1,  Iter    53:    Energy =   0.0317
Level     1,  Iter    54:    Energy =   0.0318
Level     1,  Iter    55:    Energy =   0.0319
Level     1,  Iter    56:    Energy =   0.0321
Level     1,  Iter    57:    Energy =   0.0322
Level     1,  Iter    58:    Energy =   0.0323
Level     1,  Iter    59:    Energy =   0.0324
END OF LEVEL     1    DetJac Range:   0.0244  to   3.2632 
  Avg. Gradient Time  : 0.0280s  34.19% 
  Avg. Gaussian Time  : 0.0424s  51.82% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0147
Level     2,  Iter     1:    Energy =   0.0152
Level     2,  Iter     2:    Energy =   0.0157
Level     2,  Iter     3:    Energy =   0.0160
Level     2,  Iter     4:    Energy =   0.0164
Level     2,  Iter     5:    Energy =   0.0168
Level     2,  Iter     6:    Energy =   0.0171
Level     2,  Iter     7:    Energy =   0.0174
Level     2,  Iter     8:    Energy =   0.0175
Level     2,  Iter     9:    Energy =   0.0178
Level     2,  Iter    10:    Energy =   0.0181
Level     2,  Iter    11:    Energy =   0.0183
Level     2,  Iter    12:    Energy =   0.0186
Level     2,  Iter    13:    Energy =   0.0188
Level     2,  Iter    14:    Energy =   0.0191
Level     2,  Iter    15:    Energy =   0.0193
Level     2,  Iter    16:    Energy =   0.0195
Level     2,  Iter    17:    Energy =   0.0197
Level     2,  Iter    18:    Energy =   0.0199
Level     2,  Iter    19:    Energy =   0.0201
END OF LEVEL     2    DetJac Range:   0.0308  to   3.3442 
  Avg. Gradient Time  : 0.1849s  32.81% 
  Avg. Gaussian Time  : 0.3022s  53.62% 
  Avg. Iteration Time : 0.5637s 

real	0m20.132s
user	0m34.908s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 531.632   GNORM= 219.032
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -178.739      76.345       0.023
   2    4      -395.267     108.198       1.000
   3    7      -594.373      66.050       0.577
   4    9      -638.911     125.711       0.561
   5   11      -656.255     116.242       0.019
   6   12      -720.005      38.067       1.000
   7   17      -800.929      18.793       5.108
   8   18      -808.757      26.227       1.000
   9   24      -821.492      24.614       0.060
  10   36      -821.535      39.450       0.019
  11   38      -822.352     100.800       0.262
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.92064 0.0597168 -0.0589186 1.75847 
0.13438 1.12778 -0.143124 7.00422 
0.024852 -0.0922089 1.22811 -4.59169 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -349.262   GNORM= 30.3877
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -359.656      33.893       0.033
   2    6      -370.685      44.684       1.000
   3    7      -374.316      27.170       1.000
   4    8      -382.184      44.201       1.000
   5   10      -385.058     153.808       0.046
   6   12      -411.011      28.793       0.139
   7   13      -414.785     193.553       1.000
   8   20      -414.792      25.725       0.000
   9   23      -415.626      43.377       0.704
  10   26      -416.222      38.890       0.593
  11   28      -416.790      40.750       5.000
  12   31      -423.365      95.863       0.671
  13   33      -427.587      34.179       0.118
  14   42      -430.715      26.843       1.199
  15   46      -431.052      70.965       0.249
  16   51      -431.346      25.937       0.020
Final RAS Transform: 
0.923376 0.0851763 -0.0979123 5.43405 
0.143003 1.11202 -0.124799 6.62112 
0.0501771 -0.124428 1.22739 -4.17152 
0 0 0 1 

Final RAS Transform: 
0.923376 0.0851763 -0.0979123 5.43405 
0.143003 1.11202 -0.124799 6.62112 
0.0501771 -0.124428 1.22739 -4.17152 
0 0 0 1 


real	0m5.778s
user	0m9.496s
sys	0m0.752s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.42535
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0181
Level     0,  Iter     1:    Energy =   0.0197
Level     0,  Iter     2:    Energy =   0.0226
Level     0,  Iter     3:    Energy =   0.0253
Level     0,  Iter     4:    Energy =   0.0273
Level     0,  Iter     5:    Energy =   0.0293
Level     0,  Iter     6:    Energy =   0.0307
Level     0,  Iter     7:    Energy =   0.0315
Level     0,  Iter     8:    Energy =   0.0325
Level     0,  Iter     9:    Energy =   0.0337
Level     0,  Iter    10:    Energy =   0.0346
Level     0,  Iter    11:    Energy =   0.0354
Level     0,  Iter    12:    Energy =   0.0360
Level     0,  Iter    13:    Energy =   0.0367
Level     0,  Iter    14:    Energy =   0.0372
Level     0,  Iter    15:    Energy =   0.0375
Level     0,  Iter    16:    Energy =   0.0378
Level     0,  Iter    17:    Energy =   0.0380
Level     0,  Iter    18:    Energy =   0.0383
Level     0,  Iter    19:    Energy =   0.0387
Level     0,  Iter    20:    Energy =   0.0390
Level     0,  Iter    21:    Energy =   0.0393
Level     0,  Iter    22:    Energy =   0.0396
Level     0,  Iter    23:    Energy =   0.0398
Level     0,  Iter    24:    Energy =   0.0400
Level     0,  Iter    25:    Energy =   0.0403
Level     0,  Iter    26:    Energy =   0.0405
Level     0,  Iter    27:    Energy =   0.0407
Level     0,  Iter    28:    Energy =   0.0409
Level     0,  Iter    29:    Energy =   0.0411
Level     0,  Iter    30:    Energy =   0.0413
Level     0,  Iter    31:    Energy =   0.0415
Level     0,  Iter    32:    Energy =   0.0417
Level     0,  Iter    33:    Energy =   0.0420
Level     0,  Iter    34:    Energy =   0.0421
Level     0,  Iter    35:    Energy =   0.0422
Level     0,  Iter    36:    Energy =   0.0424
Level     0,  Iter    37:    Energy =   0.0426
Level     0,  Iter    38:    Energy =   0.0427
Level     0,  Iter    39:    Energy =   0.0428
Level     0,  Iter    40:    Energy =   0.0430
Level     0,  Iter    41:    Energy =   0.0431
Level     0,  Iter    42:    Energy =   0.0433
Level     0,  Iter    43:    Energy =   0.0434
Level     0,  Iter    44:    Energy =   0.0435
Level     0,  Iter    45:    Energy =   0.0437
Level     0,  Iter    46:    Energy =   0.0438
Level     0,  Iter    47:    Energy =   0.0439
Level     0,  Iter    48:    Energy =   0.0440
Level     0,  Iter    49:    Energy =   0.0441
Level     0,  Iter    50:    Energy =   0.0442
Level     0,  Iter    51:    Energy =   0.0444
Level     0,  Iter    52:    Energy =   0.0445
Level     0,  Iter    53:    Energy =   0.0447
Level     0,  Iter    54:    Energy =   0.0447
Level     0,  Iter    55:    Energy =   0.0448
Level     0,  Iter    56:    Energy =   0.0447
Level     0,  Iter    57:    Energy =   0.0448
Level     0,  Iter    58:    Energy =   0.0449
Level     0,  Iter    59:    Energy =   0.0449
END OF LEVEL     0    DetJac Range:   0.1441  to   4.3848 
  Avg. Gradient Time  : 0.0065s  33.36% 
  Avg. Gaussian Time  : 0.0094s  48.24% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0260
Level     1,  Iter     2:    Energy =   0.0269
Level     1,  Iter     3:    Energy =   0.0276
Level     1,  Iter     4:    Energy =   0.0283
Level     1,  Iter     5:    Energy =   0.0289
Level     1,  Iter     6:    Energy =   0.0295
Level     1,  Iter     7:    Energy =   0.0300
Level     1,  Iter     8:    Energy =   0.0304
Level     1,  Iter     9:    Energy =   0.0308
Level     1,  Iter    10:    Energy =   0.0312
Level     1,  Iter    11:    Energy =   0.0316
Level     1,  Iter    12:    Energy =   0.0320
Level     1,  Iter    13:    Energy =   0.0323
Level     1,  Iter    14:    Energy =   0.0326
Level     1,  Iter    15:    Energy =   0.0328
Level     1,  Iter    16:    Energy =   0.0331
Level     1,  Iter    17:    Energy =   0.0333
Level     1,  Iter    18:    Energy =   0.0334
Level     1,  Iter    19:    Energy =   0.0336
Level     1,  Iter    20:    Energy =   0.0337
Level     1,  Iter    21:    Energy =   0.0338
Level     1,  Iter    22:    Energy =   0.0340
Level     1,  Iter    23:    Energy =   0.0341
Level     1,  Iter    24:    Energy =   0.0342
Level     1,  Iter    25:    Energy =   0.0343
Level     1,  Iter    26:    Energy =   0.0344
Level     1,  Iter    27:    Energy =   0.0344
Level     1,  Iter    28:    Energy =   0.0345
Level     1,  Iter    29:    Energy =   0.0345
Level     1,  Iter    30:    Energy =   0.0346
Level     1,  Iter    31:    Energy =   0.0346
Level     1,  Iter    32:    Energy =   0.0346
Level     1,  Iter    33:    Energy =   0.0347
Level     1,  Iter    34:    Energy =   0.0347
Level     1,  Iter    35:    Energy =   0.0347
Level     1,  Iter    36:    Energy =   0.0347
Level     1,  Iter    37:    Energy =   0.0348
Level     1,  Iter    38:    Energy =   0.0348
Level     1,  Iter    39:    Energy =   0.0347
Level     1,  Iter    40:    Energy =   0.0348
Level     1,  Iter    41:    Energy =   0.0347
Level     1,  Iter    42:    Energy =   0.0347
Level     1,  Iter    43:    Energy =   0.0347
Level     1,  Iter    44:    Energy =   0.0348
Level     1,  Iter    45:    Energy =   0.0347
Level     1,  Iter    46:    Energy =   0.0348
Level     1,  Iter    47:    Energy =   0.0348
Level     1,  Iter    48:    Energy =   0.0348
Level     1,  Iter    49:    Energy =   0.0348
Level     1,  Iter    50:    Energy =   0.0348
Level     1,  Iter    51:    Energy =   0.0348
Level     1,  Iter    52:    Energy =   0.0348
Level     1,  Iter    53:    Energy =   0.0348
Level     1,  Iter    54:    Energy =   0.0348
Level     1,  Iter    55:    Energy =   0.0348
Level     1,  Iter    56:    Energy =   0.0348
Level     1,  Iter    57:    Energy =   0.0348
Level     1,  Iter    58:    Energy =   0.0349
Level     1,  Iter    59:    Energy =   0.0349
END OF LEVEL     1    DetJac Range:   0.0720  to   4.1468 
  Avg. Gradient Time  : 0.0276s  34.49% 
  Avg. Gaussian Time  : 0.0413s  51.62% 
  Avg. Iteration Time : 0.0800s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0160
Level     2,  Iter     1:    Energy =   0.0166
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0177
Level     2,  Iter     4:    Energy =   0.0182
Level     2,  Iter     5:    Energy =   0.0185
Level     2,  Iter     6:    Energy =   0.0188
Level     2,  Iter     7:    Energy =   0.0191
Level     2,  Iter     8:    Energy =   0.0192
Level     2,  Iter     9:    Energy =   0.0194
Level     2,  Iter    10:    Energy =   0.0195
Level     2,  Iter    11:    Energy =   0.0198
Level     2,  Iter    12:    Energy =   0.0199
Level     2,  Iter    13:    Energy =   0.0201
Level     2,  Iter    14:    Energy =   0.0203
Level     2,  Iter    15:    Energy =   0.0204
Level     2,  Iter    16:    Energy =   0.0205
Level     2,  Iter    17:    Energy =   0.0207
Level     2,  Iter    18:    Energy =   0.0208
Level     2,  Iter    19:    Energy =   0.0209
END OF LEVEL     2    DetJac Range:   0.0368  to   3.8808 
  Avg. Gradient Time  : 0.1844s  32.91% 
  Avg. Gaussian Time  : 0.3005s  53.65% 
  Avg. Iteration Time : 0.5602s 

real	0m19.859s
user	0m34.492s
sys	0m2.228s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 578.98   GNORM= 223.91
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -277.400     157.463       0.022
   2    5      -692.440      94.627       0.389
   3    6      -746.168      52.417       1.000
   4   10      -870.720      26.529       1.406
   5   12      -871.227      43.736       0.133
   6   14      -875.262      73.555       0.419
   7   17      -881.435      89.482       2.254
   8   18      -900.086      88.527       1.000
   9   22      -903.229      20.387       0.016
  10   23      -906.614      15.938       1.000
  11   25      -921.635      86.573       5.000
  12   27      -942.726      36.800       5.000
  13   31      -943.951     202.093       1.409
  14   44      -944.045      17.841       0.000
  15   45      -944.279      45.081       1.000
  16   49      -946.972      57.618       1.236
  17   50      -954.470      45.662       1.000
  18   52      -954.955      62.222       0.262
  19   53      -956.421      25.978       1.000
Final RAS Transform: 
0.799077 0.078901 -0.123742 -1.54677 
0.121817 1.00883 -0.234937 7.26349 
-0.135316 -0.111543 0.965786 -7.78129 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -468.9   GNORM= 56.5576
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   11      -468.980      70.058       0.001
   2   14      -470.484      47.115       2.707
   3   21      -472.780      44.356       1.596
   4   22      -474.084      30.846       1.000
   5   24      -483.072      21.560       5.000
   6   32      -487.071     110.445       0.104
   7   36      -493.401      28.190       0.891
   8   42      -503.766      16.957       3.004
   9   47      -504.995      35.365       1.143
  10   48      -506.954     166.895       1.000
  11   51      -508.256      78.060       1.717
  12   52      -528.090      64.066       1.000
  13   59      -539.743      17.920       0.171
Final RAS Transform: 
0.811159 0.0832394 -0.154751 -0.835187 
0.124304 0.967358 -0.195014 7.0852 
-0.108586 -0.134826 0.958859 -8.19884 
0 0 0 1 

Final RAS Transform: 
0.811159 0.0832394 -0.154751 -0.835187 
0.124304 0.967358 -0.195014 7.0852 
-0.108586 -0.134826 0.958859 -8.19884 
0 0 0 1 


real	0m5.717s
user	0m9.460s
sys	0m0.632s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.409332
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0238
Level     0,  Iter     1:    Energy =   0.0254
Level     0,  Iter     2:    Energy =   0.0289
Level     0,  Iter     3:    Energy =   0.0322
Level     0,  Iter     4:    Energy =   0.0355
Level     0,  Iter     5:    Energy =   0.0382
Level     0,  Iter     6:    Energy =   0.0403
Level     0,  Iter     7:    Energy =   0.0419
Level     0,  Iter     8:    Energy =   0.0430
Level     0,  Iter     9:    Energy =   0.0439
Level     0,  Iter    10:    Energy =   0.0447
Level     0,  Iter    11:    Energy =   0.0454
Level     0,  Iter    12:    Energy =   0.0461
Level     0,  Iter    13:    Energy =   0.0467
Level     0,  Iter    14:    Energy =   0.0472
Level     0,  Iter    15:    Energy =   0.0477
Level     0,  Iter    16:    Energy =   0.0481
Level     0,  Iter    17:    Energy =   0.0485
Level     0,  Iter    18:    Energy =   0.0489
Level     0,  Iter    19:    Energy =   0.0492
Level     0,  Iter    20:    Energy =   0.0494
Level     0,  Iter    21:    Energy =   0.0496
Level     0,  Iter    22:    Energy =   0.0499
Level     0,  Iter    23:    Energy =   0.0501
Level     0,  Iter    24:    Energy =   0.0504
Level     0,  Iter    25:    Energy =   0.0506
Level     0,  Iter    26:    Energy =   0.0509
Level     0,  Iter    27:    Energy =   0.0511
Level     0,  Iter    28:    Energy =   0.0514
Level     0,  Iter    29:    Energy =   0.0515
Level     0,  Iter    30:    Energy =   0.0517
Level     0,  Iter    31:    Energy =   0.0517
Level     0,  Iter    32:    Energy =   0.0517
Level     0,  Iter    33:    Energy =   0.0518
Level     0,  Iter    34:    Energy =   0.0520
Level     0,  Iter    35:    Energy =   0.0520
Level     0,  Iter    36:    Energy =   0.0519
Level     0,  Iter    37:    Energy =   0.0520
Level     0,  Iter    38:    Energy =   0.0519
Level     0,  Iter    39:    Energy =   0.0520
Level     0,  Iter    40:    Energy =   0.0520
Level     0,  Iter    41:    Energy =   0.0520
Level     0,  Iter    42:    Energy =   0.0520
Level     0,  Iter    43:    Energy =   0.0520
Level     0,  Iter    44:    Energy =   0.0520
Level     0,  Iter    45:    Energy =   0.0520
Level     0,  Iter    46:    Energy =   0.0520
Level     0,  Iter    47:    Energy =   0.0521
Level     0,  Iter    48:    Energy =   0.0521
Level     0,  Iter    49:    Energy =   0.0521
Level     0,  Iter    50:    Energy =   0.0521
Level     0,  Iter    51:    Energy =   0.0521
Level     0,  Iter    52:    Energy =   0.0521
Level     0,  Iter    53:    Energy =   0.0522
Level     0,  Iter    54:    Energy =   0.0522
Level     0,  Iter    55:    Energy =   0.0522
Level     0,  Iter    56:    Energy =   0.0523
Level     0,  Iter    57:    Energy =   0.0522
Level     0,  Iter    58:    Energy =   0.0523
Level     0,  Iter    59:    Energy =   0.0522
END OF LEVEL     0    DetJac Range:   0.1673  to   3.6354 
  Avg. Gradient Time  : 0.0066s  33.66% 
  Avg. Gaussian Time  : 0.0095s  48.08% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0284
Level     1,  Iter     1:    Energy =   0.0301
Level     1,  Iter     2:    Energy =   0.0314
Level     1,  Iter     3:    Energy =   0.0325
Level     1,  Iter     4:    Energy =   0.0336
Level     1,  Iter     5:    Energy =   0.0344
Level     1,  Iter     6:    Energy =   0.0350
Level     1,  Iter     7:    Energy =   0.0358
Level     1,  Iter     8:    Energy =   0.0363
Level     1,  Iter     9:    Energy =   0.0368
Level     1,  Iter    10:    Energy =   0.0371
Level     1,  Iter    11:    Energy =   0.0374
Level     1,  Iter    12:    Energy =   0.0376
Level     1,  Iter    13:    Energy =   0.0378
Level     1,  Iter    14:    Energy =   0.0379
Level     1,  Iter    15:    Energy =   0.0380
Level     1,  Iter    16:    Energy =   0.0381
Level     1,  Iter    17:    Energy =   0.0382
Level     1,  Iter    18:    Energy =   0.0383
Level     1,  Iter    19:    Energy =   0.0383
Level     1,  Iter    20:    Energy =   0.0384
Level     1,  Iter    21:    Energy =   0.0384
Level     1,  Iter    22:    Energy =   0.0384
Level     1,  Iter    23:    Energy =   0.0385
Level     1,  Iter    24:    Energy =   0.0385
Level     1,  Iter    25:    Energy =   0.0385
Level     1,  Iter    26:    Energy =   0.0385
Level     1,  Iter    27:    Energy =   0.0385
Level     1,  Iter    28:    Energy =   0.0386
Level     1,  Iter    29:    Energy =   0.0386
Level     1,  Iter    30:    Energy =   0.0386
Level     1,  Iter    31:    Energy =   0.0386
Level     1,  Iter    32:    Energy =   0.0387
Level     1,  Iter    33:    Energy =   0.0387
Level     1,  Iter    34:    Energy =   0.0387
Level     1,  Iter    35:    Energy =   0.0387
Level     1,  Iter    36:    Energy =   0.0388
Level     1,  Iter    37:    Energy =   0.0388
Level     1,  Iter    38:    Energy =   0.0388
Level     1,  Iter    39:    Energy =   0.0389
Level     1,  Iter    40:    Energy =   0.0389
Level     1,  Iter    41:    Energy =   0.0390
Level     1,  Iter    42:    Energy =   0.0391
Level     1,  Iter    43:    Energy =   0.0391
Level     1,  Iter    44:    Energy =   0.0392
Level     1,  Iter    45:    Energy =   0.0393
Level     1,  Iter    46:    Energy =   0.0393
Level     1,  Iter    47:    Energy =   0.0394
Level     1,  Iter    48:    Energy =   0.0394
Level     1,  Iter    49:    Energy =   0.0395
Level     1,  Iter    50:    Energy =   0.0395
Level     1,  Iter    51:    Energy =   0.0395
Level     1,  Iter    52:    Energy =   0.0396
Level     1,  Iter    53:    Energy =   0.0396
Level     1,  Iter    54:    Energy =   0.0396
Level     1,  Iter    55:    Energy =   0.0397
Level     1,  Iter    56:    Energy =   0.0397
Level     1,  Iter    57:    Energy =   0.0398
Level     1,  Iter    58:    Energy =   0.0398
Level     1,  Iter    59:    Energy =   0.0398
END OF LEVEL     1    DetJac Range:   0.0580  to   3.5407 
  Avg. Gradient Time  : 0.0279s  34.52% 
  Avg. Gaussian Time  : 0.0417s  51.62% 
  Avg. Iteration Time : 0.0807s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0188
Level     2,  Iter     1:    Energy =   0.0196
Level     2,  Iter     2:    Energy =   0.0204
Level     2,  Iter     3:    Energy =   0.0208
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0218
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0228
Level     2,  Iter     9:    Energy =   0.0231
Level     2,  Iter    10:    Energy =   0.0233
Level     2,  Iter    11:    Energy =   0.0235
Level     2,  Iter    12:    Energy =   0.0236
Level     2,  Iter    13:    Energy =   0.0237
Level     2,  Iter    14:    Energy =   0.0239
Level     2,  Iter    15:    Energy =   0.0240
Level     2,  Iter    16:    Energy =   0.0241
Level     2,  Iter    17:    Energy =   0.0242
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0244
END OF LEVEL     2    DetJac Range:   0.0513  to   3.6238 
  Avg. Gradient Time  : 0.1834s  33.08% 
  Avg. Gaussian Time  : 0.2962s  53.42% 
  Avg. Iteration Time : 0.5544s 

real	0m19.816s
user	0m34.480s
sys	0m2.108s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 657.672   GNORM= 165.046
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -223.968      77.983       0.030
   2    4      -430.086     328.158       1.000
   3    6      -484.831     150.968       0.231
   4    7      -688.826     119.633       1.000
   5    8      -689.680     122.181       1.000
   6    9      -832.554      70.160       1.000
   7   12      -833.843      72.529       0.007
   8   15      -860.380      36.287       0.040
   9   17      -907.336     363.585       5.000
  10   19      -915.236      57.371       0.247
  11   21      -948.065      56.029       5.000
  12   23      -984.423     107.541       0.321
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.629195 0.22196 -0.250506 6.47715 
0.358596 1.24983 0.224289 10.0772 
-0.126854 -0.0897731 1.15029 -2.32967 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -489.214   GNORM= 244.11
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   10      -489.249     443.453       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.629195 0.221958 -0.250507 6.47698 
0.358595 1.24983 0.22429 10.0772 
-0.126854 -0.08978 1.1503 -2.33026 
0 0 0 1 

Final RAS Transform: 
0.629195 0.221958 -0.250507 6.47698 
0.358595 1.24983 0.22429 10.0772 
-0.126854 -0.08978 1.1503 -2.33026 
0 0 0 1 


real	0m3.756s
user	0m5.892s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.345411
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0236
Level     0,  Iter     1:    Energy =   0.0249
Level     0,  Iter     2:    Energy =   0.0269
Level     0,  Iter     3:    Energy =   0.0291
Level     0,  Iter     4:    Energy =   0.0311
Level     0,  Iter     5:    Energy =   0.0329
Level     0,  Iter     6:    Energy =   0.0333
Level     0,  Iter     7:    Energy =   0.0341
Level     0,  Iter     8:    Energy =   0.0347
Level     0,  Iter     9:    Energy =   0.0357
Level     0,  Iter    10:    Energy =   0.0365
Level     0,  Iter    11:    Energy =   0.0371
Level     0,  Iter    12:    Energy =   0.0377
Level     0,  Iter    13:    Energy =   0.0383
Level     0,  Iter    14:    Energy =   0.0387
Level     0,  Iter    15:    Energy =   0.0391
Level     0,  Iter    16:    Energy =   0.0395
Level     0,  Iter    17:    Energy =   0.0398
Level     0,  Iter    18:    Energy =   0.0402
Level     0,  Iter    19:    Energy =   0.0404
Level     0,  Iter    20:    Energy =   0.0408
Level     0,  Iter    21:    Energy =   0.0411
Level     0,  Iter    22:    Energy =   0.0412
Level     0,  Iter    23:    Energy =   0.0414
Level     0,  Iter    24:    Energy =   0.0415
Level     0,  Iter    25:    Energy =   0.0416
Level     0,  Iter    26:    Energy =   0.0416
Level     0,  Iter    27:    Energy =   0.0417
Level     0,  Iter    28:    Energy =   0.0418
Level     0,  Iter    29:    Energy =   0.0419
Level     0,  Iter    30:    Energy =   0.0421
Level     0,  Iter    31:    Energy =   0.0422
Level     0,  Iter    32:    Energy =   0.0423
Level     0,  Iter    33:    Energy =   0.0424
Level     0,  Iter    34:    Energy =   0.0426
Level     0,  Iter    35:    Energy =   0.0427
Level     0,  Iter    36:    Energy =   0.0428
Level     0,  Iter    37:    Energy =   0.0429
Level     0,  Iter    38:    Energy =   0.0430
Level     0,  Iter    39:    Energy =   0.0431
Level     0,  Iter    40:    Energy =   0.0431
Level     0,  Iter    41:    Energy =   0.0433
Level     0,  Iter    42:    Energy =   0.0434
Level     0,  Iter    43:    Energy =   0.0434
Level     0,  Iter    44:    Energy =   0.0435
Level     0,  Iter    45:    Energy =   0.0436
Level     0,  Iter    46:    Energy =   0.0436
Level     0,  Iter    47:    Energy =   0.0437
Level     0,  Iter    48:    Energy =   0.0438
Level     0,  Iter    49:    Energy =   0.0440
Level     0,  Iter    50:    Energy =   0.0440
Level     0,  Iter    51:    Energy =   0.0439
Level     0,  Iter    52:    Energy =   0.0441
Level     0,  Iter    53:    Energy =   0.0440
Level     0,  Iter    54:    Energy =   0.0442
Level     0,  Iter    55:    Energy =   0.0442
Level     0,  Iter    56:    Energy =   0.0444
Level     0,  Iter    57:    Energy =   0.0444
Level     0,  Iter    58:    Energy =   0.0445
Level     0,  Iter    59:    Energy =   0.0445
END OF LEVEL     0    DetJac Range:   0.1420  to   2.8952 
  Avg. Gradient Time  : 0.0064s  33.35% 
  Avg. Gaussian Time  : 0.0093s  48.34% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0267
Level     1,  Iter     1:    Energy =   0.0282
Level     1,  Iter     2:    Energy =   0.0294
Level     1,  Iter     3:    Energy =   0.0305
Level     1,  Iter     4:    Energy =   0.0314
Level     1,  Iter     5:    Energy =   0.0322
Level     1,  Iter     6:    Energy =   0.0330
Level     1,  Iter     7:    Energy =   0.0337
Level     1,  Iter     8:    Energy =   0.0343
Level     1,  Iter     9:    Energy =   0.0350
Level     1,  Iter    10:    Energy =   0.0356
Level     1,  Iter    11:    Energy =   0.0361
Level     1,  Iter    12:    Energy =   0.0366
Level     1,  Iter    13:    Energy =   0.0369
Level     1,  Iter    14:    Energy =   0.0372
Level     1,  Iter    15:    Energy =   0.0375
Level     1,  Iter    16:    Energy =   0.0377
Level     1,  Iter    17:    Energy =   0.0380
Level     1,  Iter    18:    Energy =   0.0382
Level     1,  Iter    19:    Energy =   0.0384
Level     1,  Iter    20:    Energy =   0.0386
Level     1,  Iter    21:    Energy =   0.0387
Level     1,  Iter    22:    Energy =   0.0388
Level     1,  Iter    23:    Energy =   0.0389
Level     1,  Iter    24:    Energy =   0.0389
Level     1,  Iter    25:    Energy =   0.0390
Level     1,  Iter    26:    Energy =   0.0390
Level     1,  Iter    27:    Energy =   0.0390
Level     1,  Iter    28:    Energy =   0.0390
Level     1,  Iter    29:    Energy =   0.0391
Level     1,  Iter    30:    Energy =   0.0391
Level     1,  Iter    31:    Energy =   0.0391
Level     1,  Iter    32:    Energy =   0.0392
Level     1,  Iter    33:    Energy =   0.0392
Level     1,  Iter    34:    Energy =   0.0392
Level     1,  Iter    35:    Energy =   0.0392
Level     1,  Iter    36:    Energy =   0.0392
Level     1,  Iter    37:    Energy =   0.0392
Level     1,  Iter    38:    Energy =   0.0393
Level     1,  Iter    39:    Energy =   0.0392
Level     1,  Iter    40:    Energy =   0.0392
Level     1,  Iter    41:    Energy =   0.0392
Level     1,  Iter    42:    Energy =   0.0392
Level     1,  Iter    43:    Energy =   0.0392
Level     1,  Iter    44:    Energy =   0.0392
Level     1,  Iter    45:    Energy =   0.0392
Level     1,  Iter    46:    Energy =   0.0393
Level     1,  Iter    47:    Energy =   0.0393
Level     1,  Iter    48:    Energy =   0.0393
Level     1,  Iter    49:    Energy =   0.0393
Level     1,  Iter    50:    Energy =   0.0393
Level     1,  Iter    51:    Energy =   0.0393
Level     1,  Iter    52:    Energy =   0.0393
Level     1,  Iter    53:    Energy =   0.0393
Level     1,  Iter    54:    Energy =   0.0393
Level     1,  Iter    55:    Energy =   0.0393
Level     1,  Iter    56:    Energy =   0.0393
Level     1,  Iter    57:    Energy =   0.0392
Level     1,  Iter    58:    Energy =   0.0392
Level     1,  Iter    59:    Energy =   0.0392
END OF LEVEL     1    DetJac Range:   0.0516  to   3.2914 
  Avg. Gradient Time  : 0.0270s  34.21% 
  Avg. Gaussian Time  : 0.0409s  51.83% 
  Avg. Iteration Time : 0.0788s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0191
Level     2,  Iter     1:    Energy =   0.0201
Level     2,  Iter     2:    Energy =   0.0209
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0222
Level     2,  Iter     5:    Energy =   0.0226
Level     2,  Iter     6:    Energy =   0.0230
Level     2,  Iter     7:    Energy =   0.0234
Level     2,  Iter     8:    Energy =   0.0237
Level     2,  Iter     9:    Energy =   0.0240
Level     2,  Iter    10:    Energy =   0.0243
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0247
Level     2,  Iter    13:    Energy =   0.0248
Level     2,  Iter    14:    Energy =   0.0250
Level     2,  Iter    15:    Energy =   0.0251
Level     2,  Iter    16:    Energy =   0.0252
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0254
Level     2,  Iter    19:    Energy =   0.0254
END OF LEVEL     2    DetJac Range:   0.0361  to   3.5081 
  Avg. Gradient Time  : 0.1828s  32.90% 
  Avg. Gaussian Time  : 0.2978s  53.60% 
  Avg. Iteration Time : 0.5557s 

real	0m19.713s
user	0m34.224s
sys	0m2.188s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 640.338   GNORM= 139.714
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3         6.080     149.051       0.036
   2    4      -581.458      85.291       1.000
   3    5      -714.621     376.533       1.000
   4    8      -731.652      37.044       0.131
   5    9      -742.148      42.330       1.000
   6   12      -879.824      31.449       2.150
   7   15      -885.673      24.660       0.067
   8   16      -886.407      18.487       1.000
   9   23      -888.367      20.241       1.003
  10   24      -891.712      19.293       1.000
  11   25      -900.856     145.511       1.000
  12   28      -915.696      48.499       0.011
  13   30      -915.868      30.699       0.138
  14   31      -916.305      41.127       1.000
  15   32      -917.348      28.293       1.000
  16   38      -942.981      38.455       5.104
  17   41     -1011.657      75.503       2.890
  18   43     -1013.380      71.677       0.010
Final RAS Transform: 
0.790073 0.218012 -0.189089 1.16389 
0.155457 0.836118 -0.408285 10.9901 
0.0974127 -0.245133 1.08693 -3.05334 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -425.771   GNORM= 1169.74
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -427.273      13.026       0.000
   2    6      -427.281      12.455       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.790045 0.217974 -0.18893 1.15488 
0.155478 0.835924 -0.408078 10.9718 
0.0978515 -0.244471 1.0854 -2.95476 
0 0 0 1 

Final RAS Transform: 
0.790045 0.217974 -0.18893 1.15488 
0.155478 0.835924 -0.408078 10.9718 
0.0978515 -0.244471 1.0854 -2.95476 
0 0 0 1 


real	0m3.706s
user	0m5.796s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.402229
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0230
Level     0,  Iter     1:    Energy =   0.0254
Level     0,  Iter     2:    Energy =   0.0284
Level     0,  Iter     3:    Energy =   0.0308
Level     0,  Iter     4:    Energy =   0.0332
Level     0,  Iter     5:    Energy =   0.0353
Level     0,  Iter     6:    Energy =   0.0365
Level     0,  Iter     7:    Energy =   0.0370
Level     0,  Iter     8:    Energy =   0.0375
Level     0,  Iter     9:    Energy =   0.0381
Level     0,  Iter    10:    Energy =   0.0389
Level     0,  Iter    11:    Energy =   0.0399
Level     0,  Iter    12:    Energy =   0.0406
Level     0,  Iter    13:    Energy =   0.0412
Level     0,  Iter    14:    Energy =   0.0418
Level     0,  Iter    15:    Energy =   0.0422
Level     0,  Iter    16:    Energy =   0.0428
Level     0,  Iter    17:    Energy =   0.0433
Level     0,  Iter    18:    Energy =   0.0439
Level     0,  Iter    19:    Energy =   0.0445
Level     0,  Iter    20:    Energy =   0.0451
Level     0,  Iter    21:    Energy =   0.0456
Level     0,  Iter    22:    Energy =   0.0460
Level     0,  Iter    23:    Energy =   0.0464
Level     0,  Iter    24:    Energy =   0.0468
Level     0,  Iter    25:    Energy =   0.0471
Level     0,  Iter    26:    Energy =   0.0473
Level     0,  Iter    27:    Energy =   0.0476
Level     0,  Iter    28:    Energy =   0.0478
Level     0,  Iter    29:    Energy =   0.0479
Level     0,  Iter    30:    Energy =   0.0481
Level     0,  Iter    31:    Energy =   0.0482
Level     0,  Iter    32:    Energy =   0.0483
Level     0,  Iter    33:    Energy =   0.0483
Level     0,  Iter    34:    Energy =   0.0484
Level     0,  Iter    35:    Energy =   0.0484
Level     0,  Iter    36:    Energy =   0.0485
Level     0,  Iter    37:    Energy =   0.0486
Level     0,  Iter    38:    Energy =   0.0486
Level     0,  Iter    39:    Energy =   0.0486
Level     0,  Iter    40:    Energy =   0.0487
Level     0,  Iter    41:    Energy =   0.0486
Level     0,  Iter    42:    Energy =   0.0486
Level     0,  Iter    43:    Energy =   0.0486
Level     0,  Iter    44:    Energy =   0.0485
Level     0,  Iter    45:    Energy =   0.0484
Level     0,  Iter    46:    Energy =   0.0484
Level     0,  Iter    47:    Energy =   0.0484
Level     0,  Iter    48:    Energy =   0.0484
Level     0,  Iter    49:    Energy =   0.0484
Level     0,  Iter    50:    Energy =   0.0484
Level     0,  Iter    51:    Energy =   0.0484
Level     0,  Iter    52:    Energy =   0.0483
Level     0,  Iter    53:    Energy =   0.0484
Level     0,  Iter    54:    Energy =   0.0483
Level     0,  Iter    55:    Energy =   0.0484
Level     0,  Iter    56:    Energy =   0.0483
Level     0,  Iter    57:    Energy =   0.0485
Level     0,  Iter    58:    Energy =   0.0483
Level     0,  Iter    59:    Energy =   0.0485
END OF LEVEL     0    DetJac Range:   0.0861  to   3.0279 
  Avg. Gradient Time  : 0.0065s  33.42% 
  Avg. Gaussian Time  : 0.0093s  48.09% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0251
Level     1,  Iter     1:    Energy =   0.0260
Level     1,  Iter     2:    Energy =   0.0268
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0286
Level     1,  Iter     5:    Energy =   0.0292
Level     1,  Iter     6:    Energy =   0.0298
Level     1,  Iter     7:    Energy =   0.0302
Level     1,  Iter     8:    Energy =   0.0305
Level     1,  Iter     9:    Energy =   0.0309
Level     1,  Iter    10:    Energy =   0.0312
Level     1,  Iter    11:    Energy =   0.0315
Level     1,  Iter    12:    Energy =   0.0316
Level     1,  Iter    13:    Energy =   0.0318
Level     1,  Iter    14:    Energy =   0.0320
Level     1,  Iter    15:    Energy =   0.0321
Level     1,  Iter    16:    Energy =   0.0322
Level     1,  Iter    17:    Energy =   0.0323
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0325
Level     1,  Iter    20:    Energy =   0.0326
Level     1,  Iter    21:    Energy =   0.0327
Level     1,  Iter    22:    Energy =   0.0329
Level     1,  Iter    23:    Energy =   0.0329
Level     1,  Iter    24:    Energy =   0.0330
Level     1,  Iter    25:    Energy =   0.0330
Level     1,  Iter    26:    Energy =   0.0331
Level     1,  Iter    27:    Energy =   0.0331
Level     1,  Iter    28:    Energy =   0.0332
Level     1,  Iter    29:    Energy =   0.0332
Level     1,  Iter    30:    Energy =   0.0332
Level     1,  Iter    31:    Energy =   0.0332
Level     1,  Iter    32:    Energy =   0.0332
Level     1,  Iter    33:    Energy =   0.0332
Level     1,  Iter    34:    Energy =   0.0333
Level     1,  Iter    35:    Energy =   0.0333
Level     1,  Iter    36:    Energy =   0.0333
Level     1,  Iter    37:    Energy =   0.0333
Level     1,  Iter    38:    Energy =   0.0332
Level     1,  Iter    39:    Energy =   0.0332
Level     1,  Iter    40:    Energy =   0.0332
Level     1,  Iter    41:    Energy =   0.0332
Level     1,  Iter    42:    Energy =   0.0332
Level     1,  Iter    43:    Energy =   0.0332
Level     1,  Iter    44:    Energy =   0.0332
Level     1,  Iter    45:    Energy =   0.0331
Level     1,  Iter    46:    Energy =   0.0331
Level     1,  Iter    47:    Energy =   0.0331
Level     1,  Iter    48:    Energy =   0.0330
Level     1,  Iter    49:    Energy =   0.0330
Level     1,  Iter    50:    Energy =   0.0330
Level     1,  Iter    51:    Energy =   0.0329
Level     1,  Iter    52:    Energy =   0.0329
Level     1,  Iter    53:    Energy =   0.0329
Level     1,  Iter    54:    Energy =   0.0328
Level     1,  Iter    55:    Energy =   0.0328
Level     1,  Iter    56:    Energy =   0.0328
Level     1,  Iter    57:    Energy =   0.0327
Level     1,  Iter    58:    Energy =   0.0327
Level     1,  Iter    59:    Energy =   0.0327
END OF LEVEL     1    DetJac Range:   0.0403  to   3.1719 
  Avg. Gradient Time  : 0.0274s  34.44% 
  Avg. Gaussian Time  : 0.0410s  51.66% 
  Avg. Iteration Time : 0.0794s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0152
Level     2,  Iter     1:    Energy =   0.0158
Level     2,  Iter     2:    Energy =   0.0163
Level     2,  Iter     3:    Energy =   0.0167
Level     2,  Iter     4:    Energy =   0.0170
Level     2,  Iter     5:    Energy =   0.0174
Level     2,  Iter     6:    Energy =   0.0178
Level     2,  Iter     7:    Energy =   0.0181
Level     2,  Iter     8:    Energy =   0.0185
Level     2,  Iter     9:    Energy =   0.0188
Level     2,  Iter    10:    Energy =   0.0190
Level     2,  Iter    11:    Energy =   0.0194
Level     2,  Iter    12:    Energy =   0.0196
Level     2,  Iter    13:    Energy =   0.0197
Level     2,  Iter    14:    Energy =   0.0200
Level     2,  Iter    15:    Energy =   0.0202
Level     2,  Iter    16:    Energy =   0.0203
Level     2,  Iter    17:    Energy =   0.0205
Level     2,  Iter    18:    Energy =   0.0206
Level     2,  Iter    19:    Energy =   0.0208
END OF LEVEL     2    DetJac Range:   0.0247  to   3.5291 
  Avg. Gradient Time  : 0.1805s  32.50% 
  Avg. Gaussian Time  : 0.2991s  53.85% 
  Avg. Iteration Time : 0.5554s 

real	0m19.725s
user	0m34.364s
sys	0m2.072s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 426.103   GNORM= 161.602
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       291.812     124.488       0.006
   2    3      -282.390     109.058       1.000
   3    5      -537.681      52.320       0.313
   4    7      -541.559      46.161       0.129
   5    8      -568.557      30.526       1.000
   6    9      -577.616      99.743       1.000
   7   11      -579.551      60.780       0.472
   8   13      -589.172      55.270       0.073
   9   14      -603.075      66.628       1.000
  10   15      -695.651     177.790       1.000
  11   16      -827.591     113.693       1.000
  12   18      -856.069     527.064       0.400
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.469337 0.212565 -0.361596 2.24969 
0.27995 0.643848 -0.129631 11.0624 
0.0408548 -0.414273 0.89242 -8.0595 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -410.676   GNORM= 85.4522
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -426.479      69.517       0.012
   2    9      -427.439      61.566       0.106
   3   10      -435.779      46.349       1.000
   4   12      -443.505      33.655       0.521
   5   18      -443.828      55.263       1.003
   6   23      -444.305     214.851       0.012
   7   26      -444.448      23.749       0.133
   8   28      -445.109     109.538       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.472866 0.220186 -0.370498 2.90221 
0.278531 0.641091 -0.118699 10.4951 
0.039401 -0.409816 0.903034 -8.17974 
0 0 0 1 

Final RAS Transform: 
0.472866 0.220186 -0.370498 2.90221 
0.278531 0.641091 -0.118699 10.4951 
0.039401 -0.409816 0.903034 -8.17974 
0 0 0 1 


real	0m4.805s
user	0m7.924s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.391126
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0198
Level     0,  Iter     1:    Energy =   0.0215
Level     0,  Iter     2:    Energy =   0.0239
Level     0,  Iter     3:    Energy =   0.0263
Level     0,  Iter     4:    Energy =   0.0282
Level     0,  Iter     5:    Energy =   0.0298
Level     0,  Iter     6:    Energy =   0.0311
Level     0,  Iter     7:    Energy =   0.0322
Level     0,  Iter     8:    Energy =   0.0330
Level     0,  Iter     9:    Energy =   0.0339
Level     0,  Iter    10:    Energy =   0.0346
Level     0,  Iter    11:    Energy =   0.0355
Level     0,  Iter    12:    Energy =   0.0364
Level     0,  Iter    13:    Energy =   0.0375
Level     0,  Iter    14:    Energy =   0.0384
Level     0,  Iter    15:    Energy =   0.0393
Level     0,  Iter    16:    Energy =   0.0400
Level     0,  Iter    17:    Energy =   0.0406
Level     0,  Iter    18:    Energy =   0.0412
Level     0,  Iter    19:    Energy =   0.0418
Level     0,  Iter    20:    Energy =   0.0423
Level     0,  Iter    21:    Energy =   0.0428
Level     0,  Iter    22:    Energy =   0.0433
Level     0,  Iter    23:    Energy =   0.0436
Level     0,  Iter    24:    Energy =   0.0438
Level     0,  Iter    25:    Energy =   0.0440
Level     0,  Iter    26:    Energy =   0.0442
Level     0,  Iter    27:    Energy =   0.0444
Level     0,  Iter    28:    Energy =   0.0445
Level     0,  Iter    29:    Energy =   0.0447
Level     0,  Iter    30:    Energy =   0.0449
Level     0,  Iter    31:    Energy =   0.0450
Level     0,  Iter    32:    Energy =   0.0452
Level     0,  Iter    33:    Energy =   0.0453
Level     0,  Iter    34:    Energy =   0.0455
Level     0,  Iter    35:    Energy =   0.0457
Level     0,  Iter    36:    Energy =   0.0461
Level     0,  Iter    37:    Energy =   0.0464
Level     0,  Iter    38:    Energy =   0.0467
Level     0,  Iter    39:    Energy =   0.0468
Level     0,  Iter    40:    Energy =   0.0470
Level     0,  Iter    41:    Energy =   0.0472
Level     0,  Iter    42:    Energy =   0.0473
Level     0,  Iter    43:    Energy =   0.0474
Level     0,  Iter    44:    Energy =   0.0475
Level     0,  Iter    45:    Energy =   0.0476
Level     0,  Iter    46:    Energy =   0.0477
Level     0,  Iter    47:    Energy =   0.0478
Level     0,  Iter    48:    Energy =   0.0479
Level     0,  Iter    49:    Energy =   0.0479
Level     0,  Iter    50:    Energy =   0.0479
Level     0,  Iter    51:    Energy =   0.0480
Level     0,  Iter    52:    Energy =   0.0481
Level     0,  Iter    53:    Energy =   0.0483
Level     0,  Iter    54:    Energy =   0.0485
Level     0,  Iter    55:    Energy =   0.0486
Level     0,  Iter    56:    Energy =   0.0485
Level     0,  Iter    57:    Energy =   0.0487
Level     0,  Iter    58:    Energy =   0.0489
Level     0,  Iter    59:    Energy =   0.0489
END OF LEVEL     0    DetJac Range:   0.1370  to   2.7762 
  Avg. Gradient Time  : 0.0066s  33.51% 
  Avg. Gaussian Time  : 0.0095s  48.28% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0241
Level     1,  Iter     1:    Energy =   0.0252
Level     1,  Iter     2:    Energy =   0.0263
Level     1,  Iter     3:    Energy =   0.0273
Level     1,  Iter     4:    Energy =   0.0282
Level     1,  Iter     5:    Energy =   0.0289
Level     1,  Iter     6:    Energy =   0.0294
Level     1,  Iter     7:    Energy =   0.0300
Level     1,  Iter     8:    Energy =   0.0304
Level     1,  Iter     9:    Energy =   0.0308
Level     1,  Iter    10:    Energy =   0.0310
Level     1,  Iter    11:    Energy =   0.0313
Level     1,  Iter    12:    Energy =   0.0315
Level     1,  Iter    13:    Energy =   0.0317
Level     1,  Iter    14:    Energy =   0.0318
Level     1,  Iter    15:    Energy =   0.0319
Level     1,  Iter    16:    Energy =   0.0320
Level     1,  Iter    17:    Energy =   0.0321
Level     1,  Iter    18:    Energy =   0.0322
Level     1,  Iter    19:    Energy =   0.0323
Level     1,  Iter    20:    Energy =   0.0324
Level     1,  Iter    21:    Energy =   0.0324
Level     1,  Iter    22:    Energy =   0.0325
Level     1,  Iter    23:    Energy =   0.0326
Level     1,  Iter    24:    Energy =   0.0327
Level     1,  Iter    25:    Energy =   0.0328
Level     1,  Iter    26:    Energy =   0.0329
Level     1,  Iter    27:    Energy =   0.0330
Level     1,  Iter    28:    Energy =   0.0331
Level     1,  Iter    29:    Energy =   0.0332
Level     1,  Iter    30:    Energy =   0.0333
Level     1,  Iter    31:    Energy =   0.0334
Level     1,  Iter    32:    Energy =   0.0336
Level     1,  Iter    33:    Energy =   0.0337
Level     1,  Iter    34:    Energy =   0.0338
Level     1,  Iter    35:    Energy =   0.0339
Level     1,  Iter    36:    Energy =   0.0341
Level     1,  Iter    37:    Energy =   0.0342
Level     1,  Iter    38:    Energy =   0.0343
Level     1,  Iter    39:    Energy =   0.0344
Level     1,  Iter    40:    Energy =   0.0345
Level     1,  Iter    41:    Energy =   0.0347
Level     1,  Iter    42:    Energy =   0.0347
Level     1,  Iter    43:    Energy =   0.0348
Level     1,  Iter    44:    Energy =   0.0349
Level     1,  Iter    45:    Energy =   0.0350
Level     1,  Iter    46:    Energy =   0.0351
Level     1,  Iter    47:    Energy =   0.0351
Level     1,  Iter    48:    Energy =   0.0352
Level     1,  Iter    49:    Energy =   0.0352
Level     1,  Iter    50:    Energy =   0.0350
Level     1,  Iter    51:    Energy =   0.0351
Level     1,  Iter    52:    Energy =   0.0350
Level     1,  Iter    53:    Energy =   0.0351
Level     1,  Iter    54:    Energy =   0.0350
Level     1,  Iter    55:    Energy =   0.0351
Level     1,  Iter    56:    Energy =   0.0350
Level     1,  Iter    57:    Energy =   0.0351
Level     1,  Iter    58:    Energy =   0.0350
Level     1,  Iter    59:    Energy =   0.0351
END OF LEVEL     1    DetJac Range:   0.0435  to   4.4446 
  Avg. Gradient Time  : 0.0278s  34.18% 
  Avg. Gaussian Time  : 0.0422s  51.89% 
  Avg. Iteration Time : 0.0813s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0170
Level     2,  Iter     1:    Energy =   0.0175
Level     2,  Iter     2:    Energy =   0.0180
Level     2,  Iter     3:    Energy =   0.0185
Level     2,  Iter     4:    Energy =   0.0190
Level     2,  Iter     5:    Energy =   0.0194
Level     2,  Iter     6:    Energy =   0.0197
Level     2,  Iter     7:    Energy =   0.0199
Level     2,  Iter     8:    Energy =   0.0202
Level     2,  Iter     9:    Energy =   0.0204
Level     2,  Iter    10:    Energy =   0.0206
Level     2,  Iter    11:    Energy =   0.0208
Level     2,  Iter    12:    Energy =   0.0209
Level     2,  Iter    13:    Energy =   0.0211
Level     2,  Iter    14:    Energy =   0.0213
Level     2,  Iter    15:    Energy =   0.0215
Level     2,  Iter    16:    Energy =   0.0215
Level     2,  Iter    17:    Energy =   0.0218
Level     2,  Iter    18:    Energy =   0.0220
Level     2,  Iter    19:    Energy =   0.0223
END OF LEVEL     2    DetJac Range:   0.0539  to   3.9269 
  Avg. Gradient Time  : 0.1828s  32.84% 
  Avg. Gaussian Time  : 0.2986s  53.64% 
  Avg. Iteration Time : 0.5567s 

real	0m19.943s
user	0m34.728s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 548.639   GNORM= 182.077
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -134.234     128.576       0.027
   2    4      -446.231      77.650       1.000
   3    7      -607.177     118.385       1.374
   4    8      -746.965      56.894       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00005 0.0638633 -0.117046 1.28209 
0.122749 1.15776 -0.33775 6.21045 
-0.0510755 -0.0931933 1.0056 -3.41194 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -368.718   GNORM= 36.4717
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.990852 0.0667366 -0.099995 0.0904068 
0.13026 1.1584 -0.357237 6.45399 
-0.0435592 -0.0986428 1.0024 -3.60171 
0 0 0 1 

Final RAS Transform: 
0.990852 0.0667366 -0.099995 0.0904068 
0.13026 1.1584 -0.357237 6.45399 
-0.0435592 -0.0986428 1.0024 -3.60171 
0 0 0 1 


real	0m3.165s
user	0m4.856s
sys	0m0.392s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.444082
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0178
Level     0,  Iter     1:    Energy =   0.0192
Level     0,  Iter     2:    Energy =   0.0213
Level     0,  Iter     3:    Energy =   0.0236
Level     0,  Iter     4:    Energy =   0.0258
Level     0,  Iter     5:    Energy =   0.0276
Level     0,  Iter     6:    Energy =   0.0294
Level     0,  Iter     7:    Energy =   0.0299
Level     0,  Iter     8:    Energy =   0.0303
Level     0,  Iter     9:    Energy =   0.0310
Level     0,  Iter    10:    Energy =   0.0316
Level     0,  Iter    11:    Energy =   0.0321
Level     0,  Iter    12:    Energy =   0.0328
Level     0,  Iter    13:    Energy =   0.0334
Level     0,  Iter    14:    Energy =   0.0340
Level     0,  Iter    15:    Energy =   0.0344
Level     0,  Iter    16:    Energy =   0.0347
Level     0,  Iter    17:    Energy =   0.0350
Level     0,  Iter    18:    Energy =   0.0354
Level     0,  Iter    19:    Energy =   0.0356
Level     0,  Iter    20:    Energy =   0.0359
Level     0,  Iter    21:    Energy =   0.0361
Level     0,  Iter    22:    Energy =   0.0364
Level     0,  Iter    23:    Energy =   0.0366
Level     0,  Iter    24:    Energy =   0.0369
Level     0,  Iter    25:    Energy =   0.0371
Level     0,  Iter    26:    Energy =   0.0373
Level     0,  Iter    27:    Energy =   0.0375
Level     0,  Iter    28:    Energy =   0.0375
Level     0,  Iter    29:    Energy =   0.0376
Level     0,  Iter    30:    Energy =   0.0377
Level     0,  Iter    31:    Energy =   0.0377
Level     0,  Iter    32:    Energy =   0.0378
Level     0,  Iter    33:    Energy =   0.0378
Level     0,  Iter    34:    Energy =   0.0378
Level     0,  Iter    35:    Energy =   0.0379
Level     0,  Iter    36:    Energy =   0.0379
Level     0,  Iter    37:    Energy =   0.0379
Level     0,  Iter    38:    Energy =   0.0379
Level     0,  Iter    39:    Energy =   0.0380
Level     0,  Iter    40:    Energy =   0.0380
Level     0,  Iter    41:    Energy =   0.0381
Level     0,  Iter    42:    Energy =   0.0381
Level     0,  Iter    43:    Energy =   0.0382
Level     0,  Iter    44:    Energy =   0.0383
Level     0,  Iter    45:    Energy =   0.0384
Level     0,  Iter    46:    Energy =   0.0385
Level     0,  Iter    47:    Energy =   0.0386
Level     0,  Iter    48:    Energy =   0.0386
Level     0,  Iter    49:    Energy =   0.0388
Level     0,  Iter    50:    Energy =   0.0389
Level     0,  Iter    51:    Energy =   0.0390
Level     0,  Iter    52:    Energy =   0.0391
Level     0,  Iter    53:    Energy =   0.0393
Level     0,  Iter    54:    Energy =   0.0396
Level     0,  Iter    55:    Energy =   0.0398
Level     0,  Iter    56:    Energy =   0.0400
Level     0,  Iter    57:    Energy =   0.0401
Level     0,  Iter    58:    Energy =   0.0404
Level     0,  Iter    59:    Energy =   0.0405
END OF LEVEL     0    DetJac Range:   0.0301  to   2.5557 
  Avg. Gradient Time  : 0.0067s  33.40% 
  Avg. Gaussian Time  : 0.0097s  48.10% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0226
Level     1,  Iter     1:    Energy =   0.0234
Level     1,  Iter     2:    Energy =   0.0242
Level     1,  Iter     3:    Energy =   0.0247
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0255
Level     1,  Iter     6:    Energy =   0.0257
Level     1,  Iter     7:    Energy =   0.0258
Level     1,  Iter     8:    Energy =   0.0261
Level     1,  Iter     9:    Energy =   0.0262
Level     1,  Iter    10:    Energy =   0.0263
Level     1,  Iter    11:    Energy =   0.0263
Level     1,  Iter    12:    Energy =   0.0264
Level     1,  Iter    13:    Energy =   0.0264
Level     1,  Iter    14:    Energy =   0.0265
Level     1,  Iter    15:    Energy =   0.0265
Level     1,  Iter    16:    Energy =   0.0266
Level     1,  Iter    17:    Energy =   0.0266
Level     1,  Iter    18:    Energy =   0.0265
Level     1,  Iter    19:    Energy =   0.0265
Level     1,  Iter    20:    Energy =   0.0265
Level     1,  Iter    21:    Energy =   0.0265
Level     1,  Iter    22:    Energy =   0.0265
Level     1,  Iter    23:    Energy =   0.0265
Level     1,  Iter    24:    Energy =   0.0265
Level     1,  Iter    25:    Energy =   0.0266
Level     1,  Iter    26:    Energy =   0.0266
Level     1,  Iter    27:    Energy =   0.0266
Level     1,  Iter    28:    Energy =   0.0266
Level     1,  Iter    29:    Energy =   0.0266
Level     1,  Iter    30:    Energy =   0.0266
Level     1,  Iter    31:    Energy =   0.0266
Level     1,  Iter    32:    Energy =   0.0266
Level     1,  Iter    33:    Energy =   0.0265
Level     1,  Iter    34:    Energy =   0.0265
Level     1,  Iter    35:    Energy =   0.0265
Level     1,  Iter    36:    Energy =   0.0265
Level     1,  Iter    37:    Energy =   0.0265
Level     1,  Iter    38:    Energy =   0.0265
Level     1,  Iter    39:    Energy =   0.0265
Level     1,  Iter    40:    Energy =   0.0264
Level     1,  Iter    41:    Energy =   0.0264
Level     1,  Iter    42:    Energy =   0.0264
Level     1,  Iter    43:    Energy =   0.0264
Level     1,  Iter    44:    Energy =   0.0264
Level     1,  Iter    45:    Energy =   0.0264
Level     1,  Iter    46:    Energy =   0.0264
Level     1,  Iter    47:    Energy =   0.0264
Level     1,  Iter    48:    Energy =   0.0264
Level     1,  Iter    49:    Energy =   0.0263
Level     1,  Iter    50:    Energy =   0.0263
Level     1,  Iter    51:    Energy =   0.0264
Level     1,  Iter    52:    Energy =   0.0264
Level     1,  Iter    53:    Energy =   0.0264
Level     1,  Iter    54:    Energy =   0.0264
Level     1,  Iter    55:    Energy =   0.0264
Level     1,  Iter    56:    Energy =   0.0264
Level     1,  Iter    57:    Energy =   0.0264
Level     1,  Iter    58:    Energy =   0.0264
Level     1,  Iter    59:    Energy =   0.0264
END OF LEVEL     1    DetJac Range:   0.1360  to   2.2136 
  Avg. Gradient Time  : 0.0290s  34.46% 
  Avg. Gaussian Time  : 0.0435s  51.69% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0119
Level     2,  Iter     1:    Energy =   0.0128
Level     2,  Iter     2:    Energy =   0.0134
Level     2,  Iter     3:    Energy =   0.0141
Level     2,  Iter     4:    Energy =   0.0148
Level     2,  Iter     5:    Energy =   0.0153
Level     2,  Iter     6:    Energy =   0.0158
Level     2,  Iter     7:    Energy =   0.0161
Level     2,  Iter     8:    Energy =   0.0165
Level     2,  Iter     9:    Energy =   0.0168
Level     2,  Iter    10:    Energy =   0.0171
Level     2,  Iter    11:    Energy =   0.0174
Level     2,  Iter    12:    Energy =   0.0177
Level     2,  Iter    13:    Energy =   0.0179
Level     2,  Iter    14:    Energy =   0.0182
Level     2,  Iter    15:    Energy =   0.0184
Level     2,  Iter    16:    Energy =   0.0186
Level     2,  Iter    17:    Energy =   0.0188
Level     2,  Iter    18:    Energy =   0.0190
Level     2,  Iter    19:    Energy =   0.0192
END OF LEVEL     2    DetJac Range:   0.0240  to   3.4595 
  Avg. Gradient Time  : 0.1853s  32.51% 
  Avg. Gaussian Time  : 0.3069s  53.86% 
  Avg. Iteration Time : 0.5699s 

real	0m20.389s
user	0m35.256s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 500.261   GNORM= 178.11
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -340.823     114.818       0.028
   2    5      -464.307      85.305       0.388
   3    6      -619.623      82.523       1.000
   4    9      -630.462      66.404       0.034
   5   10      -700.593      30.531       1.000
   6   14      -740.080      34.027       1.117
   7   15      -747.068      27.957       1.000
   8   16      -769.853      40.276       1.000
   9   20      -814.082      51.760       1.351
  10   21      -816.635      32.359       1.000
  11   24      -819.926      54.589       0.076
  12   25      -890.441      57.274       1.000
  13   27      -927.878      37.687       0.373
  14   28      -945.772      34.311       1.000
  15   30      -951.584      36.513       0.174
  16   31      -958.624      35.903       1.000
  17   32     -1000.321      27.855       1.000
  18   33     -1031.133      87.070       1.000
  19   34     -1045.759      57.659       1.000
  20   36     -1083.231      64.345       0.250
  21   37     -1099.952     112.919       1.000
  22   40     -1184.972      61.413       1.785
  23   42     -1205.565      70.649       0.198
  24   44     -1229.547      64.444       0.305
  25   45     -1253.282      71.214       1.000
  26   47     -1266.606      66.061       0.258
  27   48     -1276.493      52.482       1.000
  28   49     -1299.739      38.089       1.000
  29   52     -1314.633      39.654       0.345
  30   53     -1358.352     103.592       1.000
  31   55     -1396.061      37.201       0.258
  32   57     -1400.252      40.804       0.471
  33   61     -1424.909     126.875       3.890
Final RAS Transform: 
0.570656 0.612713 -0.0404587 -6.12606 
0.491396 0.887949 -0.089047 7.04161 
-0.00625522 -0.209501 0.611147 -9.18314 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -571.462   GNORM= 58.3996
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -580.734      42.840       0.003
   2    6      -612.100     183.122       2.333
   3    7      -613.694      27.825       1.000
   4   10      -614.178      19.794       1.106
   5   12      -622.610      41.784       5.000
   6   13      -641.753      24.522       1.000
   7   15      -644.236      39.189       0.126
   8   16      -653.191      17.739       1.000
   9   17      -658.836      55.692       1.000
  10   18      -667.470      30.858       1.000
  11   19      -678.585      58.592       1.000
  12   21      -685.491      69.197       0.209
  13   22      -713.164      59.896       1.000
  14   25      -714.102      22.537       0.051
  15   26      -718.082      17.474       1.000
  16   29      -718.433      24.095       0.055
  17   30      -720.235      56.543       1.000
  18   31      -721.266      21.582       1.000
  19   33      -723.394      22.946       5.000
  20   34      -725.000      15.443       1.000
  21   35      -728.328      21.947       1.000
  22   38      -734.571      25.373       0.149
  23   40      -739.079      28.667       0.364
  24   41      -742.672      34.910       1.000
  25   42      -746.606      39.217       1.000
  26   44      -748.531      34.544       0.223
  27   45      -750.891      15.729       1.000
  28   46      -752.557      15.749       1.000
  29   47      -754.681      20.408       1.000
  30   48      -756.341      17.477       1.000
  31   49      -758.566      21.699       1.000
  32   50      -760.221      16.103       1.000
  33   51      -763.887      16.488       1.000
  34   52      -765.503      26.675       1.000
  35   53      -767.393      18.299       1.000
  36   54      -769.626      28.757       1.000
  37   55      -771.577      20.914       1.000
  38   58      -772.666      21.017       0.065
  39   59      -773.701      23.387       1.000
  40   60      -775.360       9.955       1.000
  41   61      -776.254      18.643       1.000
Final RAS Transform: 
0.596757 0.543198 0.0400472 -5.2005 
0.3759 0.721568 -0.11524 9.80633 
0.0132493 -0.234754 0.522904 -10.2909 
0 0 0 1 

Final RAS Transform: 
0.596757 0.543198 0.0400472 -5.2005 
0.3759 0.721568 -0.11524 9.80633 
0.0132493 -0.234754 0.522904 -10.2909 
0 0 0 1 


real	0m6.085s
user	0m10.252s
sys	0m0.608s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.30806
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0335
Level     0,  Iter     1:    Energy =   0.0353
Level     0,  Iter     2:    Energy =   0.0391
Level     0,  Iter     3:    Energy =   0.0421
Level     0,  Iter     4:    Energy =   0.0445
Level     0,  Iter     5:    Energy =   0.0463
Level     0,  Iter     6:    Energy =   0.0477
Level     0,  Iter     7:    Energy =   0.0490
Level     0,  Iter     8:    Energy =   0.0502
Level     0,  Iter     9:    Energy =   0.0514
Level     0,  Iter    10:    Energy =   0.0523
Level     0,  Iter    11:    Energy =   0.0532
Level     0,  Iter    12:    Energy =   0.0538
Level     0,  Iter    13:    Energy =   0.0541
Level     0,  Iter    14:    Energy =   0.0545
Level     0,  Iter    15:    Energy =   0.0546
Level     0,  Iter    16:    Energy =   0.0549
Level     0,  Iter    17:    Energy =   0.0550
Level     0,  Iter    18:    Energy =   0.0552
Level     0,  Iter    19:    Energy =   0.0554
Level     0,  Iter    20:    Energy =   0.0556
Level     0,  Iter    21:    Energy =   0.0558
Level     0,  Iter    22:    Energy =   0.0560
Level     0,  Iter    23:    Energy =   0.0562
Level     0,  Iter    24:    Energy =   0.0565
Level     0,  Iter    25:    Energy =   0.0566
Level     0,  Iter    26:    Energy =   0.0568
Level     0,  Iter    27:    Energy =   0.0568
Level     0,  Iter    28:    Energy =   0.0570
Level     0,  Iter    29:    Energy =   0.0570
Level     0,  Iter    30:    Energy =   0.0572
Level     0,  Iter    31:    Energy =   0.0572
Level     0,  Iter    32:    Energy =   0.0575
Level     0,  Iter    33:    Energy =   0.0575
Level     0,  Iter    34:    Energy =   0.0577
Level     0,  Iter    35:    Energy =   0.0577
Level     0,  Iter    36:    Energy =   0.0579
Level     0,  Iter    37:    Energy =   0.0579
Level     0,  Iter    38:    Energy =   0.0581
Level     0,  Iter    39:    Energy =   0.0580
Level     0,  Iter    40:    Energy =   0.0581
Level     0,  Iter    41:    Energy =   0.0581
Level     0,  Iter    42:    Energy =   0.0582
Level     0,  Iter    43:    Energy =   0.0581
Level     0,  Iter    44:    Energy =   0.0583
Level     0,  Iter    45:    Energy =   0.0583
Level     0,  Iter    46:    Energy =   0.0584
Level     0,  Iter    47:    Energy =   0.0584
Level     0,  Iter    48:    Energy =   0.0586
Level     0,  Iter    49:    Energy =   0.0587
Level     0,  Iter    50:    Energy =   0.0589
Level     0,  Iter    51:    Energy =   0.0588
Level     0,  Iter    52:    Energy =   0.0590
Level     0,  Iter    53:    Energy =   0.0588
Level     0,  Iter    54:    Energy =   0.0590
Level     0,  Iter    55:    Energy =   0.0589
Level     0,  Iter    56:    Energy =   0.0591
Level     0,  Iter    57:    Energy =   0.0589
Level     0,  Iter    58:    Energy =   0.0591
Level     0,  Iter    59:    Energy =   0.0590
END OF LEVEL     0    DetJac Range:   0.0971  to   2.0376 
  Avg. Gradient Time  : 0.0066s  33.28% 
  Avg. Gaussian Time  : 0.0095s  48.11% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0322
Level     1,  Iter     1:    Energy =   0.0334
Level     1,  Iter     2:    Energy =   0.0345
Level     1,  Iter     3:    Energy =   0.0355
Level     1,  Iter     4:    Energy =   0.0364
Level     1,  Iter     5:    Energy =   0.0372
Level     1,  Iter     6:    Energy =   0.0379
Level     1,  Iter     7:    Energy =   0.0385
Level     1,  Iter     8:    Energy =   0.0391
Level     1,  Iter     9:    Energy =   0.0396
Level     1,  Iter    10:    Energy =   0.0400
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0410
Level     1,  Iter    14:    Energy =   0.0413
Level     1,  Iter    15:    Energy =   0.0416
Level     1,  Iter    16:    Energy =   0.0418
Level     1,  Iter    17:    Energy =   0.0420
Level     1,  Iter    18:    Energy =   0.0422
Level     1,  Iter    19:    Energy =   0.0424
Level     1,  Iter    20:    Energy =   0.0425
Level     1,  Iter    21:    Energy =   0.0426
Level     1,  Iter    22:    Energy =   0.0428
Level     1,  Iter    23:    Energy =   0.0428
Level     1,  Iter    24:    Energy =   0.0429
Level     1,  Iter    25:    Energy =   0.0430
Level     1,  Iter    26:    Energy =   0.0431
Level     1,  Iter    27:    Energy =   0.0432
Level     1,  Iter    28:    Energy =   0.0432
Level     1,  Iter    29:    Energy =   0.0433
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0435
Level     1,  Iter    32:    Energy =   0.0436
Level     1,  Iter    33:    Energy =   0.0436
Level     1,  Iter    34:    Energy =   0.0437
Level     1,  Iter    35:    Energy =   0.0438
Level     1,  Iter    36:    Energy =   0.0438
Level     1,  Iter    37:    Energy =   0.0439
Level     1,  Iter    38:    Energy =   0.0439
Level     1,  Iter    39:    Energy =   0.0439
Level     1,  Iter    40:    Energy =   0.0439
Level     1,  Iter    41:    Energy =   0.0439
Level     1,  Iter    42:    Energy =   0.0439
Level     1,  Iter    43:    Energy =   0.0440
Level     1,  Iter    44:    Energy =   0.0440
Level     1,  Iter    45:    Energy =   0.0440
Level     1,  Iter    46:    Energy =   0.0440
Level     1,  Iter    47:    Energy =   0.0440
Level     1,  Iter    48:    Energy =   0.0439
Level     1,  Iter    49:    Energy =   0.0439
Level     1,  Iter    50:    Energy =   0.0439
Level     1,  Iter    51:    Energy =   0.0439
Level     1,  Iter    52:    Energy =   0.0438
Level     1,  Iter    53:    Energy =   0.0438
Level     1,  Iter    54:    Energy =   0.0438
Level     1,  Iter    55:    Energy =   0.0437
Level     1,  Iter    56:    Energy =   0.0437
Level     1,  Iter    57:    Energy =   0.0437
Level     1,  Iter    58:    Energy =   0.0437
Level     1,  Iter    59:    Energy =   0.0437
END OF LEVEL     1    DetJac Range:   0.0151  to   2.5823 
  Avg. Gradient Time  : 0.0289s  34.53% 
  Avg. Gaussian Time  : 0.0432s  51.57% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0230
Level     2,  Iter     1:    Energy =   0.0238
Level     2,  Iter     2:    Energy =   0.0246
Level     2,  Iter     3:    Energy =   0.0253
Level     2,  Iter     4:    Energy =   0.0258
Level     2,  Iter     5:    Energy =   0.0264
Level     2,  Iter     6:    Energy =   0.0268
Level     2,  Iter     7:    Energy =   0.0273
Level     2,  Iter     8:    Energy =   0.0277
Level     2,  Iter     9:    Energy =   0.0282
Level     2,  Iter    10:    Energy =   0.0286
Level     2,  Iter    11:    Energy =   0.0288
Level     2,  Iter    12:    Energy =   0.0289
Level     2,  Iter    13:    Energy =   0.0291
Level     2,  Iter    14:    Energy =   0.0295
Level     2,  Iter    15:    Energy =   0.0298
Level     2,  Iter    16:    Energy =   0.0301
Level     2,  Iter    17:    Energy =   0.0305
Level     2,  Iter    18:    Energy =   0.0307
Level     2,  Iter    19:    Energy =   0.0310
END OF LEVEL     2    DetJac Range:   0.0235  to   3.1968 
  Avg. Gradient Time  : 0.1879s  33.02% 
  Avg. Gaussian Time  : 0.3039s  53.42% 
  Avg. Iteration Time : 0.5690s 

real	0m20.351s
user	0m35.376s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 718.451   GNORM= 200.266
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       200.849     104.612       0.025
   2    5       135.656     137.523       5.000
   3    6      -205.562      96.150       1.000
   4    8      -451.166      25.958       0.292
   5    9      -470.374      44.597       1.000
   6   13      -474.586      46.246       0.010
   7   14      -533.662      98.027       1.000
   8   18      -533.905      71.496       0.009
   9   19      -567.146      87.786       1.000
  10   20      -648.065     206.323       1.000
  11   28      -675.775     153.252       0.203
  12   29      -737.461     106.069       1.000
  13   31      -746.069      39.759       0.147
  14   37      -747.232     141.386       0.102
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.872311 0.126961 -0.33111 0.806956 
0.336697 1.05301 -0.153699 5.23691 
-0.0848418 -0.0535958 1.34707 -0.891219 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -344.333   GNORM= 6460.96
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -345.214     393.159       0.000
   2    5      -345.743     150.949       1.000
   3    6      -345.894      55.657       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.872242 0.126864 -0.330878 0.789268 
0.336733 1.05306 -0.15384 5.24787 
-0.0844349 -0.0530559 1.3458 -0.802798 
0 0 0 1 

Final RAS Transform: 
0.872242 0.126864 -0.330878 0.789268 
0.336733 1.05306 -0.15384 5.24787 
-0.0844349 -0.0530559 1.3458 -0.802798 
0 0 0 1 


real	0m3.841s
user	0m5.996s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.422244
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0173
Level     0,  Iter     1:    Energy =   0.0186
Level     0,  Iter     2:    Energy =   0.0217
Level     0,  Iter     3:    Energy =   0.0243
Level     0,  Iter     4:    Energy =   0.0267
Level     0,  Iter     5:    Energy =   0.0282
Level     0,  Iter     6:    Energy =   0.0297
Level     0,  Iter     7:    Energy =   0.0314
Level     0,  Iter     8:    Energy =   0.0327
Level     0,  Iter     9:    Energy =   0.0341
Level     0,  Iter    10:    Energy =   0.0353
Level     0,  Iter    11:    Energy =   0.0362
Level     0,  Iter    12:    Energy =   0.0370
Level     0,  Iter    13:    Energy =   0.0377
Level     0,  Iter    14:    Energy =   0.0382
Level     0,  Iter    15:    Energy =   0.0389
Level     0,  Iter    16:    Energy =   0.0394
Level     0,  Iter    17:    Energy =   0.0397
Level     0,  Iter    18:    Energy =   0.0400
Level     0,  Iter    19:    Energy =   0.0402
Level     0,  Iter    20:    Energy =   0.0404
Level     0,  Iter    21:    Energy =   0.0405
Level     0,  Iter    22:    Energy =   0.0405
Level     0,  Iter    23:    Energy =   0.0405
Level     0,  Iter    24:    Energy =   0.0406
Level     0,  Iter    25:    Energy =   0.0406
Level     0,  Iter    26:    Energy =   0.0406
Level     0,  Iter    27:    Energy =   0.0406
Level     0,  Iter    28:    Energy =   0.0406
Level     0,  Iter    29:    Energy =   0.0407
Level     0,  Iter    30:    Energy =   0.0407
Level     0,  Iter    31:    Energy =   0.0407
Level     0,  Iter    32:    Energy =   0.0408
Level     0,  Iter    33:    Energy =   0.0408
Level     0,  Iter    34:    Energy =   0.0409
Level     0,  Iter    35:    Energy =   0.0409
Level     0,  Iter    36:    Energy =   0.0409
Level     0,  Iter    37:    Energy =   0.0409
Level     0,  Iter    38:    Energy =   0.0409
Level     0,  Iter    39:    Energy =   0.0409
Level     0,  Iter    40:    Energy =   0.0410
Level     0,  Iter    41:    Energy =   0.0410
Level     0,  Iter    42:    Energy =   0.0410
Level     0,  Iter    43:    Energy =   0.0410
Level     0,  Iter    44:    Energy =   0.0411
Level     0,  Iter    45:    Energy =   0.0411
Level     0,  Iter    46:    Energy =   0.0412
Level     0,  Iter    47:    Energy =   0.0412
Level     0,  Iter    48:    Energy =   0.0412
Level     0,  Iter    49:    Energy =   0.0413
Level     0,  Iter    50:    Energy =   0.0413
Level     0,  Iter    51:    Energy =   0.0413
Level     0,  Iter    52:    Energy =   0.0414
Level     0,  Iter    53:    Energy =   0.0414
Level     0,  Iter    54:    Energy =   0.0415
Level     0,  Iter    55:    Energy =   0.0415
Level     0,  Iter    56:    Energy =   0.0416
Level     0,  Iter    57:    Energy =   0.0416
Level     0,  Iter    58:    Energy =   0.0417
Level     0,  Iter    59:    Energy =   0.0417
END OF LEVEL     0    DetJac Range:   0.0847  to   1.9542 
  Avg. Gradient Time  : 0.0067s  33.16% 
  Avg. Gaussian Time  : 0.0098s  48.39% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0238
Level     1,  Iter     1:    Energy =   0.0253
Level     1,  Iter     2:    Energy =   0.0266
Level     1,  Iter     3:    Energy =   0.0276
Level     1,  Iter     4:    Energy =   0.0284
Level     1,  Iter     5:    Energy =   0.0290
Level     1,  Iter     6:    Energy =   0.0297
Level     1,  Iter     7:    Energy =   0.0302
Level     1,  Iter     8:    Energy =   0.0307
Level     1,  Iter     9:    Energy =   0.0311
Level     1,  Iter    10:    Energy =   0.0316
Level     1,  Iter    11:    Energy =   0.0322
Level     1,  Iter    12:    Energy =   0.0327
Level     1,  Iter    13:    Energy =   0.0332
Level     1,  Iter    14:    Energy =   0.0336
Level     1,  Iter    15:    Energy =   0.0340
Level     1,  Iter    16:    Energy =   0.0344
Level     1,  Iter    17:    Energy =   0.0347
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0351
Level     1,  Iter    20:    Energy =   0.0353
Level     1,  Iter    21:    Energy =   0.0355
Level     1,  Iter    22:    Energy =   0.0357
Level     1,  Iter    23:    Energy =   0.0359
Level     1,  Iter    24:    Energy =   0.0360
Level     1,  Iter    25:    Energy =   0.0362
Level     1,  Iter    26:    Energy =   0.0363
Level     1,  Iter    27:    Energy =   0.0364
Level     1,  Iter    28:    Energy =   0.0365
Level     1,  Iter    29:    Energy =   0.0365
Level     1,  Iter    30:    Energy =   0.0366
Level     1,  Iter    31:    Energy =   0.0367
Level     1,  Iter    32:    Energy =   0.0367
Level     1,  Iter    33:    Energy =   0.0367
Level     1,  Iter    34:    Energy =   0.0368
Level     1,  Iter    35:    Energy =   0.0368
Level     1,  Iter    36:    Energy =   0.0368
Level     1,  Iter    37:    Energy =   0.0369
Level     1,  Iter    38:    Energy =   0.0369
Level     1,  Iter    39:    Energy =   0.0370
Level     1,  Iter    40:    Energy =   0.0370
Level     1,  Iter    41:    Energy =   0.0370
Level     1,  Iter    42:    Energy =   0.0371
Level     1,  Iter    43:    Energy =   0.0371
Level     1,  Iter    44:    Energy =   0.0372
Level     1,  Iter    45:    Energy =   0.0372
Level     1,  Iter    46:    Energy =   0.0372
Level     1,  Iter    47:    Energy =   0.0373
Level     1,  Iter    48:    Energy =   0.0373
Level     1,  Iter    49:    Energy =   0.0374
Level     1,  Iter    50:    Energy =   0.0374
Level     1,  Iter    51:    Energy =   0.0374
Level     1,  Iter    52:    Energy =   0.0375
Level     1,  Iter    53:    Energy =   0.0375
Level     1,  Iter    54:    Energy =   0.0375
Level     1,  Iter    55:    Energy =   0.0376
Level     1,  Iter    56:    Energy =   0.0376
Level     1,  Iter    57:    Energy =   0.0376
Level     1,  Iter    58:    Energy =   0.0376
Level     1,  Iter    59:    Energy =   0.0376
END OF LEVEL     1    DetJac Range:   0.0754  to   2.1331 
  Avg. Gradient Time  : 0.0288s  34.54% 
  Avg. Gaussian Time  : 0.0430s  51.60% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0185
Level     2,  Iter     1:    Energy =   0.0192
Level     2,  Iter     2:    Energy =   0.0199
Level     2,  Iter     3:    Energy =   0.0205
Level     2,  Iter     4:    Energy =   0.0210
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0219
Level     2,  Iter     7:    Energy =   0.0223
Level     2,  Iter     8:    Energy =   0.0226
Level     2,  Iter     9:    Energy =   0.0228
Level     2,  Iter    10:    Energy =   0.0230
Level     2,  Iter    11:    Energy =   0.0232
Level     2,  Iter    12:    Energy =   0.0233
Level     2,  Iter    13:    Energy =   0.0234
Level     2,  Iter    14:    Energy =   0.0235
Level     2,  Iter    15:    Energy =   0.0236
Level     2,  Iter    16:    Energy =   0.0238
Level     2,  Iter    17:    Energy =   0.0239
Level     2,  Iter    18:    Energy =   0.0240
Level     2,  Iter    19:    Energy =   0.0242
END OF LEVEL     2    DetJac Range:   0.0574  to   2.5724 
  Avg. Gradient Time  : 0.1850s  32.64% 
  Avg. Gaussian Time  : 0.3050s  53.81% 
  Avg. Iteration Time : 0.5668s 

real	0m20.270s
user	0m35.140s
sys	0m2.348s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 650.432   GNORM= 216.208
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -169.717     101.737       0.023
   2    4      -621.335     137.300       1.000
   3    7      -790.326      86.593       0.207
   4    9      -815.379     119.045       0.226
   5   10      -818.755      39.315       1.000
   6   12      -821.173      32.090       0.108
   7   13      -834.963      28.739       1.000
   8   14      -856.863      32.098       1.000
   9   15      -868.084      24.673       1.000
  10   16      -894.443      32.336       1.000
  11   21     -1174.100     104.354       6.753
  12   24     -1216.490      78.394       0.048
  13   26     -1222.769      58.264       0.284
  14   27     -1246.830      82.475       1.000
  15   30     -1281.959      41.188       0.860
  16   31     -1298.574      57.085       1.000
  17   32     -1318.168      55.239       1.000
  18   33     -1349.764     113.813       1.000
  19   34     -1384.933      53.833       1.000
  20   35     -1393.952      40.213       1.000
  21   36     -1410.646      51.017       1.000
  22   37     -1431.746      45.883       1.000
  23   39     -1434.570     323.111       0.360
  24   41     -1439.912      87.573       0.222
  25   43     -1441.018      85.678       0.041
  26   46     -1442.499     111.038       0.000
  27   48     -1451.003     123.794       0.156
  28   50     -1451.562      53.097       0.419
  29   55     -1458.218      35.332       6.408
  30   56     -1460.560      42.226       1.000
  31   57     -1467.305     171.429       1.000
Final RAS Transform: 
0.678067 0.402147 -0.223779 -4.57934 
0.145556 0.846593 0.149512 19.9925 
-0.352583 -0.116086 0.902156 -3.34451 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -722.784   GNORM= 86.7892
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -725.114      85.472       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.67858 0.401941 -0.223346 -4.59406 
0.144113 0.846112 0.151499 19.8359 
-0.354474 -0.118122 0.907056 -3.66422 
0 0 0 1 

Final RAS Transform: 
0.67858 0.401941 -0.223346 -4.59406 
0.144113 0.846112 0.151499 19.8359 
-0.354474 -0.118122 0.907056 -3.66422 
0 0 0 1 


real	0m3.866s
user	0m5.972s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.478827
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0337
Level     0,  Iter     1:    Energy =   0.0355
Level     0,  Iter     2:    Energy =   0.0399
Level     0,  Iter     3:    Energy =   0.0432
Level     0,  Iter     4:    Energy =   0.0461
Level     0,  Iter     5:    Energy =   0.0493
Level     0,  Iter     6:    Energy =   0.0519
Level     0,  Iter     7:    Energy =   0.0537
Level     0,  Iter     8:    Energy =   0.0552
Level     0,  Iter     9:    Energy =   0.0568
Level     0,  Iter    10:    Energy =   0.0585
Level     0,  Iter    11:    Energy =   0.0596
Level     0,  Iter    12:    Energy =   0.0605
Level     0,  Iter    13:    Energy =   0.0613
Level     0,  Iter    14:    Energy =   0.0618
Level     0,  Iter    15:    Energy =   0.0623
Level     0,  Iter    16:    Energy =   0.0628
Level     0,  Iter    17:    Energy =   0.0633
Level     0,  Iter    18:    Energy =   0.0637
Level     0,  Iter    19:    Energy =   0.0638
Level     0,  Iter    20:    Energy =   0.0642
Level     0,  Iter    21:    Energy =   0.0646
Level     0,  Iter    22:    Energy =   0.0647
Level     0,  Iter    23:    Energy =   0.0649
Level     0,  Iter    24:    Energy =   0.0651
Level     0,  Iter    25:    Energy =   0.0654
Level     0,  Iter    26:    Energy =   0.0655
Level     0,  Iter    27:    Energy =   0.0656
Level     0,  Iter    28:    Energy =   0.0658
Level     0,  Iter    29:    Energy =   0.0659
Level     0,  Iter    30:    Energy =   0.0659
Level     0,  Iter    31:    Energy =   0.0660
Level     0,  Iter    32:    Energy =   0.0661
Level     0,  Iter    33:    Energy =   0.0661
Level     0,  Iter    34:    Energy =   0.0661
Level     0,  Iter    35:    Energy =   0.0661
Level     0,  Iter    36:    Energy =   0.0659
Level     0,  Iter    37:    Energy =   0.0659
Level     0,  Iter    38:    Energy =   0.0661
Level     0,  Iter    39:    Energy =   0.0659
Level     0,  Iter    40:    Energy =   0.0661
Level     0,  Iter    41:    Energy =   0.0660
Level     0,  Iter    42:    Energy =   0.0660
Level     0,  Iter    43:    Energy =   0.0659
Level     0,  Iter    44:    Energy =   0.0661
Level     0,  Iter    45:    Energy =   0.0659
Level     0,  Iter    46:    Energy =   0.0662
Level     0,  Iter    47:    Energy =   0.0661
Level     0,  Iter    48:    Energy =   0.0662
Level     0,  Iter    49:    Energy =   0.0661
Level     0,  Iter    50:    Energy =   0.0664
Level     0,  Iter    51:    Energy =   0.0665
Level     0,  Iter    52:    Energy =   0.0665
Level     0,  Iter    53:    Energy =   0.0669
Level     0,  Iter    54:    Energy =   0.0668
Level     0,  Iter    55:    Energy =   0.0671
Level     0,  Iter    56:    Energy =   0.0672
Level     0,  Iter    57:    Energy =   0.0673
Level     0,  Iter    58:    Energy =   0.0672
Level     0,  Iter    59:    Energy =   0.0672
END OF LEVEL     0    DetJac Range:   0.1564  to   2.9473 
  Avg. Gradient Time  : 0.0067s  33.62% 
  Avg. Gaussian Time  : 0.0095s  48.06% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0365
Level     1,  Iter     1:    Energy =   0.0381
Level     1,  Iter     2:    Energy =   0.0395
Level     1,  Iter     3:    Energy =   0.0404
Level     1,  Iter     4:    Energy =   0.0412
Level     1,  Iter     5:    Energy =   0.0419
Level     1,  Iter     6:    Energy =   0.0423
Level     1,  Iter     7:    Energy =   0.0427
Level     1,  Iter     8:    Energy =   0.0431
Level     1,  Iter     9:    Energy =   0.0436
Level     1,  Iter    10:    Energy =   0.0441
Level     1,  Iter    11:    Energy =   0.0449
Level     1,  Iter    12:    Energy =   0.0453
Level     1,  Iter    13:    Energy =   0.0456
Level     1,  Iter    14:    Energy =   0.0459
Level     1,  Iter    15:    Energy =   0.0462
Level     1,  Iter    16:    Energy =   0.0465
Level     1,  Iter    17:    Energy =   0.0468
Level     1,  Iter    18:    Energy =   0.0470
Level     1,  Iter    19:    Energy =   0.0471
Level     1,  Iter    20:    Energy =   0.0473
Level     1,  Iter    21:    Energy =   0.0475
Level     1,  Iter    22:    Energy =   0.0476
Level     1,  Iter    23:    Energy =   0.0478
Level     1,  Iter    24:    Energy =   0.0479
Level     1,  Iter    25:    Energy =   0.0481
Level     1,  Iter    26:    Energy =   0.0482
Level     1,  Iter    27:    Energy =   0.0482
Level     1,  Iter    28:    Energy =   0.0484
Level     1,  Iter    29:    Energy =   0.0485
Level     1,  Iter    30:    Energy =   0.0486
Level     1,  Iter    31:    Energy =   0.0487
Level     1,  Iter    32:    Energy =   0.0487
Level     1,  Iter    33:    Energy =   0.0488
Level     1,  Iter    34:    Energy =   0.0488
Level     1,  Iter    35:    Energy =   0.0489
Level     1,  Iter    36:    Energy =   0.0489
Level     1,  Iter    37:    Energy =   0.0489
Level     1,  Iter    38:    Energy =   0.0489
Level     1,  Iter    39:    Energy =   0.0489
Level     1,  Iter    40:    Energy =   0.0489
Level     1,  Iter    41:    Energy =   0.0490
Level     1,  Iter    42:    Energy =   0.0490
Level     1,  Iter    43:    Energy =   0.0490
Level     1,  Iter    44:    Energy =   0.0490
Level     1,  Iter    45:    Energy =   0.0490
Level     1,  Iter    46:    Energy =   0.0490
Level     1,  Iter    47:    Energy =   0.0490
Level     1,  Iter    48:    Energy =   0.0490
Level     1,  Iter    49:    Energy =   0.0491
Level     1,  Iter    50:    Energy =   0.0491
Level     1,  Iter    51:    Energy =   0.0491
Level     1,  Iter    52:    Energy =   0.0491
Level     1,  Iter    53:    Energy =   0.0492
Level     1,  Iter    54:    Energy =   0.0492
Level     1,  Iter    55:    Energy =   0.0492
Level     1,  Iter    56:    Energy =   0.0492
Level     1,  Iter    57:    Energy =   0.0492
Level     1,  Iter    58:    Energy =   0.0492
Level     1,  Iter    59:    Energy =   0.0492
END OF LEVEL     1    DetJac Range:   0.0357  to   4.5618 
  Avg. Gradient Time  : 0.0277s  34.19% 
  Avg. Gaussian Time  : 0.0421s  51.90% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0242
Level     2,  Iter     1:    Energy =   0.0250
Level     2,  Iter     2:    Energy =   0.0258
Level     2,  Iter     3:    Energy =   0.0265
Level     2,  Iter     4:    Energy =   0.0272
Level     2,  Iter     5:    Energy =   0.0278
Level     2,  Iter     6:    Energy =   0.0282
Level     2,  Iter     7:    Energy =   0.0287
Level     2,  Iter     8:    Energy =   0.0290
Level     2,  Iter     9:    Energy =   0.0293
Level     2,  Iter    10:    Energy =   0.0296
Level     2,  Iter    11:    Energy =   0.0299
Level     2,  Iter    12:    Energy =   0.0301
Level     2,  Iter    13:    Energy =   0.0303
Level     2,  Iter    14:    Energy =   0.0306
Level     2,  Iter    15:    Energy =   0.0308
Level     2,  Iter    16:    Energy =   0.0310
Level     2,  Iter    17:    Energy =   0.0312
Level     2,  Iter    18:    Energy =   0.0314
Level     2,  Iter    19:    Energy =   0.0316
END OF LEVEL     2    DetJac Range:   0.0171  to   3.9589 
  Avg. Gradient Time  : 0.1845s  32.72% 
  Avg. Gaussian Time  : 0.3026s  53.67% 
  Avg. Iteration Time : 0.5638s 

real	0m20.077s
user	0m34.932s
sys	0m2.232s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 571.867   GNORM= 193.513
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -79.371     129.696       0.026
   2    6      -449.734      72.907       2.156
   3    7      -579.305      75.873       1.000
   4    8      -623.202      58.577       1.000
   5    9      -659.357      48.773       1.000
   6   10      -710.548      48.598       1.000
   7   11      -714.411      68.951       1.000
   8   12      -759.342      69.789       1.000
   9   15      -779.717     384.643       1.824
  10   27      -782.010     439.954       0.000
  11   32      -782.812      78.457       0.001
  12   33      -811.387     449.543       1.000
  13   35      -811.676     126.262       0.143
  14   39      -813.195     143.921       1.155
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.747692 0.0409096 -0.135421 -1.1262 
0.229656 1.05541 -0.143718 5.15028 
-0.121962 -0.178847 1.03551 -3.09808 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -325.734   GNORM= 79.6027
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -326.051      98.735       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.74766 0.0408488 -0.135314 -1.13351 
0.229654 1.05543 -0.143745 5.15126 
-0.121956 -0.178832 1.03546 -3.09723 
0 0 0 1 

Final RAS Transform: 
0.74766 0.0408488 -0.135314 -1.13351 
0.229654 1.05543 -0.143745 5.15126 
-0.121956 -0.178832 1.03546 -3.09723 
0 0 0 1 


real	0m3.894s
user	0m6.036s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.484441
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0192
Level     0,  Iter     1:    Energy =   0.0211
Level     0,  Iter     2:    Energy =   0.0239
Level     0,  Iter     3:    Energy =   0.0263
Level     0,  Iter     4:    Energy =   0.0287
Level     0,  Iter     5:    Energy =   0.0310
Level     0,  Iter     6:    Energy =   0.0330
Level     0,  Iter     7:    Energy =   0.0347
Level     0,  Iter     8:    Energy =   0.0359
Level     0,  Iter     9:    Energy =   0.0374
Level     0,  Iter    10:    Energy =   0.0389
Level     0,  Iter    11:    Energy =   0.0401
Level     0,  Iter    12:    Energy =   0.0412
Level     0,  Iter    13:    Energy =   0.0423
Level     0,  Iter    14:    Energy =   0.0434
Level     0,  Iter    15:    Energy =   0.0445
Level     0,  Iter    16:    Energy =   0.0453
Level     0,  Iter    17:    Energy =   0.0462
Level     0,  Iter    18:    Energy =   0.0471
Level     0,  Iter    19:    Energy =   0.0479
Level     0,  Iter    20:    Energy =   0.0484
Level     0,  Iter    21:    Energy =   0.0490
Level     0,  Iter    22:    Energy =   0.0494
Level     0,  Iter    23:    Energy =   0.0498
Level     0,  Iter    24:    Energy =   0.0499
Level     0,  Iter    25:    Energy =   0.0502
Level     0,  Iter    26:    Energy =   0.0503
Level     0,  Iter    27:    Energy =   0.0505
Level     0,  Iter    28:    Energy =   0.0507
Level     0,  Iter    29:    Energy =   0.0508
Level     0,  Iter    30:    Energy =   0.0509
Level     0,  Iter    31:    Energy =   0.0511
Level     0,  Iter    32:    Energy =   0.0513
Level     0,  Iter    33:    Energy =   0.0517
Level     0,  Iter    34:    Energy =   0.0521
Level     0,  Iter    35:    Energy =   0.0525
Level     0,  Iter    36:    Energy =   0.0530
Level     0,  Iter    37:    Energy =   0.0533
Level     0,  Iter    38:    Energy =   0.0535
Level     0,  Iter    39:    Energy =   0.0538
Level     0,  Iter    40:    Energy =   0.0540
Level     0,  Iter    41:    Energy =   0.0542
Level     0,  Iter    42:    Energy =   0.0544
Level     0,  Iter    43:    Energy =   0.0545
Level     0,  Iter    44:    Energy =   0.0547
Level     0,  Iter    45:    Energy =   0.0548
Level     0,  Iter    46:    Energy =   0.0550
Level     0,  Iter    47:    Energy =   0.0553
Level     0,  Iter    48:    Energy =   0.0554
Level     0,  Iter    49:    Energy =   0.0557
Level     0,  Iter    50:    Energy =   0.0559
Level     0,  Iter    51:    Energy =   0.0561
Level     0,  Iter    52:    Energy =   0.0562
Level     0,  Iter    53:    Energy =   0.0563
Level     0,  Iter    54:    Energy =   0.0566
Level     0,  Iter    55:    Energy =   0.0568
Level     0,  Iter    56:    Energy =   0.0569
Level     0,  Iter    57:    Energy =   0.0571
Level     0,  Iter    58:    Energy =   0.0573
Level     0,  Iter    59:    Energy =   0.0575
END OF LEVEL     0    DetJac Range:   0.0464  to   2.3294 
  Avg. Gradient Time  : 0.0067s  33.44% 
  Avg. Gaussian Time  : 0.0097s  47.99% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0333
Level     1,  Iter     1:    Energy =   0.0347
Level     1,  Iter     2:    Energy =   0.0359
Level     1,  Iter     3:    Energy =   0.0370
Level     1,  Iter     4:    Energy =   0.0380
Level     1,  Iter     5:    Energy =   0.0387
Level     1,  Iter     6:    Energy =   0.0395
Level     1,  Iter     7:    Energy =   0.0402
Level     1,  Iter     8:    Energy =   0.0410
Level     1,  Iter     9:    Energy =   0.0417
Level     1,  Iter    10:    Energy =   0.0423
Level     1,  Iter    11:    Energy =   0.0427
Level     1,  Iter    12:    Energy =   0.0431
Level     1,  Iter    13:    Energy =   0.0434
Level     1,  Iter    14:    Energy =   0.0438
Level     1,  Iter    15:    Energy =   0.0441
Level     1,  Iter    16:    Energy =   0.0443
Level     1,  Iter    17:    Energy =   0.0445
Level     1,  Iter    18:    Energy =   0.0447
Level     1,  Iter    19:    Energy =   0.0449
Level     1,  Iter    20:    Energy =   0.0452
Level     1,  Iter    21:    Energy =   0.0453
Level     1,  Iter    22:    Energy =   0.0455
Level     1,  Iter    23:    Energy =   0.0457
Level     1,  Iter    24:    Energy =   0.0458
Level     1,  Iter    25:    Energy =   0.0459
Level     1,  Iter    26:    Energy =   0.0461
Level     1,  Iter    27:    Energy =   0.0462
Level     1,  Iter    28:    Energy =   0.0463
Level     1,  Iter    29:    Energy =   0.0463
Level     1,  Iter    30:    Energy =   0.0463
Level     1,  Iter    31:    Energy =   0.0463
Level     1,  Iter    32:    Energy =   0.0463
Level     1,  Iter    33:    Energy =   0.0464
Level     1,  Iter    34:    Energy =   0.0465
Level     1,  Iter    35:    Energy =   0.0465
Level     1,  Iter    36:    Energy =   0.0465
Level     1,  Iter    37:    Energy =   0.0465
Level     1,  Iter    38:    Energy =   0.0466
Level     1,  Iter    39:    Energy =   0.0466
Level     1,  Iter    40:    Energy =   0.0467
Level     1,  Iter    41:    Energy =   0.0468
Level     1,  Iter    42:    Energy =   0.0468
Level     1,  Iter    43:    Energy =   0.0470
Level     1,  Iter    44:    Energy =   0.0471
Level     1,  Iter    45:    Energy =   0.0471
Level     1,  Iter    46:    Energy =   0.0472
Level     1,  Iter    47:    Energy =   0.0473
Level     1,  Iter    48:    Energy =   0.0474
Level     1,  Iter    49:    Energy =   0.0475
Level     1,  Iter    50:    Energy =   0.0475
Level     1,  Iter    51:    Energy =   0.0475
Level     1,  Iter    52:    Energy =   0.0476
Level     1,  Iter    53:    Energy =   0.0476
Level     1,  Iter    54:    Energy =   0.0477
Level     1,  Iter    55:    Energy =   0.0477
Level     1,  Iter    56:    Energy =   0.0477
Level     1,  Iter    57:    Energy =   0.0478
Level     1,  Iter    58:    Energy =   0.0478
Level     1,  Iter    59:    Energy =   0.0478
END OF LEVEL     1    DetJac Range:   0.0154  to   3.0080 
  Avg. Gradient Time  : 0.0286s  34.30% 
  Avg. Gaussian Time  : 0.0432s  51.78% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0239
Level     2,  Iter     1:    Energy =   0.0245
Level     2,  Iter     2:    Energy =   0.0251
Level     2,  Iter     3:    Energy =   0.0258
Level     2,  Iter     4:    Energy =   0.0263
Level     2,  Iter     5:    Energy =   0.0270
Level     2,  Iter     6:    Energy =   0.0275
Level     2,  Iter     7:    Energy =   0.0280
Level     2,  Iter     8:    Energy =   0.0284
Level     2,  Iter     9:    Energy =   0.0287
Level     2,  Iter    10:    Energy =   0.0290
Level     2,  Iter    11:    Energy =   0.0292
Level     2,  Iter    12:    Energy =   0.0294
Level     2,  Iter    13:    Energy =   0.0296
Level     2,  Iter    14:    Energy =   0.0298
Level     2,  Iter    15:    Energy =   0.0300
Level     2,  Iter    16:    Energy =   0.0302
Level     2,  Iter    17:    Energy =   0.0303
Level     2,  Iter    18:    Energy =   0.0305
Level     2,  Iter    19:    Energy =   0.0307
END OF LEVEL     2    DetJac Range:   0.0201  to   2.9411 
  Avg. Gradient Time  : 0.1851s  32.65% 
  Avg. Gaussian Time  : 0.3052s  53.83% 
  Avg. Iteration Time : 0.5669s 

real	0m20.301s
user	0m35.416s
sys	0m2.160s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 485.434   GNORM= 186.64
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -97.881      74.134       0.027
   2    6      -665.757      82.053       2.328
   3    9      -709.948      52.289       0.113
   4   14      -710.147      49.436       0.001
   5   15      -739.434      53.918       1.000
   6   16      -771.269      40.702       1.000
   7   20      -777.630      54.917       0.052
   8   21      -780.534      18.028       1.000
   9   24      -781.019      24.355       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.932224 0.0410427 -0.119054 1.26269 
0.112663 1.16991 -0.284626 7.09022 
-0.0802647 -0.16593 1.05837 -3.89777 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -348.94   GNORM= 164.472
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -370.437      82.201       0.006
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.93323 0.0438048 -0.122516 1.63418 
0.112099 1.16922 -0.283393 6.99048 
-0.0769933 -0.161435 1.04951 -3.21427 
0 0 0 1 

Final RAS Transform: 
0.93323 0.0438048 -0.122516 1.63418 
0.112099 1.16922 -0.283393 6.99048 
-0.0769933 -0.161435 1.04951 -3.21427 
0 0 0 1 


real	0m3.520s
user	0m5.420s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.49004
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0186
Level     0,  Iter     1:    Energy =   0.0205
Level     0,  Iter     2:    Energy =   0.0235
Level     0,  Iter     3:    Energy =   0.0267
Level     0,  Iter     4:    Energy =   0.0285
Level     0,  Iter     5:    Energy =   0.0303
Level     0,  Iter     6:    Energy =   0.0311
Level     0,  Iter     7:    Energy =   0.0317
Level     0,  Iter     8:    Energy =   0.0323
Level     0,  Iter     9:    Energy =   0.0330
Level     0,  Iter    10:    Energy =   0.0337
Level     0,  Iter    11:    Energy =   0.0341
Level     0,  Iter    12:    Energy =   0.0346
Level     0,  Iter    13:    Energy =   0.0352
Level     0,  Iter    14:    Energy =   0.0356
Level     0,  Iter    15:    Energy =   0.0360
Level     0,  Iter    16:    Energy =   0.0363
Level     0,  Iter    17:    Energy =   0.0366
Level     0,  Iter    18:    Energy =   0.0368
Level     0,  Iter    19:    Energy =   0.0371
Level     0,  Iter    20:    Energy =   0.0374
Level     0,  Iter    21:    Energy =   0.0375
Level     0,  Iter    22:    Energy =   0.0378
Level     0,  Iter    23:    Energy =   0.0380
Level     0,  Iter    24:    Energy =   0.0382
Level     0,  Iter    25:    Energy =   0.0384
Level     0,  Iter    26:    Energy =   0.0385
Level     0,  Iter    27:    Energy =   0.0387
Level     0,  Iter    28:    Energy =   0.0388
Level     0,  Iter    29:    Energy =   0.0389
Level     0,  Iter    30:    Energy =   0.0389
Level     0,  Iter    31:    Energy =   0.0390
Level     0,  Iter    32:    Energy =   0.0390
Level     0,  Iter    33:    Energy =   0.0390
Level     0,  Iter    34:    Energy =   0.0390
Level     0,  Iter    35:    Energy =   0.0391
Level     0,  Iter    36:    Energy =   0.0392
Level     0,  Iter    37:    Energy =   0.0392
Level     0,  Iter    38:    Energy =   0.0393
Level     0,  Iter    39:    Energy =   0.0393
Level     0,  Iter    40:    Energy =   0.0394
Level     0,  Iter    41:    Energy =   0.0395
Level     0,  Iter    42:    Energy =   0.0396
Level     0,  Iter    43:    Energy =   0.0396
Level     0,  Iter    44:    Energy =   0.0397
Level     0,  Iter    45:    Energy =   0.0397
Level     0,  Iter    46:    Energy =   0.0398
Level     0,  Iter    47:    Energy =   0.0398
Level     0,  Iter    48:    Energy =   0.0399
Level     0,  Iter    49:    Energy =   0.0400
Level     0,  Iter    50:    Energy =   0.0401
Level     0,  Iter    51:    Energy =   0.0401
Level     0,  Iter    52:    Energy =   0.0403
Level     0,  Iter    53:    Energy =   0.0404
Level     0,  Iter    54:    Energy =   0.0404
Level     0,  Iter    55:    Energy =   0.0404
Level     0,  Iter    56:    Energy =   0.0405
Level     0,  Iter    57:    Energy =   0.0405
Level     0,  Iter    58:    Energy =   0.0406
Level     0,  Iter    59:    Energy =   0.0406
END OF LEVEL     0    DetJac Range:   0.0179  to   2.7148 
  Avg. Gradient Time  : 0.0069s  33.20% 
  Avg. Gaussian Time  : 0.0100s  48.59% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0203
Level     1,  Iter     1:    Energy =   0.0211
Level     1,  Iter     2:    Energy =   0.0218
Level     1,  Iter     3:    Energy =   0.0224
Level     1,  Iter     4:    Energy =   0.0229
Level     1,  Iter     5:    Energy =   0.0234
Level     1,  Iter     6:    Energy =   0.0239
Level     1,  Iter     7:    Energy =   0.0244
Level     1,  Iter     8:    Energy =   0.0247
Level     1,  Iter     9:    Energy =   0.0251
Level     1,  Iter    10:    Energy =   0.0254
Level     1,  Iter    11:    Energy =   0.0255
Level     1,  Iter    12:    Energy =   0.0256
Level     1,  Iter    13:    Energy =   0.0258
Level     1,  Iter    14:    Energy =   0.0259
Level     1,  Iter    15:    Energy =   0.0260
Level     1,  Iter    16:    Energy =   0.0261
Level     1,  Iter    17:    Energy =   0.0261
Level     1,  Iter    18:    Energy =   0.0262
Level     1,  Iter    19:    Energy =   0.0262
Level     1,  Iter    20:    Energy =   0.0263
Level     1,  Iter    21:    Energy =   0.0263
Level     1,  Iter    22:    Energy =   0.0264
Level     1,  Iter    23:    Energy =   0.0264
Level     1,  Iter    24:    Energy =   0.0265
Level     1,  Iter    25:    Energy =   0.0266
Level     1,  Iter    26:    Energy =   0.0266
Level     1,  Iter    27:    Energy =   0.0267
Level     1,  Iter    28:    Energy =   0.0267
Level     1,  Iter    29:    Energy =   0.0268
Level     1,  Iter    30:    Energy =   0.0268
Level     1,  Iter    31:    Energy =   0.0269
Level     1,  Iter    32:    Energy =   0.0269
Level     1,  Iter    33:    Energy =   0.0269
Level     1,  Iter    34:    Energy =   0.0269
Level     1,  Iter    35:    Energy =   0.0269
Level     1,  Iter    36:    Energy =   0.0269
Level     1,  Iter    37:    Energy =   0.0270
Level     1,  Iter    38:    Energy =   0.0270
Level     1,  Iter    39:    Energy =   0.0270
Level     1,  Iter    40:    Energy =   0.0270
Level     1,  Iter    41:    Energy =   0.0270
Level     1,  Iter    42:    Energy =   0.0270
Level     1,  Iter    43:    Energy =   0.0270
Level     1,  Iter    44:    Energy =   0.0271
Level     1,  Iter    45:    Energy =   0.0271
Level     1,  Iter    46:    Energy =   0.0271
Level     1,  Iter    47:    Energy =   0.0271
Level     1,  Iter    48:    Energy =   0.0271
Level     1,  Iter    49:    Energy =   0.0271
Level     1,  Iter    50:    Energy =   0.0271
Level     1,  Iter    51:    Energy =   0.0272
Level     1,  Iter    52:    Energy =   0.0272
Level     1,  Iter    53:    Energy =   0.0272
Level     1,  Iter    54:    Energy =   0.0272
Level     1,  Iter    55:    Energy =   0.0272
Level     1,  Iter    56:    Energy =   0.0273
Level     1,  Iter    57:    Energy =   0.0273
Level     1,  Iter    58:    Energy =   0.0273
Level     1,  Iter    59:    Energy =   0.0273
END OF LEVEL     1    DetJac Range:   0.0378  to   2.7051 
  Avg. Gradient Time  : 0.0289s  34.37% 
  Avg. Gaussian Time  : 0.0435s  51.73% 
  Avg. Iteration Time : 0.0840s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0123
Level     2,  Iter     1:    Energy =   0.0128
Level     2,  Iter     2:    Energy =   0.0132
Level     2,  Iter     3:    Energy =   0.0137
Level     2,  Iter     4:    Energy =   0.0139
Level     2,  Iter     5:    Energy =   0.0142
Level     2,  Iter     6:    Energy =   0.0145
Level     2,  Iter     7:    Energy =   0.0148
Level     2,  Iter     8:    Energy =   0.0150
Level     2,  Iter     9:    Energy =   0.0153
Level     2,  Iter    10:    Energy =   0.0156
Level     2,  Iter    11:    Energy =   0.0158
Level     2,  Iter    12:    Energy =   0.0161
Level     2,  Iter    13:    Energy =   0.0163
Level     2,  Iter    14:    Energy =   0.0165
Level     2,  Iter    15:    Energy =   0.0166
Level     2,  Iter    16:    Energy =   0.0167
Level     2,  Iter    17:    Energy =   0.0169
Level     2,  Iter    18:    Energy =   0.0170
Level     2,  Iter    19:    Energy =   0.0171
END OF LEVEL     2    DetJac Range:   0.0168  to   2.5578 
  Avg. Gradient Time  : 0.1937s  33.29% 
  Avg. Gaussian Time  : 0.3099s  53.26% 
  Avg. Iteration Time : 0.5818s 

real	0m20.832s
user	0m36.196s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 695.446   GNORM= 180.633
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        19.800     176.271       0.028
   2    6      -473.028     106.798       0.159
   3    7      -714.343      38.610       1.000
   4   12      -756.626      35.193       0.994
   5   17      -756.828      57.817       0.003
   6   25      -801.253      37.775       1.000
   7   27      -825.329     281.277       0.174
   8   32      -826.124      53.273       0.000
   9   36      -840.219      32.704       1.400
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.828161 0.0521467 -0.112649 -0.142996 
0.0699898 1.10139 -0.376089 8.71553 
-0.1195 -0.168556 1.35707 -3.9923 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -398.091   GNORM= 215.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -398.822     182.440       0.001
   2    5      -399.146      52.009       0.054
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.828342 0.0523969 -0.113052 -0.0981368 
0.0696837 1.1011 -0.375604 8.66792 
-0.121045 -0.169515 1.36046 -4.26094 
0 0 0 1 

Final RAS Transform: 
0.828342 0.0523969 -0.113052 -0.0981368 
0.0696837 1.1011 -0.375604 8.66792 
-0.121045 -0.169515 1.36046 -4.26094 
0 0 0 1 


real	0m3.756s
user	0m5.764s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/26395/N4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.831, moving = 0.354418
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0213
Level     0,  Iter     2:    Energy =   0.0241
Level     0,  Iter     3:    Energy =   0.0257
Level     0,  Iter     4:    Energy =   0.0267
Level     0,  Iter     5:    Energy =   0.0281
Level     0,  Iter     6:    Energy =   0.0290
Level     0,  Iter     7:    Energy =   0.0297
Level     0,  Iter     8:    Energy =   0.0306
Level     0,  Iter     9:    Energy =   0.0317
Level     0,  Iter    10:    Energy =   0.0329
Level     0,  Iter    11:    Energy =   0.0340
Level     0,  Iter    12:    Energy =   0.0350
Level     0,  Iter    13:    Energy =   0.0361
Level     0,  Iter    14:    Energy =   0.0371
Level     0,  Iter    15:    Energy =   0.0379
Level     0,  Iter    16:    Energy =   0.0385
Level     0,  Iter    17:    Energy =   0.0389
Level     0,  Iter    18:    Energy =   0.0394
Level     0,  Iter    19:    Energy =   0.0398
Level     0,  Iter    20:    Energy =   0.0402
Level     0,  Iter    21:    Energy =   0.0406
Level     0,  Iter    22:    Energy =   0.0409
Level     0,  Iter    23:    Energy =   0.0412
Level     0,  Iter    24:    Energy =   0.0414
Level     0,  Iter    25:    Energy =   0.0417
Level     0,  Iter    26:    Energy =   0.0421
Level     0,  Iter    27:    Energy =   0.0424
Level     0,  Iter    28:    Energy =   0.0426
Level     0,  Iter    29:    Energy =   0.0428
Level     0,  Iter    30:    Energy =   0.0430
Level     0,  Iter    31:    Energy =   0.0433
Level     0,  Iter    32:    Energy =   0.0435
Level     0,  Iter    33:    Energy =   0.0438
Level     0,  Iter    34:    Energy =   0.0441
Level     0,  Iter    35:    Energy =   0.0444
Level     0,  Iter    36:    Energy =   0.0446
Level     0,  Iter    37:    Energy =   0.0448
Level     0,  Iter    38:    Energy =   0.0449
Level     0,  Iter    39:    Energy =   0.0450
Level     0,  Iter    40:    Energy =   0.0450
Level     0,  Iter    41:    Energy =   0.0449
Level     0,  Iter    42:    Energy =   0.0451
Level     0,  Iter    43:    Energy =   0.0452
Level     0,  Iter    44:    Energy =   0.0453
Level     0,  Iter    45:    Energy =   0.0453
Level     0,  Iter    46:    Energy =   0.0454
Level     0,  Iter    47:    Energy =   0.0454
Level     0,  Iter    48:    Energy =   0.0454
Level     0,  Iter    49:    Energy =   0.0454
Level     0,  Iter    50:    Energy =   0.0455
Level     0,  Iter    51:    Energy =   0.0455
Level     0,  Iter    52:    Energy =   0.0455
Level     0,  Iter    53:    Energy =   0.0454
Level     0,  Iter    54:    Energy =   0.0456
Level     0,  Iter    55:    Energy =   0.0457
Level     0,  Iter    56:    Energy =   0.0457
Level     0,  Iter    57:    Energy =   0.0456
Level     0,  Iter    58:    Energy =   0.0456
Level     0,  Iter    59:    Energy =   0.0456
END OF LEVEL     0    DetJac Range:   0.1225  to   2.5853 
  Avg. Gradient Time  : 0.0071s  33.67% 
  Avg. Gaussian Time  : 0.0101s  48.15% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0230
Level     1,  Iter     1:    Energy =   0.0239
Level     1,  Iter     2:    Energy =   0.0247
Level     1,  Iter     3:    Energy =   0.0253
Level     1,  Iter     4:    Energy =   0.0260
Level     1,  Iter     5:    Energy =   0.0268
Level     1,  Iter     6:    Energy =   0.0275
Level     1,  Iter     7:    Energy =   0.0279
Level     1,  Iter     8:    Energy =   0.0283
Level     1,  Iter     9:    Energy =   0.0287
Level     1,  Iter    10:    Energy =   0.0291
Level     1,  Iter    11:    Energy =   0.0294
Level     1,  Iter    12:    Energy =   0.0296
Level     1,  Iter    13:    Energy =   0.0298
Level     1,  Iter    14:    Energy =   0.0300
Level     1,  Iter    15:    Energy =   0.0302
Level     1,  Iter    16:    Energy =   0.0304
Level     1,  Iter    17:    Energy =   0.0305
Level     1,  Iter    18:    Energy =   0.0307
Level     1,  Iter    19:    Energy =   0.0308
Level     1,  Iter    20:    Energy =   0.0309
Level     1,  Iter    21:    Energy =   0.0310
Level     1,  Iter    22:    Energy =   0.0311
Level     1,  Iter    23:    Energy =   0.0312
Level     1,  Iter    24:    Energy =   0.0313
Level     1,  Iter    25:    Energy =   0.0314
Level     1,  Iter    26:    Energy =   0.0315
Level     1,  Iter    27:    Energy =   0.0316
Level     1,  Iter    28:    Energy =   0.0316
Level     1,  Iter    29:    Energy =   0.0317
Level     1,  Iter    30:    Energy =   0.0318
Level     1,  Iter    31:    Energy =   0.0319
Level     1,  Iter    32:    Energy =   0.0320
Level     1,  Iter    33:    Energy =   0.0321
Level     1,  Iter    34:    Energy =   0.0322
Level     1,  Iter    35:    Energy =   0.0323
Level     1,  Iter    36:    Energy =   0.0324
Level     1,  Iter    37:    Energy =   0.0325
Level     1,  Iter    38:    Energy =   0.0326
Level     1,  Iter    39:    Energy =   0.0327
Level     1,  Iter    40:    Energy =   0.0328
Level     1,  Iter    41:    Energy =   0.0328
Level     1,  Iter    42:    Energy =   0.0329
Level     1,  Iter    43:    Energy =   0.0329
Level     1,  Iter    44:    Energy =   0.0330
Level     1,  Iter    45:    Energy =   0.0331
Level     1,  Iter    46:    Energy =   0.0331
Level     1,  Iter    47:    Energy =   0.0332
Level     1,  Iter    48:    Energy =   0.0333
Level     1,  Iter    49:    Energy =   0.0334
Level     1,  Iter    50:    Energy =   0.0334
Level     1,  Iter    51:    Energy =   0.0335
Level     1,  Iter    52:    Energy =   0.0336
Level     1,  Iter    53:    Energy =   0.0336
Level     1,  Iter    54:    Energy =   0.0337
Level     1,  Iter    55:    Energy =   0.0338
Level     1,  Iter    56:    Energy =   0.0339
Level     1,  Iter    57:    Energy =   0.0339
Level     1,  Iter    58:    Energy =   0.0340
Level     1,  Iter    59:    Energy =   0.0340
END OF LEVEL     1    DetJac Range:   0.0255  to   2.8816 
  Avg. Gradient Time  : 0.0292s  34.52% 
  Avg. Gaussian Time  : 0.0436s  51.55% 
  Avg. Iteration Time : 0.0845s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0155
Level     2,  Iter     1:    Energy =   0.0161
Level     2,  Iter     2:    Energy =   0.0167
Level     2,  Iter     3:    Energy =   0.0173
Level     2,  Iter     4:    Energy =   0.0178
Level     2,  Iter     5:    Energy =   0.0182
Level     2,  Iter     6:    Energy =   0.0188
Level     2,  Iter     7:    Energy =   0.0192
Level     2,  Iter     8:    Energy =   0.0196
Level     2,  Iter     9:    Energy =   0.0199
Level     2,  Iter    10:    Energy =   0.0202
Level     2,  Iter    11:    Energy =   0.0204
