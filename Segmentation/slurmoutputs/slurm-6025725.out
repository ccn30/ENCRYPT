Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 6025725
======
Time: Thu Jan 14 21:44:17 GMT 2021
Running on master node: wbic-cs-26
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-26

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 27137/20200213_U-ID48042 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  27137
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 54: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/original: No such file or directory
Beginning ASHS for:  27137
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 65: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/N4T2: No such file or directory
Beginning ASHS for:  27137
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
ashs_main execution log
  timestamp:   Thu Jan 14 21:44:19 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 27137 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 -N
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=27137
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.j0HwTYw0/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.j0HwTYw0/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2679.93   GNORM= 78.6813
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2737.623      42.888       0.013
   2    3     -2779.758      17.307       1.000
   3    4     -2792.238      11.479       1.000
   4    5     -2798.034      10.185       1.000
   5    7     -2799.142       8.101       0.340
   6    8     -2800.419       5.205       1.000
   7    9     -2800.939       8.614       1.000
   8   10     -2801.564       5.077       1.000
   9   11     -2801.730       3.916       1.000
  10   12     -2801.853       1.458       1.000
  11   15     -2801.965       2.459       1.938
  12   18     -2802.061       3.748       0.585
  13   20     -2802.085       3.719       0.277
  14   22     -2802.149       3.313       0.405
  15   23     -2802.210       2.357       1.000
  16   24     -2802.237       2.272       1.000
  17   25     -2802.256       1.976       1.000
  18   27     -2802.277       1.467       0.354
  19   28     -2802.282       1.011       1.000
  20   29     -2802.283       0.671       1.000
  21   30     -2802.284       0.484       1.000
  22   31     -2802.285       0.525       1.000
  23   34     -2802.285       0.596       0.017
  24   37     -2802.285       0.683       0.017
  25   38     -2802.285       0.738       1.000
  26   40     -2802.285       0.647       0.319
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999465 0.0221043 -0.0241062 -0.101202 
-0.0230653 0.99892 -0.0403458 -0.568591 
0.0231883 0.0408802 0.998895 -2.85175 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2575.22   GNORM= 99.3477
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2657.711      58.870       0.010
   2    4     -2687.310      34.382       0.462
   3    5     -2696.676      30.104       1.000
   4    6     -2708.212      28.486       1.000
   5    7     -2723.011      34.468       1.000
   6    8     -2729.044      31.143       1.000
   7    9     -2731.764      13.997       1.000
   8   10     -2732.319       1.798       1.000
   9   11     -2732.381       1.483       1.000
  10   12     -2732.404       3.569       1.000
  11   13     -2732.454       0.947       1.000
  12   14     -2732.458       0.174       1.000
  13   15     -2732.459       0.354       1.000
  14   17     -2732.459       0.248       0.310
  15   18     -2732.459       0.186       1.000
  16   19     -2732.459       0.164       1.000
  17   20     -2732.459       0.109       1.000
  18   21     -2732.459       0.091       1.000
  19   23     -2732.459       0.051       0.214
  20   24     -2732.459       0.089       1.000
  21   25     -2732.459       0.092       1.000
  22   26     -2732.459       0.083       1.000
  23   28     -2732.459       0.018       0.203
  24   29     -2732.459       0.019       1.000
  25   30     -2732.459       0.026       1.000
  26   31     -2732.459       0.016       1.000
  27   32     -2732.459       0.017       1.000
  28   33     -2732.459       0.044       1.000
  29   35     -2732.459       0.062       0.310
  30   37     -2732.459       0.069       0.278
  31   40     -2732.459       0.080       0.010
  32   41     -2732.459       0.071       1.000
  33   44     -2732.459       0.022       0.064
  34   45     -2732.459       0.041       1.000
  35   47     -2732.459       0.064       0.257
  36   48     -2732.459       0.052       1.000
  37   49     -2732.459       0.038       1.000
  38   50     -2732.459       0.028       1.000
  39   51     -2732.459       0.041       1.000
  40   53     -2732.459       0.017       0.436
  41   54     -2732.459       0.012       1.000
  42   56     -2732.459       0.009       0.307
  43   59     -2732.459       0.009       1.542
  44   61     -2732.459       0.008       0.112
  45   64     -2732.459       0.007       0.011
  46   66     -2732.459       0.012       0.430
  47   69     -2732.459       0.010       0.058
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999927 0.00488724 -0.0110854 -0.393788 
-0.00508665 0.999824 -0.0180331 0.192998 
0.0109953 0.0180882 0.999776 -1.0185 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2676.94   GNORM= 88.764
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2682.961      15.334       0.001
   2    4     -2683.319      14.085       1.000
   3    5     -2684.914      26.918       1.000
   4    6     -2687.203      39.480       1.000
   5    7     -2689.438      33.698       1.000
   6    9     -2689.921      23.743       0.265
   7   10     -2690.305       7.183       1.000
   8   11     -2690.353       1.615       1.000
Final RAS Transform: 
0.99993 0.00429392 -0.0110189 -0.373684 
-0.00444304 0.999898 -0.0135447 0.131627 
0.0109596 0.0135927 0.999848 -0.788594 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 68.5219
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0425
Level     0,  Iter     1:    Energy =   0.0463
Level     0,  Iter     2:    Energy =   0.0498
Level     0,  Iter     3:    Energy =   0.0522
Level     0,  Iter     4:    Energy =   0.0541
Level     0,  Iter     5:    Energy =   0.0551
Level     0,  Iter     6:    Energy =   0.0556
Level     0,  Iter     7:    Energy =   0.0559
Level     0,  Iter     8:    Energy =   0.0561
Level     0,  Iter     9:    Energy =   0.0562
Level     0,  Iter    10:    Energy =   0.0564
Level     0,  Iter    11:    Energy =   0.0565
Level     0,  Iter    12:    Energy =   0.0567
Level     0,  Iter    13:    Energy =   0.0567
Level     0,  Iter    14:    Energy =   0.0568
Level     0,  Iter    15:    Energy =   0.0567
Level     0,  Iter    16:    Energy =   0.0568
Level     0,  Iter    17:    Energy =   0.0567
Level     0,  Iter    18:    Energy =   0.0567
Level     0,  Iter    19:    Energy =   0.0566
Level     0,  Iter    20:    Energy =   0.0567
Level     0,  Iter    21:    Energy =   0.0566
Level     0,  Iter    22:    Energy =   0.0568
Level     0,  Iter    23:    Energy =   0.0567
Level     0,  Iter    24:    Energy =   0.0568
Level     0,  Iter    25:    Energy =   0.0567
Level     0,  Iter    26:    Energy =   0.0569
Level     0,  Iter    27:    Energy =   0.0568
Level     0,  Iter    28:    Energy =   0.0570
Level     0,  Iter    29:    Energy =   0.0569
Level     0,  Iter    30:    Energy =   0.0571
Level     0,  Iter    31:    Energy =   0.0570
Level     0,  Iter    32:    Energy =   0.0572
Level     0,  Iter    33:    Energy =   0.0570
Level     0,  Iter    34:    Energy =   0.0573
Level     0,  Iter    35:    Energy =   0.0571
Level     0,  Iter    36:    Energy =   0.0574
Level     0,  Iter    37:    Energy =   0.0572
Level     0,  Iter    38:    Energy =   0.0574
Level     0,  Iter    39:    Energy =   0.0572
Level     0,  Iter    40:    Energy =   0.0575
Level     0,  Iter    41:    Energy =   0.0573
Level     0,  Iter    42:    Energy =   0.0575
Level     0,  Iter    43:    Energy =   0.0573
Level     0,  Iter    44:    Energy =   0.0576
Level     0,  Iter    45:    Energy =   0.0573
Level     0,  Iter    46:    Energy =   0.0576
Level     0,  Iter    47:    Energy =   0.0573
Level     0,  Iter    48:    Energy =   0.0576
Level     0,  Iter    49:    Energy =   0.0574
Level     0,  Iter    50:    Energy =   0.0576
Level     0,  Iter    51:    Energy =   0.0573
Level     0,  Iter    52:    Energy =   0.0576
Level     0,  Iter    53:    Energy =   0.0574
Level     0,  Iter    54:    Energy =   0.0576
Level     0,  Iter    55:    Energy =   0.0573
Level     0,  Iter    56:    Energy =   0.0576
Level     0,  Iter    57:    Energy =   0.0573
Level     0,  Iter    58:    Energy =   0.0576
Level     0,  Iter    59:    Energy =   0.0573
END OF LEVEL     0    DetJac Range:   0.4816  to   1.7515 
  Avg. Gradient Time  : 0.0210s  38.96% 
  Avg. Gaussian Time  : 0.0260s  48.22% 
  Avg. Iteration Time : 0.0539s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0544
Level     1,  Iter     1:    Energy =   0.0572
Level     1,  Iter     2:    Energy =   0.0597
Level     1,  Iter     3:    Energy =   0.0619
Level     1,  Iter     4:    Energy =   0.0636
Level     1,  Iter     5:    Energy =   0.0647
Level     1,  Iter     6:    Energy =   0.0659
Level     1,  Iter     7:    Energy =   0.0667
Level     1,  Iter     8:    Energy =   0.0670
Level     1,  Iter     9:    Energy =   0.0671
Level     1,  Iter    10:    Energy =   0.0675
Level     1,  Iter    11:    Energy =   0.0677
Level     1,  Iter    12:    Energy =   0.0679
Level     1,  Iter    13:    Energy =   0.0679
Level     1,  Iter    14:    Energy =   0.0683
Level     1,  Iter    15:    Energy =   0.0682
Level     1,  Iter    16:    Energy =   0.0685
Level     1,  Iter    17:    Energy =   0.0685
Level     1,  Iter    18:    Energy =   0.0687
Level     1,  Iter    19:    Energy =   0.0687
Level     1,  Iter    20:    Energy =   0.0689
Level     1,  Iter    21:    Energy =   0.0689
Level     1,  Iter    22:    Energy =   0.0691
Level     1,  Iter    23:    Energy =   0.0690
Level     1,  Iter    24:    Energy =   0.0692
Level     1,  Iter    25:    Energy =   0.0691
Level     1,  Iter    26:    Energy =   0.0693
Level     1,  Iter    27:    Energy =   0.0693
Level     1,  Iter    28:    Energy =   0.0695
Level     1,  Iter    29:    Energy =   0.0694
Level     1,  Iter    30:    Energy =   0.0696
Level     1,  Iter    31:    Energy =   0.0695
Level     1,  Iter    32:    Energy =   0.0696
Level     1,  Iter    33:    Energy =   0.0695
Level     1,  Iter    34:    Energy =   0.0697
Level     1,  Iter    35:    Energy =   0.0696
Level     1,  Iter    36:    Energy =   0.0698
Level     1,  Iter    37:    Energy =   0.0697
Level     1,  Iter    38:    Energy =   0.0699
Level     1,  Iter    39:    Energy =   0.0697
Level     1,  Iter    40:    Energy =   0.0699
Level     1,  Iter    41:    Energy =   0.0698
Level     1,  Iter    42:    Energy =   0.0700
Level     1,  Iter    43:    Energy =   0.0698
Level     1,  Iter    44:    Energy =   0.0701
Level     1,  Iter    45:    Energy =   0.0699
Level     1,  Iter    46:    Energy =   0.0701
Level     1,  Iter    47:    Energy =   0.0699
Level     1,  Iter    48:    Energy =   0.0702
Level     1,  Iter    49:    Energy =   0.0700
Level     1,  Iter    50:    Energy =   0.0702
Level     1,  Iter    51:    Energy =   0.0700
Level     1,  Iter    52:    Energy =   0.0702
Level     1,  Iter    53:    Energy =   0.0701
Level     1,  Iter    54:    Energy =   0.0703
Level     1,  Iter    55:    Energy =   0.0701
Level     1,  Iter    56:    Energy =   0.0703
Level     1,  Iter    57:    Energy =   0.0701
Level     1,  Iter    58:    Energy =   0.0703
Level     1,  Iter    59:    Energy =   0.0701
END OF LEVEL     1    DetJac Range:   0.2065  to   2.9048 
  Avg. Gradient Time  : 0.1420s  37.61% 
  Avg. Gaussian Time  : 0.1946s  51.55% 
  Avg. Iteration Time : 0.3775s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0509
Level     2,  Iter     1:    Energy =   0.0531
Level     2,  Iter     2:    Energy =   0.0551
Level     2,  Iter     3:    Energy =   0.0568
Level     2,  Iter     4:    Energy =   0.0584
Level     2,  Iter     5:    Energy =   0.0592
Level     2,  Iter     6:    Energy =   0.0599
Level     2,  Iter     7:    Energy =   0.0605
Level     2,  Iter     8:    Energy =   0.0612
Level     2,  Iter     9:    Energy =   0.0619
Level     2,  Iter    10:    Energy =   0.0626
Level     2,  Iter    11:    Energy =   0.0631
Level     2,  Iter    12:    Energy =   0.0635
Level     2,  Iter    13:    Energy =   0.0640
Level     2,  Iter    14:    Energy =   0.0644
Level     2,  Iter    15:    Energy =   0.0647
Level     2,  Iter    16:    Energy =   0.0650
Level     2,  Iter    17:    Energy =   0.0653
Level     2,  Iter    18:    Energy =   0.0656
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0604  to   4.9130 
  Avg. Gradient Time  : 1.2136s  33.62% 
  Avg. Gaussian Time  : 2.0945s  58.02% 
  Avg. Iteration Time : 3.6097s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]

real	7m11.717s
user	13m2.204s
sys	0m19.488s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 /home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.0081
Thresholding #1
  Mapping range [0.0081, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.j0HwTYw0/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.j0HwTYw0/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01228
Thresholding #1
  Mapping range [0.01228, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.j0HwTYw0/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.j0HwTYw0/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_tse_%02d.png
++ ls /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_tse_01.png /tmp/ashs.j0HwTYw0/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_01.png /tmp/ashs.j0HwTYw0/qa.png
+ convert /tmp/ashs.j0HwTYw0/qa.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.j0HwTYw0/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.j0HwTYw0/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.j0HwTYw0/sag_tse_%02d.png
++ ls /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.j0HwTYw0/sag_tse_01.png /tmp/ashs.j0HwTYw0/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.j0HwTYw0/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.j0HwTYw0/cor_temp_00.png /tmp/ashs.j0HwTYw0/cor_temp_01.png /tmp/ashs.j0HwTYw0/cor_temp_02.png /tmp/ashs.j0HwTYw0/cor_temp_03.png /tmp/ashs.j0HwTYw0/cor_temp_04.png /tmp/ashs.j0HwTYw0/sag_temp_00.png /tmp/ashs.j0HwTYw0/sag_temp_01.png /tmp/ashs.j0HwTYw0/cor_mprage_00.png /tmp/ashs.j0HwTYw0/cor_mprage_01.png /tmp/ashs.j0HwTYw0/cor_mprage_02.png /tmp/ashs.j0HwTYw0/cor_mprage_03.png /tmp/ashs.j0HwTYw0/cor_mprage_04.png /tmp/ashs.j0HwTYw0/sag_mprage_00.png /tmp/ashs.j0HwTYw0/sag_mprage_01.png /tmp/ashs.j0HwTYw0/cor_tse_00.png /tmp/ashs.j0HwTYw0/cor_tse_01.png /tmp/ashs.j0HwTYw0/cor_tse_02.png /tmp/ashs.j0HwTYw0/cor_tse_03.png /tmp/ashs.j0HwTYw0/cor_tse_04.png /tmp/ashs.j0HwTYw0/sag_tse_00.png /tmp/ashs.j0HwTYw0/sag_tse_01.png /tmp/ashs.j0HwTYw0/qa.png
+ convert /tmp/ashs.j0HwTYw0/qa.png -bordercolor Black -border 1x1 /tmp/ashs.j0HwTYw0/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.j0HwTYw0/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.789722
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3989.9   GNORM= 270.786
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4019.846     243.661       0.001
   2    4     -4049.995     260.311       1.000
   3    5     -4114.603     217.943       1.000
   4    6     -4118.254     310.029       1.000
   5    7     -4146.114     108.107       1.000
   6    8     -4157.696      74.555       1.000
   7    9     -4177.080     220.136       1.000
   8   10     -4195.109     188.731       1.000
   9   11     -4206.991     114.821       1.000
  10   12     -4214.595      55.108       1.000
  11   13     -4220.130      93.643       1.000
  12   14     -4224.747      96.596       1.000
  13   16     -4230.240      82.703       0.476
  14   17     -4235.826      41.963       1.000
  15   18     -4236.033      76.413       1.000
  16   19     -4237.529      29.099       1.000
  17   20     -4238.342      34.717       1.000
  18   21     -4239.875      60.288       1.000
  19   22     -4241.476      75.826       1.000
  20   23     -4242.931      71.154       1.000
  21   24     -4243.960      21.201       1.000
  22   25     -4244.197      14.976       1.000
  23   26     -4244.561      22.103       1.000
  24   27     -4244.716      28.074       1.000
  25   28     -4245.558      31.594       1.000
  26   29     -4246.131      33.090       1.000
  27   30     -4246.668      19.187       1.000
  28   31     -4247.480      13.576       1.000
  29   32     -4247.556      18.682       1.000
  30   33     -4247.694       8.942       1.000
  31   34     -4247.744       7.574       1.000
  32   36     -4247.753      12.049       0.192
  33   37     -4247.777      11.381       1.000
  34   38     -4247.892       8.554       1.000
  35   39     -4247.950      22.510       1.000
  36   40     -4248.022      15.157       1.000
  37   41     -4248.067       5.906       1.000
  38   42     -4248.098       6.224       1.000
  39   44     -4248.242      14.051       0.338
  40   45     -4248.280       7.711       1.000
  41   46     -4248.295       5.568       1.000
  42   47     -4248.297       3.681       1.000
  43   48     -4248.318       5.419       1.000
  44   49     -4248.332       4.137       1.000
  45   50     -4248.404      10.486       1.000
  46   52     -4248.432      13.273       0.396
  47   53     -4248.459       7.756       1.000
  48   54     -4248.482       8.735       1.000
  49   55     -4248.496       5.954       1.000
  50   56     -4248.507       9.472       1.000
  51   57     -4248.514       7.661       1.000
  52   58     -4248.524       5.720       1.000
  53   59     -4248.525       8.907       1.000
  54   60     -4248.546       5.608       1.000
  55   61     -4248.564       6.047       1.000
Final RAS Transform: 
0.964183 -0.0106559 -0.0360421 -1.29133 
0.0262383 0.995386 -0.0251517 0.276438 
-0.0506342 -0.000873236 1.05482 -1.17778 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2841.77   GNORM= 239.831
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2856.513     119.903       0.000
   2    4     -2862.041      79.548       1.000
   3    5     -2865.888      37.943       1.000
   4    6     -2866.919      30.305       1.000
   5    7     -2869.621      65.740       1.000
   6    8     -2873.575      91.392       1.000
   7    9     -2878.967      42.488       1.000
   8   10     -2879.771      22.050       1.000
   9   11     -2880.048      17.491       1.000
  10   12     -2880.253      19.324       1.000
  11   13     -2881.043      29.613       1.000
  12   14     -2881.964      79.538       1.000
  13   15     -2883.061      37.665       1.000
  14   16     -2883.730      19.216       1.000
  15   17     -2883.980      15.138       1.000
  16   18     -2884.212      17.236       1.000
  17   19     -2884.980      16.884       1.000
  18   20     -2885.701      16.699       1.000
  19   21     -2886.144      14.425       1.000
  20   23     -2886.310      19.701       0.347
  21   24     -2886.528      11.991       1.000
  22   25     -2886.645       8.822       1.000
  23   26     -2886.734      15.787       1.000
  24   27     -2886.877       7.888       1.000
  25   28     -2887.046       8.289       1.000
  26   29     -2887.152      25.339       1.000
  27   30     -2887.321      28.166       1.000
  28   31     -2887.463       5.745       1.000
  29   32     -2887.532       5.573       1.000
  30   33     -2887.588       7.913       1.000
  31   34     -2887.600       7.962       1.000
  32   35     -2887.617       5.764       1.000
  33   36     -2887.641       4.663       1.000
  34   37     -2887.669       4.372       1.000
  35   39     -2887.689       7.967       0.200
  36   40     -2887.728       4.703       1.000
  37   41     -2887.761       4.531       1.000
  38   42     -2887.824       6.517       1.000
  39   44     -2887.886       9.034       0.444
  40   46     -2887.928       9.576       0.498
  41   48     -2887.983      13.434       0.393
  42   49     -2888.033       7.506       1.000
  43   50     -2888.063       3.531       1.000
  44   51     -2888.082       2.593       1.000
  45   53     -2888.089       3.424       0.120
  46   54     -2888.092       2.707       1.000
  47   55     -2888.097       3.270       1.000
  48   56     -2888.100       2.178       1.000
  49   57     -2888.101       5.116       1.000
  50   58     -2888.113       3.425       1.000
  51   59     -2888.113       4.025       1.000
  52   60     -2888.121       2.071       1.000
  53   61     -2888.125       1.710       1.000
Final RAS Transform: 
0.973068 -0.000831034 -0.0356387 -0.83904 
0.00760547 0.984105 -0.0321871 -0.187983 
-0.0386753 0.00287465 1.04342 -1.04534 
0 0 0 1 

Final RAS Transform: 
0.973068 -0.000831034 -0.0356387 -0.83904 
0.00760547 0.984105 -0.0321871 -0.187983 
-0.0386753 0.00287465 1.04342 -1.04534 
0 0 0 1 


real	0m10.219s
user	0m17.760s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.78072
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1249
Level     0,  Iter     1:    Energy =   0.1334
Level     0,  Iter     2:    Energy =   0.1405
Level     0,  Iter     3:    Energy =   0.1453
Level     0,  Iter     4:    Energy =   0.1483
Level     0,  Iter     5:    Energy =   0.1510
Level     0,  Iter     6:    Energy =   0.1531
Level     0,  Iter     7:    Energy =   0.1551
Level     0,  Iter     8:    Energy =   0.1554
Level     0,  Iter     9:    Energy =   0.1557
Level     0,  Iter    10:    Energy =   0.1557
Level     0,  Iter    11:    Energy =   0.1558
Level     0,  Iter    12:    Energy =   0.1560
Level     0,  Iter    13:    Energy =   0.1561
Level     0,  Iter    14:    Energy =   0.1562
Level     0,  Iter    15:    Energy =   0.1563
Level     0,  Iter    16:    Energy =   0.1564
Level     0,  Iter    17:    Energy =   0.1564
Level     0,  Iter    18:    Energy =   0.1566
Level     0,  Iter    19:    Energy =   0.1566
Level     0,  Iter    20:    Energy =   0.1568
Level     0,  Iter    21:    Energy =   0.1567
Level     0,  Iter    22:    Energy =   0.1571
Level     0,  Iter    23:    Energy =   0.1570
Level     0,  Iter    24:    Energy =   0.1573
Level     0,  Iter    25:    Energy =   0.1573
Level     0,  Iter    26:    Energy =   0.1576
Level     0,  Iter    27:    Energy =   0.1576
Level     0,  Iter    28:    Energy =   0.1579
Level     0,  Iter    29:    Energy =   0.1578
Level     0,  Iter    30:    Energy =   0.1582
Level     0,  Iter    31:    Energy =   0.1580
Level     0,  Iter    32:    Energy =   0.1586
Level     0,  Iter    33:    Energy =   0.1586
Level     0,  Iter    34:    Energy =   0.1588
Level     0,  Iter    35:    Energy =   0.1585
Level     0,  Iter    36:    Energy =   0.1590
Level     0,  Iter    37:    Energy =   0.1589
Level     0,  Iter    38:    Energy =   0.1592
Level     0,  Iter    39:    Energy =   0.1588
Level     0,  Iter    40:    Energy =   0.1593
Level     0,  Iter    41:    Energy =   0.1593
Level     0,  Iter    42:    Energy =   0.1595
Level     0,  Iter    43:    Energy =   0.1591
Level     0,  Iter    44:    Energy =   0.1597
Level     0,  Iter    45:    Energy =   0.1595
Level     0,  Iter    46:    Energy =   0.1596
Level     0,  Iter    47:    Energy =   0.1590
Level     0,  Iter    48:    Energy =   0.1594
Level     0,  Iter    49:    Energy =   0.1592
Level     0,  Iter    50:    Energy =   0.1595
Level     0,  Iter    51:    Energy =   0.1591
Level     0,  Iter    52:    Energy =   0.1597
Level     0,  Iter    53:    Energy =   0.1597
Level     0,  Iter    54:    Energy =   0.1599
Level     0,  Iter    55:    Energy =   0.1595
Level     0,  Iter    56:    Energy =   0.1600
Level     0,  Iter    57:    Energy =   0.1597
Level     0,  Iter    58:    Energy =   0.1600
Level     0,  Iter    59:    Energy =   0.1595
END OF LEVEL     0    DetJac Range:   0.2970  to   2.0497 
  Avg. Gradient Time  : 0.0083s  35.09% 
  Avg. Gaussian Time  : 0.0117s  49.20% 
  Avg. Iteration Time : 0.0238s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1024
Level     1,  Iter     1:    Energy =   0.1078
Level     1,  Iter     2:    Energy =   0.1124
Level     1,  Iter     3:    Energy =   0.1160
Level     1,  Iter     4:    Energy =   0.1193
Level     1,  Iter     5:    Energy =   0.1219
Level     1,  Iter     6:    Energy =   0.1234
Level     1,  Iter     7:    Energy =   0.1253
Level     1,  Iter     8:    Energy =   0.1267
Level     1,  Iter     9:    Energy =   0.1282
Level     1,  Iter    10:    Energy =   0.1293
Level     1,  Iter    11:    Energy =   0.1305
Level     1,  Iter    12:    Energy =   0.1316
Level     1,  Iter    13:    Energy =   0.1319
Level     1,  Iter    14:    Energy =   0.1324
Level     1,  Iter    15:    Energy =   0.1322
Level     1,  Iter    16:    Energy =   0.1327
Level     1,  Iter    17:    Energy =   0.1327
Level     1,  Iter    18:    Energy =   0.1329
Level     1,  Iter    19:    Energy =   0.1330
Level     1,  Iter    20:    Energy =   0.1332
Level     1,  Iter    21:    Energy =   0.1333
Level     1,  Iter    22:    Energy =   0.1335
Level     1,  Iter    23:    Energy =   0.1336
Level     1,  Iter    24:    Energy =   0.1337
Level     1,  Iter    25:    Energy =   0.1337
Level     1,  Iter    26:    Energy =   0.1340
Level     1,  Iter    27:    Energy =   0.1338
Level     1,  Iter    28:    Energy =   0.1342
Level     1,  Iter    29:    Energy =   0.1340
Level     1,  Iter    30:    Energy =   0.1341
Level     1,  Iter    31:    Energy =   0.1339
Level     1,  Iter    32:    Energy =   0.1340
Level     1,  Iter    33:    Energy =   0.1339
Level     1,  Iter    34:    Energy =   0.1340
Level     1,  Iter    35:    Energy =   0.1339
Level     1,  Iter    36:    Energy =   0.1339
Level     1,  Iter    37:    Energy =   0.1338
Level     1,  Iter    38:    Energy =   0.1338
Level     1,  Iter    39:    Energy =   0.1338
Level     1,  Iter    40:    Energy =   0.1339
Level     1,  Iter    41:    Energy =   0.1338
Level     1,  Iter    42:    Energy =   0.1338
Level     1,  Iter    43:    Energy =   0.1339
Level     1,  Iter    44:    Energy =   0.1338
Level     1,  Iter    45:    Energy =   0.1339
Level     1,  Iter    46:    Energy =   0.1339
Level     1,  Iter    47:    Energy =   0.1339
Level     1,  Iter    48:    Energy =   0.1339
Level     1,  Iter    49:    Energy =   0.1340
Level     1,  Iter    50:    Energy =   0.1340
Level     1,  Iter    51:    Energy =   0.1340
Level     1,  Iter    52:    Energy =   0.1339
Level     1,  Iter    53:    Energy =   0.1340
Level     1,  Iter    54:    Energy =   0.1341
Level     1,  Iter    55:    Energy =   0.1340
Level     1,  Iter    56:    Energy =   0.1339
Level     1,  Iter    57:    Energy =   0.1341
Level     1,  Iter    58:    Energy =   0.1342
Level     1,  Iter    59:    Energy =   0.1341
END OF LEVEL     1    DetJac Range:   0.1934  to   2.4980 
  Avg. Gradient Time  : 0.0474s  32.97% 
  Avg. Gaussian Time  : 0.0776s  54.04% 
  Avg. Iteration Time : 0.1437s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0664
Level     2,  Iter     1:    Energy =   0.0693
Level     2,  Iter     2:    Energy =   0.0725
Level     2,  Iter     3:    Energy =   0.0758
Level     2,  Iter     4:    Energy =   0.0779
Level     2,  Iter     5:    Energy =   0.0798
Level     2,  Iter     6:    Energy =   0.0817
Level     2,  Iter     7:    Energy =   0.0831
Level     2,  Iter     8:    Energy =   0.0841
Level     2,  Iter     9:    Energy =   0.0851
Level     2,  Iter    10:    Energy =   0.0858
Level     2,  Iter    11:    Energy =   0.0864
Level     2,  Iter    12:    Energy =   0.0871
Level     2,  Iter    13:    Energy =   0.0881
Level     2,  Iter    14:    Energy =   0.0889
Level     2,  Iter    15:    Energy =   0.0896
Level     2,  Iter    16:    Energy =   0.0902
Level     2,  Iter    17:    Energy =   0.0908
Level     2,  Iter    18:    Energy =   0.0914
Level     2,  Iter    19:    Energy =   0.0918
END OF LEVEL     2    DetJac Range:   0.1121  to   4.2226 
  Avg. Gradient Time  : 0.3330s  30.74% 
  Avg. Gaussian Time  : 0.6010s  55.48% 
  Avg. Iteration Time : 1.0834s 

real	0m37.007s
user	1m7.548s
sys	0m1.540s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.205769
+ echo 'CHUNK 0.2 0.205769 1'
CHUNK 0.2 0.205769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.205769 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.744224
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4164.81   GNORM= 362.607
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4204.557     286.512       0.001
   2    4     -4227.474     155.637       1.000
   3    5     -4242.322     109.691       1.000
   4    6     -4258.596     213.559       1.000
   5    7     -4270.245     126.882       1.000
   6    8     -4280.664      62.029       1.000
   7    9     -4285.361      88.991       1.000
   8   10     -4295.328     110.900       1.000
   9   11     -4317.619      73.245       1.000
  10   13     -4323.469     123.279       0.418
  11   14     -4328.521      61.628       1.000
  12   15     -4334.058      66.894       1.000
  13   16     -4341.919      91.074       1.000
  14   18     -4345.426      68.565       0.506
  15   19     -4347.771      40.392       1.000
  16   20     -4348.904      46.054       1.000
  17   21     -4350.510      36.588       1.000
  18   23     -4351.361      41.705       0.334
  19   24     -4352.051      21.689       1.000
  20   25     -4352.245      12.008       1.000
  21   26     -4352.371      12.968       1.000
  22   27     -4352.597      20.765       1.000
  23   28     -4352.854      19.392       1.000
  24   30     -4352.951      15.024       0.280
  25   31     -4353.042       8.873       1.000
  26   32     -4353.066      10.420       1.000
  27   33     -4353.107       5.394       1.000
  28   34     -4353.120       5.883       1.000
  29   35     -4353.135       5.203       1.000
  30   36     -4353.158       4.761       1.000
  31   37     -4353.182      18.574       1.000
  32   38     -4353.221      13.467       1.000
  33   39     -4353.250      13.596       1.000
  34   40     -4353.264       3.532       1.000
  35   41     -4353.274       6.590       1.000
  36   42     -4353.284       3.845       1.000
  37   43     -4353.301      10.315       1.000
  38   44     -4353.316       8.230       1.000
  39   45     -4353.337      12.617       1.000
  40   47     -4353.359       7.480       0.482
  41   48     -4353.372       3.797       1.000
  42   49     -4353.374       6.656       1.000
  43   50     -4353.381       6.304       1.000
  44   51     -4353.390       3.999       1.000
  45   52     -4353.403       3.859       1.000
Final RAS Transform: 
0.963327 0.0137844 0.0604578 -0.292719 
0.0282143 1.00267 0.0184166 0.599846 
-0.0362755 -0.00117006 1.04092 -0.588589 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2888.99   GNORM= 212.261
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2898.273      55.000       0.000
   2    4     -2899.608      51.485       1.000
   3    5     -2903.476     101.526       1.000
   4    6     -2907.452     108.406       1.000
   5    7     -2920.819     119.068       1.000
   6    8     -2925.157      96.555       1.000
   7    9     -2928.420      34.179       1.000
   8   10     -2929.414      28.157       1.000
   9   11     -2932.302      61.407       1.000
  10   12     -2937.223      85.094       1.000
  11   13     -2942.029      67.944       1.000
  12   14     -2942.547      91.332       1.000
  13   15     -2944.333      26.104       1.000
  14   16     -2944.683      18.378       1.000
  15   17     -2945.140      38.622       1.000
  16   18     -2946.033      56.318       1.000
  17   19     -2948.501      93.230       1.000
  18   20     -2950.145      63.348       1.000
  19   21     -2951.549      25.607       1.000
  20   22     -2951.953      24.040       1.000
  21   23     -2952.287      16.307       1.000
  22   24     -2952.970      31.785       1.000
  23   25     -2953.276       8.760       1.000
  24   26     -2953.346       9.560       1.000
  25   27     -2953.940      13.063       1.000
  26   29     -2954.689      12.752       0.470
  27   31     -2954.770       7.797       0.298
  28   32     -2954.804       4.473       1.000
  29   33     -2954.839       6.795       1.000
  30   34     -2954.917      11.803       1.000
  31   35     -2955.027       5.218       1.000
  32   36     -2955.059       5.732       1.000
  33   37     -2955.108       5.650       1.000
  34   38     -2955.118       8.051       1.000
  35   39     -2955.139       2.270       1.000
  36   40     -2955.144       3.956       1.000
  37   41     -2955.151       2.921       1.000
  38   42     -2955.198       3.584       1.000
  39   43     -2955.228       6.130       1.000
  40   45     -2955.235       5.026       0.255
  41   46     -2955.238       1.851       1.000
  42   47     -2955.245       2.484       1.000
  43   48     -2955.248       5.122       1.000
  44   49     -2955.254       3.232       1.000
  45   50     -2955.267       3.244       1.000
  46   51     -2955.275       3.442       1.000
  47   52     -2955.277       3.203       1.000
  48   53     -2955.279       1.523       1.000
  49   54     -2955.284       1.447       1.000
  50   56     -2955.287       1.345       0.164
Final RAS Transform: 
0.965439 0.0138358 0.022101 -0.542891 
0.0264679 0.995245 -0.00409105 0.316346 
-0.0185566 0.00946364 1.01496 -0.122175 
0 0 0 1 

Final RAS Transform: 
0.965439 0.0138358 0.022101 -0.542891 
0.0264679 0.995245 -0.00409105 0.316346 
-0.0185566 0.00946364 1.01496 -0.122175 
0 0 0 1 


real	0m10.332s
user	0m18.004s
sys	0m0.504s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.739557
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1274
Level     0,  Iter     1:    Energy =   0.1357
Level     0,  Iter     2:    Energy =   0.1424
Level     0,  Iter     3:    Energy =   0.1466
Level     0,  Iter     4:    Energy =   0.1500
Level     0,  Iter     5:    Energy =   0.1523
Level     0,  Iter     6:    Energy =   0.1538
Level     0,  Iter     7:    Energy =   0.1545
Level     0,  Iter     8:    Energy =   0.1556
Level     0,  Iter     9:    Energy =   0.1559
Level     0,  Iter    10:    Energy =   0.1566
Level     0,  Iter    11:    Energy =   0.1566
Level     0,  Iter    12:    Energy =   0.1574
Level     0,  Iter    13:    Energy =   0.1573
Level     0,  Iter    14:    Energy =   0.1580
Level     0,  Iter    15:    Energy =   0.1577
Level     0,  Iter    16:    Energy =   0.1585
Level     0,  Iter    17:    Energy =   0.1581
Level     0,  Iter    18:    Energy =   0.1589
Level     0,  Iter    19:    Energy =   0.1586
Level     0,  Iter    20:    Energy =   0.1592
Level     0,  Iter    21:    Energy =   0.1589
Level     0,  Iter    22:    Energy =   0.1595
Level     0,  Iter    23:    Energy =   0.1590
Level     0,  Iter    24:    Energy =   0.1596
Level     0,  Iter    25:    Energy =   0.1590
Level     0,  Iter    26:    Energy =   0.1598
Level     0,  Iter    27:    Energy =   0.1592
Level     0,  Iter    28:    Energy =   0.1600
Level     0,  Iter    29:    Energy =   0.1594
Level     0,  Iter    30:    Energy =   0.1603
Level     0,  Iter    31:    Energy =   0.1596
Level     0,  Iter    32:    Energy =   0.1605
Level     0,  Iter    33:    Energy =   0.1597
Level     0,  Iter    34:    Energy =   0.1606
Level     0,  Iter    35:    Energy =   0.1599
Level     0,  Iter    36:    Energy =   0.1608
Level     0,  Iter    37:    Energy =   0.1599
Level     0,  Iter    38:    Energy =   0.1608
Level     0,  Iter    39:    Energy =   0.1601
Level     0,  Iter    40:    Energy =   0.1609
Level     0,  Iter    41:    Energy =   0.1602
Level     0,  Iter    42:    Energy =   0.1610
Level     0,  Iter    43:    Energy =   0.1601
Level     0,  Iter    44:    Energy =   0.1610
Level     0,  Iter    45:    Energy =   0.1601
Level     0,  Iter    46:    Energy =   0.1611
Level     0,  Iter    47:    Energy =   0.1603
Level     0,  Iter    48:    Energy =   0.1613
Level     0,  Iter    49:    Energy =   0.1605
Level     0,  Iter    50:    Energy =   0.1614
Level     0,  Iter    51:    Energy =   0.1605
Level     0,  Iter    52:    Energy =   0.1614
Level     0,  Iter    53:    Energy =   0.1605
Level     0,  Iter    54:    Energy =   0.1616
Level     0,  Iter    55:    Energy =   0.1607
Level     0,  Iter    56:    Energy =   0.1615
Level     0,  Iter    57:    Energy =   0.1606
Level     0,  Iter    58:    Energy =   0.1615
Level     0,  Iter    59:    Energy =   0.1607
END OF LEVEL     0    DetJac Range:   0.3283  to   1.9915 
  Avg. Gradient Time  : 0.0084s  34.82% 
  Avg. Gaussian Time  : 0.0120s  49.59% 
  Avg. Iteration Time : 0.0242s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1065
Level     1,  Iter     1:    Energy =   0.1119
Level     1,  Iter     2:    Energy =   0.1165
Level     1,  Iter     3:    Energy =   0.1201
Level     1,  Iter     4:    Energy =   0.1236
Level     1,  Iter     5:    Energy =   0.1257
Level     1,  Iter     6:    Energy =   0.1274
Level     1,  Iter     7:    Energy =   0.1293
Level     1,  Iter     8:    Energy =   0.1308
Level     1,  Iter     9:    Energy =   0.1322
Level     1,  Iter    10:    Energy =   0.1334
Level     1,  Iter    11:    Energy =   0.1344
Level     1,  Iter    12:    Energy =   0.1347
Level     1,  Iter    13:    Energy =   0.1347
Level     1,  Iter    14:    Energy =   0.1347
Level     1,  Iter    15:    Energy =   0.1347
Level     1,  Iter    16:    Energy =   0.1350
Level     1,  Iter    17:    Energy =   0.1349
Level     1,  Iter    18:    Energy =   0.1351
Level     1,  Iter    19:    Energy =   0.1350
Level     1,  Iter    20:    Energy =   0.1353
Level     1,  Iter    21:    Energy =   0.1351
Level     1,  Iter    22:    Energy =   0.1355
Level     1,  Iter    23:    Energy =   0.1353
Level     1,  Iter    24:    Energy =   0.1356
Level     1,  Iter    25:    Energy =   0.1355
Level     1,  Iter    26:    Energy =   0.1356
Level     1,  Iter    27:    Energy =   0.1356
Level     1,  Iter    28:    Energy =   0.1357
Level     1,  Iter    29:    Energy =   0.1356
Level     1,  Iter    30:    Energy =   0.1358
Level     1,  Iter    31:    Energy =   0.1357
Level     1,  Iter    32:    Energy =   0.1359
Level     1,  Iter    33:    Energy =   0.1357
Level     1,  Iter    34:    Energy =   0.1360
Level     1,  Iter    35:    Energy =   0.1358
Level     1,  Iter    36:    Energy =   0.1360
Level     1,  Iter    37:    Energy =   0.1359
Level     1,  Iter    38:    Energy =   0.1361
Level     1,  Iter    39:    Energy =   0.1359
Level     1,  Iter    40:    Energy =   0.1360
Level     1,  Iter    41:    Energy =   0.1359
Level     1,  Iter    42:    Energy =   0.1363
Level     1,  Iter    43:    Energy =   0.1360
Level     1,  Iter    44:    Energy =   0.1364
Level     1,  Iter    45:    Energy =   0.1362
Level     1,  Iter    46:    Energy =   0.1364
Level     1,  Iter    47:    Energy =   0.1361
Level     1,  Iter    48:    Energy =   0.1366
Level     1,  Iter    49:    Energy =   0.1363
Level     1,  Iter    50:    Energy =   0.1366
Level     1,  Iter    51:    Energy =   0.1363
Level     1,  Iter    52:    Energy =   0.1366
Level     1,  Iter    53:    Energy =   0.1363
Level     1,  Iter    54:    Energy =   0.1367
Level     1,  Iter    55:    Energy =   0.1365
Level     1,  Iter    56:    Energy =   0.1367
Level     1,  Iter    57:    Energy =   0.1365
Level     1,  Iter    58:    Energy =   0.1368
Level     1,  Iter    59:    Energy =   0.1365
END OF LEVEL     1    DetJac Range:   0.1326  to   3.0838 
  Avg. Gradient Time  : 0.0476s  33.03% 
  Avg. Gaussian Time  : 0.0778s  54.02% 
  Avg. Iteration Time : 0.1439s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0700
Level     2,  Iter     1:    Energy =   0.0732
Level     2,  Iter     2:    Energy =   0.0760
Level     2,  Iter     3:    Energy =   0.0784
Level     2,  Iter     4:    Energy =   0.0809
Level     2,  Iter     5:    Energy =   0.0833
Level     2,  Iter     6:    Energy =   0.0850
Level     2,  Iter     7:    Energy =   0.0856
Level     2,  Iter     8:    Energy =   0.0865
Level     2,  Iter     9:    Energy =   0.0873
Level     2,  Iter    10:    Energy =   0.0877
Level     2,  Iter    11:    Energy =   0.0888
Level     2,  Iter    12:    Energy =   0.0888
Level     2,  Iter    13:    Energy =   0.0900
Level     2,  Iter    14:    Energy =   0.0900
Level     2,  Iter    15:    Energy =   0.0910
Level     2,  Iter    16:    Energy =   0.0907
Level     2,  Iter    17:    Energy =   0.0920
Level     2,  Iter    18:    Energy =   0.0917
Level     2,  Iter    19:    Energy =   0.0926
END OF LEVEL     2    DetJac Range:   0.1011  to   4.2779 
  Avg. Gradient Time  : 0.3334s  30.78% 
  Avg. Gaussian Time  : 0.6006s  55.44% 
  Avg. Iteration Time : 1.0834s 

real	0m37.061s
user	1m7.592s
sys	0m1.532s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.205769 0.211538
+ echo 'CHUNK 0.205769 0.211538 1'
CHUNK 0.205769 0.211538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.205769 0.211538 1
====================================
         PROGRESS: 0.205769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.546432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4061.49   GNORM= 423.49
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4102.380     268.389       0.000
   2    4     -4124.287     186.954       1.000
   3    5     -4150.916     142.920       1.000
   4    6     -4164.132      92.846       1.000
   5    7     -4188.888     120.271       1.000
   6    8     -4214.494     165.263       1.000
   7   10     -4221.945     184.030       0.351
   8   11     -4240.805     132.484       1.000
   9   12     -4256.538      66.843       1.000
  10   13     -4264.030      63.267       1.000
  11   14     -4271.392     112.501       1.000
  12   15     -4277.840      62.897       1.000
  13   16     -4283.662      66.647       1.000
  14   18     -4287.030      88.843       0.312
  15   19     -4290.402      39.566       1.000
  16   20     -4291.563      22.734       1.000
  17   21     -4292.207      22.920       1.000
  18   22     -4293.318      40.971       1.000
  19   23     -4293.686      60.866       1.000
  20   24     -4294.919      29.787       1.000
  21   25     -4295.118      11.407       1.000
  22   26     -4295.245      10.191       1.000
  23   27     -4295.531      23.481       1.000
  24   28     -4295.695      14.960       1.000
  25   29     -4295.871      11.017       1.000
  26   31     -4295.995      18.040       0.462
  27   32     -4296.146       9.793       1.000
  28   33     -4296.315      11.007       1.000
  29   34     -4296.526      34.653       1.000
  30   35     -4296.833      20.737       1.000
  31   36     -4297.059      13.307       1.000
  32   37     -4297.316      27.830       1.000
  33   38     -4297.454      10.904       1.000
  34   39     -4297.594      12.303       1.000
  35   40     -4297.774      25.192       1.000
  36   41     -4297.933       5.725       1.000
  37   42     -4297.943       6.207       1.000
  38   43     -4297.950      19.279       1.000
  39   44     -4297.996      10.561       1.000
  40   45     -4297.998       8.451       1.000
  41   46     -4298.063       5.416       1.000
  42   47     -4298.124      11.150       1.000
  43   48     -4298.194       6.933       1.000
  44   50     -4298.239       5.789       0.465
  45   51     -4298.291       5.145       1.000
  46   53     -4298.342       9.328       0.263
  47   55     -4298.403       6.826       0.489
  48   56     -4298.435       8.129       1.000
  49   58     -4298.453       9.006       0.171
  50   59     -4298.478       6.049       1.000
  51   61     -4298.514       6.280       0.450
Final RAS Transform: 
0.945475 -0.0288335 -0.00424642 -2.14638 
0.0569079 0.999435 0.0286854 1.16104 
-0.0182723 -0.00167842 1.01089 -0.0379345 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3018.51   GNORM= 196.191
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3024.424      43.022       0.000
   2    4     -3024.996      40.903       1.000
   3    5     -3027.343      57.712       1.000
   4    6     -3029.370      63.883       1.000
   5    7     -3034.142      53.443       1.000
   6    8     -3035.898      39.562       1.000
   7    9     -3036.855      23.061       1.000
   8   10     -3038.411      30.768       1.000
   9   11     -3040.739      86.064       1.000
  10   12     -3043.355      49.160       1.000
  11   13     -3045.309      27.006       1.000
  12   14     -3045.826      17.007       1.000
  13   15     -3046.305      19.541       1.000
  14   16     -3048.060      40.506       1.000
  15   18     -3048.583      49.643       0.269
  16   19     -3049.607      33.886       1.000
  17   20     -3049.996       7.346       1.000
  18   21     -3050.097       6.839       1.000
  19   22     -3050.224       6.851       1.000
  20   23     -3050.332       6.197       1.000
  21   25     -3050.361      10.594       0.180
  22   26     -3050.446       6.525       1.000
  23   27     -3050.481       7.554       1.000
  24   28     -3050.496       5.096       1.000
  25   29     -3050.511       5.022       1.000
  26   30     -3050.561       6.105       1.000
  27   31     -3050.653       8.646       1.000
  28   32     -3050.742      28.828       1.000
  29   33     -3050.878       8.748       1.000
  30   34     -3050.919       4.499       1.000
  31   35     -3050.948       7.186       1.000
  32   36     -3050.967      10.449       1.000
  33   37     -3051.017       6.592       1.000
  34   38     -3051.044       5.017       1.000
  35   39     -3051.080       5.826       1.000
  36   41     -3051.109      17.652       0.299
  37   42     -3051.186      12.009       1.000
  38   43     -3051.270       7.432       1.000
  39   44     -3051.334      17.014       1.000
  40   45     -3051.396       3.366       1.000
  41   46     -3051.420       2.077       1.000
  42   47     -3051.429       4.388       1.000
  43   48     -3051.431       4.361       1.000
  44   49     -3051.442       2.940       1.000
  45   50     -3051.445       1.889       1.000
  46   51     -3051.449       1.865       1.000
  47   52     -3051.454       3.676       1.000
  48   53     -3051.462       1.547       1.000
  49   54     -3051.463       2.178       1.000
  50   55     -3051.464       3.938       1.000
  51   56     -3051.472       2.270       1.000
Final RAS Transform: 
0.959165 -0.0172019 -0.000525142 -1.44176 
0.0408429 0.995156 0.0144369 0.702102 
-0.0125238 -0.000213345 1.01695 0.0668622 
0 0 0 1 

Final RAS Transform: 
0.959165 -0.0172019 -0.000525142 -1.44176 
0.0408429 0.995156 0.0144369 0.702102 
-0.0125238 -0.000213345 1.01695 0.0668622 
0 0 0 1 


real	0m10.522s
user	0m18.396s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.549405
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1275
Level     0,  Iter     1:    Energy =   0.1347
Level     0,  Iter     2:    Energy =   0.1401
Level     0,  Iter     3:    Energy =   0.1453
Level     0,  Iter     4:    Energy =   0.1486
Level     0,  Iter     5:    Energy =   0.1510
Level     0,  Iter     6:    Energy =   0.1517
Level     0,  Iter     7:    Energy =   0.1529
Level     0,  Iter     8:    Energy =   0.1534
Level     0,  Iter     9:    Energy =   0.1541
Level     0,  Iter    10:    Energy =   0.1546
Level     0,  Iter    11:    Energy =   0.1550
Level     0,  Iter    12:    Energy =   0.1553
Level     0,  Iter    13:    Energy =   0.1557
Level     0,  Iter    14:    Energy =   0.1561
Level     0,  Iter    15:    Energy =   0.1564
Level     0,  Iter    16:    Energy =   0.1567
Level     0,  Iter    17:    Energy =   0.1569
Level     0,  Iter    18:    Energy =   0.1572
Level     0,  Iter    19:    Energy =   0.1574
Level     0,  Iter    20:    Energy =   0.1573
Level     0,  Iter    21:    Energy =   0.1574
Level     0,  Iter    22:    Energy =   0.1573
Level     0,  Iter    23:    Energy =   0.1574
Level     0,  Iter    24:    Energy =   0.1574
Level     0,  Iter    25:    Energy =   0.1575
Level     0,  Iter    26:    Energy =   0.1575
Level     0,  Iter    27:    Energy =   0.1577
Level     0,  Iter    28:    Energy =   0.1577
Level     0,  Iter    29:    Energy =   0.1578
Level     0,  Iter    30:    Energy =   0.1577
Level     0,  Iter    31:    Energy =   0.1579
Level     0,  Iter    32:    Energy =   0.1578
Level     0,  Iter    33:    Energy =   0.1579
Level     0,  Iter    34:    Energy =   0.1579
Level     0,  Iter    35:    Energy =   0.1580
Level     0,  Iter    36:    Energy =   0.1579
Level     0,  Iter    37:    Energy =   0.1581
Level     0,  Iter    38:    Energy =   0.1580
Level     0,  Iter    39:    Energy =   0.1581
Level     0,  Iter    40:    Energy =   0.1581
Level     0,  Iter    41:    Energy =   0.1582
Level     0,  Iter    42:    Energy =   0.1581
Level     0,  Iter    43:    Energy =   0.1582
Level     0,  Iter    44:    Energy =   0.1581
Level     0,  Iter    45:    Energy =   0.1582
Level     0,  Iter    46:    Energy =   0.1582
Level     0,  Iter    47:    Energy =   0.1583
Level     0,  Iter    48:    Energy =   0.1581
Level     0,  Iter    49:    Energy =   0.1582
Level     0,  Iter    50:    Energy =   0.1582
Level     0,  Iter    51:    Energy =   0.1583
Level     0,  Iter    52:    Energy =   0.1582
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1583
Level     0,  Iter    55:    Energy =   0.1584
Level     0,  Iter    56:    Energy =   0.1583
Level     0,  Iter    57:    Energy =   0.1584
Level     0,  Iter    58:    Energy =   0.1584
Level     0,  Iter    59:    Energy =   0.1584
END OF LEVEL     0    DetJac Range:   0.3726  to   1.8273 
  Avg. Gradient Time  : 0.0084s  34.94% 
  Avg. Gaussian Time  : 0.0119s  49.37% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1066
Level     1,  Iter     1:    Energy =   0.1112
Level     1,  Iter     2:    Energy =   0.1159
Level     1,  Iter     3:    Energy =   0.1200
Level     1,  Iter     4:    Energy =   0.1233
Level     1,  Iter     5:    Energy =   0.1253
Level     1,  Iter     6:    Energy =   0.1268
Level     1,  Iter     7:    Energy =   0.1277
Level     1,  Iter     8:    Energy =   0.1290
Level     1,  Iter     9:    Energy =   0.1301
Level     1,  Iter    10:    Energy =   0.1315
Level     1,  Iter    11:    Energy =   0.1323
Level     1,  Iter    12:    Energy =   0.1336
Level     1,  Iter    13:    Energy =   0.1338
Level     1,  Iter    14:    Energy =   0.1338
Level     1,  Iter    15:    Energy =   0.1339
Level     1,  Iter    16:    Energy =   0.1342
Level     1,  Iter    17:    Energy =   0.1343
Level     1,  Iter    18:    Energy =   0.1342
Level     1,  Iter    19:    Energy =   0.1345
Level     1,  Iter    20:    Energy =   0.1346
Level     1,  Iter    21:    Energy =   0.1348
Level     1,  Iter    22:    Energy =   0.1346
Level     1,  Iter    23:    Energy =   0.1350
Level     1,  Iter    24:    Energy =   0.1349
Level     1,  Iter    25:    Energy =   0.1351
Level     1,  Iter    26:    Energy =   0.1350
Level     1,  Iter    27:    Energy =   0.1352
Level     1,  Iter    28:    Energy =   0.1352
Level     1,  Iter    29:    Energy =   0.1353
Level     1,  Iter    30:    Energy =   0.1352
Level     1,  Iter    31:    Energy =   0.1353
Level     1,  Iter    32:    Energy =   0.1354
Level     1,  Iter    33:    Energy =   0.1354
Level     1,  Iter    34:    Energy =   0.1355
Level     1,  Iter    35:    Energy =   0.1355
Level     1,  Iter    36:    Energy =   0.1356
Level     1,  Iter    37:    Energy =   0.1355
Level     1,  Iter    38:    Energy =   0.1356
Level     1,  Iter    39:    Energy =   0.1356
Level     1,  Iter    40:    Energy =   0.1357
Level     1,  Iter    41:    Energy =   0.1357
Level     1,  Iter    42:    Energy =   0.1357
Level     1,  Iter    43:    Energy =   0.1357
Level     1,  Iter    44:    Energy =   0.1358
Level     1,  Iter    45:    Energy =   0.1358
Level     1,  Iter    46:    Energy =   0.1359
Level     1,  Iter    47:    Energy =   0.1358
Level     1,  Iter    48:    Energy =   0.1359
Level     1,  Iter    49:    Energy =   0.1359
Level     1,  Iter    50:    Energy =   0.1359
Level     1,  Iter    51:    Energy =   0.1360
Level     1,  Iter    52:    Energy =   0.1360
Level     1,  Iter    53:    Energy =   0.1361
Level     1,  Iter    54:    Energy =   0.1360
Level     1,  Iter    55:    Energy =   0.1362
Level     1,  Iter    56:    Energy =   0.1361
Level     1,  Iter    57:    Energy =   0.1363
Level     1,  Iter    58:    Energy =   0.1361
Level     1,  Iter    59:    Energy =   0.1363
END OF LEVEL     1    DetJac Range:   0.1120  to   2.9502 
  Avg. Gradient Time  : 0.0471s  32.96% 
  Avg. Gaussian Time  : 0.0772s  53.99% 
  Avg. Iteration Time : 0.1430s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0721
Level     2,  Iter     1:    Energy =   0.0748
Level     2,  Iter     2:    Energy =   0.0774
Level     2,  Iter     3:    Energy =   0.0797
Level     2,  Iter     4:    Energy =   0.0815
Level     2,  Iter     5:    Energy =   0.0831
Level     2,  Iter     6:    Energy =   0.0846
Level     2,  Iter     7:    Energy =   0.0858
Level     2,  Iter     8:    Energy =   0.0869
Level     2,  Iter     9:    Energy =   0.0879
Level     2,  Iter    10:    Energy =   0.0888
Level     2,  Iter    11:    Energy =   0.0896
Level     2,  Iter    12:    Energy =   0.0902
Level     2,  Iter    13:    Energy =   0.0909
Level     2,  Iter    14:    Energy =   0.0914
Level     2,  Iter    15:    Energy =   0.0919
Level     2,  Iter    16:    Energy =   0.0920
Level     2,  Iter    17:    Energy =   0.0922
Level     2,  Iter    18:    Energy =   0.0923
Level     2,  Iter    19:    Energy =   0.0925
END OF LEVEL     2    DetJac Range:   0.0560  to   3.7010 
  Avg. Gradient Time  : 0.3301s  30.60% 
  Avg. Gaussian Time  : 0.5996s  55.58% 
  Avg. Iteration Time : 1.0788s 

real	0m36.974s
user	1m7.500s
sys	0m1.524s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.211538 0.217308
+ echo 'CHUNK 0.211538 0.217308 1'
CHUNK 0.211538 0.217308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.211538 0.217308 1
====================================
         PROGRESS: 0.211538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.252747
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3322.68   GNORM= 467.735
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3389.361     271.033       0.001
   2    4     -3416.114     165.780       1.000
   3    5     -3436.768     108.755       1.000
   4    6     -3444.755     106.534       1.000
   5    7     -3465.352      94.615       1.000
   6    8     -3491.328     189.308       1.000
   7    9     -3520.733     110.225       1.000
   8   10     -3545.695      94.104       1.000
   9   11     -3561.382      95.453       1.000
  10   12     -3575.304     113.831       1.000
  11   13     -3589.677     154.743       1.000
  12   14     -3598.386     100.656       1.000
  13   15     -3607.174     124.928       1.000
  14   16     -3611.724      77.398       1.000
  15   17     -3618.087      46.765       1.000
  16   18     -3620.264      38.813       1.000
  17   20     -3621.771      49.879       0.249
  18   21     -3623.511      43.229       1.000
  19   23     -3627.081      54.219       0.368
  20   24     -3628.686      47.237       1.000
  21   25     -3629.542      27.027       1.000
  22   26     -3630.518      28.870       1.000
  23   27     -3630.891      23.261       1.000
  24   28     -3631.873      27.079       1.000
  25   29     -3632.637      36.013       1.000
  26   30     -3633.463      42.691       1.000
  27   31     -3634.263      25.308       1.000
  28   32     -3634.519      18.362       1.000
  29   33     -3634.830      21.820       1.000
  30   34     -3634.982      22.141       1.000
  31   35     -3635.105      14.611       1.000
  32   36     -3635.270      17.317       1.000
  33   37     -3635.456      13.331       1.000
  34   38     -3635.606      18.874       1.000
  35   39     -3635.834      10.711       1.000
  36   40     -3635.948      20.778       1.000
  37   41     -3636.065      14.478       1.000
  38   42     -3636.220       5.530       1.000
  39   44     -3636.235       6.506       0.400
  40   45     -3636.273       5.910       1.000
  41   46     -3636.368      17.676       1.000
  42   47     -3636.392      14.700       1.000
  43   48     -3636.430       7.657       1.000
  44   49     -3636.458      10.504       1.000
  45   50     -3636.501       5.686       1.000
  46   51     -3636.562       7.655       1.000
  47   52     -3636.591       5.526       1.000
  48   54     -3636.636      10.601       0.166
  49   55     -3636.661       5.707       1.000
  50   57     -3636.688       3.787       0.385
  51   60     -3636.704       2.797       2.288
  52   61     -3636.707       2.391       1.000
Final RAS Transform: 
0.909492 -0.0111018 0.0329185 -2.64302 
0.0524317 1.00737 0.0286303 0.880635 
-0.065425 -0.00153185 1.03762 -1.527 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2396.64   GNORM= 251.167
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2412.061      73.998       0.000
   2    4     -2414.762      67.468       1.000
   3    5     -2420.506      70.399       1.000
   4    6     -2427.228      87.032       1.000
   5    7     -2434.992      74.937       1.000
   6    8     -2439.434      37.344       1.000
   7    9     -2441.490      24.060       1.000
   8   10     -2442.523      61.793       1.000
   9   11     -2443.770      22.859       1.000
  10   12     -2445.008      39.638       1.000
  11   13     -2447.126      49.497       1.000
  12   14     -2449.000      82.164       1.000
  13   15     -2449.986      36.384       1.000
  14   16     -2450.653      24.036       1.000
  15   17     -2451.018      27.409       1.000
  16   18     -2451.330      16.280       1.000
  17   19     -2451.928      16.573       1.000
  18   20     -2453.247      30.700       1.000
  19   21     -2454.573      91.305       1.000
  20   22     -2456.037      44.433       1.000
  21   23     -2456.779      19.678       1.000
  22   24     -2457.024      19.272       1.000
  23   25     -2457.164      13.023       1.000
  24   26     -2457.751      13.159       1.000
  25   27     -2458.387      31.166       1.000
  26   28     -2458.939      28.906       1.000
  27   29     -2460.028      59.398       1.000
  28   30     -2461.370      29.374       1.000
  29   31     -2462.136      26.558       1.000
  30   32     -2463.228      33.156       1.000
  31   33     -2463.944      14.951       1.000
  32   34     -2464.447      14.143       1.000
  33   35     -2465.321      35.830       1.000
  34   36     -2465.844      56.721       1.000
  35   37     -2466.744      10.614       1.000
  36   38     -2466.860       8.449       1.000
  37   39     -2467.072      15.552       1.000
  38   40     -2467.269      12.524       1.000
  39   41     -2467.421      10.104       1.000
  40   42     -2467.549       6.648       1.000
  41   43     -2467.627       6.832       1.000
  42   45     -2467.658      10.700       0.358
  43   46     -2467.692       8.038       1.000
  44   47     -2467.724       2.903       1.000
  45   48     -2467.737       4.994       1.000
  46   49     -2467.754       3.053       1.000
  47   50     -2467.771       3.570       1.000
  48   51     -2467.790       5.650       1.000
  49   52     -2467.810       3.500       1.000
  50   53     -2467.820       2.278       1.000
  51   54     -2467.828       0.779       1.000
Final RAS Transform: 
0.94014 -0.00887977 -0.00558064 -1.96344 
0.042244 1.00719 0.0250194 0.741451 
-0.0446249 0.00304589 0.996828 -1.30854 
0 0 0 1 

Final RAS Transform: 
0.94014 -0.00887977 -0.00558064 -1.96344 
0.042244 1.00719 0.0250194 0.741451 
-0.0446249 0.00304589 0.996828 -1.30854 
0 0 0 1 


real	0m10.295s
user	0m17.876s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.251574
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1049
Level     0,  Iter     1:    Energy =   0.1124
Level     0,  Iter     2:    Energy =   0.1189
Level     0,  Iter     3:    Energy =   0.1243
Level     0,  Iter     4:    Energy =   0.1273
Level     0,  Iter     5:    Energy =   0.1291
Level     0,  Iter     6:    Energy =   0.1305
Level     0,  Iter     7:    Energy =   0.1318
Level     0,  Iter     8:    Energy =   0.1327
Level     0,  Iter     9:    Energy =   0.1339
Level     0,  Iter    10:    Energy =   0.1345
Level     0,  Iter    11:    Energy =   0.1356
Level     0,  Iter    12:    Energy =   0.1362
Level     0,  Iter    13:    Energy =   0.1370
Level     0,  Iter    14:    Energy =   0.1375
Level     0,  Iter    15:    Energy =   0.1378
Level     0,  Iter    16:    Energy =   0.1384
Level     0,  Iter    17:    Energy =   0.1385
Level     0,  Iter    18:    Energy =   0.1389
Level     0,  Iter    19:    Energy =   0.1387
Level     0,  Iter    20:    Energy =   0.1391
Level     0,  Iter    21:    Energy =   0.1391
Level     0,  Iter    22:    Energy =   0.1395
Level     0,  Iter    23:    Energy =   0.1392
Level     0,  Iter    24:    Energy =   0.1396
Level     0,  Iter    25:    Energy =   0.1396
Level     0,  Iter    26:    Energy =   0.1399
Level     0,  Iter    27:    Energy =   0.1395
Level     0,  Iter    28:    Energy =   0.1399
Level     0,  Iter    29:    Energy =   0.1399
Level     0,  Iter    30:    Energy =   0.1402
Level     0,  Iter    31:    Energy =   0.1398
Level     0,  Iter    32:    Energy =   0.1402
Level     0,  Iter    33:    Energy =   0.1401
Level     0,  Iter    34:    Energy =   0.1404
Level     0,  Iter    35:    Energy =   0.1399
Level     0,  Iter    36:    Energy =   0.1403
Level     0,  Iter    37:    Energy =   0.1403
Level     0,  Iter    38:    Energy =   0.1407
Level     0,  Iter    39:    Energy =   0.1402
Level     0,  Iter    40:    Energy =   0.1406
Level     0,  Iter    41:    Energy =   0.1407
Level     0,  Iter    42:    Energy =   0.1410
Level     0,  Iter    43:    Energy =   0.1406
Level     0,  Iter    44:    Energy =   0.1410
Level     0,  Iter    45:    Energy =   0.1410
Level     0,  Iter    46:    Energy =   0.1413
Level     0,  Iter    47:    Energy =   0.1408
Level     0,  Iter    48:    Energy =   0.1412
Level     0,  Iter    49:    Energy =   0.1413
Level     0,  Iter    50:    Energy =   0.1415
Level     0,  Iter    51:    Energy =   0.1411
Level     0,  Iter    52:    Energy =   0.1415
Level     0,  Iter    53:    Energy =   0.1416
Level     0,  Iter    54:    Energy =   0.1418
Level     0,  Iter    55:    Energy =   0.1414
Level     0,  Iter    56:    Energy =   0.1417
Level     0,  Iter    57:    Energy =   0.1418
Level     0,  Iter    58:    Energy =   0.1420
Level     0,  Iter    59:    Energy =   0.1416
END OF LEVEL     0    DetJac Range:   0.2412  to   2.0733 
  Avg. Gradient Time  : 0.0074s  34.64% 
  Avg. Gaussian Time  : 0.0106s  49.77% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0893
Level     1,  Iter     1:    Energy =   0.0942
Level     1,  Iter     2:    Energy =   0.0982
Level     1,  Iter     3:    Energy =   0.1025
Level     1,  Iter     4:    Energy =   0.1056
Level     1,  Iter     5:    Energy =   0.1082
Level     1,  Iter     6:    Energy =   0.1102
Level     1,  Iter     7:    Energy =   0.1119
Level     1,  Iter     8:    Energy =   0.1132
Level     1,  Iter     9:    Energy =   0.1142
Level     1,  Iter    10:    Energy =   0.1150
Level     1,  Iter    11:    Energy =   0.1158
Level     1,  Iter    12:    Energy =   0.1164
Level     1,  Iter    13:    Energy =   0.1168
Level     1,  Iter    14:    Energy =   0.1169
Level     1,  Iter    15:    Energy =   0.1171
Level     1,  Iter    16:    Energy =   0.1175
Level     1,  Iter    17:    Energy =   0.1176
Level     1,  Iter    18:    Energy =   0.1181
Level     1,  Iter    19:    Energy =   0.1181
Level     1,  Iter    20:    Energy =   0.1185
Level     1,  Iter    21:    Energy =   0.1187
Level     1,  Iter    22:    Energy =   0.1186
Level     1,  Iter    23:    Energy =   0.1191
Level     1,  Iter    24:    Energy =   0.1190
Level     1,  Iter    25:    Energy =   0.1194
Level     1,  Iter    26:    Energy =   0.1193
Level     1,  Iter    27:    Energy =   0.1197
Level     1,  Iter    28:    Energy =   0.1196
Level     1,  Iter    29:    Energy =   0.1199
Level     1,  Iter    30:    Energy =   0.1199
Level     1,  Iter    31:    Energy =   0.1200
Level     1,  Iter    32:    Energy =   0.1199
Level     1,  Iter    33:    Energy =   0.1203
Level     1,  Iter    34:    Energy =   0.1201
Level     1,  Iter    35:    Energy =   0.1205
Level     1,  Iter    36:    Energy =   0.1204
Level     1,  Iter    37:    Energy =   0.1205
Level     1,  Iter    38:    Energy =   0.1203
Level     1,  Iter    39:    Energy =   0.1208
Level     1,  Iter    40:    Energy =   0.1207
Level     1,  Iter    41:    Energy =   0.1208
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1210
Level     1,  Iter    44:    Energy =   0.1206
Level     1,  Iter    45:    Energy =   0.1213
Level     1,  Iter    46:    Energy =   0.1209
Level     1,  Iter    47:    Energy =   0.1215
Level     1,  Iter    48:    Energy =   0.1211
Level     1,  Iter    49:    Energy =   0.1217
Level     1,  Iter    50:    Energy =   0.1212
Level     1,  Iter    51:    Energy =   0.1218
Level     1,  Iter    52:    Energy =   0.1214
Level     1,  Iter    53:    Energy =   0.1220
Level     1,  Iter    54:    Energy =   0.1216
Level     1,  Iter    55:    Energy =   0.1220
Level     1,  Iter    56:    Energy =   0.1215
Level     1,  Iter    57:    Energy =   0.1220
Level     1,  Iter    58:    Energy =   0.1216
Level     1,  Iter    59:    Energy =   0.1220
END OF LEVEL     1    DetJac Range:   0.1421  to   3.4919 
  Avg. Gradient Time  : 0.0420s  32.98% 
  Avg. Gaussian Time  : 0.0691s  54.26% 
  Avg. Iteration Time : 0.1274s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0604
Level     2,  Iter     1:    Energy =   0.0627
Level     2,  Iter     2:    Energy =   0.0653
Level     2,  Iter     3:    Energy =   0.0675
Level     2,  Iter     4:    Energy =   0.0695
Level     2,  Iter     5:    Energy =   0.0712
Level     2,  Iter     6:    Energy =   0.0726
Level     2,  Iter     7:    Energy =   0.0740
Level     2,  Iter     8:    Energy =   0.0751
Level     2,  Iter     9:    Energy =   0.0761
Level     2,  Iter    10:    Energy =   0.0771
Level     2,  Iter    11:    Energy =   0.0779
Level     2,  Iter    12:    Energy =   0.0787
Level     2,  Iter    13:    Energy =   0.0794
Level     2,  Iter    14:    Energy =   0.0800
Level     2,  Iter    15:    Energy =   0.0806
Level     2,  Iter    16:    Energy =   0.0812
Level     2,  Iter    17:    Energy =   0.0817
Level     2,  Iter    18:    Energy =   0.0820
Level     2,  Iter    19:    Energy =   0.0825
END OF LEVEL     2    DetJac Range:   0.0701  to   4.2055 
  Avg. Gradient Time  : 0.2969s  31.05% 
  Avg. Gaussian Time  : 0.5303s  55.45% 
  Avg. Iteration Time : 0.9564s 

real	0m32.793s
user	0m59.676s
sys	0m1.324s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217308 0.223077
+ echo 'CHUNK 0.217308 0.223077 1'
CHUNK 0.217308 0.223077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217308 0.223077 1
====================================
         PROGRESS: 0.217308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.623432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3976.85   GNORM= 548.712
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4049.995     269.391       0.000
   2    4     -4077.254     209.810       1.000
   3    5     -4111.251     105.525       1.000
   4    6     -4122.617     105.882       1.000
   5    7     -4189.535     160.913       1.000
   6    8     -4205.502     114.473       1.000
   7    9     -4213.950      96.275       1.000
   8   10     -4224.670      64.087       1.000
   9   11     -4229.159      62.864       1.000
  10   12     -4234.445      59.257       1.000
  11   13     -4243.682      89.905       1.000
  12   14     -4247.439      59.440       1.000
  13   15     -4249.767      69.632       1.000
  14   16     -4250.966      21.517       1.000
  15   17     -4251.559      23.556       1.000
  16   18     -4252.732      35.681       1.000
  17   19     -4253.533      47.100       1.000
  18   20     -4254.655      22.366       1.000
  19   21     -4255.261      18.800       1.000
  20   22     -4255.500      16.390       1.000
  21   23     -4255.662      12.985       1.000
  22   24     -4255.875      10.290       1.000
  23   25     -4256.211      26.900       1.000
  24   26     -4256.774      16.806       1.000
  25   27     -4256.968      12.494       1.000
  26   29     -4257.361      20.536       5.000
  27   30     -4257.688      18.116       1.000
  28   32     -4257.934      25.594       0.392
  29   33     -4258.076      10.677       1.000
  30   34     -4258.109       5.153       1.000
  31   36     -4258.234       9.824       5.000
  32   38     -4258.379      20.363       0.465
  33   39     -4258.536       7.349       1.000
  34   40     -4258.571       8.856       1.000
  35   41     -4258.601       8.429       1.000
  36   43     -4258.620       9.331       0.272
  37   44     -4258.640       7.691       1.000
  38   45     -4258.663       6.200       1.000
  39   46     -4258.672       8.155       1.000
  40   47     -4258.714       7.914       1.000
  41   49     -4258.739       8.752       0.083
  42   50     -4258.763       9.924       1.000
  43   51     -4258.805       8.802       1.000
  44   52     -4258.821       9.083       1.000
  45   54     -4258.840       4.676       0.239
  46   55     -4258.850       4.548       1.000
  47   56     -4258.872       7.826       1.000
  48   57     -4258.879       4.364       1.000
  49   58     -4258.906       3.910       1.000
  50   61     -4258.963       6.325       3.003
Final RAS Transform: 
0.94194 -0.00592201 0.0573427 -1.31607 
0.0281155 1.01044 0.0368185 0.717867 
-0.0279266 0.00378602 1.04483 0.15188 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2856.39   GNORM= 162.88
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2863.666      61.371       0.000
   2    4     -2865.583      45.389       1.000
   3    5     -2867.667      34.377       1.000
   4    6     -2868.731      28.481       1.000
   5    7     -2873.148      20.645       1.000
   6    8     -2874.177      25.024       1.000
   7    9     -2874.527      61.506       1.000
   8   10     -2875.403      35.606       1.000
   9   11     -2877.065      21.959       1.000
  10   12     -2878.918      63.428       1.000
  11   13     -2880.217      35.558       1.000
  12   14     -2880.628      11.967       1.000
  13   15     -2880.688      10.632       1.000
  14   16     -2881.150      13.946       1.000
  15   17     -2881.494      14.026       1.000
  16   19     -2881.979      17.790       0.440
  17   20     -2882.411      15.185       1.000
  18   21     -2882.707      16.936       1.000
  19   22     -2882.885      13.462       1.000
  20   23     -2882.924       5.751       1.000
  21   24     -2882.963       5.574       1.000
  22   25     -2883.040      10.883       1.000
  23   26     -2883.251      14.165       1.000
  24   27     -2883.376      26.176       1.000
  25   28     -2883.563       9.078       1.000
  26   29     -2883.600       4.449       1.000
  27   30     -2883.631       5.520       1.000
  28   31     -2883.660       3.571       1.000
  29   32     -2883.666       2.370       1.000
  30   33     -2883.672       1.513       1.000
  31   34     -2883.682       4.935       1.000
  32   35     -2883.700       4.425       1.000
  33   37     -2883.705       3.500       0.267
  34   38     -2883.707       3.534       1.000
  35   39     -2883.708       1.773       1.000
  36   40     -2883.716       1.530       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.945702 -0.00888948 0.0394659 -1.3116 
0.0242806 1.00583 0.0230818 0.530463 
-0.0134522 0.00669415 1.02356 0.428768 
0 0 0 1 

Final RAS Transform: 
0.945702 -0.00888948 0.0394659 -1.3116 
0.0242806 1.00583 0.0230818 0.530463 
-0.0134522 0.00669415 1.02356 0.428768 
0 0 0 1 


real	0m9.699s
user	0m16.816s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.630139
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1244
Level     0,  Iter     1:    Energy =   0.1329
Level     0,  Iter     2:    Energy =   0.1403
Level     0,  Iter     3:    Energy =   0.1456
Level     0,  Iter     4:    Energy =   0.1499
Level     0,  Iter     5:    Energy =   0.1527
Level     0,  Iter     6:    Energy =   0.1536
Level     0,  Iter     7:    Energy =   0.1549
Level     0,  Iter     8:    Energy =   0.1554
Level     0,  Iter     9:    Energy =   0.1568
Level     0,  Iter    10:    Energy =   0.1571
Level     0,  Iter    11:    Energy =   0.1581
Level     0,  Iter    12:    Energy =   0.1581
Level     0,  Iter    13:    Energy =   0.1581
Level     0,  Iter    14:    Energy =   0.1582
Level     0,  Iter    15:    Energy =   0.1589
Level     0,  Iter    16:    Energy =   0.1591
Level     0,  Iter    17:    Energy =   0.1598
Level     0,  Iter    18:    Energy =   0.1596
Level     0,  Iter    19:    Energy =   0.1594
Level     0,  Iter    20:    Energy =   0.1593
Level     0,  Iter    21:    Energy =   0.1596
Level     0,  Iter    22:    Energy =   0.1596
Level     0,  Iter    23:    Energy =   0.1603
Level     0,  Iter    24:    Energy =   0.1604
Level     0,  Iter    25:    Energy =   0.1604
Level     0,  Iter    26:    Energy =   0.1605
Level     0,  Iter    27:    Energy =   0.1612
Level     0,  Iter    28:    Energy =   0.1610
Level     0,  Iter    29:    Energy =   0.1607
Level     0,  Iter    30:    Energy =   0.1606
Level     0,  Iter    31:    Energy =   0.1608
Level     0,  Iter    32:    Energy =   0.1609
Level     0,  Iter    33:    Energy =   0.1615
Level     0,  Iter    34:    Energy =   0.1612
Level     0,  Iter    35:    Energy =   0.1609
Level     0,  Iter    36:    Energy =   0.1608
Level     0,  Iter    37:    Energy =   0.1610
Level     0,  Iter    38:    Energy =   0.1610
Level     0,  Iter    39:    Energy =   0.1616
Level     0,  Iter    40:    Energy =   0.1614
Level     0,  Iter    41:    Energy =   0.1611
Level     0,  Iter    42:    Energy =   0.1610
Level     0,  Iter    43:    Energy =   0.1612
Level     0,  Iter    44:    Energy =   0.1613
Level     0,  Iter    45:    Energy =   0.1618
Level     0,  Iter    46:    Energy =   0.1616
Level     0,  Iter    47:    Energy =   0.1612
Level     0,  Iter    48:    Energy =   0.1611
Level     0,  Iter    49:    Energy =   0.1613
Level     0,  Iter    50:    Energy =   0.1613
Level     0,  Iter    51:    Energy =   0.1618
Level     0,  Iter    52:    Energy =   0.1616
Level     0,  Iter    53:    Energy =   0.1613
Level     0,  Iter    54:    Energy =   0.1611
Level     0,  Iter    55:    Energy =   0.1614
Level     0,  Iter    56:    Energy =   0.1615
Level     0,  Iter    57:    Energy =   0.1617
Level     0,  Iter    58:    Energy =   0.1617
Level     0,  Iter    59:    Energy =   0.1617
END OF LEVEL     0    DetJac Range:   0.2427  to   2.0399 
  Avg. Gradient Time  : 0.0073s  34.86% 
  Avg. Gaussian Time  : 0.0103s  49.35% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1052
Level     1,  Iter     1:    Energy =   0.1104
Level     1,  Iter     2:    Energy =   0.1152
Level     1,  Iter     3:    Energy =   0.1187
Level     1,  Iter     4:    Energy =   0.1209
Level     1,  Iter     5:    Energy =   0.1238
Level     1,  Iter     6:    Energy =   0.1255
Level     1,  Iter     7:    Energy =   0.1267
Level     1,  Iter     8:    Energy =   0.1277
Level     1,  Iter     9:    Energy =   0.1286
Level     1,  Iter    10:    Energy =   0.1296
Level     1,  Iter    11:    Energy =   0.1304
Level     1,  Iter    12:    Energy =   0.1309
Level     1,  Iter    13:    Energy =   0.1311
Level     1,  Iter    14:    Energy =   0.1312
Level     1,  Iter    15:    Energy =   0.1319
Level     1,  Iter    16:    Energy =   0.1317
Level     1,  Iter    17:    Energy =   0.1324
Level     1,  Iter    18:    Energy =   0.1323
Level     1,  Iter    19:    Energy =   0.1325
Level     1,  Iter    20:    Energy =   0.1326
Level     1,  Iter    21:    Energy =   0.1326
Level     1,  Iter    22:    Energy =   0.1329
Level     1,  Iter    23:    Energy =   0.1328
Level     1,  Iter    24:    Energy =   0.1331
Level     1,  Iter    25:    Energy =   0.1330
Level     1,  Iter    26:    Energy =   0.1332
Level     1,  Iter    27:    Energy =   0.1331
Level     1,  Iter    28:    Energy =   0.1333
Level     1,  Iter    29:    Energy =   0.1333
Level     1,  Iter    30:    Energy =   0.1335
Level     1,  Iter    31:    Energy =   0.1334
Level     1,  Iter    32:    Energy =   0.1336
Level     1,  Iter    33:    Energy =   0.1335
Level     1,  Iter    34:    Energy =   0.1338
Level     1,  Iter    35:    Energy =   0.1336
Level     1,  Iter    36:    Energy =   0.1338
Level     1,  Iter    37:    Energy =   0.1337
Level     1,  Iter    38:    Energy =   0.1339
Level     1,  Iter    39:    Energy =   0.1338
Level     1,  Iter    40:    Energy =   0.1339
Level     1,  Iter    41:    Energy =   0.1339
Level     1,  Iter    42:    Energy =   0.1339
Level     1,  Iter    43:    Energy =   0.1339
Level     1,  Iter    44:    Energy =   0.1340
Level     1,  Iter    45:    Energy =   0.1340
Level     1,  Iter    46:    Energy =   0.1340
Level     1,  Iter    47:    Energy =   0.1340
Level     1,  Iter    48:    Energy =   0.1341
Level     1,  Iter    49:    Energy =   0.1341
Level     1,  Iter    50:    Energy =   0.1342
Level     1,  Iter    51:    Energy =   0.1341
Level     1,  Iter    52:    Energy =   0.1341
Level     1,  Iter    53:    Energy =   0.1342
Level     1,  Iter    54:    Energy =   0.1342
Level     1,  Iter    55:    Energy =   0.1342
Level     1,  Iter    56:    Energy =   0.1342
Level     1,  Iter    57:    Energy =   0.1343
Level     1,  Iter    58:    Energy =   0.1343
Level     1,  Iter    59:    Energy =   0.1343
END OF LEVEL     1    DetJac Range:   0.1695  to   3.0197 
  Avg. Gradient Time  : 0.0419s  33.09% 
  Avg. Gaussian Time  : 0.0686s  54.14% 
  Avg. Iteration Time : 0.1268s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0690
Level     2,  Iter     1:    Energy =   0.0715
Level     2,  Iter     2:    Energy =   0.0735
Level     2,  Iter     3:    Energy =   0.0762
Level     2,  Iter     4:    Energy =   0.0781
Level     2,  Iter     5:    Energy =   0.0801
Level     2,  Iter     6:    Energy =   0.0817
Level     2,  Iter     7:    Energy =   0.0830
Level     2,  Iter     8:    Energy =   0.0843
Level     2,  Iter     9:    Energy =   0.0854
Level     2,  Iter    10:    Energy =   0.0863
Level     2,  Iter    11:    Energy =   0.0871
Level     2,  Iter    12:    Energy =   0.0878
Level     2,  Iter    13:    Energy =   0.0883
Level     2,  Iter    14:    Energy =   0.0889
Level     2,  Iter    15:    Energy =   0.0895
Level     2,  Iter    16:    Energy =   0.0900
Level     2,  Iter    17:    Energy =   0.0905
Level     2,  Iter    18:    Energy =   0.0909
Level     2,  Iter    19:    Energy =   0.0913
END OF LEVEL     2    DetJac Range:   0.0767  to   5.0377 
  Avg. Gradient Time  : 0.2932s  30.90% 
  Avg. Gaussian Time  : 0.5262s  55.46% 
  Avg. Iteration Time : 0.9487s 

real	0m32.570s
user	0m59.256s
sys	0m1.380s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.223077 0.228846
+ echo 'CHUNK 0.223077 0.228846 1'
CHUNK 0.223077 0.228846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.223077 0.228846 1
====================================
         PROGRESS: 0.223077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.702135
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3564.16   GNORM= 280.515
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3589.496     161.040       0.001
   2    5     -3640.034     168.662       5.000
   3    6     -3668.695     112.360       1.000
   4    7     -3685.833      99.350       1.000
   5    8     -3698.243     131.332       1.000
   6    9     -3718.807     121.615       1.000
   7   10     -3737.061      73.020       1.000
   8   11     -3741.043      93.983       1.000
   9   12     -3746.286      43.290       1.000
  10   13     -3751.026      80.785       1.000
  11   14     -3756.290      84.862       1.000
  12   16     -3764.223      78.052       0.518
  13   17     -3771.059      46.960       1.000
  14   18     -3772.934      78.292       1.000
  15   19     -3775.296      41.744       1.000
  16   20     -3778.067      30.438       1.000
  17   21     -3780.330      41.944       1.000
  18   23     -3780.848      14.433       0.474
  19   24     -3780.987      12.846       1.000
  20   25     -3781.558      16.573       1.000
  21   26     -3782.023      34.155       1.000
  22   27     -3782.446      23.014       1.000
  23   28     -3782.721      17.255       1.000
  24   29     -3783.318      23.859       1.000
  25   31     -3783.552      17.819       0.273
  26   32     -3783.713       6.484       1.000
  27   33     -3783.809       8.498       1.000
  28   34     -3783.953      18.058       1.000
  29   35     -3784.106      18.705       1.000
  30   37     -3784.168      14.557       0.257
  31   38     -3784.206      10.180       1.000
  32   39     -3784.232       8.343       1.000
  33   40     -3784.248       8.148       1.000
  34   41     -3784.306       7.978       1.000
  35   42     -3784.324       9.904       1.000
  36   43     -3784.398      16.426       1.000
  37   44     -3784.438      13.200       1.000
  38   45     -3784.504      10.984       1.000
  39   46     -3784.569       9.642       1.000
  40   47     -3784.599      10.398       1.000
  41   48     -3784.695       4.399       1.000
  42   49     -3784.696       4.493       1.000
  43   50     -3784.734       3.809       1.000
  44   52     -3784.757       4.629       0.351
  45   53     -3784.763       5.835       1.000
  46   54     -3784.782       4.801       1.000
  47   57     -3784.783       3.184       0.109
  48   58     -3784.788       2.375       1.000
  49   59     -3784.788       3.555       1.000
  50   61     -3784.794       4.504       0.242
Final RAS Transform: 
0.93581 -0.0238724 0.0406041 -1.93192 
0.0428203 1.00218 0.0346209 1.17449 
-0.0328247 -0.0106326 1.03862 -0.524513 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2407.63   GNORM= 225.195
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2423.600      70.539       0.001
   2    4     -2426.712      61.229       1.000
   3    5     -2432.501      55.878       1.000
   4    6     -2436.688      46.067       1.000
   5    7     -2443.154      39.700       1.000
   6    8     -2445.358      36.825       1.000
   7    9     -2446.723      32.768       1.000
   8   10     -2450.300      35.831       1.000
   9   11     -2451.958      33.489       1.000
  10   12     -2453.272      20.561       1.000
  11   13     -2453.826      17.790       1.000
  12   14     -2454.200      27.719       1.000
  13   15     -2455.885      31.215       1.000
  14   16     -2459.584      87.135       1.000
  15   17     -2462.252      59.064       1.000
  16   18     -2463.980      12.314       1.000
  17   19     -2464.208      10.466       1.000
  18   20     -2464.576      20.340       1.000
  19   21     -2465.162      15.573       1.000
  20   22     -2465.664      19.783       1.000
  21   23     -2465.734      32.047       1.000
  22   24     -2465.995       5.824       1.000
  23   25     -2466.020       5.932       1.000
  24   27     -2466.044       5.104       0.186
  25   28     -2466.081       3.787       1.000
  26   29     -2466.128       9.327       1.000
  27   30     -2466.239       8.007       1.000
  28   32     -2466.371       8.310       0.477
  29   34     -2466.398       5.777       0.358
  30   35     -2466.422       3.382       1.000
  31   36     -2466.432       2.359       1.000
  32   37     -2466.437       2.926       1.000
  33   38     -2466.455       2.791       1.000
  34   40     -2466.476       3.284       0.315
  35   41     -2466.493       2.640       1.000
  36   43     -2466.499       3.086       0.401
  37   44     -2466.507       2.161       1.000
  38   46     -2466.519       3.703       5.000
  39   47     -2466.531       1.721       1.000
  40   48     -2466.532       4.723       1.000
  41   49     -2466.543       2.576       1.000
  42   50     -2466.552       1.746       1.000
  43   51     -2466.557       3.844       1.000
  44   52     -2466.570       3.377       1.000
  45   54     -2466.590       7.787       0.507
  46   55     -2466.616       1.540       1.000
  47   56     -2466.617       2.029       1.000
  48   57     -2466.620       2.053       1.000
  49   58     -2466.624       2.250       1.000
  50   59     -2466.625       2.302       1.000
  51   61     -2466.627       3.775       0.239
Final RAS Transform: 
0.962534 -0.0332384 0.0138544 -1.43181 
0.0443165 1.00773 0.0161341 1.0664 
-0.01975 -0.0111605 1.01722 -0.362353 
0 0 0 1 

Final RAS Transform: 
0.962534 -0.0332384 0.0138544 -1.43181 
0.0443165 1.00773 0.0161341 1.0664 
-0.01975 -0.0111605 1.01722 -0.362353 
0 0 0 1 


real	0m10.180s
user	0m17.684s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.702027
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1069
Level     0,  Iter     1:    Energy =   0.1151
Level     0,  Iter     2:    Energy =   0.1233
Level     0,  Iter     3:    Energy =   0.1301
Level     0,  Iter     4:    Energy =   0.1352
Level     0,  Iter     5:    Energy =   0.1387
Level     0,  Iter     6:    Energy =   0.1407
Level     0,  Iter     7:    Energy =   0.1417
Level     0,  Iter     8:    Energy =   0.1423
Level     0,  Iter     9:    Energy =   0.1428
Level     0,  Iter    10:    Energy =   0.1442
Level     0,  Iter    11:    Energy =   0.1444
Level     0,  Iter    12:    Energy =   0.1453
Level     0,  Iter    13:    Energy =   0.1454
Level     0,  Iter    14:    Energy =   0.1466
Level     0,  Iter    15:    Energy =   0.1467
Level     0,  Iter    16:    Energy =   0.1472
Level     0,  Iter    17:    Energy =   0.1474
Level     0,  Iter    18:    Energy =   0.1485
Level     0,  Iter    19:    Energy =   0.1483
Level     0,  Iter    20:    Energy =   0.1481
Level     0,  Iter    21:    Energy =   0.1481
Level     0,  Iter    22:    Energy =   0.1480
Level     0,  Iter    23:    Energy =   0.1481
Level     0,  Iter    24:    Energy =   0.1479
Level     0,  Iter    25:    Energy =   0.1480
Level     0,  Iter    26:    Energy =   0.1488
Level     0,  Iter    27:    Energy =   0.1487
Level     0,  Iter    28:    Energy =   0.1486
Level     0,  Iter    29:    Energy =   0.1487
Level     0,  Iter    30:    Energy =   0.1495
Level     0,  Iter    31:    Energy =   0.1494
Level     0,  Iter    32:    Energy =   0.1492
Level     0,  Iter    33:    Energy =   0.1492
Level     0,  Iter    34:    Energy =   0.1495
Level     0,  Iter    35:    Energy =   0.1495
Level     0,  Iter    36:    Energy =   0.1493
Level     0,  Iter    37:    Energy =   0.1493
Level     0,  Iter    38:    Energy =   0.1494
Level     0,  Iter    39:    Energy =   0.1495
Level     0,  Iter    40:    Energy =   0.1495
Level     0,  Iter    41:    Energy =   0.1495
Level     0,  Iter    42:    Energy =   0.1494
Level     0,  Iter    43:    Energy =   0.1494
Level     0,  Iter    44:    Energy =   0.1495
Level     0,  Iter    45:    Energy =   0.1495
Level     0,  Iter    46:    Energy =   0.1495
Level     0,  Iter    47:    Energy =   0.1495
Level     0,  Iter    48:    Energy =   0.1497
Level     0,  Iter    49:    Energy =   0.1497
Level     0,  Iter    50:    Energy =   0.1496
Level     0,  Iter    51:    Energy =   0.1496
Level     0,  Iter    52:    Energy =   0.1498
Level     0,  Iter    53:    Energy =   0.1497
Level     0,  Iter    54:    Energy =   0.1498
Level     0,  Iter    55:    Energy =   0.1498
Level     0,  Iter    56:    Energy =   0.1497
Level     0,  Iter    57:    Energy =   0.1497
Level     0,  Iter    58:    Energy =   0.1499
Level     0,  Iter    59:    Energy =   0.1499
END OF LEVEL     0    DetJac Range:   0.3895  to   2.2784 
  Avg. Gradient Time  : 0.0074s  34.77% 
  Avg. Gaussian Time  : 0.0106s  49.68% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0929
Level     1,  Iter     1:    Energy =   0.0982
Level     1,  Iter     2:    Energy =   0.1024
Level     1,  Iter     3:    Energy =   0.1060
Level     1,  Iter     4:    Energy =   0.1094
Level     1,  Iter     5:    Energy =   0.1115
Level     1,  Iter     6:    Energy =   0.1135
Level     1,  Iter     7:    Energy =   0.1153
Level     1,  Iter     8:    Energy =   0.1167
Level     1,  Iter     9:    Energy =   0.1172
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1180
Level     1,  Iter    12:    Energy =   0.1190
Level     1,  Iter    13:    Energy =   0.1205
Level     1,  Iter    14:    Energy =   0.1220
Level     1,  Iter    15:    Energy =   0.1225
Level     1,  Iter    16:    Energy =   0.1232
Level     1,  Iter    17:    Energy =   0.1231
Level     1,  Iter    18:    Energy =   0.1238
Level     1,  Iter    19:    Energy =   0.1236
Level     1,  Iter    20:    Energy =   0.1243
Level     1,  Iter    21:    Energy =   0.1240
Level     1,  Iter    22:    Energy =   0.1243
Level     1,  Iter    23:    Energy =   0.1240
Level     1,  Iter    24:    Energy =   0.1245
Level     1,  Iter    25:    Energy =   0.1241
Level     1,  Iter    26:    Energy =   0.1246
Level     1,  Iter    27:    Energy =   0.1243
Level     1,  Iter    28:    Energy =   0.1248
Level     1,  Iter    29:    Energy =   0.1244
Level     1,  Iter    30:    Energy =   0.1249
Level     1,  Iter    31:    Energy =   0.1245
Level     1,  Iter    32:    Energy =   0.1250
Level     1,  Iter    33:    Energy =   0.1247
Level     1,  Iter    34:    Energy =   0.1249
Level     1,  Iter    35:    Energy =   0.1246
Level     1,  Iter    36:    Energy =   0.1250
Level     1,  Iter    37:    Energy =   0.1246
Level     1,  Iter    38:    Energy =   0.1250
Level     1,  Iter    39:    Energy =   0.1247
Level     1,  Iter    40:    Energy =   0.1251
Level     1,  Iter    41:    Energy =   0.1247
Level     1,  Iter    42:    Energy =   0.1251
Level     1,  Iter    43:    Energy =   0.1248
Level     1,  Iter    44:    Energy =   0.1252
Level     1,  Iter    45:    Energy =   0.1249
Level     1,  Iter    46:    Energy =   0.1253
Level     1,  Iter    47:    Energy =   0.1249
Level     1,  Iter    48:    Energy =   0.1252
Level     1,  Iter    49:    Energy =   0.1249
Level     1,  Iter    50:    Energy =   0.1252
Level     1,  Iter    51:    Energy =   0.1250
Level     1,  Iter    52:    Energy =   0.1252
Level     1,  Iter    53:    Energy =   0.1250
Level     1,  Iter    54:    Energy =   0.1253
Level     1,  Iter    55:    Energy =   0.1250
Level     1,  Iter    56:    Energy =   0.1253
Level     1,  Iter    57:    Energy =   0.1250
Level     1,  Iter    58:    Energy =   0.1253
Level     1,  Iter    59:    Energy =   0.1251
END OF LEVEL     1    DetJac Range:   0.1072  to   3.5675 
  Avg. Gradient Time  : 0.0422s  33.12% 
  Avg. Gaussian Time  : 0.0689s  54.12% 
  Avg. Iteration Time : 0.1274s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0624
Level     2,  Iter     1:    Energy =   0.0646
Level     2,  Iter     2:    Energy =   0.0664
Level     2,  Iter     3:    Energy =   0.0680
Level     2,  Iter     4:    Energy =   0.0696
Level     2,  Iter     5:    Energy =   0.0717
Level     2,  Iter     6:    Energy =   0.0736
Level     2,  Iter     7:    Energy =   0.0753
Level     2,  Iter     8:    Energy =   0.0769
Level     2,  Iter     9:    Energy =   0.0784
Level     2,  Iter    10:    Energy =   0.0797
Level     2,  Iter    11:    Energy =   0.0808
Level     2,  Iter    12:    Energy =   0.0818
Level     2,  Iter    13:    Energy =   0.0826
Level     2,  Iter    14:    Energy =   0.0833
Level     2,  Iter    15:    Energy =   0.0841
Level     2,  Iter    16:    Energy =   0.0846
Level     2,  Iter    17:    Energy =   0.0845
Level     2,  Iter    18:    Energy =   0.0849
Level     2,  Iter    19:    Energy =   0.0849
END OF LEVEL     2    DetJac Range:   0.0579  to   4.7555 
  Avg. Gradient Time  : 0.2936s  30.92% 
  Avg. Gaussian Time  : 0.5270s  55.49% 
  Avg. Iteration Time : 0.9496s 

real	0m32.664s
user	0m59.348s
sys	0m1.392s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.228846 0.234615
+ echo 'CHUNK 0.228846 0.234615 1'
CHUNK 0.228846 0.234615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.228846 0.234615 1
====================================
         PROGRESS: 0.228846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.572046
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3567.87   GNORM= 425.527
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3611.222     216.764       0.000
   2    4     -3629.295     174.614       1.000
   3    5     -3679.435     145.552       1.000
   4    6     -3720.251     140.772       1.000
   5    7     -3793.711     198.671       1.000
   6    8     -3806.770     277.136       1.000
   7    9     -3846.781     128.898       1.000
   8   10     -3856.224     157.150       1.000
   9   11     -3865.894      81.807       1.000
  10   12     -3875.330      74.074       1.000
  11   13     -3888.556     109.501       1.000
  12   14     -3908.657     176.773       1.000
  13   15     -3924.027      92.122       1.000
  14   16     -3930.759      61.593       1.000
  15   17     -3936.899      86.106       1.000
  16   18     -3943.815      64.691       1.000
  17   19     -3954.973      57.324       1.000
  18   20     -3960.047      50.570       1.000
  19   22     -3961.397      71.025       0.098
  20   23     -3964.954      35.896       1.000
  21   24     -3967.244      44.458       1.000
  22   25     -3969.257      35.503       1.000
  23   26     -3972.121      28.578       1.000
  24   27     -3972.622      13.571       1.000
  25   28     -3972.876      17.861       1.000
  26   29     -3973.177      17.151       1.000
  27   30     -3973.630      54.440       1.000
  28   31     -3974.275      26.259       1.000
  29   32     -3974.519      20.737       1.000
  30   33     -3974.602      12.935       1.000
  31   34     -3974.654       6.808       1.000
  32   35     -3974.674       6.299       1.000
  33   36     -3974.681       8.872       1.000
  34   39     -3974.738       6.681       2.427
  35   40     -3974.751       3.701       1.000
  36   43     -3974.774       5.757       2.252
  37   44     -3974.782       4.183       1.000
  38   45     -3974.792       9.908       1.000
  39   46     -3974.830       5.085       1.000
  40   48     -3974.832       4.280       0.279
  41   50     -3974.837       3.597       0.273
  42   52     -3974.838       3.483       0.411
  43   53     -3974.846       4.318       1.000
  44   55     -3974.871      15.823       5.000
  45   56     -3974.901       7.814       1.000
  46   57     -3974.913       7.194       1.000
  47   58     -3974.915       4.723       1.000
  48   59     -3974.917       3.473       1.000
  49   60     -3974.922       3.971       1.000
Final RAS Transform: 
0.877602 -0.0197948 0.0238107 -4.00929 
0.000503934 0.986143 0.0166477 -0.558074 
-0.033205 0.0109859 1.05177 -0.0157726 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2573.74   GNORM= 329.892
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2602.348      67.273       0.000
   2    4     -2604.565      55.523       1.000
   3    5     -2608.894      68.533       1.000
   4    6     -2613.947      72.872       1.000
   5    7     -2621.532     100.619       1.000
   6    8     -2626.298      31.592       1.000
   7    9     -2627.548      33.036       1.000
   8   10     -2629.402      56.187       1.000
   9   11     -2633.372      67.254       1.000
  10   12     -2643.459     105.054       1.000
  11   13     -2647.860      67.543       1.000
  12   14     -2649.913      28.983       1.000
  13   15     -2650.829      18.212       1.000
  14   16     -2651.481      15.552       1.000
  15   17     -2652.606      17.192       1.000
  16   18     -2655.052      20.460       1.000
  17   20     -2655.524      34.717       0.211
  18   21     -2656.655      19.082       1.000
  19   22     -2658.024      17.364       1.000
  20   24     -2658.514      28.037       0.332
  21   25     -2659.348      11.490       1.000
  22   26     -2659.815      10.860       1.000
  23   27     -2660.219      13.318       1.000
  24   28     -2660.318      42.098       1.000
  25   29     -2660.908      11.109       1.000
  26   30     -2661.198       8.079       1.000
  27   31     -2661.313       5.788       1.000
  28   32     -2661.382       7.402       1.000
  29   33     -2661.567       9.082       1.000
  30   34     -2661.848       8.394       1.000
  31   35     -2662.142      10.913       1.000
  32   37     -2662.193       8.796       0.170
  33   38     -2662.340       4.970       1.000
  34   40     -2662.373       6.733       0.296
  35   41     -2662.396       3.356       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.91636 -0.0031108 0.0427184 -2.38996 
0.00431518 0.988897 0.00851889 -0.428304 
-0.0234967 0.0139117 1.025 -0.0153441 
0 0 0 1 

Final RAS Transform: 
0.91636 -0.0031108 0.0427184 -2.38996 
0.00431518 0.988897 0.00851889 -0.428304 
-0.0234967 0.0139117 1.025 -0.0153441 
0 0 0 1 


real	0m10.186s
user	0m17.688s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.574032
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1128
Level     0,  Iter     1:    Energy =   0.1216
Level     0,  Iter     2:    Energy =   0.1287
Level     0,  Iter     3:    Energy =   0.1336
Level     0,  Iter     4:    Energy =   0.1370
Level     0,  Iter     5:    Energy =   0.1393
Level     0,  Iter     6:    Energy =   0.1407
Level     0,  Iter     7:    Energy =   0.1424
Level     0,  Iter     8:    Energy =   0.1433
Level     0,  Iter     9:    Energy =   0.1444
Level     0,  Iter    10:    Energy =   0.1450
Level     0,  Iter    11:    Energy =   0.1457
Level     0,  Iter    12:    Energy =   0.1461
Level     0,  Iter    13:    Energy =   0.1466
Level     0,  Iter    14:    Energy =   0.1469
Level     0,  Iter    15:    Energy =   0.1472
Level     0,  Iter    16:    Energy =   0.1475
Level     0,  Iter    17:    Energy =   0.1477
Level     0,  Iter    18:    Energy =   0.1479
Level     0,  Iter    19:    Energy =   0.1481
Level     0,  Iter    20:    Energy =   0.1482
Level     0,  Iter    21:    Energy =   0.1483
Level     0,  Iter    22:    Energy =   0.1485
Level     0,  Iter    23:    Energy =   0.1485
Level     0,  Iter    24:    Energy =   0.1487
Level     0,  Iter    25:    Energy =   0.1487
Level     0,  Iter    26:    Energy =   0.1489
Level     0,  Iter    27:    Energy =   0.1488
Level     0,  Iter    28:    Energy =   0.1490
Level     0,  Iter    29:    Energy =   0.1489
Level     0,  Iter    30:    Energy =   0.1491
Level     0,  Iter    31:    Energy =   0.1491
Level     0,  Iter    32:    Energy =   0.1492
Level     0,  Iter    33:    Energy =   0.1492
Level     0,  Iter    34:    Energy =   0.1493
Level     0,  Iter    35:    Energy =   0.1493
Level     0,  Iter    36:    Energy =   0.1494
Level     0,  Iter    37:    Energy =   0.1493
Level     0,  Iter    38:    Energy =   0.1494
Level     0,  Iter    39:    Energy =   0.1495
Level     0,  Iter    40:    Energy =   0.1495
Level     0,  Iter    41:    Energy =   0.1495
Level     0,  Iter    42:    Energy =   0.1496
Level     0,  Iter    43:    Energy =   0.1496
Level     0,  Iter    44:    Energy =   0.1496
Level     0,  Iter    45:    Energy =   0.1497
Level     0,  Iter    46:    Energy =   0.1497
Level     0,  Iter    47:    Energy =   0.1497
Level     0,  Iter    48:    Energy =   0.1497
Level     0,  Iter    49:    Energy =   0.1498
Level     0,  Iter    50:    Energy =   0.1498
Level     0,  Iter    51:    Energy =   0.1498
Level     0,  Iter    52:    Energy =   0.1498
Level     0,  Iter    53:    Energy =   0.1498
Level     0,  Iter    54:    Energy =   0.1498
Level     0,  Iter    55:    Energy =   0.1499
Level     0,  Iter    56:    Energy =   0.1499
Level     0,  Iter    57:    Energy =   0.1499
Level     0,  Iter    58:    Energy =   0.1499
Level     0,  Iter    59:    Energy =   0.1499
END OF LEVEL     0    DetJac Range:   0.3422  to   2.0404 
  Avg. Gradient Time  : 0.0074s  34.63% 
  Avg. Gaussian Time  : 0.0106s  49.87% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0981
Level     1,  Iter     1:    Energy =   0.1033
Level     1,  Iter     2:    Energy =   0.1079
Level     1,  Iter     3:    Energy =   0.1119
Level     1,  Iter     4:    Energy =   0.1149
Level     1,  Iter     5:    Energy =   0.1175
Level     1,  Iter     6:    Energy =   0.1199
Level     1,  Iter     7:    Energy =   0.1216
Level     1,  Iter     8:    Energy =   0.1231
Level     1,  Iter     9:    Energy =   0.1241
Level     1,  Iter    10:    Energy =   0.1244
Level     1,  Iter    11:    Energy =   0.1255
Level     1,  Iter    12:    Energy =   0.1256
Level     1,  Iter    13:    Energy =   0.1263
Level     1,  Iter    14:    Energy =   0.1261
Level     1,  Iter    15:    Energy =   0.1266
Level     1,  Iter    16:    Energy =   0.1264
Level     1,  Iter    17:    Energy =   0.1268
Level     1,  Iter    18:    Energy =   0.1267
Level     1,  Iter    19:    Energy =   0.1270
Level     1,  Iter    20:    Energy =   0.1269
Level     1,  Iter    21:    Energy =   0.1272
Level     1,  Iter    22:    Energy =   0.1272
Level     1,  Iter    23:    Energy =   0.1274
Level     1,  Iter    24:    Energy =   0.1274
Level     1,  Iter    25:    Energy =   0.1276
Level     1,  Iter    26:    Energy =   0.1276
Level     1,  Iter    27:    Energy =   0.1278
Level     1,  Iter    28:    Energy =   0.1277
Level     1,  Iter    29:    Energy =   0.1280
Level     1,  Iter    30:    Energy =   0.1279
Level     1,  Iter    31:    Energy =   0.1282
Level     1,  Iter    32:    Energy =   0.1280
Level     1,  Iter    33:    Energy =   0.1284
Level     1,  Iter    34:    Energy =   0.1282
Level     1,  Iter    35:    Energy =   0.1285
Level     1,  Iter    36:    Energy =   0.1283
Level     1,  Iter    37:    Energy =   0.1287
Level     1,  Iter    38:    Energy =   0.1284
Level     1,  Iter    39:    Energy =   0.1288
Level     1,  Iter    40:    Energy =   0.1286
Level     1,  Iter    41:    Energy =   0.1289
Level     1,  Iter    42:    Energy =   0.1287
Level     1,  Iter    43:    Energy =   0.1291
Level     1,  Iter    44:    Energy =   0.1288
Level     1,  Iter    45:    Energy =   0.1292
Level     1,  Iter    46:    Energy =   0.1289
Level     1,  Iter    47:    Energy =   0.1293
Level     1,  Iter    48:    Energy =   0.1290
Level     1,  Iter    49:    Energy =   0.1293
Level     1,  Iter    50:    Energy =   0.1291
Level     1,  Iter    51:    Energy =   0.1294
Level     1,  Iter    52:    Energy =   0.1291
Level     1,  Iter    53:    Energy =   0.1295
Level     1,  Iter    54:    Energy =   0.1293
Level     1,  Iter    55:    Energy =   0.1296
Level     1,  Iter    56:    Energy =   0.1293
Level     1,  Iter    57:    Energy =   0.1297
Level     1,  Iter    58:    Energy =   0.1295
Level     1,  Iter    59:    Energy =   0.1297
END OF LEVEL     1    DetJac Range:   0.1284  to   3.4399 
  Avg. Gradient Time  : 0.0419s  32.74% 
  Avg. Gaussian Time  : 0.0697s  54.50% 
  Avg. Iteration Time : 0.1279s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0659
Level     2,  Iter     1:    Energy =   0.0685
Level     2,  Iter     2:    Energy =   0.0709
Level     2,  Iter     3:    Energy =   0.0730
Level     2,  Iter     4:    Energy =   0.0750
Level     2,  Iter     5:    Energy =   0.0764
Level     2,  Iter     6:    Energy =   0.0775
Level     2,  Iter     7:    Energy =   0.0785
Level     2,  Iter     8:    Energy =   0.0794
Level     2,  Iter     9:    Energy =   0.0805
Level     2,  Iter    10:    Energy =   0.0817
Level     2,  Iter    11:    Energy =   0.0830
Level     2,  Iter    12:    Energy =   0.0841
Level     2,  Iter    13:    Energy =   0.0851
Level     2,  Iter    14:    Energy =   0.0859
Level     2,  Iter    15:    Energy =   0.0864
Level     2,  Iter    16:    Energy =   0.0867
Level     2,  Iter    17:    Energy =   0.0870
Level     2,  Iter    18:    Energy =   0.0873
Level     2,  Iter    19:    Energy =   0.0877
END OF LEVEL     2    DetJac Range:   0.0926  to   4.3364 
  Avg. Gradient Time  : 0.2943s  30.92% 
  Avg. Gaussian Time  : 0.5285s  55.53% 
  Avg. Iteration Time : 0.9517s 

real	0m32.696s
user	0m59.380s
sys	0m1.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234615 0.240385
+ echo 'CHUNK 0.234615 0.240385 1'
CHUNK 0.234615 0.240385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234615 0.240385 1
====================================
         PROGRESS: 0.234615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.41663
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3307.09   GNORM= 680.783
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3426.356     418.026       0.001
   2    4     -3485.335     298.292       1.000
   3    5     -3548.377     130.572       1.000
   4    6     -3559.516      83.447       1.000
   5    7     -3569.741      91.236       1.000
   6    8     -3597.819     131.057       1.000
   7   10     -3607.721     190.196       0.371
   8   11     -3620.058      92.441       1.000
   9   12     -3625.331      46.159       1.000
  10   13     -3628.654      50.404       1.000
  11   14     -3633.970      47.496       1.000
  12   15     -3640.825     132.306       1.000
  13   16     -3646.574      64.143       1.000
  14   17     -3648.841      36.495       1.000
  15   18     -3650.335      23.127       1.000
  16   19     -3650.617      48.376       1.000
  17   20     -3651.180      17.386       1.000
  18   21     -3651.449      14.585       1.000
  19   23     -3651.748      28.045       0.403
  20   24     -3652.119      25.550       1.000
  21   25     -3652.866      27.437       1.000
  22   26     -3653.647      54.901       1.000
  23   27     -3654.370      22.567       1.000
  24   28     -3654.570      14.219       1.000
  25   29     -3654.631      26.496       1.000
  26   30     -3654.765      12.431       1.000
  27   31     -3654.872      11.789       1.000
  28   32     -3654.979      10.403       1.000
  29   33     -3655.056      14.334       1.000
  30   34     -3655.120      22.031       1.000
  31   35     -3655.219       4.542       1.000
  32   36     -3655.233       5.203       1.000
  33   37     -3655.304      13.948       1.000
  34   38     -3655.397       7.591       1.000
  35   39     -3655.523      14.114       1.000
  36   40     -3655.585       8.059       1.000
  37   43     -3655.651      11.274       2.157
  38   44     -3655.709       6.979       1.000
  39   45     -3655.741      10.478       1.000
  40   46     -3655.776       7.494       1.000
  41   47     -3655.785       3.791       1.000
  42   48     -3655.805       8.468       1.000
  43   49     -3655.816       8.989       1.000
  44   50     -3655.874       9.417       1.000
  45   51     -3655.889       8.011       1.000
  46   52     -3655.905       4.084       1.000
  47   53     -3655.910       3.052       1.000
  48   54     -3655.918       2.247       1.000
  49   55     -3655.927       5.045       1.000
  50   56     -3655.933       3.833       1.000
  51   58     -3655.934       1.849       0.301
  52   61     -3655.946       2.510       1.434
Final RAS Transform: 
0.980617 -0.0270696 0.0200911 -0.699432 
0.0428985 1.01993 0.0664367 1.03755 
0.00270407 -0.00536199 1.01331 0.859738 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2681.12   GNORM= 97.0794
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2684.418      81.541       0.001
   2    4     -2686.913      66.629       1.000
   3    6     -2690.496      34.855       0.503
   4    7     -2691.809      31.897       1.000
   5    8     -2694.629      59.918       1.000
   6    9     -2698.906      73.703       1.000
   7   11     -2701.538      68.930       0.213
   8   12     -2704.448      52.159       1.000
   9   13     -2707.314      36.257       1.000
  10   14     -2710.010      53.498       1.000
  11   15     -2718.723      90.312       1.000
  12   16     -2725.146      63.759       1.000
  13   18     -2727.000      65.723       0.426
  14   19     -2728.806      21.016       1.000
  15   20     -2729.044      18.701       1.000
  16   21     -2730.806      20.759       1.000
  17   22     -2732.689      29.124       1.000
  18   23     -2733.274      38.008       1.000
  19   24     -2734.732      15.301       1.000
  20   25     -2735.399      23.277       1.000
  21   26     -2735.673      16.119       1.000
  22   27     -2735.835      11.635       1.000
  23   28     -2736.028      15.649       1.000
  24   29     -2736.248      22.631       1.000
  25   30     -2737.392      29.877       1.000
  26   31     -2738.673      21.118       1.000
  27   32     -2738.982      29.826       1.000
  28   33     -2739.300      12.082       1.000
  29   34     -2739.410       7.606       1.000
  30   35     -2739.495       6.231       1.000
  31   36     -2739.568      11.251       1.000
  32   37     -2739.648       7.924       1.000
  33   38     -2739.864      37.270       1.000
  34   39     -2740.052      11.291       1.000
  35   40     -2740.135       6.998       1.000
  36   41     -2740.191       7.935       1.000
  37   42     -2740.227       5.039       1.000
  38   43     -2740.255       4.358       1.000
  39   44     -2740.308       3.239       1.000
  40   46     -2740.339       7.457       0.321
  41   47     -2740.363       6.621       1.000
  42   48     -2740.394       2.430       1.000
  43   49     -2740.410       3.104       1.000
  44   51     -2740.420       2.864       0.162
  45   53     -2740.426       5.873       0.211
  46   54     -2740.435       4.521       1.000
  47   55     -2740.438       4.404       1.000
  48   56     -2740.465       5.900       1.000
  49   57     -2740.477       5.944       1.000
  50   58     -2740.491       4.788       1.000
  51   59     -2740.492       4.064       1.000
  52   60     -2740.505       4.489       1.000
Final RAS Transform: 
0.95192 -0.0218604 0.00345093 -1.76534 
0.037503 0.996944 0.0181947 0.468552 
-0.0148776 -0.00213995 1.01499 0.0969562 
0 0 0 1 

Final RAS Transform: 
0.95192 -0.0218604 0.00345093 -1.76534 
0.037503 0.996944 0.0181947 0.468552 
-0.0148776 -0.00213995 1.01499 0.0969562 
0 0 0 1 


real	0m10.548s
user	0m18.360s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.424547
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1078
Level     0,  Iter     1:    Energy =   0.1153
Level     0,  Iter     2:    Energy =   0.1202
Level     0,  Iter     3:    Energy =   0.1238
Level     0,  Iter     4:    Energy =   0.1268
Level     0,  Iter     5:    Energy =   0.1285
Level     0,  Iter     6:    Energy =   0.1296
Level     0,  Iter     7:    Energy =   0.1304
Level     0,  Iter     8:    Energy =   0.1310
Level     0,  Iter     9:    Energy =   0.1317
Level     0,  Iter    10:    Energy =   0.1322
Level     0,  Iter    11:    Energy =   0.1324
Level     0,  Iter    12:    Energy =   0.1328
Level     0,  Iter    13:    Energy =   0.1331
Level     0,  Iter    14:    Energy =   0.1335
Level     0,  Iter    15:    Energy =   0.1336
Level     0,  Iter    16:    Energy =   0.1340
Level     0,  Iter    17:    Energy =   0.1342
Level     0,  Iter    18:    Energy =   0.1347
Level     0,  Iter    19:    Energy =   0.1348
Level     0,  Iter    20:    Energy =   0.1351
Level     0,  Iter    21:    Energy =   0.1349
Level     0,  Iter    22:    Energy =   0.1352
Level     0,  Iter    23:    Energy =   0.1352
Level     0,  Iter    24:    Energy =   0.1356
Level     0,  Iter    25:    Energy =   0.1355
Level     0,  Iter    26:    Energy =   0.1360
Level     0,  Iter    27:    Energy =   0.1359
Level     0,  Iter    28:    Energy =   0.1363
Level     0,  Iter    29:    Energy =   0.1362
Level     0,  Iter    30:    Energy =   0.1365
Level     0,  Iter    31:    Energy =   0.1364
Level     0,  Iter    32:    Energy =   0.1367
Level     0,  Iter    33:    Energy =   0.1365
Level     0,  Iter    34:    Energy =   0.1369
Level     0,  Iter    35:    Energy =   0.1366
Level     0,  Iter    36:    Energy =   0.1370
Level     0,  Iter    37:    Energy =   0.1369
Level     0,  Iter    38:    Energy =   0.1372
Level     0,  Iter    39:    Energy =   0.1371
Level     0,  Iter    40:    Energy =   0.1374
Level     0,  Iter    41:    Energy =   0.1372
Level     0,  Iter    42:    Energy =   0.1375
Level     0,  Iter    43:    Energy =   0.1374
Level     0,  Iter    44:    Energy =   0.1376
Level     0,  Iter    45:    Energy =   0.1374
Level     0,  Iter    46:    Energy =   0.1377
Level     0,  Iter    47:    Energy =   0.1375
Level     0,  Iter    48:    Energy =   0.1378
Level     0,  Iter    49:    Energy =   0.1376
Level     0,  Iter    50:    Energy =   0.1380
Level     0,  Iter    51:    Energy =   0.1378
Level     0,  Iter    52:    Energy =   0.1380
Level     0,  Iter    53:    Energy =   0.1379
Level     0,  Iter    54:    Energy =   0.1382
Level     0,  Iter    55:    Energy =   0.1381
Level     0,  Iter    56:    Energy =   0.1382
Level     0,  Iter    57:    Energy =   0.1380
Level     0,  Iter    58:    Energy =   0.1381
Level     0,  Iter    59:    Energy =   0.1381
END OF LEVEL     0    DetJac Range:   0.2225  to   2.1764 
  Avg. Gradient Time  : 0.0074s  34.42% 
  Avg. Gaussian Time  : 0.0108s  50.13% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0977
Level     1,  Iter     1:    Energy =   0.1028
Level     1,  Iter     2:    Energy =   0.1071
Level     1,  Iter     3:    Energy =   0.1103
Level     1,  Iter     4:    Energy =   0.1120
Level     1,  Iter     5:    Energy =   0.1142
Level     1,  Iter     6:    Energy =   0.1167
Level     1,  Iter     7:    Energy =   0.1186
Level     1,  Iter     8:    Energy =   0.1200
Level     1,  Iter     9:    Energy =   0.1210
Level     1,  Iter    10:    Energy =   0.1220
Level     1,  Iter    11:    Energy =   0.1228
Level     1,  Iter    12:    Energy =   0.1236
Level     1,  Iter    13:    Energy =   0.1244
Level     1,  Iter    14:    Energy =   0.1251
Level     1,  Iter    15:    Energy =   0.1257
Level     1,  Iter    16:    Energy =   0.1259
Level     1,  Iter    17:    Energy =   0.1263
Level     1,  Iter    18:    Energy =   0.1263
Level     1,  Iter    19:    Energy =   0.1265
Level     1,  Iter    20:    Energy =   0.1265
Level     1,  Iter    21:    Energy =   0.1266
Level     1,  Iter    22:    Energy =   0.1268
Level     1,  Iter    23:    Energy =   0.1269
Level     1,  Iter    24:    Energy =   0.1270
Level     1,  Iter    25:    Energy =   0.1271
Level     1,  Iter    26:    Energy =   0.1272
Level     1,  Iter    27:    Energy =   0.1274
Level     1,  Iter    28:    Energy =   0.1274
Level     1,  Iter    29:    Energy =   0.1276
Level     1,  Iter    30:    Energy =   0.1276
Level     1,  Iter    31:    Energy =   0.1278
Level     1,  Iter    32:    Energy =   0.1278
Level     1,  Iter    33:    Energy =   0.1279
Level     1,  Iter    34:    Energy =   0.1280
Level     1,  Iter    35:    Energy =   0.1281
Level     1,  Iter    36:    Energy =   0.1281
Level     1,  Iter    37:    Energy =   0.1282
Level     1,  Iter    38:    Energy =   0.1283
Level     1,  Iter    39:    Energy =   0.1283
Level     1,  Iter    40:    Energy =   0.1284
Level     1,  Iter    41:    Energy =   0.1285
Level     1,  Iter    42:    Energy =   0.1285
Level     1,  Iter    43:    Energy =   0.1285
Level     1,  Iter    44:    Energy =   0.1286
Level     1,  Iter    45:    Energy =   0.1286
Level     1,  Iter    46:    Energy =   0.1286
Level     1,  Iter    47:    Energy =   0.1287
Level     1,  Iter    48:    Energy =   0.1287
Level     1,  Iter    49:    Energy =   0.1288
Level     1,  Iter    50:    Energy =   0.1289
Level     1,  Iter    51:    Energy =   0.1289
Level     1,  Iter    52:    Energy =   0.1289
Level     1,  Iter    53:    Energy =   0.1290
Level     1,  Iter    54:    Energy =   0.1290
Level     1,  Iter    55:    Energy =   0.1290
Level     1,  Iter    56:    Energy =   0.1290
Level     1,  Iter    57:    Energy =   0.1291
Level     1,  Iter    58:    Energy =   0.1291
Level     1,  Iter    59:    Energy =   0.1292
END OF LEVEL     1    DetJac Range:   0.0644  to   3.8045 
  Avg. Gradient Time  : 0.0428s  33.23% 
  Avg. Gaussian Time  : 0.0696s  54.07% 
  Avg. Iteration Time : 0.1288s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0689
Level     2,  Iter     1:    Energy =   0.0717
Level     2,  Iter     2:    Energy =   0.0739
Level     2,  Iter     3:    Energy =   0.0756
Level     2,  Iter     4:    Energy =   0.0770
Level     2,  Iter     5:    Energy =   0.0783
Level     2,  Iter     6:    Energy =   0.0794
Level     2,  Iter     7:    Energy =   0.0805
Level     2,  Iter     8:    Energy =   0.0814
Level     2,  Iter     9:    Energy =   0.0822
Level     2,  Iter    10:    Energy =   0.0829
Level     2,  Iter    11:    Energy =   0.0835
Level     2,  Iter    12:    Energy =   0.0839
Level     2,  Iter    13:    Energy =   0.0843
Level     2,  Iter    14:    Energy =   0.0845
Level     2,  Iter    15:    Energy =   0.0847
Level     2,  Iter    16:    Energy =   0.0850
Level     2,  Iter    17:    Energy =   0.0852
Level     2,  Iter    18:    Energy =   0.0854
Level     2,  Iter    19:    Energy =   0.0856
END OF LEVEL     2    DetJac Range:   0.0622  to   4.7313 
  Avg. Gradient Time  : 0.2971s  31.09% 
  Avg. Gaussian Time  : 0.5293s  55.37% 
  Avg. Iteration Time : 0.9559s 

real	0m32.869s
user	0m59.788s
sys	0m1.384s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.240385 0.246154
+ echo 'CHUNK 0.240385 0.246154 1'
CHUNK 0.240385 0.246154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.240385 0.246154 1
====================================
         PROGRESS: 0.240385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.418438
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2601.09   GNORM= 349.968
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2641.909     185.638       0.001
   2    4     -2664.165     165.160       1.000
   3    5     -2712.190     167.067       1.000
   4    6     -2737.796     100.705       1.000
   5    7     -2776.166     107.828       1.000
   6    8     -2796.601      95.427       1.000
   7    9     -2812.166     153.175       1.000
   8   10     -2843.344      78.859       1.000
   9   11     -2854.915      85.864       1.000
  10   12     -2862.776      49.018       1.000
  11   13     -2867.838      47.569       1.000
  12   14     -2879.129      54.423       1.000
  13   15     -2890.660      75.724       1.000
  14   16     -2891.465      67.258       1.000
  15   17     -2894.016      22.980       1.000
  16   18     -2894.307      36.605       1.000
  17   19     -2894.656      21.326       1.000
  18   20     -2894.847      13.531       1.000
  19   21     -2895.009       9.677       1.000
  20   22     -2895.337      14.738       1.000
  21   23     -2895.493      25.522       1.000
  22   24     -2895.728      18.441       1.000
  23   26     -2896.092      15.621       0.480
  24   27     -2896.251      24.148       1.000
  25   28     -2896.259      17.227       1.000
  26   29     -2896.430       8.822       1.000
  27   30     -2896.550       7.601       1.000
  28   31     -2896.748      10.308       1.000
  29   32     -2897.121      17.579       1.000
  30   34     -2897.189       6.165       0.329
  31   35     -2897.251       4.970       1.000
  32   36     -2897.294       3.381       1.000
  33   38     -2897.359       3.619       0.472
  34   40     -2897.360       2.097       0.436
  35   41     -2897.374       2.230       1.000
  36   42     -2897.376       1.664       1.000
  37   45     -2897.381       3.192       2.784
  38   47     -2897.399       3.444       0.112
  39   48     -2897.417       2.679       1.000
  40   50     -2897.451       2.806       0.251
Final RAS Transform: 
0.893899 -0.0308654 0.0425051 -3.59435 
0.00632586 1.00771 0.0567332 0.0952668 
-0.01445 -0.0184306 1.03864 -0.135503 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2102.57   GNORM= 149.813
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2109.874      55.535       0.001
   2    4     -2111.903      45.635       1.000
   3    5     -2114.365      39.345       1.000
   4    6     -2116.689      34.191       1.000
   5    7     -2124.033      49.224       1.000
   6    8     -2132.985      70.922       1.000
   7    9     -2139.521     143.084       1.000
   8   10     -2147.607      60.923       1.000
   9   11     -2152.110      43.184       1.000
  10   12     -2155.144      27.823       1.000
  11   13     -2158.456      51.592       1.000
  12   14     -2162.364      69.346       1.000
  13   15     -2166.989      59.861       1.000
  14   17     -2170.364      65.158       0.384
  15   18     -2172.103      34.756       1.000
  16   19     -2172.675      29.702       1.000
  17   20     -2175.974      28.089       1.000
  18   21     -2180.214      44.561       1.000
  19   22     -2186.853      44.584       1.000
  20   24     -2187.987      26.233       0.426
  21   25     -2188.355      20.283       1.000
  22   26     -2188.594      11.046       1.000
  23   27     -2188.842      10.473       1.000
  24   29     -2189.094      21.957       0.417
  25   30     -2189.769      18.768       1.000
  26   31     -2192.778      26.280       1.000
  27   33     -2193.738      38.199       0.475
  28   34     -2194.799      18.884       1.000
  29   35     -2195.221      25.465       1.000
  30   36     -2195.760      11.531       1.000
  31   37     -2195.939       8.130       1.000
  32   39     -2196.046       7.807       0.354
  33   40     -2196.146       7.055       1.000
  34   41     -2196.471      14.539       1.000
  35   42     -2196.759      19.537       1.000
  36   43     -2197.144      18.052       1.000
  37   44     -2197.386      34.234       1.000
  38   45     -2198.208      14.831       1.000
  39   46     -2198.368       7.518       1.000
  40   47     -2198.554      11.818       1.000
  41   48     -2198.703      11.144       1.000
  42   49     -2198.721      11.284       1.000
  43   50     -2198.780       4.464       1.000
  44   51     -2198.798       3.817       1.000
  45   52     -2198.860       5.138       1.000
  46   53     -2199.015      11.122       1.000
  47   54     -2199.209       5.531       1.000
  48   55     -2199.343      10.492       1.000
  49   57     -2199.439       6.702       0.298
  50   58     -2199.526       7.478       1.000
  51   60     -2199.559       4.556       0.190
  52   61     -2199.640       5.714       1.000
Final RAS Transform: 
0.952144 -0.0309164 0.00493464 -1.97844 
0.0224977 0.977792 -0.00966457 -0.08698 
-0.00637147 0.000945642 1.05544 0.512393 
0 0 0 1 

Final RAS Transform: 
0.952144 -0.0309164 0.00493464 -1.97844 
0.0224977 0.977792 -0.00966457 -0.08698 
-0.00637147 0.000945642 1.05544 0.512393 
0 0 0 1 


real	0m10.343s
user	0m18.036s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.426153
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0838
Level     0,  Iter     1:    Energy =   0.0898
Level     0,  Iter     2:    Energy =   0.0963
Level     0,  Iter     3:    Energy =   0.1016
Level     0,  Iter     4:    Energy =   0.1047
Level     0,  Iter     5:    Energy =   0.1073
Level     0,  Iter     6:    Energy =   0.1090
Level     0,  Iter     7:    Energy =   0.1108
Level     0,  Iter     8:    Energy =   0.1117
Level     0,  Iter     9:    Energy =   0.1135
Level     0,  Iter    10:    Energy =   0.1141
Level     0,  Iter    11:    Energy =   0.1160
Level     0,  Iter    12:    Energy =   0.1163
Level     0,  Iter    13:    Energy =   0.1171
Level     0,  Iter    14:    Energy =   0.1173
Level     0,  Iter    15:    Energy =   0.1186
Level     0,  Iter    16:    Energy =   0.1187
Level     0,  Iter    17:    Energy =   0.1189
Level     0,  Iter    18:    Energy =   0.1189
Level     0,  Iter    19:    Energy =   0.1198
Level     0,  Iter    20:    Energy =   0.1198
Level     0,  Iter    21:    Energy =   0.1206
Level     0,  Iter    22:    Energy =   0.1205
Level     0,  Iter    23:    Energy =   0.1205
Level     0,  Iter    24:    Energy =   0.1205
Level     0,  Iter    25:    Energy =   0.1212
Level     0,  Iter    26:    Energy =   0.1211
Level     0,  Iter    27:    Energy =   0.1208
Level     0,  Iter    28:    Energy =   0.1207
Level     0,  Iter    29:    Energy =   0.1212
Level     0,  Iter    30:    Energy =   0.1211
Level     0,  Iter    31:    Energy =   0.1215
Level     0,  Iter    32:    Energy =   0.1214
Level     0,  Iter    33:    Energy =   0.1221
Level     0,  Iter    34:    Energy =   0.1218
Level     0,  Iter    35:    Energy =   0.1212
Level     0,  Iter    36:    Energy =   0.1210
Level     0,  Iter    37:    Energy =   0.1209
Level     0,  Iter    38:    Energy =   0.1208
Level     0,  Iter    39:    Energy =   0.1210
Level     0,  Iter    40:    Energy =   0.1209
Level     0,  Iter    41:    Energy =   0.1215
Level     0,  Iter    42:    Energy =   0.1214
Level     0,  Iter    43:    Energy =   0.1214
Level     0,  Iter    44:    Energy =   0.1213
Level     0,  Iter    45:    Energy =   0.1220
Level     0,  Iter    46:    Energy =   0.1218
Level     0,  Iter    47:    Energy =   0.1216
Level     0,  Iter    48:    Energy =   0.1214
Level     0,  Iter    49:    Energy =   0.1219
Level     0,  Iter    50:    Energy =   0.1217
Level     0,  Iter    51:    Energy =   0.1223
Level     0,  Iter    52:    Energy =   0.1221
Level     0,  Iter    53:    Energy =   0.1218
Level     0,  Iter    54:    Energy =   0.1216
Level     0,  Iter    55:    Energy =   0.1219
Level     0,  Iter    56:    Energy =   0.1217
Level     0,  Iter    57:    Energy =   0.1221
Level     0,  Iter    58:    Energy =   0.1220
Level     0,  Iter    59:    Energy =   0.1226
END OF LEVEL     0    DetJac Range:   0.2406  to   2.9691 
  Avg. Gradient Time  : 0.0074s  34.54% 
  Avg. Gaussian Time  : 0.0108s  50.00% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0828
Level     1,  Iter     1:    Energy =   0.0879
Level     1,  Iter     2:    Energy =   0.0914
Level     1,  Iter     3:    Energy =   0.0944
Level     1,  Iter     4:    Energy =   0.0972
Level     1,  Iter     5:    Energy =   0.0993
Level     1,  Iter     6:    Energy =   0.1011
Level     1,  Iter     7:    Energy =   0.1026
Level     1,  Iter     8:    Energy =   0.1038
Level     1,  Iter     9:    Energy =   0.1047
Level     1,  Iter    10:    Energy =   0.1054
Level     1,  Iter    11:    Energy =   0.1062
Level     1,  Iter    12:    Energy =   0.1069
Level     1,  Iter    13:    Energy =   0.1074
Level     1,  Iter    14:    Energy =   0.1079
Level     1,  Iter    15:    Energy =   0.1086
Level     1,  Iter    16:    Energy =   0.1092
Level     1,  Iter    17:    Energy =   0.1097
Level     1,  Iter    18:    Energy =   0.1104
Level     1,  Iter    19:    Energy =   0.1108
Level     1,  Iter    20:    Energy =   0.1113
Level     1,  Iter    21:    Energy =   0.1116
Level     1,  Iter    22:    Energy =   0.1113
Level     1,  Iter    23:    Energy =   0.1118
Level     1,  Iter    24:    Energy =   0.1119
Level     1,  Iter    25:    Energy =   0.1120
Level     1,  Iter    26:    Energy =   0.1117
Level     1,  Iter    27:    Energy =   0.1122
Level     1,  Iter    28:    Energy =   0.1120
Level     1,  Iter    29:    Energy =   0.1123
Level     1,  Iter    30:    Energy =   0.1120
Level     1,  Iter    31:    Energy =   0.1124
Level     1,  Iter    32:    Energy =   0.1123
Level     1,  Iter    33:    Energy =   0.1125
Level     1,  Iter    34:    Energy =   0.1122
Level     1,  Iter    35:    Energy =   0.1126
Level     1,  Iter    36:    Energy =   0.1126
Level     1,  Iter    37:    Energy =   0.1128
Level     1,  Iter    38:    Energy =   0.1125
Level     1,  Iter    39:    Energy =   0.1129
Level     1,  Iter    40:    Energy =   0.1129
Level     1,  Iter    41:    Energy =   0.1130
Level     1,  Iter    42:    Energy =   0.1127
Level     1,  Iter    43:    Energy =   0.1131
Level     1,  Iter    44:    Energy =   0.1129
Level     1,  Iter    45:    Energy =   0.1132
Level     1,  Iter    46:    Energy =   0.1129
Level     1,  Iter    47:    Energy =   0.1132
Level     1,  Iter    48:    Energy =   0.1131
Level     1,  Iter    49:    Energy =   0.1132
Level     1,  Iter    50:    Energy =   0.1130
Level     1,  Iter    51:    Energy =   0.1133
Level     1,  Iter    52:    Energy =   0.1132
Level     1,  Iter    53:    Energy =   0.1134
Level     1,  Iter    54:    Energy =   0.1131
Level     1,  Iter    55:    Energy =   0.1134
Level     1,  Iter    56:    Energy =   0.1133
Level     1,  Iter    57:    Energy =   0.1135
Level     1,  Iter    58:    Energy =   0.1133
Level     1,  Iter    59:    Energy =   0.1136
END OF LEVEL     1    DetJac Range:   0.1042  to   4.4002 
  Avg. Gradient Time  : 0.0428s  33.15% 
  Avg. Gaussian Time  : 0.0698s  54.14% 
  Avg. Iteration Time : 0.1290s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0595
Level     2,  Iter     1:    Energy =   0.0616
Level     2,  Iter     2:    Energy =   0.0641
Level     2,  Iter     3:    Energy =   0.0660
Level     2,  Iter     4:    Energy =   0.0674
Level     2,  Iter     5:    Energy =   0.0687
Level     2,  Iter     6:    Energy =   0.0698
Level     2,  Iter     7:    Energy =   0.0708
Level     2,  Iter     8:    Energy =   0.0718
Level     2,  Iter     9:    Energy =   0.0728
Level     2,  Iter    10:    Energy =   0.0737
Level     2,  Iter    11:    Energy =   0.0744
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0757
Level     2,  Iter    14:    Energy =   0.0762
Level     2,  Iter    15:    Energy =   0.0767
Level     2,  Iter    16:    Energy =   0.0771
Level     2,  Iter    17:    Energy =   0.0776
Level     2,  Iter    18:    Energy =   0.0780
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0895  to   5.7397 
  Avg. Gradient Time  : 0.2959s  30.95% 
  Avg. Gaussian Time  : 0.5307s  55.52% 
  Avg. Iteration Time : 0.9560s 

real	0m32.895s
user	0m59.732s
sys	0m1.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.246154 0.251923
+ echo 'CHUNK 0.246154 0.251923 1'
CHUNK 0.246154 0.251923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.246154 0.251923 1
====================================
         PROGRESS: 0.246154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.747982
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3892.56   GNORM= 1088.39
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4116.511     321.632       0.000
   2    4     -4146.064     239.132       1.000
   3    5     -4180.471     148.402       1.000
   4    6     -4192.329      99.370       1.000
   5    7     -4213.349     123.029       1.000
   6    8     -4235.109     132.075       1.000
   7    9     -4260.511     146.964       1.000
   8   11     -4274.666     174.909       0.417
   9   12     -4280.826     175.548       1.000
  10   13     -4288.217      80.469       1.000
  11   14     -4293.529      62.071       1.000
  12   15     -4303.544      96.908       1.000
  13   16     -4308.699      71.560       1.000
  14   17     -4312.059     104.053       1.000
  15   18     -4315.614      31.174       1.000
  16   19     -4316.247      24.595       1.000
  17   20     -4317.600      26.495       1.000
  18   21     -4319.684      67.684       1.000
  19   22     -4321.721      37.371       1.000
  20   23     -4322.710      19.574       1.000
  21   24     -4322.963      12.419       1.000
  22   25     -4323.169      20.659       1.000
  23   26     -4323.325       9.937       1.000
  24   27     -4323.521      11.308       1.000
  25   29     -4323.655      18.587       0.400
  26   30     -4323.766       9.056       1.000
  27   31     -4323.882      11.436       1.000
  28   32     -4324.121      26.376       1.000
  29   34     -4324.204      17.042       0.442
  30   35     -4324.292       9.783       1.000
  31   36     -4324.365       7.389       1.000
  32   37     -4324.476      13.203       1.000
  33   38     -4324.512       5.477       1.000
  34   39     -4324.522       4.404       1.000
  35   41     -4324.539       4.829       0.183
  36   42     -4324.555       7.817       1.000
  37   43     -4324.574       5.040       1.000
  38   44     -4324.581       4.398       1.000
  39   45     -4324.605       6.934       1.000
  40   46     -4324.626       8.653       1.000
  41   47     -4324.650       8.854       1.000
  42   48     -4324.674       6.419       1.000
  43   49     -4324.684       4.756       1.000
  44   50     -4324.698       2.897       1.000
Final RAS Transform: 
0.946988 -0.0186048 -0.00545956 -1.71365 
0.0315666 1.00296 0.0141639 0.637185 
-0.0428577 0.00265513 1.0229 -0.229037 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2974.52   GNORM= 239.558
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2984.898      52.740       0.000
   2    4     -2985.920      47.129       1.000
   3    5     -2989.247      97.679       1.000
   4    6     -2993.756     139.094       1.000
   5    7     -3005.321     142.274       1.000
   6    8     -3019.452     105.730       1.000
   7   10     -3024.366      65.725       0.410
   8   11     -3028.670      23.615       1.000
   9   12     -3029.567      17.976       1.000
  10   13     -3029.980      31.456       1.000
  11   14     -3030.500      16.718       1.000
  12   15     -3031.498      28.674       1.000
  13   16     -3032.190      33.570       1.000
  14   17     -3032.590      43.343       1.000
  15   18     -3032.905      10.852       1.000
  16   19     -3032.971       6.466       1.000
  17   20     -3032.991       7.350       1.000
  18   21     -3033.023       4.984       1.000
  19   22     -3033.065       6.190       1.000
  20   23     -3033.123       8.799       1.000
  21   24     -3033.192      10.599       1.000
  22   25     -3033.357       8.547       1.000
  23   27     -3033.389       7.155       0.229
  24   28     -3033.429       8.047       1.000
  25   29     -3033.458      10.122       1.000
  26   30     -3033.514       4.271       1.000
  27   31     -3033.553       6.345       1.000
  28   32     -3033.592       6.370       1.000
  29   34     -3033.643      11.172       0.426
  30   35     -3033.710      12.131       1.000
  31   36     -3033.750       9.737       1.000
  32   37     -3033.751       7.800       1.000
  33   38     -3033.783       3.073       1.000
  34   39     -3033.783       2.481       1.000
  35   40     -3033.789       1.172       1.000
  36   41     -3033.792       1.272       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.94857 -0.00617932 0.00134547 -1.36284 
0.0348518 0.999913 0.00209341 0.624238 
-0.022836 0.00755431 1.00637 0.246086 
0 0 0 1 

Final RAS Transform: 
0.94857 -0.00617932 0.00134547 -1.36284 
0.0348518 0.999913 0.00209341 0.624238 
-0.022836 0.00755431 1.00637 0.246086 
0 0 0 1 


real	0m10.463s
user	0m18.244s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.74116
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1288
Level     0,  Iter     1:    Energy =   0.1374
Level     0,  Iter     2:    Energy =   0.1445
Level     0,  Iter     3:    Energy =   0.1491
Level     0,  Iter     4:    Energy =   0.1518
Level     0,  Iter     5:    Energy =   0.1532
Level     0,  Iter     6:    Energy =   0.1543
Level     0,  Iter     7:    Energy =   0.1557
Level     0,  Iter     8:    Energy =   0.1563
Level     0,  Iter     9:    Energy =   0.1572
Level     0,  Iter    10:    Energy =   0.1577
Level     0,  Iter    11:    Energy =   0.1580
Level     0,  Iter    12:    Energy =   0.1585
Level     0,  Iter    13:    Energy =   0.1592
Level     0,  Iter    14:    Energy =   0.1596
Level     0,  Iter    15:    Energy =   0.1592
Level     0,  Iter    16:    Energy =   0.1594
Level     0,  Iter    17:    Energy =   0.1596
Level     0,  Iter    18:    Energy =   0.1601
Level     0,  Iter    19:    Energy =   0.1599
Level     0,  Iter    20:    Energy =   0.1605
Level     0,  Iter    21:    Energy =   0.1608
Level     0,  Iter    22:    Energy =   0.1606
Level     0,  Iter    23:    Energy =   0.1602
Level     0,  Iter    24:    Energy =   0.1603
Level     0,  Iter    25:    Energy =   0.1598
Level     0,  Iter    26:    Energy =   0.1601
Level     0,  Iter    27:    Energy =   0.1598
Level     0,  Iter    28:    Energy =   0.1602
Level     0,  Iter    29:    Energy =   0.1601
Level     0,  Iter    30:    Energy =   0.1605
Level     0,  Iter    31:    Energy =   0.1603
Level     0,  Iter    32:    Energy =   0.1607
Level     0,  Iter    33:    Energy =   0.1608
Level     0,  Iter    34:    Energy =   0.1609
Level     0,  Iter    35:    Energy =   0.1604
Level     0,  Iter    36:    Energy =   0.1606
Level     0,  Iter    37:    Energy =   0.1603
Level     0,  Iter    38:    Energy =   0.1606
Level     0,  Iter    39:    Energy =   0.1603
Level     0,  Iter    40:    Energy =   0.1607
Level     0,  Iter    41:    Energy =   0.1607
Level     0,  Iter    42:    Energy =   0.1609
Level     0,  Iter    43:    Energy =   0.1604
Level     0,  Iter    44:    Energy =   0.1606
Level     0,  Iter    45:    Energy =   0.1604
Level     0,  Iter    46:    Energy =   0.1607
Level     0,  Iter    47:    Energy =   0.1604
Level     0,  Iter    48:    Energy =   0.1607
Level     0,  Iter    49:    Energy =   0.1606
Level     0,  Iter    50:    Energy =   0.1609
Level     0,  Iter    51:    Energy =   0.1605
Level     0,  Iter    52:    Energy =   0.1607
Level     0,  Iter    53:    Energy =   0.1605
Level     0,  Iter    54:    Energy =   0.1608
Level     0,  Iter    55:    Energy =   0.1606
Level     0,  Iter    56:    Energy =   0.1609
Level     0,  Iter    57:    Energy =   0.1609
Level     0,  Iter    58:    Energy =   0.1611
Level     0,  Iter    59:    Energy =   0.1607
END OF LEVEL     0    DetJac Range:   0.3308  to   2.0382 
  Avg. Gradient Time  : 0.0074s  34.65% 
  Avg. Gaussian Time  : 0.0107s  49.85% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1049
Level     1,  Iter     1:    Energy =   0.1113
Level     1,  Iter     2:    Energy =   0.1159
Level     1,  Iter     3:    Energy =   0.1196
Level     1,  Iter     4:    Energy =   0.1222
Level     1,  Iter     5:    Energy =   0.1248
Level     1,  Iter     6:    Energy =   0.1266
Level     1,  Iter     7:    Energy =   0.1286
Level     1,  Iter     8:    Energy =   0.1299
Level     1,  Iter     9:    Energy =   0.1311
Level     1,  Iter    10:    Energy =   0.1316
Level     1,  Iter    11:    Energy =   0.1321
Level     1,  Iter    12:    Energy =   0.1320
Level     1,  Iter    13:    Energy =   0.1326
Level     1,  Iter    14:    Energy =   0.1326
Level     1,  Iter    15:    Energy =   0.1332
Level     1,  Iter    16:    Energy =   0.1331
Level     1,  Iter    17:    Energy =   0.1337
Level     1,  Iter    18:    Energy =   0.1336
Level     1,  Iter    19:    Energy =   0.1341
Level     1,  Iter    20:    Energy =   0.1340
Level     1,  Iter    21:    Energy =   0.1341
Level     1,  Iter    22:    Energy =   0.1346
Level     1,  Iter    23:    Energy =   0.1343
Level     1,  Iter    24:    Energy =   0.1351
Level     1,  Iter    25:    Energy =   0.1348
Level     1,  Iter    26:    Energy =   0.1355
Level     1,  Iter    27:    Energy =   0.1351
Level     1,  Iter    28:    Energy =   0.1358
Level     1,  Iter    29:    Energy =   0.1354
Level     1,  Iter    30:    Energy =   0.1362
Level     1,  Iter    31:    Energy =   0.1357
Level     1,  Iter    32:    Energy =   0.1366
Level     1,  Iter    33:    Energy =   0.1361
Level     1,  Iter    34:    Energy =   0.1367
Level     1,  Iter    35:    Energy =   0.1363
Level     1,  Iter    36:    Energy =   0.1368
Level     1,  Iter    37:    Energy =   0.1363
Level     1,  Iter    38:    Energy =   0.1371
Level     1,  Iter    39:    Energy =   0.1366
Level     1,  Iter    40:    Energy =   0.1371
Level     1,  Iter    41:    Energy =   0.1366
Level     1,  Iter    42:    Energy =   0.1372
Level     1,  Iter    43:    Energy =   0.1369
Level     1,  Iter    44:    Energy =   0.1371
Level     1,  Iter    45:    Energy =   0.1367
Level     1,  Iter    46:    Energy =   0.1373
Level     1,  Iter    47:    Energy =   0.1369
Level     1,  Iter    48:    Energy =   0.1373
Level     1,  Iter    49:    Energy =   0.1369
Level     1,  Iter    50:    Energy =   0.1375
Level     1,  Iter    51:    Energy =   0.1371
Level     1,  Iter    52:    Energy =   0.1376
Level     1,  Iter    53:    Energy =   0.1371
Level     1,  Iter    54:    Energy =   0.1377
Level     1,  Iter    55:    Energy =   0.1372
Level     1,  Iter    56:    Energy =   0.1376
Level     1,  Iter    57:    Energy =   0.1371
Level     1,  Iter    58:    Energy =   0.1378
Level     1,  Iter    59:    Energy =   0.1374
END OF LEVEL     1    DetJac Range:   0.1503  to   3.0071 
  Avg. Gradient Time  : 0.0427s  33.21% 
  Avg. Gaussian Time  : 0.0696s  54.10% 
  Avg. Iteration Time : 0.1286s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0678
Level     2,  Iter     1:    Energy =   0.0709
Level     2,  Iter     2:    Energy =   0.0738
Level     2,  Iter     3:    Energy =   0.0766
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0802
Level     2,  Iter     6:    Energy =   0.0817
Level     2,  Iter     7:    Energy =   0.0830
Level     2,  Iter     8:    Energy =   0.0843
Level     2,  Iter     9:    Energy =   0.0855
Level     2,  Iter    10:    Energy =   0.0867
Level     2,  Iter    11:    Energy =   0.0879
Level     2,  Iter    12:    Energy =   0.0889
Level     2,  Iter    13:    Energy =   0.0896
Level     2,  Iter    14:    Energy =   0.0902
Level     2,  Iter    15:    Energy =   0.0906
Level     2,  Iter    16:    Energy =   0.0912
Level     2,  Iter    17:    Energy =   0.0913
Level     2,  Iter    18:    Energy =   0.0918
Level     2,  Iter    19:    Energy =   0.0919
END OF LEVEL     2    DetJac Range:   0.0538  to   4.1431 
  Avg. Gradient Time  : 0.2956s  30.91% 
  Avg. Gaussian Time  : 0.5310s  55.52% 
  Avg. Iteration Time : 0.9563s 

real	0m32.867s
user	0m59.612s
sys	0m1.520s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251923 0.257692
+ echo 'CHUNK 0.251923 0.257692 1'
CHUNK 0.251923 0.257692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251923 0.257692 1
====================================
         PROGRESS: 0.251923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.461945
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3837.3   GNORM= 781.641
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3977.607     411.722       0.000
   2    4     -4031.355     312.112       1.000
   3    5     -4097.542      92.927       1.000
   4    6     -4104.957      79.651       1.000
   5    7     -4134.271      79.138       1.000
   6    8     -4142.597     260.684       1.000
   7    9     -4169.870     128.455       1.000
   8   10     -4192.033      88.450       1.000
   9   11     -4213.474     193.985       1.000
  10   12     -4221.515     181.074       1.000
  11   13     -4231.028      66.688       1.000
  12   14     -4233.956      55.770       1.000
  13   15     -4239.622      76.035       1.000
  14   16     -4250.648     113.340       1.000
  15   18     -4255.257     109.280       0.504
  16   19     -4261.468      45.310       1.000
  17   20     -4263.054      33.358       1.000
  18   21     -4264.755      46.314       1.000
  19   22     -4268.410      78.334       1.000
  20   23     -4271.351      45.869       1.000
  21   24     -4272.891      43.514       1.000
  22   25     -4273.498      31.468       1.000
  23   26     -4273.929      16.114       1.000
  24   27     -4274.407      13.153       1.000
  25   28     -4275.069      22.520       1.000
  26   29     -4275.757      23.171       1.000
  27   30     -4276.471      25.203       1.000
  28   31     -4276.863      11.356       1.000
  29   33     -4276.994      13.847       0.454
  30   35     -4277.047      12.062       0.348
  31   36     -4277.102       7.190       1.000
  32   37     -4277.115       3.864       1.000
  33   38     -4277.137       3.328       1.000
  34   40     -4277.177       4.298       0.348
  35   41     -4277.197       6.991       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.957849 -0.00106973 0.0329412 -0.782197 
0.094405 1.01271 0.00520408 2.03791 
-0.0493764 -0.00521684 1.05172 -0.423823 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2795.67   GNORM= 152.019
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2805.595      96.158       0.001
   2    4     -2809.635      40.935       1.000
   3    6     -2814.288      48.433       5.000
   4    7     -2819.392      53.336       1.000
   5    8     -2840.928      58.860       1.000
   6    9     -2842.040      87.660       1.000
   7   10     -2844.970      14.411       1.000
   8   11     -2845.183      11.518       1.000
   9   12     -2845.970      30.113       1.000
  10   13     -2846.693      16.798       1.000
  11   14     -2847.022       9.511       1.000
  12   15     -2847.267       9.883       1.000
  13   17     -2847.549      31.997       0.146
  14   18     -2847.888       9.746       1.000
  15   19     -2848.004      10.508       1.000
  16   21     -2848.108       4.942       0.219
  17   22     -2848.150       4.889       1.000
  18   23     -2848.240       8.924       1.000
  19   24     -2848.397       9.268       1.000
  20   26     -2848.438       9.786       0.265
  21   27     -2848.493       7.300       1.000
  22   28     -2848.564       9.644       1.000
  23   29     -2848.663      10.403       1.000
  24   30     -2848.743      13.148       1.000
  25   31     -2848.848       2.958       1.000
  26   32     -2848.869       4.190       1.000
  27   34     -2848.887       4.175       0.331
  28   35     -2848.893       7.989       1.000
  29   36     -2848.955       3.992       1.000
  30   37     -2849.001       4.292       1.000
  31   39     -2849.037       8.423       0.330
  32   40     -2849.085       6.407       1.000
  33   41     -2849.172       3.025       1.000
  34   42     -2849.206       2.406       1.000
  35   44     -2849.219       5.790       0.358
  36   45     -2849.234       5.418       1.000
  37   46     -2849.257       5.573       1.000
  38   47     -2849.286       3.662       1.000
  39   48     -2849.307       4.707       1.000
  40   49     -2849.315       2.131       1.000
  41   51     -2849.320       2.666       0.333
  42   53     -2849.321       2.403       0.066
Final RAS Transform: 
0.949482 0.0222853 0.0306301 -0.794381 
0.0995249 0.998602 -0.0197668 1.99924 
-0.041707 0.000219347 1.03919 -0.385604 
0 0 0 1 

Final RAS Transform: 
0.949482 0.0222853 0.0306301 -0.794381 
0.0995249 0.998602 -0.0197668 1.99924 
-0.041707 0.000219347 1.03919 -0.385604 
0 0 0 1 


real	0m10.443s
user	0m18.056s
sys	0m0.580s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.464509
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1229
Level     0,  Iter     1:    Energy =   0.1338
Level     0,  Iter     2:    Energy =   0.1421
Level     0,  Iter     3:    Energy =   0.1475
Level     0,  Iter     4:    Energy =   0.1508
Level     0,  Iter     5:    Energy =   0.1532
Level     0,  Iter     6:    Energy =   0.1543
Level     0,  Iter     7:    Energy =   0.1552
Level     0,  Iter     8:    Energy =   0.1558
Level     0,  Iter     9:    Energy =   0.1565
Level     0,  Iter    10:    Energy =   0.1569
Level     0,  Iter    11:    Energy =   0.1576
Level     0,  Iter    12:    Energy =   0.1579
Level     0,  Iter    13:    Energy =   0.1587
Level     0,  Iter    14:    Energy =   0.1589
Level     0,  Iter    15:    Energy =   0.1597
Level     0,  Iter    16:    Energy =   0.1599
Level     0,  Iter    17:    Energy =   0.1605
Level     0,  Iter    18:    Energy =   0.1605
Level     0,  Iter    19:    Energy =   0.1606
Level     0,  Iter    20:    Energy =   0.1606
Level     0,  Iter    21:    Energy =   0.1608
Level     0,  Iter    22:    Energy =   0.1608
Level     0,  Iter    23:    Energy =   0.1611
Level     0,  Iter    24:    Energy =   0.1610
Level     0,  Iter    25:    Energy =   0.1608
Level     0,  Iter    26:    Energy =   0.1608
Level     0,  Iter    27:    Energy =   0.1611
Level     0,  Iter    28:    Energy =   0.1611
Level     0,  Iter    29:    Energy =   0.1610
Level     0,  Iter    30:    Energy =   0.1611
Level     0,  Iter    31:    Energy =   0.1614
Level     0,  Iter    32:    Energy =   0.1613
Level     0,  Iter    33:    Energy =   0.1611
Level     0,  Iter    34:    Energy =   0.1611
Level     0,  Iter    35:    Energy =   0.1614
Level     0,  Iter    36:    Energy =   0.1613
Level     0,  Iter    37:    Energy =   0.1612
Level     0,  Iter    38:    Energy =   0.1612
Level     0,  Iter    39:    Energy =   0.1614
Level     0,  Iter    40:    Energy =   0.1614
Level     0,  Iter    41:    Energy =   0.1612
Level     0,  Iter    42:    Energy =   0.1613
Level     0,  Iter    43:    Energy =   0.1616
Level     0,  Iter    44:    Energy =   0.1615
Level     0,  Iter    45:    Energy =   0.1613
Level     0,  Iter    46:    Energy =   0.1613
Level     0,  Iter    47:    Energy =   0.1616
Level     0,  Iter    48:    Energy =   0.1615
Level     0,  Iter    49:    Energy =   0.1614
Level     0,  Iter    50:    Energy =   0.1614
Level     0,  Iter    51:    Energy =   0.1617
Level     0,  Iter    52:    Energy =   0.1616
Level     0,  Iter    53:    Energy =   0.1614
Level     0,  Iter    54:    Energy =   0.1615
Level     0,  Iter    55:    Energy =   0.1616
Level     0,  Iter    56:    Energy =   0.1616
Level     0,  Iter    57:    Energy =   0.1615
Level     0,  Iter    58:    Energy =   0.1616
Level     0,  Iter    59:    Energy =   0.1618
END OF LEVEL     0    DetJac Range:   0.3343  to   1.8843 
  Avg. Gradient Time  : 0.0074s  34.44% 
  Avg. Gaussian Time  : 0.0108s  49.99% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1061
Level     1,  Iter     1:    Energy =   0.1117
Level     1,  Iter     2:    Energy =   0.1156
Level     1,  Iter     3:    Energy =   0.1198
Level     1,  Iter     4:    Energy =   0.1225
Level     1,  Iter     5:    Energy =   0.1247
Level     1,  Iter     6:    Energy =   0.1269
Level     1,  Iter     7:    Energy =   0.1283
Level     1,  Iter     8:    Energy =   0.1296
Level     1,  Iter     9:    Energy =   0.1300
Level     1,  Iter    10:    Energy =   0.1309
Level     1,  Iter    11:    Energy =   0.1309
Level     1,  Iter    12:    Energy =   0.1321
Level     1,  Iter    13:    Energy =   0.1320
Level     1,  Iter    14:    Energy =   0.1325
Level     1,  Iter    15:    Energy =   0.1323
Level     1,  Iter    16:    Energy =   0.1332
Level     1,  Iter    17:    Energy =   0.1330
Level     1,  Iter    18:    Energy =   0.1336
Level     1,  Iter    19:    Energy =   0.1334
Level     1,  Iter    20:    Energy =   0.1341
Level     1,  Iter    21:    Energy =   0.1338
Level     1,  Iter    22:    Energy =   0.1344
Level     1,  Iter    23:    Energy =   0.1341
Level     1,  Iter    24:    Energy =   0.1347
Level     1,  Iter    25:    Energy =   0.1344
Level     1,  Iter    26:    Energy =   0.1348
Level     1,  Iter    27:    Energy =   0.1345
Level     1,  Iter    28:    Energy =   0.1351
Level     1,  Iter    29:    Energy =   0.1349
Level     1,  Iter    30:    Energy =   0.1351
Level     1,  Iter    31:    Energy =   0.1348
Level     1,  Iter    32:    Energy =   0.1353
Level     1,  Iter    33:    Energy =   0.1350
Level     1,  Iter    34:    Energy =   0.1355
Level     1,  Iter    35:    Energy =   0.1351
Level     1,  Iter    36:    Energy =   0.1356
Level     1,  Iter    37:    Energy =   0.1352
Level     1,  Iter    38:    Energy =   0.1357
Level     1,  Iter    39:    Energy =   0.1353
Level     1,  Iter    40:    Energy =   0.1358
Level     1,  Iter    41:    Energy =   0.1354
Level     1,  Iter    42:    Energy =   0.1358
Level     1,  Iter    43:    Energy =   0.1355
Level     1,  Iter    44:    Energy =   0.1359
Level     1,  Iter    45:    Energy =   0.1355
Level     1,  Iter    46:    Energy =   0.1360
Level     1,  Iter    47:    Energy =   0.1356
Level     1,  Iter    48:    Energy =   0.1360
Level     1,  Iter    49:    Energy =   0.1356
Level     1,  Iter    50:    Energy =   0.1361
Level     1,  Iter    51:    Energy =   0.1357
Level     1,  Iter    52:    Energy =   0.1361
Level     1,  Iter    53:    Energy =   0.1358
Level     1,  Iter    54:    Energy =   0.1362
Level     1,  Iter    55:    Energy =   0.1358
Level     1,  Iter    56:    Energy =   0.1362
Level     1,  Iter    57:    Energy =   0.1358
Level     1,  Iter    58:    Energy =   0.1363
Level     1,  Iter    59:    Energy =   0.1359
END OF LEVEL     1    DetJac Range:   0.1121  to   3.0879 
  Avg. Gradient Time  : 0.0424s  33.06% 
  Avg. Gaussian Time  : 0.0694s  54.17% 
  Avg. Iteration Time : 0.1281s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0707
Level     2,  Iter     1:    Energy =   0.0739
Level     2,  Iter     2:    Energy =   0.0768
Level     2,  Iter     3:    Energy =   0.0793
Level     2,  Iter     4:    Energy =   0.0815
Level     2,  Iter     5:    Energy =   0.0829
Level     2,  Iter     6:    Energy =   0.0847
Level     2,  Iter     7:    Energy =   0.0863
Level     2,  Iter     8:    Energy =   0.0876
Level     2,  Iter     9:    Energy =   0.0884
Level     2,  Iter    10:    Energy =   0.0889
Level     2,  Iter    11:    Energy =   0.0892
Level     2,  Iter    12:    Energy =   0.0894
Level     2,  Iter    13:    Energy =   0.0895
Level     2,  Iter    14:    Energy =   0.0897
Level     2,  Iter    15:    Energy =   0.0899
Level     2,  Iter    16:    Energy =   0.0901
Level     2,  Iter    17:    Energy =   0.0904
Level     2,  Iter    18:    Energy =   0.0908
Level     2,  Iter    19:    Energy =   0.0912
END OF LEVEL     2    DetJac Range:   0.0587  to   4.4112 
  Avg. Gradient Time  : 0.2957s  30.95% 
  Avg. Gaussian Time  : 0.5301s  55.49% 
  Avg. Iteration Time : 0.9553s 

real	0m32.794s
user	0m59.496s
sys	0m1.584s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.257692 0.263462
+ echo 'CHUNK 0.257692 0.263462 1'
CHUNK 0.257692 0.263462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.257692 0.263462 1
====================================
         PROGRESS: 0.257692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.452227
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3615.36   GNORM= 595.647
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3718.737     405.671       0.001
   2    4     -3768.185     201.786       1.000
   3    5     -3789.089      79.508       1.000
   4    6     -3794.855      81.395       1.000
   5    7     -3807.933     108.789       1.000
   6    8     -3825.444      79.159       1.000
   7    9     -3844.899      72.669       1.000
   8   11     -3848.563      61.936       0.165
   9   12     -3852.389      61.996       1.000
  10   13     -3854.682      58.485       1.000
  11   14     -3856.609      41.833       1.000
  12   15     -3859.004      38.938       1.000
  13   16     -3866.388      40.676       1.000
  14   17     -3868.666      49.200       1.000
  15   18     -3869.512      30.708       1.000
  16   19     -3870.106      17.676       1.000
  17   20     -3870.831      16.735       1.000
  18   22     -3872.176      31.909       0.440
  19   23     -3872.961      23.273       1.000
  20   24     -3873.280      11.722       1.000
  21   25     -3873.469      15.496       1.000
  22   26     -3874.265      34.256       1.000
  23   27     -3874.285      61.005       1.000
  24   28     -3874.850      23.325       1.000
  25   29     -3874.979      12.429       1.000
  26   30     -3875.138      14.046       1.000
  27   32     -3875.322      21.222       0.249
  28   33     -3875.512      16.963       1.000
  29   34     -3875.813      11.369       1.000
  30   35     -3875.982       9.227       1.000
  31   36     -3876.233      26.150       1.000
  32   38     -3876.352       8.266       0.364
  33   39     -3876.510      10.233       1.000
  34   40     -3876.572       7.710       1.000
  35   41     -3876.576      11.046       1.000
  36   42     -3876.602       5.109       1.000
  37   43     -3876.616       8.707       1.000
  38   45     -3876.630       7.198       0.324
  39   47     -3876.638       5.590       0.420
  40   48     -3876.653       3.599       1.000
  41   49     -3876.656       2.825       1.000
  42   51     -3876.665       4.813       0.489
  43   52     -3876.671       2.897       1.000
Final RAS Transform: 
0.980219 -0.00606564 0.0529356 0.0301314 
0.0561765 1.00296 0.0240222 0.998981 
-0.0250284 0.000597956 1.03799 0.19498 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2671.96   GNORM= 91.7798
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2674.663      56.649       0.001
   2    4     -2676.071      37.322       1.000
   3    5     -2677.509      27.226       1.000
   4    6     -2678.188      17.922       1.000
   5    7     -2679.886      20.267       1.000
   6    8     -2681.532      37.870       1.000
   7   10     -2681.983      29.618       0.377
   8   11     -2682.852      21.494       1.000
   9   12     -2683.476       8.490       1.000
  10   13     -2683.747      20.623       1.000
  11   14     -2684.078      20.237       1.000
  12   15     -2684.383      11.097       1.000
  13   16     -2684.861       9.388       1.000
  14   17     -2685.156      10.879       1.000
  15   19     -2685.313      15.309       0.493
  16   20     -2685.495      16.221       1.000
  17   21     -2685.834      11.629       1.000
  18   22     -2686.003      35.612       1.000
  19   23     -2686.209       5.967       1.000
  20   24     -2686.224       3.961       1.000
  21   25     -2686.250       4.873       1.000
  22   27     -2686.301       7.129       0.432
  23   28     -2686.345       8.904       1.000
  24   29     -2686.434       5.916       1.000
  25   30     -2686.525       8.412       1.000
  26   31     -2686.556       9.847       1.000
  27   33     -2686.570       3.842       0.346
  28   34     -2686.581       2.190       1.000
  29   35     -2686.590       3.864       1.000
  30   36     -2686.606       3.333       1.000
  31   37     -2686.634       5.133       1.000
  32   38     -2686.665       6.812       1.000
  33   40     -2686.674       3.783       0.149
  34   41     -2686.687       3.066       1.000
  35   42     -2686.721       8.896       1.000
  36   43     -2686.738       4.428       1.000
  37   44     -2686.754       2.360       1.000
  38   46     -2686.755       3.102       0.388
  39   48     -2686.759       2.303       0.438
  40   49     -2686.763       2.546       1.000
  41   50     -2686.771       2.602       1.000
  42   52     -2686.773       2.670       0.231
  43   53     -2686.777       2.239       1.000
  44   55     -2686.783       1.906       0.132
  45   56     -2686.788       3.119       1.000
Final RAS Transform: 
0.986542 -0.00673125 0.0319796 0.00973188 
0.0515249 1.00739 0.0204348 1.09372 
-0.0240362 0.000669126 1.02736 0.02888 
0 0 0 1 

Final RAS Transform: 
0.986542 -0.00673125 0.0319796 0.00973188 
0.0515249 1.00739 0.0204348 1.09372 
-0.0240362 0.000669126 1.02736 0.02888 
0 0 0 1 


real	0m10.248s
user	0m17.992s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.4616
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1137
Level     0,  Iter     1:    Energy =   0.1214
Level     0,  Iter     2:    Energy =   0.1283
Level     0,  Iter     3:    Energy =   0.1333
Level     0,  Iter     4:    Energy =   0.1359
Level     0,  Iter     5:    Energy =   0.1373
Level     0,  Iter     6:    Energy =   0.1384
Level     0,  Iter     7:    Energy =   0.1396
Level     0,  Iter     8:    Energy =   0.1401
Level     0,  Iter     9:    Energy =   0.1409
Level     0,  Iter    10:    Energy =   0.1413
Level     0,  Iter    11:    Energy =   0.1421
Level     0,  Iter    12:    Energy =   0.1423
Level     0,  Iter    13:    Energy =   0.1428
Level     0,  Iter    14:    Energy =   0.1431
Level     0,  Iter    15:    Energy =   0.1435
Level     0,  Iter    16:    Energy =   0.1438
Level     0,  Iter    17:    Energy =   0.1441
Level     0,  Iter    18:    Energy =   0.1445
Level     0,  Iter    19:    Energy =   0.1447
Level     0,  Iter    20:    Energy =   0.1447
Level     0,  Iter    21:    Energy =   0.1449
Level     0,  Iter    22:    Energy =   0.1450
Level     0,  Iter    23:    Energy =   0.1452
Level     0,  Iter    24:    Energy =   0.1451
Level     0,  Iter    25:    Energy =   0.1453
Level     0,  Iter    26:    Energy =   0.1452
Level     0,  Iter    27:    Energy =   0.1454
Level     0,  Iter    28:    Energy =   0.1455
Level     0,  Iter    29:    Energy =   0.1456
Level     0,  Iter    30:    Energy =   0.1455
Level     0,  Iter    31:    Energy =   0.1457
Level     0,  Iter    32:    Energy =   0.1456
Level     0,  Iter    33:    Energy =   0.1458
Level     0,  Iter    34:    Energy =   0.1458
Level     0,  Iter    35:    Energy =   0.1459
Level     0,  Iter    36:    Energy =   0.1457
Level     0,  Iter    37:    Energy =   0.1459
Level     0,  Iter    38:    Energy =   0.1460
Level     0,  Iter    39:    Energy =   0.1460
Level     0,  Iter    40:    Energy =   0.1459
Level     0,  Iter    41:    Energy =   0.1461
Level     0,  Iter    42:    Energy =   0.1461
Level     0,  Iter    43:    Energy =   0.1463
Level     0,  Iter    44:    Energy =   0.1463
Level     0,  Iter    45:    Energy =   0.1463
Level     0,  Iter    46:    Energy =   0.1462
Level     0,  Iter    47:    Energy =   0.1463
Level     0,  Iter    48:    Energy =   0.1462
Level     0,  Iter    49:    Energy =   0.1464
Level     0,  Iter    50:    Energy =   0.1462
Level     0,  Iter    51:    Energy =   0.1464
Level     0,  Iter    52:    Energy =   0.1463
Level     0,  Iter    53:    Energy =   0.1464
Level     0,  Iter    54:    Energy =   0.1462
Level     0,  Iter    55:    Energy =   0.1465
Level     0,  Iter    56:    Energy =   0.1464
Level     0,  Iter    57:    Energy =   0.1464
Level     0,  Iter    58:    Energy =   0.1463
Level     0,  Iter    59:    Energy =   0.1465
END OF LEVEL     0    DetJac Range:   0.2525  to   2.0680 
  Avg. Gradient Time  : 0.0074s  34.69% 
  Avg. Gaussian Time  : 0.0107s  49.91% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0965
Level     1,  Iter     1:    Energy =   0.1015
Level     1,  Iter     2:    Energy =   0.1070
Level     1,  Iter     3:    Energy =   0.1108
Level     1,  Iter     4:    Energy =   0.1139
Level     1,  Iter     5:    Energy =   0.1168
Level     1,  Iter     6:    Energy =   0.1191
Level     1,  Iter     7:    Energy =   0.1207
Level     1,  Iter     8:    Energy =   0.1220
Level     1,  Iter     9:    Energy =   0.1231
Level     1,  Iter    10:    Energy =   0.1242
Level     1,  Iter    11:    Energy =   0.1246
Level     1,  Iter    12:    Energy =   0.1252
Level     1,  Iter    13:    Energy =   0.1256
Level     1,  Iter    14:    Energy =   0.1262
Level     1,  Iter    15:    Energy =   0.1262
Level     1,  Iter    16:    Energy =   0.1268
Level     1,  Iter    17:    Energy =   0.1270
Level     1,  Iter    18:    Energy =   0.1275
Level     1,  Iter    19:    Energy =   0.1274
Level     1,  Iter    20:    Energy =   0.1277
Level     1,  Iter    21:    Energy =   0.1279
Level     1,  Iter    22:    Energy =   0.1281
Level     1,  Iter    23:    Energy =   0.1281
Level     1,  Iter    24:    Energy =   0.1283
Level     1,  Iter    25:    Energy =   0.1284
Level     1,  Iter    26:    Energy =   0.1285
Level     1,  Iter    27:    Energy =   0.1287
Level     1,  Iter    28:    Energy =   0.1288
Level     1,  Iter    29:    Energy =   0.1289
Level     1,  Iter    30:    Energy =   0.1290
Level     1,  Iter    31:    Energy =   0.1291
Level     1,  Iter    32:    Energy =   0.1292
Level     1,  Iter    33:    Energy =   0.1292
Level     1,  Iter    34:    Energy =   0.1293
Level     1,  Iter    35:    Energy =   0.1294
Level     1,  Iter    36:    Energy =   0.1295
Level     1,  Iter    37:    Energy =   0.1296
Level     1,  Iter    38:    Energy =   0.1297
Level     1,  Iter    39:    Energy =   0.1297
Level     1,  Iter    40:    Energy =   0.1298
Level     1,  Iter    41:    Energy =   0.1299
Level     1,  Iter    42:    Energy =   0.1300
Level     1,  Iter    43:    Energy =   0.1300
Level     1,  Iter    44:    Energy =   0.1301
Level     1,  Iter    45:    Energy =   0.1301
Level     1,  Iter    46:    Energy =   0.1302
Level     1,  Iter    47:    Energy =   0.1302
Level     1,  Iter    48:    Energy =   0.1303
Level     1,  Iter    49:    Energy =   0.1303
Level     1,  Iter    50:    Energy =   0.1304
Level     1,  Iter    51:    Energy =   0.1303
Level     1,  Iter    52:    Energy =   0.1305
Level     1,  Iter    53:    Energy =   0.1305
Level     1,  Iter    54:    Energy =   0.1305
Level     1,  Iter    55:    Energy =   0.1305
Level     1,  Iter    56:    Energy =   0.1306
Level     1,  Iter    57:    Energy =   0.1306
Level     1,  Iter    58:    Energy =   0.1307
Level     1,  Iter    59:    Energy =   0.1306
END OF LEVEL     1    DetJac Range:   0.0959  to   3.3265 
  Avg. Gradient Time  : 0.0426s  33.28% 
  Avg. Gaussian Time  : 0.0692s  54.01% 
  Avg. Iteration Time : 0.1281s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0688
Level     2,  Iter     1:    Energy =   0.0716
Level     2,  Iter     2:    Energy =   0.0743
Level     2,  Iter     3:    Energy =   0.0765
Level     2,  Iter     4:    Energy =   0.0783
Level     2,  Iter     5:    Energy =   0.0797
Level     2,  Iter     6:    Energy =   0.0810
Level     2,  Iter     7:    Energy =   0.0821
Level     2,  Iter     8:    Energy =   0.0831
Level     2,  Iter     9:    Energy =   0.0840
Level     2,  Iter    10:    Energy =   0.0848
Level     2,  Iter    11:    Energy =   0.0855
Level     2,  Iter    12:    Energy =   0.0861
Level     2,  Iter    13:    Energy =   0.0867
Level     2,  Iter    14:    Energy =   0.0873
Level     2,  Iter    15:    Energy =   0.0877
Level     2,  Iter    16:    Energy =   0.0882
Level     2,  Iter    17:    Energy =   0.0886
Level     2,  Iter    18:    Energy =   0.0890
Level     2,  Iter    19:    Energy =   0.0894
END OF LEVEL     2    DetJac Range:   0.0590  to   4.7853 
  Avg. Gradient Time  : 0.2968s  31.00% 
  Avg. Gaussian Time  : 0.5307s  55.44% 
  Avg. Iteration Time : 0.9573s 

real	0m32.854s
user	0m59.584s
sys	0m1.528s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.263462 0.269231
+ echo 'CHUNK 0.263462 0.269231 1'
CHUNK 0.263462 0.269231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.263462 0.269231 1
====================================
         PROGRESS: 0.263462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.815522
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3702.05   GNORM= 656.568
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3835.119     504.937       0.001
   2    4     -3910.652     307.047       1.000
   3    5     -3959.689     133.250       1.000
   4    6     -3972.100      87.092       1.000
   5    7     -3989.347     114.775       1.000
   6    8     -4007.557     108.254       1.000
   7    9     -4010.252     255.946       1.000
   8   10     -4026.672      69.246       1.000
   9   11     -4030.271      57.610       1.000
  10   12     -4037.046      77.281       1.000
  11   13     -4042.338      55.165       1.000
  12   14     -4045.292      39.982       1.000
  13   15     -4047.506      49.507       1.000
  14   16     -4050.175      56.545       1.000
  15   18     -4051.406      35.526       0.390
  16   19     -4052.021      10.612       1.000
  17   20     -4052.191      10.118       1.000
  18   21     -4052.442      18.808       1.000
  19   22     -4053.263      23.849       1.000
  20   24     -4053.892      17.400       0.467
  21   26     -4054.060      15.941       0.410
  22   27     -4054.140      10.912       1.000
  23   28     -4054.264       8.979       1.000
  24   29     -4054.360      13.518       1.000
  25   30     -4054.632       7.058       1.000
  26   32     -4054.679       6.138       0.445
  27   33     -4054.700       8.790       1.000
  28   34     -4054.735       4.309       1.000
  29   35     -4054.751       4.232       1.000
  30   36     -4054.788      10.354       1.000
  31   37     -4054.838       8.021       1.000
  32   38     -4054.881       7.302       1.000
  33   40     -4054.925       9.111       0.457
  34   42     -4054.933      10.242       0.176
  35   43     -4054.951       4.282       1.000
  36   44     -4054.954       3.472       1.000
  37   45     -4054.959       3.832       1.000
  38   46     -4054.972       4.606       1.000
  39   48     -4054.984       5.113       0.492
  40   49     -4054.989       4.240       1.000
  41   50     -4054.994       2.527       1.000
  42   52     -4054.999       1.551       0.522
Final RAS Transform: 
0.988712 -0.0160505 0.0232401 -0.196807 
0.00467766 1.01427 0.0647469 -0.246225 
0.002598 -0.00377617 1.02051 0.91272 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2741.03   GNORM= 263.53
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2756.190      48.462       0.000
   2    4     -2757.045      36.301       1.000
   3    5     -2758.048      33.684       1.000
   4    6     -2758.983      27.804       1.000
   5    7     -2761.211      44.068       1.000
   6    8     -2764.523      48.871       1.000
   7    9     -2769.957      53.917       1.000
   8   11     -2770.775      44.971       0.178
   9   12     -2772.560      30.712       1.000
  10   13     -2774.240      33.416       1.000
  11   14     -2775.878      33.964       1.000
  12   15     -2778.445      17.263       1.000
  13   16     -2778.473      28.095       1.000
  14   17     -2778.738      11.494       1.000
  15   18     -2778.803       9.376       1.000
  16   19     -2778.951      10.947       1.000
  17   20     -2779.907      20.202       1.000
  18   22     -2780.384      21.179       0.495
  19   23     -2780.955      10.327       1.000
  20   24     -2781.073      28.705       1.000
  21   25     -2781.316      12.084       1.000
  22   26     -2781.360       8.320       1.000
  23   27     -2781.481       7.408       1.000
  24   28     -2781.734      12.684       1.000
  25   29     -2782.113      11.059       1.000
  26   30     -2782.242      10.257       1.000
  27   31     -2782.253      11.536       1.000
  28   32     -2782.316       2.627       1.000
  29   33     -2782.326       3.308       1.000
  30   34     -2782.331       3.477       1.000
  31   35     -2782.335       3.805       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.982194 -0.0177267 0.00309584 -0.569517 
0.00151369 1.00528 0.0414305 -0.536695 
0.015202 -0.00558609 0.997819 0.864759 
0 0 0 1 

Final RAS Transform: 
0.982194 -0.0177267 0.00309584 -0.569517 
0.00151369 1.00528 0.0414305 -0.536695 
0.015202 -0.00558609 0.997819 0.864759 
0 0 0 1 


real	0m8.949s
user	0m15.460s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.823804
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1180
Level     0,  Iter     1:    Energy =   0.1264
Level     0,  Iter     2:    Energy =   0.1349
Level     0,  Iter     3:    Energy =   0.1412
Level     0,  Iter     4:    Energy =   0.1455
Level     0,  Iter     5:    Energy =   0.1486
Level     0,  Iter     6:    Energy =   0.1502
Level     0,  Iter     7:    Energy =   0.1510
Level     0,  Iter     8:    Energy =   0.1517
Level     0,  Iter     9:    Energy =   0.1523
Level     0,  Iter    10:    Energy =   0.1527
Level     0,  Iter    11:    Energy =   0.1532
Level     0,  Iter    12:    Energy =   0.1535
Level     0,  Iter    13:    Energy =   0.1537
Level     0,  Iter    14:    Energy =   0.1540
Level     0,  Iter    15:    Energy =   0.1541
Level     0,  Iter    16:    Energy =   0.1544
Level     0,  Iter    17:    Energy =   0.1544
Level     0,  Iter    18:    Energy =   0.1546
Level     0,  Iter    19:    Energy =   0.1545
Level     0,  Iter    20:    Energy =   0.1546
Level     0,  Iter    21:    Energy =   0.1546
Level     0,  Iter    22:    Energy =   0.1546
Level     0,  Iter    23:    Energy =   0.1546
Level     0,  Iter    24:    Energy =   0.1547
Level     0,  Iter    25:    Energy =   0.1546
Level     0,  Iter    26:    Energy =   0.1547
Level     0,  Iter    27:    Energy =   0.1547
Level     0,  Iter    28:    Energy =   0.1547
Level     0,  Iter    29:    Energy =   0.1547
Level     0,  Iter    30:    Energy =   0.1548
Level     0,  Iter    31:    Energy =   0.1547
Level     0,  Iter    32:    Energy =   0.1548
Level     0,  Iter    33:    Energy =   0.1548
Level     0,  Iter    34:    Energy =   0.1548
Level     0,  Iter    35:    Energy =   0.1548
Level     0,  Iter    36:    Energy =   0.1549
Level     0,  Iter    37:    Energy =   0.1549
Level     0,  Iter    38:    Energy =   0.1549
Level     0,  Iter    39:    Energy =   0.1549
Level     0,  Iter    40:    Energy =   0.1550
Level     0,  Iter    41:    Energy =   0.1550
Level     0,  Iter    42:    Energy =   0.1551
Level     0,  Iter    43:    Energy =   0.1550
Level     0,  Iter    44:    Energy =   0.1551
Level     0,  Iter    45:    Energy =   0.1551
Level     0,  Iter    46:    Energy =   0.1552
Level     0,  Iter    47:    Energy =   0.1552
Level     0,  Iter    48:    Energy =   0.1552
Level     0,  Iter    49:    Energy =   0.1552
Level     0,  Iter    50:    Energy =   0.1553
Level     0,  Iter    51:    Energy =   0.1552
Level     0,  Iter    52:    Energy =   0.1553
Level     0,  Iter    53:    Energy =   0.1552
Level     0,  Iter    54:    Energy =   0.1553
Level     0,  Iter    55:    Energy =   0.1552
Level     0,  Iter    56:    Energy =   0.1553
Level     0,  Iter    57:    Energy =   0.1553
Level     0,  Iter    58:    Energy =   0.1553
Level     0,  Iter    59:    Energy =   0.1553
END OF LEVEL     0    DetJac Range:   0.4372  to   1.7888 
  Avg. Gradient Time  : 0.0074s  34.40% 
  Avg. Gaussian Time  : 0.0108s  50.13% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1025
Level     1,  Iter     1:    Energy =   0.1079
Level     1,  Iter     2:    Energy =   0.1127
Level     1,  Iter     3:    Energy =   0.1165
Level     1,  Iter     4:    Energy =   0.1195
Level     1,  Iter     5:    Energy =   0.1218
Level     1,  Iter     6:    Energy =   0.1236
Level     1,  Iter     7:    Energy =   0.1252
Level     1,  Iter     8:    Energy =   0.1268
Level     1,  Iter     9:    Energy =   0.1284
Level     1,  Iter    10:    Energy =   0.1297
Level     1,  Iter    11:    Energy =   0.1303
Level     1,  Iter    12:    Energy =   0.1302
Level     1,  Iter    13:    Energy =   0.1310
Level     1,  Iter    14:    Energy =   0.1308
Level     1,  Iter    15:    Energy =   0.1317
Level     1,  Iter    16:    Energy =   0.1314
Level     1,  Iter    17:    Energy =   0.1322
Level     1,  Iter    18:    Energy =   0.1320
Level     1,  Iter    19:    Energy =   0.1325
Level     1,  Iter    20:    Energy =   0.1323
Level     1,  Iter    21:    Energy =   0.1328
Level     1,  Iter    22:    Energy =   0.1325
Level     1,  Iter    23:    Energy =   0.1329
Level     1,  Iter    24:    Energy =   0.1327
Level     1,  Iter    25:    Energy =   0.1330
Level     1,  Iter    26:    Energy =   0.1328
Level     1,  Iter    27:    Energy =   0.1331
Level     1,  Iter    28:    Energy =   0.1329
Level     1,  Iter    29:    Energy =   0.1331
Level     1,  Iter    30:    Energy =   0.1331
Level     1,  Iter    31:    Energy =   0.1332
Level     1,  Iter    32:    Energy =   0.1332
Level     1,  Iter    33:    Energy =   0.1333
Level     1,  Iter    34:    Energy =   0.1334
Level     1,  Iter    35:    Energy =   0.1334
Level     1,  Iter    36:    Energy =   0.1334
Level     1,  Iter    37:    Energy =   0.1335
Level     1,  Iter    38:    Energy =   0.1336
Level     1,  Iter    39:    Energy =   0.1336
Level     1,  Iter    40:    Energy =   0.1337
Level     1,  Iter    41:    Energy =   0.1337
Level     1,  Iter    42:    Energy =   0.1337
Level     1,  Iter    43:    Energy =   0.1338
Level     1,  Iter    44:    Energy =   0.1338
Level     1,  Iter    45:    Energy =   0.1338
Level     1,  Iter    46:    Energy =   0.1339
Level     1,  Iter    47:    Energy =   0.1339
Level     1,  Iter    48:    Energy =   0.1340
Level     1,  Iter    49:    Energy =   0.1340
Level     1,  Iter    50:    Energy =   0.1341
Level     1,  Iter    51:    Energy =   0.1340
Level     1,  Iter    52:    Energy =   0.1341
Level     1,  Iter    53:    Energy =   0.1341
Level     1,  Iter    54:    Energy =   0.1342
Level     1,  Iter    55:    Energy =   0.1342
Level     1,  Iter    56:    Energy =   0.1342
Level     1,  Iter    57:    Energy =   0.1342
Level     1,  Iter    58:    Energy =   0.1343
Level     1,  Iter    59:    Energy =   0.1343
END OF LEVEL     1    DetJac Range:   0.1167  to   3.6460 
  Avg. Gradient Time  : 0.0421s  32.86% 
  Avg. Gaussian Time  : 0.0696s  54.35% 
  Avg. Iteration Time : 0.1281s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0709
Level     2,  Iter     1:    Energy =   0.0733
Level     2,  Iter     2:    Energy =   0.0758
Level     2,  Iter     3:    Energy =   0.0783
Level     2,  Iter     4:    Energy =   0.0804
Level     2,  Iter     5:    Energy =   0.0823
Level     2,  Iter     6:    Energy =   0.0836
Level     2,  Iter     7:    Energy =   0.0843
Level     2,  Iter     8:    Energy =   0.0848
Level     2,  Iter     9:    Energy =   0.0851
Level     2,  Iter    10:    Energy =   0.0854
Level     2,  Iter    11:    Energy =   0.0858
Level     2,  Iter    12:    Energy =   0.0864
Level     2,  Iter    13:    Energy =   0.0872
Level     2,  Iter    14:    Energy =   0.0882
Level     2,  Iter    15:    Energy =   0.0889
Level     2,  Iter    16:    Energy =   0.0897
Level     2,  Iter    17:    Energy =   0.0901
Level     2,  Iter    18:    Energy =   0.0907
Level     2,  Iter    19:    Energy =   0.0911
END OF LEVEL     2    DetJac Range:   0.0884  to   5.1557 
  Avg. Gradient Time  : 0.2971s  31.03% 
  Avg. Gaussian Time  : 0.5306s  55.42% 
  Avg. Iteration Time : 0.9574s 

real	0m32.839s
user	0m59.740s
sys	0m1.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.269231 0.275
+ echo 'CHUNK 0.269231 0.275 1'
CHUNK 0.269231 0.275 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.269231 0.275 1
====================================
         PROGRESS: 0.269231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.701244
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3275.42   GNORM= 297.78
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3343.273     129.590       0.002
   2    4     -3357.831     127.865       1.000
   3    5     -3376.598     154.000       1.000
   4    6     -3407.561     136.279       1.000
   5    7     -3420.973     214.895       1.000
   6    8     -3475.482     410.124       1.000
   7    9     -3522.967     104.824       1.000
   8   10     -3529.091      64.361       1.000
   9   11     -3538.178      91.414       1.000
  10   12     -3555.273     119.079       1.000
  11   13     -3572.621     236.319       1.000
  12   14     -3591.566     191.066       1.000
  13   15     -3607.857      49.579       1.000
  14   16     -3609.486      38.981       1.000
  15   17     -3610.615      64.792       1.000
  16   18     -3612.006      38.777       1.000
  17   19     -3613.722      85.718       1.000
  18   20     -3615.378      45.790       1.000
  19   21     -3617.659      27.308       1.000
  20   22     -3620.081      41.982       1.000
  21   23     -3621.914      27.269       1.000
  22   24     -3623.808      20.974       1.000
  23   25     -3625.077      14.209       1.000
  24   27     -3625.322      23.037       0.371
  25   28     -3625.593      18.563       1.000
  26   29     -3626.475      39.328       1.000
  27   30     -3627.134      12.693       1.000
  28   31     -3627.328      31.763       1.000
  29   32     -3627.592      13.467       1.000
  30   33     -3627.723       8.100       1.000
  31   34     -3627.814      12.604       1.000
  32   35     -3627.881       7.856       1.000
  33   36     -3627.914      10.931       1.000
  34   37     -3627.982       9.362       1.000
  35   38     -3628.019      16.553       1.000
  36   39     -3628.069       9.700       1.000
  37   40     -3628.114       6.796       1.000
  38   43     -3628.175      12.771       2.079
  39   44     -3628.231      10.516       1.000
  40   45     -3628.344       5.426       1.000
  41   47     -3628.375       5.106       0.334
  42   48     -3628.432       4.728       1.000
  43   50     -3628.475       4.736       0.278
  44   51     -3628.481       5.152       1.000
  45   52     -3628.500       3.944       1.000
  46   53     -3628.503       4.771       1.000
  47   54     -3628.516       4.543       1.000
  48   57     -3628.521       2.387       0.139
  49   58     -3628.527       3.330       1.000
  50   59     -3628.532       4.151       1.000
  51   60     -3628.535       3.253       1.000
Final RAS Transform: 
0.875162 -0.0303202 0.0218498 -4.30471 
0.0053611 0.987974 0.0139152 -0.681154 
-0.0290585 0.00677413 1.03659 -0.247441 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2325.51   GNORM= 197.133
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2338.561      97.158       0.001
   2    4     -2344.669      91.581       1.000
   3    5     -2360.102      91.259       1.000
   4    6     -2369.626      71.205       1.000
   5    7     -2384.180      25.377       1.000
   6    8     -2387.034      29.001       1.000
   7    9     -2392.122      39.517       1.000
   8   11     -2393.444      49.324       0.257
   9   12     -2394.453      28.030       1.000
  10   13     -2394.883      16.017       1.000
  11   14     -2395.184      19.708       1.000
  12   15     -2397.003      49.259       1.000
  13   16     -2399.303      71.708       1.000
  14   17     -2403.457      48.359       1.000
  15   18     -2404.277      60.073       1.000
  16   19     -2406.318      20.775       1.000
  17   20     -2406.842      18.396       1.000
  18   21     -2408.130      15.783       1.000
  19   23     -2408.393      18.364       0.345
  20   24     -2408.622       9.083       1.000
  21   25     -2408.737      12.969       1.000
  22   26     -2408.897       8.702       1.000
  23   27     -2409.290      17.895       1.000
  24   28     -2409.545      11.073       1.000
  25   29     -2409.686      12.505       1.000
  26   30     -2409.758       8.847       1.000
  27   31     -2409.812       7.662       1.000
  28   32     -2409.912       5.590       1.000
  29   33     -2410.101       6.226       1.000
  30   35     -2410.290       8.942       0.476
  31   36     -2410.431       9.382       1.000
  32   38     -2410.490       6.256       0.282
  33   39     -2410.518      10.739       1.000
  34   40     -2410.569       7.779       1.000
  35   41     -2410.601       5.633       1.000
  36   42     -2410.645       4.160       1.000
  37   43     -2410.650       7.039       1.000
  38   44     -2410.709       7.038       1.000
  39   45     -2410.736       4.921       1.000
  40   46     -2410.748       3.358       1.000
  41   47     -2410.764       5.188       1.000
  42   48     -2410.808       4.435       1.000
  43   50     -2410.844       3.660       0.517
  44   51     -2410.915       2.627       1.000
  45   53     -2410.941      11.204       0.228
  46   54     -2410.972       4.804       1.000
  47   55     -2410.984       3.196       1.000
  48   56     -2410.990       1.697       1.000
  49   57     -2410.998       2.666       1.000
  50   58     -2411.002       3.388       1.000
  51   59     -2411.019       3.795       1.000
  52   61     -2411.029       4.667       0.127
Final RAS Transform: 
0.913343 -0.0141793 0.0301933 -2.85797 
0.00889397 0.981095 0.00495266 -0.568243 
-0.0333516 0.0195943 1.02422 -0.337968 
0 0 0 1 

Final RAS Transform: 
0.913343 -0.0141793 0.0301933 -2.85797 
0.00889397 0.981095 0.00495266 -0.568243 
-0.0333516 0.0195943 1.02422 -0.337968 
0 0 0 1 


real	0m10.428s
user	0m18.204s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.711656
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1035
Level     0,  Iter     1:    Energy =   0.1103
Level     0,  Iter     2:    Energy =   0.1164
Level     0,  Iter     3:    Energy =   0.1219
Level     0,  Iter     4:    Energy =   0.1264
Level     0,  Iter     5:    Energy =   0.1288
Level     0,  Iter     6:    Energy =   0.1302
Level     0,  Iter     7:    Energy =   0.1324
Level     0,  Iter     8:    Energy =   0.1332
Level     0,  Iter     9:    Energy =   0.1348
Level     0,  Iter    10:    Energy =   0.1353
Level     0,  Iter    11:    Energy =   0.1367
Level     0,  Iter    12:    Energy =   0.1368
Level     0,  Iter    13:    Energy =   0.1372
Level     0,  Iter    14:    Energy =   0.1374
Level     0,  Iter    15:    Energy =   0.1383
Level     0,  Iter    16:    Energy =   0.1383
Level     0,  Iter    17:    Energy =   0.1392
Level     0,  Iter    18:    Energy =   0.1391
Level     0,  Iter    19:    Energy =   0.1398
Level     0,  Iter    20:    Energy =   0.1397
Level     0,  Iter    21:    Energy =   0.1406
Level     0,  Iter    22:    Energy =   0.1403
Level     0,  Iter    23:    Energy =   0.1405
Level     0,  Iter    24:    Energy =   0.1404
Level     0,  Iter    25:    Energy =   0.1410
Level     0,  Iter    26:    Energy =   0.1408
Level     0,  Iter    27:    Energy =   0.1413
Level     0,  Iter    28:    Energy =   0.1411
Level     0,  Iter    29:    Energy =   0.1417
Level     0,  Iter    30:    Energy =   0.1413
Level     0,  Iter    31:    Energy =   0.1414
Level     0,  Iter    32:    Energy =   0.1411
Level     0,  Iter    33:    Energy =   0.1417
Level     0,  Iter    34:    Energy =   0.1414
Level     0,  Iter    35:    Energy =   0.1415
Level     0,  Iter    36:    Energy =   0.1413
Level     0,  Iter    37:    Energy =   0.1419
Level     0,  Iter    38:    Energy =   0.1415
Level     0,  Iter    39:    Energy =   0.1417
Level     0,  Iter    40:    Energy =   0.1415
Level     0,  Iter    41:    Energy =   0.1421
Level     0,  Iter    42:    Energy =   0.1417
Level     0,  Iter    43:    Energy =   0.1418
Level     0,  Iter    44:    Energy =   0.1415
Level     0,  Iter    45:    Energy =   0.1421
Level     0,  Iter    46:    Energy =   0.1417
Level     0,  Iter    47:    Energy =   0.1419
Level     0,  Iter    48:    Energy =   0.1416
Level     0,  Iter    49:    Energy =   0.1422
Level     0,  Iter    50:    Energy =   0.1418
Level     0,  Iter    51:    Energy =   0.1419
Level     0,  Iter    52:    Energy =   0.1416
Level     0,  Iter    53:    Energy =   0.1422
Level     0,  Iter    54:    Energy =   0.1418
Level     0,  Iter    55:    Energy =   0.1419
Level     0,  Iter    56:    Energy =   0.1416
Level     0,  Iter    57:    Energy =   0.1421
Level     0,  Iter    58:    Energy =   0.1418
Level     0,  Iter    59:    Energy =   0.1419
END OF LEVEL     0    DetJac Range:   0.2660  to   2.0701 
  Avg. Gradient Time  : 0.0074s  34.49% 
  Avg. Gaussian Time  : 0.0108s  50.02% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0895
Level     1,  Iter     1:    Energy =   0.0941
Level     1,  Iter     2:    Energy =   0.0985
Level     1,  Iter     3:    Energy =   0.1014
Level     1,  Iter     4:    Energy =   0.1046
Level     1,  Iter     5:    Energy =   0.1071
Level     1,  Iter     6:    Energy =   0.1093
Level     1,  Iter     7:    Energy =   0.1111
Level     1,  Iter     8:    Energy =   0.1127
Level     1,  Iter     9:    Energy =   0.1144
Level     1,  Iter    10:    Energy =   0.1155
Level     1,  Iter    11:    Energy =   0.1165
Level     1,  Iter    12:    Energy =   0.1174
Level     1,  Iter    13:    Energy =   0.1179
Level     1,  Iter    14:    Energy =   0.1182
Level     1,  Iter    15:    Energy =   0.1185
Level     1,  Iter    16:    Energy =   0.1188
Level     1,  Iter    17:    Energy =   0.1191
Level     1,  Iter    18:    Energy =   0.1191
Level     1,  Iter    19:    Energy =   0.1194
Level     1,  Iter    20:    Energy =   0.1193
Level     1,  Iter    21:    Energy =   0.1197
Level     1,  Iter    22:    Energy =   0.1196
Level     1,  Iter    23:    Energy =   0.1201
Level     1,  Iter    24:    Energy =   0.1198
Level     1,  Iter    25:    Energy =   0.1203
Level     1,  Iter    26:    Energy =   0.1202
Level     1,  Iter    27:    Energy =   0.1206
Level     1,  Iter    28:    Energy =   0.1204
Level     1,  Iter    29:    Energy =   0.1209
Level     1,  Iter    30:    Energy =   0.1207
Level     1,  Iter    31:    Energy =   0.1211
Level     1,  Iter    32:    Energy =   0.1210
Level     1,  Iter    33:    Energy =   0.1211
Level     1,  Iter    34:    Energy =   0.1211
Level     1,  Iter    35:    Energy =   0.1209
Level     1,  Iter    36:    Energy =   0.1213
Level     1,  Iter    37:    Energy =   0.1210
Level     1,  Iter    38:    Energy =   0.1215
Level     1,  Iter    39:    Energy =   0.1211
Level     1,  Iter    40:    Energy =   0.1215
Level     1,  Iter    41:    Energy =   0.1214
Level     1,  Iter    42:    Energy =   0.1212
Level     1,  Iter    43:    Energy =   0.1217
Level     1,  Iter    44:    Energy =   0.1214
Level     1,  Iter    45:    Energy =   0.1219
Level     1,  Iter    46:    Energy =   0.1217
Level     1,  Iter    47:    Energy =   0.1220
Level     1,  Iter    48:    Energy =   0.1217
Level     1,  Iter    49:    Energy =   0.1221
Level     1,  Iter    50:    Energy =   0.1218
Level     1,  Iter    51:    Energy =   0.1220
Level     1,  Iter    52:    Energy =   0.1219
Level     1,  Iter    53:    Energy =   0.1218
Level     1,  Iter    54:    Energy =   0.1219
Level     1,  Iter    55:    Energy =   0.1216
Level     1,  Iter    56:    Energy =   0.1221
Level     1,  Iter    57:    Energy =   0.1216
Level     1,  Iter    58:    Energy =   0.1221
Level     1,  Iter    59:    Energy =   0.1218
END OF LEVEL     1    DetJac Range:   0.0808  to   3.3485 
  Avg. Gradient Time  : 0.0425s  32.96% 
  Avg. Gaussian Time  : 0.0701s  54.33% 
  Avg. Iteration Time : 0.1290s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0605
Level     2,  Iter     1:    Energy =   0.0630
Level     2,  Iter     2:    Energy =   0.0655
Level     2,  Iter     3:    Energy =   0.0678
Level     2,  Iter     4:    Energy =   0.0696
Level     2,  Iter     5:    Energy =   0.0710
Level     2,  Iter     6:    Energy =   0.0722
Level     2,  Iter     7:    Energy =   0.0732
Level     2,  Iter     8:    Energy =   0.0739
Level     2,  Iter     9:    Energy =   0.0746
Level     2,  Iter    10:    Energy =   0.0753
Level     2,  Iter    11:    Energy =   0.0759
Level     2,  Iter    12:    Energy =   0.0765
Level     2,  Iter    13:    Energy =   0.0771
Level     2,  Iter    14:    Energy =   0.0778
Level     2,  Iter    15:    Energy =   0.0784
Level     2,  Iter    16:    Energy =   0.0790
Level     2,  Iter    17:    Energy =   0.0795
Level     2,  Iter    18:    Energy =   0.0801
Level     2,  Iter    19:    Energy =   0.0807
END OF LEVEL     2    DetJac Range:   0.0417  to   4.2021 
  Avg. Gradient Time  : 0.2995s  31.15% 
  Avg. Gaussian Time  : 0.5320s  55.35% 
  Avg. Iteration Time : 0.9612s 

real	0m32.997s
user	0m59.916s
sys	0m1.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.275 0.280769
+ echo 'CHUNK 0.275 0.280769 1'
CHUNK 0.275 0.280769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.275 0.280769 1
====================================
         PROGRESS: 0.275               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.557761
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2965.02   GNORM= 578.414
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3045.384     239.199       0.000
   2    4     -3072.492     224.774       1.000
   3    5     -3088.194     208.705       1.000
   4    6     -3130.137      78.804       1.000
   5    7     -3139.976      68.129       1.000
   6    8     -3170.888      97.339       1.000
   7    9     -3210.041     304.367       1.000
   8   10     -3218.485     280.706       1.000
   9   11     -3249.502      94.342       1.000
  10   12     -3258.529      50.287       1.000
  11   13     -3262.831      54.204       1.000
  12   14     -3267.334      47.013       1.000
  13   15     -3271.071     112.380       1.000
  14   16     -3275.251     158.856       1.000
  15   17     -3281.135      41.667       1.000
  16   18     -3281.801      29.822       1.000
  17   19     -3283.455      16.966       1.000
  18   20     -3285.607      19.987       1.000
  19   21     -3286.262      10.111       1.000
  20   23     -3286.392      17.033       0.375
  21   24     -3286.430      20.786       1.000
  22   25     -3286.537       7.452       1.000
  23   26     -3286.584       8.319       1.000
  24   27     -3286.630       9.382       1.000
  25   28     -3286.673       6.692       1.000
  26   29     -3286.685       6.580       1.000
  27   30     -3286.693       4.031       1.000
  28   31     -3286.701       7.968       1.000
  29   32     -3286.717       4.668       1.000
  30   33     -3286.726      14.107       1.000
  31   34     -3286.750       8.491       1.000
  32   36     -3286.758       4.712       0.460
  33   37     -3286.772       4.267       1.000
  34   39     -3286.796      11.015       0.306
  35   40     -3286.812       8.294       1.000
  36   41     -3286.841      12.325       1.000
  37   42     -3286.867      10.707       1.000
  38   43     -3286.925       6.307       1.000
  39   44     -3286.954       3.769       1.000
  40   45     -3287.009       6.190       1.000
  41   47     -3287.031       6.014       0.319
  42   50     -3287.037       6.608       0.040
  43   51     -3287.061       4.733       1.000
  44   53     -3287.093      11.457       0.439
  45   54     -3287.117       7.820       1.000
  46   55     -3287.143       3.837       1.000
  47   56     -3287.164       6.343       1.000
  48   57     -3287.174       5.020       1.000
  49   58     -3287.181       3.722       1.000
  50   59     -3287.186       9.280       1.000
  51   60     -3287.187       8.121       1.000
  52   61     -3287.198       3.706       1.000
Final RAS Transform: 
0.927602 -0.0260583 0.0187929 -2.60337 
-0.00246314 0.98741 0.0253221 -1.02768 
-0.0389071 0.00523136 1.03643 -0.159994 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2289.39   GNORM= 193.416
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2299.267      88.407       0.000
   2    4     -2303.203      82.067       1.000
   3    5     -2311.620      50.361       1.000
   4    6     -2314.492      36.606       1.000
   5    7     -2322.269      36.699       1.000
   6    8     -2324.203      56.475       1.000
   7    9     -2326.879      37.720       1.000
   8   10     -2327.876      96.335       1.000
   9   11     -2330.998      46.122       1.000
  10   12     -2332.430      39.197       1.000
  11   13     -2335.859      42.820       1.000
  12   14     -2339.658      31.459       1.000
  13   15     -2340.632      39.567       1.000
  14   16     -2341.406      18.351       1.000
  15   17     -2341.683      17.379       1.000
  16   18     -2342.341      47.162       1.000
  17   19     -2343.615      18.827       1.000
  18   20     -2344.455      18.982       1.000
  19   21     -2345.144      28.403       1.000
  20   22     -2346.333      17.723       1.000
  21   23     -2347.004      15.241       1.000
  22   25     -2347.241      21.806       0.426
  23   26     -2347.478      14.207       1.000
  24   28     -2347.636       8.274       0.435
  25   29     -2347.791       7.353       1.000
  26   30     -2347.804      17.062       1.000
  27   31     -2348.125      33.386       1.000
  28   32     -2348.424      10.689       1.000
  29   33     -2348.670       6.007       1.000
  30   34     -2349.090      24.842       1.000
  31   35     -2349.289       8.936       1.000
  32   36     -2349.379       5.602       1.000
  33   38     -2349.400       5.241       0.300
  34   39     -2349.401       4.252       1.000
  35   40     -2349.436       8.370       1.000
  36   41     -2349.489       8.325       1.000
  37   42     -2349.779      12.228       1.000
  38   43     -2349.954      13.583       1.000
  39   45     -2350.068       9.924       0.412
  40   46     -2350.121       9.336       1.000
  41   48     -2350.229       5.781       0.513
  42   49     -2350.284       3.008       1.000
  43   50     -2350.313       6.718       1.000
  44   51     -2350.364       7.174       1.000
  45   53     -2350.404       4.395       0.057
  46   54     -2350.420       7.716       1.000
  47   56     -2350.425       3.238       0.278
  48   57     -2350.434       2.184       1.000
Final RAS Transform: 
0.954926 -0.0189022 0.0241104 -1.61893 
0.012009 0.995704 0.0268789 -0.283847 
-0.0219575 0.000352607 1.00911 -0.068399 
0 0 0 1 

Final RAS Transform: 
0.954926 -0.0189022 0.0241104 -1.61893 
0.012009 0.995704 0.0268789 -0.283847 
-0.0219575 0.000352607 1.00911 -0.068399 
0 0 0 1 


real	0m10.296s
user	0m17.944s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.569375
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0948
Level     0,  Iter     1:    Energy =   0.1013
Level     0,  Iter     2:    Energy =   0.1086
Level     0,  Iter     3:    Energy =   0.1138
Level     0,  Iter     4:    Energy =   0.1177
Level     0,  Iter     5:    Energy =   0.1204
Level     0,  Iter     6:    Energy =   0.1218
Level     0,  Iter     7:    Energy =   0.1238
Level     0,  Iter     8:    Energy =   0.1247
Level     0,  Iter     9:    Energy =   0.1261
Level     0,  Iter    10:    Energy =   0.1267
Level     0,  Iter    11:    Energy =   0.1278
Level     0,  Iter    12:    Energy =   0.1281
Level     0,  Iter    13:    Energy =   0.1290
Level     0,  Iter    14:    Energy =   0.1293
Level     0,  Iter    15:    Energy =   0.1298
Level     0,  Iter    16:    Energy =   0.1301
Level     0,  Iter    17:    Energy =   0.1309
Level     0,  Iter    18:    Energy =   0.1309
Level     0,  Iter    19:    Energy =   0.1309
Level     0,  Iter    20:    Energy =   0.1309
Level     0,  Iter    21:    Energy =   0.1313
Level     0,  Iter    22:    Energy =   0.1313
Level     0,  Iter    23:    Energy =   0.1317
Level     0,  Iter    24:    Energy =   0.1318
Level     0,  Iter    25:    Energy =   0.1323
Level     0,  Iter    26:    Energy =   0.1322
Level     0,  Iter    27:    Energy =   0.1325
Level     0,  Iter    28:    Energy =   0.1325
Level     0,  Iter    29:    Energy =   0.1329
Level     0,  Iter    30:    Energy =   0.1328
Level     0,  Iter    31:    Energy =   0.1328
Level     0,  Iter    32:    Energy =   0.1328
Level     0,  Iter    33:    Energy =   0.1331
Level     0,  Iter    34:    Energy =   0.1330
Level     0,  Iter    35:    Energy =   0.1330
Level     0,  Iter    36:    Energy =   0.1329
Level     0,  Iter    37:    Energy =   0.1333
Level     0,  Iter    38:    Energy =   0.1332
Level     0,  Iter    39:    Energy =   0.1333
Level     0,  Iter    40:    Energy =   0.1333
Level     0,  Iter    41:    Energy =   0.1337
Level     0,  Iter    42:    Energy =   0.1335
Level     0,  Iter    43:    Energy =   0.1337
Level     0,  Iter    44:    Energy =   0.1335
Level     0,  Iter    45:    Energy =   0.1338
Level     0,  Iter    46:    Energy =   0.1337
Level     0,  Iter    47:    Energy =   0.1341
Level     0,  Iter    48:    Energy =   0.1339
Level     0,  Iter    49:    Energy =   0.1342
Level     0,  Iter    50:    Energy =   0.1340
Level     0,  Iter    51:    Energy =   0.1343
Level     0,  Iter    52:    Energy =   0.1341
Level     0,  Iter    53:    Energy =   0.1343
Level     0,  Iter    54:    Energy =   0.1342
Level     0,  Iter    55:    Energy =   0.1345
Level     0,  Iter    56:    Energy =   0.1343
Level     0,  Iter    57:    Energy =   0.1345
Level     0,  Iter    58:    Energy =   0.1343
Level     0,  Iter    59:    Energy =   0.1345
END OF LEVEL     0    DetJac Range:   0.2213  to   2.5653 
  Avg. Gradient Time  : 0.0075s  34.49% 
  Avg. Gaussian Time  : 0.0108s  50.13% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0869
Level     1,  Iter     1:    Energy =   0.0911
Level     1,  Iter     2:    Energy =   0.0954
Level     1,  Iter     3:    Energy =   0.0990
Level     1,  Iter     4:    Energy =   0.1013
Level     1,  Iter     5:    Energy =   0.1036
Level     1,  Iter     6:    Energy =   0.1057
Level     1,  Iter     7:    Energy =   0.1075
Level     1,  Iter     8:    Energy =   0.1084
Level     1,  Iter     9:    Energy =   0.1092
Level     1,  Iter    10:    Energy =   0.1103
Level     1,  Iter    11:    Energy =   0.1118
Level     1,  Iter    12:    Energy =   0.1124
Level     1,  Iter    13:    Energy =   0.1131
Level     1,  Iter    14:    Energy =   0.1129
Level     1,  Iter    15:    Energy =   0.1137
Level     1,  Iter    16:    Energy =   0.1140
Level     1,  Iter    17:    Energy =   0.1145
Level     1,  Iter    18:    Energy =   0.1143
Level     1,  Iter    19:    Energy =   0.1150
Level     1,  Iter    20:    Energy =   0.1152
Level     1,  Iter    21:    Energy =   0.1156
Level     1,  Iter    22:    Energy =   0.1152
Level     1,  Iter    23:    Energy =   0.1159
Level     1,  Iter    24:    Energy =   0.1162
Level     1,  Iter    25:    Energy =   0.1165
Level     1,  Iter    26:    Energy =   0.1160
Level     1,  Iter    27:    Energy =   0.1169
Level     1,  Iter    28:    Energy =   0.1167
Level     1,  Iter    29:    Energy =   0.1172
Level     1,  Iter    30:    Energy =   0.1167
Level     1,  Iter    31:    Energy =   0.1175
Level     1,  Iter    32:    Energy =   0.1173
Level     1,  Iter    33:    Energy =   0.1175
Level     1,  Iter    34:    Energy =   0.1172
Level     1,  Iter    35:    Energy =   0.1179
Level     1,  Iter    36:    Energy =   0.1174
Level     1,  Iter    37:    Energy =   0.1182
Level     1,  Iter    38:    Energy =   0.1180
Level     1,  Iter    39:    Energy =   0.1180
Level     1,  Iter    40:    Energy =   0.1179
Level     1,  Iter    41:    Energy =   0.1181
Level     1,  Iter    42:    Energy =   0.1178
Level     1,  Iter    43:    Energy =   0.1184
Level     1,  Iter    44:    Energy =   0.1180
Level     1,  Iter    45:    Energy =   0.1185
Level     1,  Iter    46:    Energy =   0.1183
Level     1,  Iter    47:    Energy =   0.1186
Level     1,  Iter    48:    Energy =   0.1182
Level     1,  Iter    49:    Energy =   0.1188
Level     1,  Iter    50:    Energy =   0.1184
Level     1,  Iter    51:    Energy =   0.1189
Level     1,  Iter    52:    Energy =   0.1186
Level     1,  Iter    53:    Energy =   0.1189
Level     1,  Iter    54:    Energy =   0.1185
Level     1,  Iter    55:    Energy =   0.1190
Level     1,  Iter    56:    Energy =   0.1185
Level     1,  Iter    57:    Energy =   0.1190
Level     1,  Iter    58:    Energy =   0.1188
Level     1,  Iter    59:    Energy =   0.1190
END OF LEVEL     1    DetJac Range:   0.0778  to   4.1955 
  Avg. Gradient Time  : 0.0423s  32.87% 
  Avg. Gaussian Time  : 0.0700s  54.35% 
  Avg. Iteration Time : 0.1288s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0590
Level     2,  Iter     1:    Energy =   0.0613
Level     2,  Iter     2:    Energy =   0.0631
Level     2,  Iter     3:    Energy =   0.0647
Level     2,  Iter     4:    Energy =   0.0662
Level     2,  Iter     5:    Energy =   0.0676
Level     2,  Iter     6:    Energy =   0.0691
Level     2,  Iter     7:    Energy =   0.0707
Level     2,  Iter     8:    Energy =   0.0722
Level     2,  Iter     9:    Energy =   0.0735
Level     2,  Iter    10:    Energy =   0.0747
Level     2,  Iter    11:    Energy =   0.0755
Level     2,  Iter    12:    Energy =   0.0763
Level     2,  Iter    13:    Energy =   0.0770
Level     2,  Iter    14:    Energy =   0.0776
Level     2,  Iter    15:    Energy =   0.0783
Level     2,  Iter    16:    Energy =   0.0790
Level     2,  Iter    17:    Energy =   0.0797
Level     2,  Iter    18:    Energy =   0.0804
Level     2,  Iter    19:    Energy =   0.0810
END OF LEVEL     2    DetJac Range:   0.0285  to   5.4886 
  Avg. Gradient Time  : 0.2993s  31.11% 
  Avg. Gaussian Time  : 0.5325s  55.34% 
  Avg. Iteration Time : 0.9623s 

real	0m33.050s
user	0m59.908s
sys	0m1.568s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.280769 0.286538
+ echo 'CHUNK 0.280769 0.286538 1'
CHUNK 0.280769 0.286538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.280769 0.286538 1
====================================
         PROGRESS: 0.280769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.771967
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4194.47   GNORM= 267.47
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4216.067     200.205       0.001
   2    4     -4229.339     155.127       1.000
   3    5     -4262.283     134.009       1.000
   4    6     -4282.439     141.486       1.000
   5    7     -4313.272     104.826       1.000
   6    8     -4326.699     141.231       1.000
   7    9     -4337.874      70.563       1.000
   8   10     -4342.473      45.888       1.000
   9   11     -4346.333      72.732       1.000
  10   12     -4349.706      66.749       1.000
  11   14     -4352.152      87.157       0.393
  12   15     -4354.489      39.817       1.000
  13   16     -4355.783      51.510       1.000
  14   17     -4356.994      61.690       1.000
  15   18     -4358.373      32.291       1.000
  16   19     -4359.269      25.838       1.000
  17   20     -4359.626      22.123       1.000
  18   21     -4360.119      30.122       1.000
  19   22     -4360.425      22.589       1.000
  20   23     -4360.777      19.225       1.000
  21   24     -4361.019      31.632       1.000
  22   25     -4361.332      11.740       1.000
  23   26     -4361.445       5.711       1.000
  24   27     -4361.544       6.634       1.000
  25   29     -4361.608      14.660       0.493
  26   30     -4361.669      13.368       1.000
  27   31     -4361.791      12.298       1.000
  28   32     -4361.914      10.797       1.000
  29   33     -4362.025       8.167       1.000
  30   34     -4362.083       9.287       1.000
  31   35     -4362.145       4.307       1.000
  32   37     -4362.154       5.472       0.401
  33   38     -4362.167       6.303       1.000
  34   40     -4362.183       3.828       0.348
  35   41     -4362.192       4.814       1.000
  36   42     -4362.203       4.285       1.000
  37   44     -4362.213       3.587       0.480
Final RAS Transform: 
0.967359 -0.0129468 0.0203624 -1.05566 
0.0149295 0.995154 0.0263563 0.190533 
-0.0256175 0.0065797 1.03594 -0.105602 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2946.16   GNORM= 100.605
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2948.749      38.520       0.000
   2    4     -2949.355      27.235       1.000
   3    5     -2950.044      27.986       1.000
   4    6     -2951.903      47.042       1.000
   5    7     -2954.884      63.055       1.000
   6    8     -2960.942      95.381       1.000
   7   10     -2963.018      87.009       0.518
   8   11     -2965.244      28.194       1.000
   9   12     -2965.743      13.624       1.000
  10   13     -2965.973      13.974       1.000
  11   14     -2966.617      25.487       1.000
  12   15     -2967.983      52.133       1.000
  13   16     -2969.026      55.918       1.000
  14   17     -2969.942      23.373       1.000
  15   18     -2970.162      12.993       1.000
  16   19     -2970.233      13.612       1.000
  17   20     -2970.388      10.496       1.000
  18   21     -2970.796      12.447       1.000
  19   22     -2971.195      14.816       1.000
  20   23     -2971.594      51.364       1.000
  21   24     -2972.176      16.655       1.000
  22   25     -2972.384      14.640       1.000
  23   26     -2972.520      17.650       1.000
  24   27     -2972.687      11.321       1.000
  25   28     -2972.866       9.711       1.000
  26   29     -2972.954      13.359       1.000
  27   30     -2973.062       8.847       1.000
  28   31     -2973.153      12.042       1.000
  29   32     -2973.196      13.612       1.000
  30   33     -2973.237       4.367       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.959173 -0.00675148 0.00275831 -1.2644 
0.0207561 0.989035 0.0063366 0.186526 
-0.0174526 0.00994862 1.01855 0.0102301 
0 0 0 1 

Final RAS Transform: 
0.959173 -0.00675148 0.00275831 -1.2644 
0.0207561 0.989035 0.0063366 0.186526 
-0.0174526 0.00994862 1.01855 0.0102301 
0 0 0 1 


real	0m9.909s
user	0m17.176s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.788738
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1291
Level     0,  Iter     1:    Energy =   0.1366
Level     0,  Iter     2:    Energy =   0.1441
Level     0,  Iter     3:    Energy =   0.1490
Level     0,  Iter     4:    Energy =   0.1528
Level     0,  Iter     5:    Energy =   0.1557
Level     0,  Iter     6:    Energy =   0.1581
Level     0,  Iter     7:    Energy =   0.1585
Level     0,  Iter     8:    Energy =   0.1597
Level     0,  Iter     9:    Energy =   0.1602
Level     0,  Iter    10:    Energy =   0.1607
Level     0,  Iter    11:    Energy =   0.1612
Level     0,  Iter    12:    Energy =   0.1616
Level     0,  Iter    13:    Energy =   0.1621
Level     0,  Iter    14:    Energy =   0.1622
Level     0,  Iter    15:    Energy =   0.1620
Level     0,  Iter    16:    Energy =   0.1624
Level     0,  Iter    17:    Energy =   0.1629
Level     0,  Iter    18:    Energy =   0.1628
Level     0,  Iter    19:    Energy =   0.1624
Level     0,  Iter    20:    Energy =   0.1627
Level     0,  Iter    21:    Energy =   0.1632
Level     0,  Iter    22:    Energy =   0.1632
Level     0,  Iter    23:    Energy =   0.1630
Level     0,  Iter    24:    Energy =   0.1633
Level     0,  Iter    25:    Energy =   0.1638
Level     0,  Iter    26:    Energy =   0.1638
Level     0,  Iter    27:    Energy =   0.1632
Level     0,  Iter    28:    Energy =   0.1635
Level     0,  Iter    29:    Energy =   0.1638
Level     0,  Iter    30:    Energy =   0.1640
Level     0,  Iter    31:    Energy =   0.1636
Level     0,  Iter    32:    Energy =   0.1640
Level     0,  Iter    33:    Energy =   0.1644
Level     0,  Iter    34:    Energy =   0.1644
Level     0,  Iter    35:    Energy =   0.1637
Level     0,  Iter    36:    Energy =   0.1639
Level     0,  Iter    37:    Energy =   0.1641
Level     0,  Iter    38:    Energy =   0.1641
Level     0,  Iter    39:    Energy =   0.1636
Level     0,  Iter    40:    Energy =   0.1639
Level     0,  Iter    41:    Energy =   0.1642
Level     0,  Iter    42:    Energy =   0.1641
Level     0,  Iter    43:    Energy =   0.1635
Level     0,  Iter    44:    Energy =   0.1637
Level     0,  Iter    45:    Energy =   0.1640
Level     0,  Iter    46:    Energy =   0.1640
Level     0,  Iter    47:    Energy =   0.1636
Level     0,  Iter    48:    Energy =   0.1639
Level     0,  Iter    49:    Energy =   0.1642
Level     0,  Iter    50:    Energy =   0.1641
Level     0,  Iter    51:    Energy =   0.1635
Level     0,  Iter    52:    Energy =   0.1637
Level     0,  Iter    53:    Energy =   0.1639
Level     0,  Iter    54:    Energy =   0.1640
Level     0,  Iter    55:    Energy =   0.1636
Level     0,  Iter    56:    Energy =   0.1640
Level     0,  Iter    57:    Energy =   0.1644
Level     0,  Iter    58:    Energy =   0.1642
Level     0,  Iter    59:    Energy =   0.1635
END OF LEVEL     0    DetJac Range:   0.3443  to   2.0705 
  Avg. Gradient Time  : 0.0074s  34.33% 
  Avg. Gaussian Time  : 0.0108s  50.13% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1069
Level     1,  Iter     1:    Energy =   0.1127
Level     1,  Iter     2:    Energy =   0.1179
Level     1,  Iter     3:    Energy =   0.1208
Level     1,  Iter     4:    Energy =   0.1230
Level     1,  Iter     5:    Energy =   0.1249
Level     1,  Iter     6:    Energy =   0.1267
Level     1,  Iter     7:    Energy =   0.1294
Level     1,  Iter     8:    Energy =   0.1311
Level     1,  Iter     9:    Energy =   0.1324
Level     1,  Iter    10:    Energy =   0.1327
Level     1,  Iter    11:    Energy =   0.1329
Level     1,  Iter    12:    Energy =   0.1334
Level     1,  Iter    13:    Energy =   0.1335
Level     1,  Iter    14:    Energy =   0.1339
Level     1,  Iter    15:    Energy =   0.1341
Level     1,  Iter    16:    Energy =   0.1343
Level     1,  Iter    17:    Energy =   0.1345
Level     1,  Iter    18:    Energy =   0.1347
Level     1,  Iter    19:    Energy =   0.1348
Level     1,  Iter    20:    Energy =   0.1350
Level     1,  Iter    21:    Energy =   0.1352
Level     1,  Iter    22:    Energy =   0.1353
Level     1,  Iter    23:    Energy =   0.1354
Level     1,  Iter    24:    Energy =   0.1354
Level     1,  Iter    25:    Energy =   0.1356
Level     1,  Iter    26:    Energy =   0.1356
Level     1,  Iter    27:    Energy =   0.1358
Level     1,  Iter    28:    Energy =   0.1358
Level     1,  Iter    29:    Energy =   0.1359
Level     1,  Iter    30:    Energy =   0.1359
Level     1,  Iter    31:    Energy =   0.1360
Level     1,  Iter    32:    Energy =   0.1360
Level     1,  Iter    33:    Energy =   0.1361
Level     1,  Iter    34:    Energy =   0.1362
Level     1,  Iter    35:    Energy =   0.1363
Level     1,  Iter    36:    Energy =   0.1363
Level     1,  Iter    37:    Energy =   0.1363
Level     1,  Iter    38:    Energy =   0.1364
Level     1,  Iter    39:    Energy =   0.1364
Level     1,  Iter    40:    Energy =   0.1365
Level     1,  Iter    41:    Energy =   0.1365
Level     1,  Iter    42:    Energy =   0.1366
Level     1,  Iter    43:    Energy =   0.1366
Level     1,  Iter    44:    Energy =   0.1366
Level     1,  Iter    45:    Energy =   0.1366
Level     1,  Iter    46:    Energy =   0.1367
Level     1,  Iter    47:    Energy =   0.1367
Level     1,  Iter    48:    Energy =   0.1367
Level     1,  Iter    49:    Energy =   0.1368
Level     1,  Iter    50:    Energy =   0.1369
Level     1,  Iter    51:    Energy =   0.1368
Level     1,  Iter    52:    Energy =   0.1369
Level     1,  Iter    53:    Energy =   0.1369
Level     1,  Iter    54:    Energy =   0.1370
Level     1,  Iter    55:    Energy =   0.1369
Level     1,  Iter    56:    Energy =   0.1369
Level     1,  Iter    57:    Energy =   0.1369
Level     1,  Iter    58:    Energy =   0.1370
Level     1,  Iter    59:    Energy =   0.1369
END OF LEVEL     1    DetJac Range:   0.1346  to   3.4012 
  Avg. Gradient Time  : 0.0425s  33.02% 
  Avg. Gaussian Time  : 0.0698s  54.22% 
  Avg. Iteration Time : 0.1287s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0708
Level     2,  Iter     1:    Energy =   0.0738
Level     2,  Iter     2:    Energy =   0.0765
Level     2,  Iter     3:    Energy =   0.0791
Level     2,  Iter     4:    Energy =   0.0814
Level     2,  Iter     5:    Energy =   0.0834
Level     2,  Iter     6:    Energy =   0.0851
Level     2,  Iter     7:    Energy =   0.0864
Level     2,  Iter     8:    Energy =   0.0877
Level     2,  Iter     9:    Energy =   0.0886
Level     2,  Iter    10:    Energy =   0.0895
Level     2,  Iter    11:    Energy =   0.0902
Level     2,  Iter    12:    Energy =   0.0902
Level     2,  Iter    13:    Energy =   0.0906
Level     2,  Iter    14:    Energy =   0.0907
Level     2,  Iter    15:    Energy =   0.0909
Level     2,  Iter    16:    Energy =   0.0912
Level     2,  Iter    17:    Energy =   0.0912
Level     2,  Iter    18:    Energy =   0.0916
Level     2,  Iter    19:    Energy =   0.0915
END OF LEVEL     2    DetJac Range:   0.0653  to   4.8568 
  Avg. Gradient Time  : 0.2976s  30.99% 
  Avg. Gaussian Time  : 0.5324s  55.46% 
  Avg. Iteration Time : 0.9601s 

real	0m32.947s
user	0m59.808s
sys	0m1.524s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.286538 0.292308
+ echo 'CHUNK 0.286538 0.292308 1'
CHUNK 0.286538 0.292308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.286538 0.292308 1
====================================
         PROGRESS: 0.286538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.696052
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3532.3   GNORM= 367.054
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3603.169     346.975       0.001
   2    4     -3642.777     136.153       1.000
   3    5     -3654.675     110.139       1.000
   4    6     -3681.323     120.555       1.000
   5    7     -3701.323     141.613       1.000
   6    8     -3717.496      57.928       1.000
   7    9     -3724.589      70.776       1.000
   8   10     -3728.543      59.932       1.000
   9   11     -3731.001      35.290       1.000
  10   12     -3731.533      18.063       1.000
  11   13     -3731.939      18.362       1.000
  12   14     -3733.977      63.535       1.000
  13   15     -3735.909      45.089       1.000
  14   16     -3737.480      41.550       1.000
  15   18     -3738.158      29.023       0.490
  16   19     -3738.624      25.165       1.000
  17   21     -3738.900      35.638       0.295
  18   22     -3740.027      29.378       1.000
  19   23     -3744.596      66.216       1.000
  20   24     -3747.136      62.914       1.000
  21   26     -3747.446      30.535       0.076
  22   27     -3748.152      23.011       1.000
  23   28     -3748.651      13.413       1.000
  24   29     -3748.921      17.234       1.000
  25   30     -3749.203      12.351       1.000
  26   31     -3749.633      25.238       1.000
  27   33     -3749.875      18.005       0.143
  28   34     -3750.226      16.176       1.000
  29   35     -3750.573      15.470       1.000
  30   36     -3751.233      39.978       1.000
  31   37     -3751.791      15.206       1.000
  32   38     -3752.029      11.514       1.000
  33   39     -3752.137       9.317       1.000
  34   40     -3752.198      20.409       1.000
  35   41     -3752.270      18.410       1.000
  36   42     -3752.364      10.488       1.000
  37   43     -3752.398       6.671       1.000
  38   44     -3752.424       6.813       1.000
  39   45     -3752.451       4.341       1.000
  40   46     -3752.507       4.143       1.000
  41   47     -3752.526       5.587       1.000
  42   49     -3752.533       3.625       0.184
  43   50     -3752.544       3.344       1.000
  44   52     -3752.549       6.745       0.267
  45   53     -3752.562       2.872       1.000
  46   54     -3752.571       2.556       1.000
  47   56     -3752.581       4.046       0.460
  48   57     -3752.583       5.610       1.000
  49   58     -3752.597       3.074       1.000
  50   59     -3752.599       2.227       1.000
  51   60     -3752.599       3.919       1.000
  52   61     -3752.603       1.702       1.000
Final RAS Transform: 
0.973269 -0.0133771 -0.0053257 -0.637971 
0.0510885 1.00686 0.028383 1.0086 
-0.0364483 0.0061462 1.04207 -0.11885 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2600.65   GNORM= 171.289
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2610.667     109.464       0.001
   2    4     -2616.579      77.062       1.000
   3    5     -2623.096      42.929       1.000
   4    6     -2626.781      53.726       1.000
   5    7     -2634.821      85.093       1.000
   6    8     -2639.995      51.687       1.000
   7    9     -2643.987      71.517       1.000
   8   10     -2644.566     118.575       1.000
   9   11     -2646.702      46.934       1.000
  10   12     -2647.894      30.966       1.000
  11   13     -2650.544      41.781       1.000
  12   14     -2651.979      48.871       1.000
  13   15     -2652.608      16.887       1.000
  14   16     -2652.814      15.660       1.000
  15   17     -2653.145      25.963       1.000
  16   18     -2653.651      42.482       1.000
  17   19     -2654.253      33.753       1.000
  18   20     -2654.827      24.567       1.000
  19   21     -2655.336      12.115       1.000
  20   22     -2655.663      20.154       1.000
  21   23     -2655.864      12.154       1.000
  22   24     -2655.931      13.452       1.000
  23   25     -2656.069      11.942       1.000
  24   26     -2656.120       9.978       1.000
  25   27     -2656.149       6.263       1.000
  26   28     -2656.181      14.174       1.000
  27   29     -2656.235      10.006       1.000
  28   30     -2656.239      10.135       1.000
  29   31     -2656.376       5.394       1.000
  30   32     -2656.540      22.497       1.000
  31   33     -2656.758      16.287       1.000
  32   34     -2657.041      45.675       1.000
  33   35     -2657.417      12.605       1.000
  34   36     -2657.488       9.915       1.000
  35   38     -2657.574      10.328       0.183
  36   39     -2657.714       8.657       1.000
  37   40     -2657.821      11.676       1.000
  38   41     -2657.895       4.368       1.000
  39   42     -2657.917       4.453       1.000
  40   44     -2657.929       6.316       0.241
  41   45     -2657.975       9.375       1.000
  42   46     -2658.052       5.553       1.000
  43   47     -2658.101      12.422       1.000
  44   48     -2658.168       5.756       1.000
  45   49     -2658.209       5.792       1.000
  46   50     -2658.237       5.364       1.000
  47   51     -2658.250       3.276       1.000
  48   52     -2658.261       2.747       1.000
  49   53     -2658.297      10.014       1.000
  50   54     -2658.332       5.817       1.000
  51   55     -2658.355       3.738       1.000
  52   56     -2658.365       2.411       1.000
  53   57     -2658.379       4.150       1.000
  54   58     -2658.383       2.874       1.000
  55   59     -2658.390       1.932       1.000
  56   61     -2658.394       3.015       0.415
Final RAS Transform: 
0.972791 -0.0145418 0.00378127 -0.813668 
0.047836 0.995056 -0.00494925 0.702803 
-0.0221283 0.00499991 1.02594 -0.0239274 
0 0 0 1 

Final RAS Transform: 
0.972791 -0.0145418 0.00378127 -0.813668 
0.047836 0.995056 -0.00494925 0.702803 
-0.0221283 0.00499991 1.02594 -0.0239274 
0 0 0 1 


real	0m10.197s
user	0m17.800s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.698826
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1088
Level     0,  Iter     1:    Energy =   0.1171
Level     0,  Iter     2:    Energy =   0.1248
Level     0,  Iter     3:    Energy =   0.1299
Level     0,  Iter     4:    Energy =   0.1338
Level     0,  Iter     5:    Energy =   0.1347
Level     0,  Iter     6:    Energy =   0.1363
Level     0,  Iter     7:    Energy =   0.1371
Level     0,  Iter     8:    Energy =   0.1380
Level     0,  Iter     9:    Energy =   0.1389
Level     0,  Iter    10:    Energy =   0.1396
Level     0,  Iter    11:    Energy =   0.1403
Level     0,  Iter    12:    Energy =   0.1408
Level     0,  Iter    13:    Energy =   0.1417
Level     0,  Iter    14:    Energy =   0.1420
Level     0,  Iter    15:    Energy =   0.1423
Level     0,  Iter    16:    Energy =   0.1425
Level     0,  Iter    17:    Energy =   0.1430
Level     0,  Iter    18:    Energy =   0.1432
Level     0,  Iter    19:    Energy =   0.1432
Level     0,  Iter    20:    Energy =   0.1435
Level     0,  Iter    21:    Energy =   0.1440
Level     0,  Iter    22:    Energy =   0.1441
Level     0,  Iter    23:    Energy =   0.1440
Level     0,  Iter    24:    Energy =   0.1443
Level     0,  Iter    25:    Energy =   0.1447
Level     0,  Iter    26:    Energy =   0.1450
Level     0,  Iter    27:    Energy =   0.1446
Level     0,  Iter    28:    Energy =   0.1449
Level     0,  Iter    29:    Energy =   0.1451
Level     0,  Iter    30:    Energy =   0.1453
Level     0,  Iter    31:    Energy =   0.1451
Level     0,  Iter    32:    Energy =   0.1453
Level     0,  Iter    33:    Energy =   0.1458
Level     0,  Iter    34:    Energy =   0.1457
Level     0,  Iter    35:    Energy =   0.1455
Level     0,  Iter    36:    Energy =   0.1455
Level     0,  Iter    37:    Energy =   0.1457
Level     0,  Iter    38:    Energy =   0.1458
Level     0,  Iter    39:    Energy =   0.1458
Level     0,  Iter    40:    Energy =   0.1458
Level     0,  Iter    41:    Energy =   0.1461
Level     0,  Iter    42:    Energy =   0.1461
Level     0,  Iter    43:    Energy =   0.1460
Level     0,  Iter    44:    Energy =   0.1460
Level     0,  Iter    45:    Energy =   0.1461
Level     0,  Iter    46:    Energy =   0.1461
Level     0,  Iter    47:    Energy =   0.1461
Level     0,  Iter    48:    Energy =   0.1460
Level     0,  Iter    49:    Energy =   0.1460
Level     0,  Iter    50:    Energy =   0.1460
Level     0,  Iter    51:    Energy =   0.1460
Level     0,  Iter    52:    Energy =   0.1460
Level     0,  Iter    53:    Energy =   0.1460
Level     0,  Iter    54:    Energy =   0.1459
Level     0,  Iter    55:    Energy =   0.1460
Level     0,  Iter    56:    Energy =   0.1460
Level     0,  Iter    57:    Energy =   0.1460
Level     0,  Iter    58:    Energy =   0.1460
Level     0,  Iter    59:    Energy =   0.1461
END OF LEVEL     0    DetJac Range:   0.2576  to   2.2323 
  Avg. Gradient Time  : 0.0073s  34.52% 
  Avg. Gaussian Time  : 0.0105s  49.76% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1008
Level     1,  Iter     1:    Energy =   0.1064
Level     1,  Iter     2:    Energy =   0.1112
Level     1,  Iter     3:    Energy =   0.1143
Level     1,  Iter     4:    Energy =   0.1173
Level     1,  Iter     5:    Energy =   0.1200
Level     1,  Iter     6:    Energy =   0.1223
Level     1,  Iter     7:    Energy =   0.1241
Level     1,  Iter     8:    Energy =   0.1257
Level     1,  Iter     9:    Energy =   0.1270
Level     1,  Iter    10:    Energy =   0.1278
Level     1,  Iter    11:    Energy =   0.1285
Level     1,  Iter    12:    Energy =   0.1287
Level     1,  Iter    13:    Energy =   0.1291
Level     1,  Iter    14:    Energy =   0.1293
Level     1,  Iter    15:    Energy =   0.1296
Level     1,  Iter    16:    Energy =   0.1297
Level     1,  Iter    17:    Energy =   0.1297
Level     1,  Iter    18:    Energy =   0.1301
Level     1,  Iter    19:    Energy =   0.1302
Level     1,  Iter    20:    Energy =   0.1302
Level     1,  Iter    21:    Energy =   0.1304
Level     1,  Iter    22:    Energy =   0.1303
Level     1,  Iter    23:    Energy =   0.1306
Level     1,  Iter    24:    Energy =   0.1304
Level     1,  Iter    25:    Energy =   0.1308
Level     1,  Iter    26:    Energy =   0.1306
Level     1,  Iter    27:    Energy =   0.1308
Level     1,  Iter    28:    Energy =   0.1306
Level     1,  Iter    29:    Energy =   0.1310
Level     1,  Iter    30:    Energy =   0.1308
Level     1,  Iter    31:    Energy =   0.1310
Level     1,  Iter    32:    Energy =   0.1308
Level     1,  Iter    33:    Energy =   0.1311
Level     1,  Iter    34:    Energy =   0.1310
Level     1,  Iter    35:    Energy =   0.1311
Level     1,  Iter    36:    Energy =   0.1310
Level     1,  Iter    37:    Energy =   0.1312
Level     1,  Iter    38:    Energy =   0.1310
Level     1,  Iter    39:    Energy =   0.1313
Level     1,  Iter    40:    Energy =   0.1311
Level     1,  Iter    41:    Energy =   0.1313
Level     1,  Iter    42:    Energy =   0.1311
Level     1,  Iter    43:    Energy =   0.1314
Level     1,  Iter    44:    Energy =   0.1312
Level     1,  Iter    45:    Energy =   0.1315
Level     1,  Iter    46:    Energy =   0.1313
Level     1,  Iter    47:    Energy =   0.1315
Level     1,  Iter    48:    Energy =   0.1314
Level     1,  Iter    49:    Energy =   0.1316
Level     1,  Iter    50:    Energy =   0.1313
Level     1,  Iter    51:    Energy =   0.1316
Level     1,  Iter    52:    Energy =   0.1315
Level     1,  Iter    53:    Energy =   0.1316
Level     1,  Iter    54:    Energy =   0.1315
Level     1,  Iter    55:    Energy =   0.1317
Level     1,  Iter    56:    Energy =   0.1315
Level     1,  Iter    57:    Energy =   0.1318
Level     1,  Iter    58:    Energy =   0.1315
Level     1,  Iter    59:    Energy =   0.1318
END OF LEVEL     1    DetJac Range:   0.0467  to   3.6500 
  Avg. Gradient Time  : 0.0427s  33.24% 
  Avg. Gaussian Time  : 0.0694s  54.02% 
  Avg. Iteration Time : 0.1285s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0694
Level     2,  Iter     1:    Energy =   0.0726
Level     2,  Iter     2:    Energy =   0.0753
Level     2,  Iter     3:    Energy =   0.0776
Level     2,  Iter     4:    Energy =   0.0798
Level     2,  Iter     5:    Energy =   0.0814
Level     2,  Iter     6:    Energy =   0.0828
Level     2,  Iter     7:    Energy =   0.0840
Level     2,  Iter     8:    Energy =   0.0850
Level     2,  Iter     9:    Energy =   0.0857
Level     2,  Iter    10:    Energy =   0.0864
Level     2,  Iter    11:    Energy =   0.0871
Level     2,  Iter    12:    Energy =   0.0878
Level     2,  Iter    13:    Energy =   0.0880
Level     2,  Iter    14:    Energy =   0.0883
Level     2,  Iter    15:    Energy =   0.0885
Level     2,  Iter    16:    Energy =   0.0887
Level     2,  Iter    17:    Energy =   0.0889
Level     2,  Iter    18:    Energy =   0.0891
Level     2,  Iter    19:    Energy =   0.0894
END OF LEVEL     2    DetJac Range:   0.0368  to   5.2555 
  Avg. Gradient Time  : 0.2982s  31.10% 
  Avg. Gaussian Time  : 0.5308s  55.35% 
  Avg. Iteration Time : 0.9589s 

real	0m32.877s
user	0m59.688s
sys	0m1.496s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.292308 0.298077
+ echo 'CHUNK 0.292308 0.298077 1'
CHUNK 0.292308 0.298077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.292308 0.298077 1
====================================
         PROGRESS: 0.292308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.410941
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3513.42   GNORM= 328.322
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3583.997     219.954       0.001
   2    4     -3594.773     238.686       1.000
   3    5     -3605.112     101.259       1.000
   4    6     -3611.192      82.153       1.000
   5    7     -3617.817     100.178       1.000
   6    8     -3644.851     271.128       1.000
   7    9     -3669.216     218.389       1.000
   8   10     -3721.964     112.445       1.000
   9   11     -3740.500     162.043       1.000
  10   12     -3752.626     104.408       1.000
  11   13     -3767.662      64.988       1.000
  12   14     -3774.296      99.061       1.000
  13   15     -3781.994      72.846       1.000
  14   16     -3791.376      52.842       1.000
  15   17     -3793.126      68.305       1.000
  16   18     -3794.977      36.744       1.000
  17   19     -3796.493      28.502       1.000
  18   20     -3798.574      47.940       1.000
  19   22     -3799.124      41.535       0.270
  20   23     -3799.731      32.599       1.000
  21   24     -3800.967      21.185       1.000
  22   25     -3801.394      30.524       1.000
  23   26     -3801.858      16.643       1.000
  24   27     -3802.247      16.795       1.000
  25   28     -3802.746      31.333       1.000
  26   29     -3803.126      18.132       1.000
  27   30     -3803.361      14.179       1.000
  28   31     -3803.641      18.926       1.000
  29   32     -3804.189      24.189       1.000
  30   34     -3804.408      14.834       0.452
  31   35     -3804.612      11.968       1.000
  32   36     -3804.753      15.306       1.000
  33   37     -3804.856      12.797       1.000
  34   38     -3804.921       8.993       1.000
  35   39     -3805.019       8.393       1.000
  36   41     -3805.121      16.704       0.343
  37   42     -3805.240      14.961       1.000
  38   43     -3805.379      13.029       1.000
  39   44     -3805.433       7.091       1.000
  40   45     -3805.455       4.247       1.000
  41   46     -3805.484       6.795       1.000
  42   47     -3805.489       5.748       1.000
  43   48     -3805.492       2.919       1.000
  44   49     -3805.494       4.846       1.000
  45   50     -3805.506       4.803       1.000
  46   52     -3805.521       8.093       0.271
  47   53     -3805.539       3.743       1.000
  48   54     -3805.558       6.706       1.000
  49   55     -3805.568       3.664       1.000
  50   57     -3805.573       3.683       0.386
  51   58     -3805.573       2.583       1.000
  52   59     -3805.578       3.967       1.000
  53   60     -3805.584       1.630       1.000
Final RAS Transform: 
0.928798 -0.00214349 0.056034 -1.91605 
0.0347752 0.988569 -0.019591 0.142673 
-0.0494581 0.00653817 1.05605 -0.742376 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2652.84   GNORM= 136.249
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2658.814      73.533       0.001
   2    4     -2661.168      38.939       1.000
   3    5     -2662.198      20.927       1.000
   4    6     -2662.550      18.080       1.000
   5    7     -2664.302      26.459       1.000
   6    8     -2665.290      19.465       1.000
   7    9     -2666.570      36.798       1.000
   8   11     -2667.346      29.665       0.418
   9   12     -2668.693      41.154       1.000
  10   13     -2671.134      32.221       1.000
  11   14     -2673.010      21.479       1.000
  12   15     -2673.400      32.776       1.000
  13   16     -2674.263      12.962       1.000
  14   17     -2674.756      15.621       1.000
  15   18     -2675.054      49.073       1.000
  16   19     -2675.817      24.020       1.000
  17   20     -2676.598      14.158       1.000
  18   21     -2676.774      12.536       1.000
  19   22     -2676.992      10.474       1.000
  20   23     -2677.240       4.943       1.000
  21   24     -2677.373       8.117       1.000
  22   26     -2677.410       5.974       0.493
  23   27     -2677.430       7.618       1.000
  24   28     -2677.461       3.976       1.000
  25   29     -2677.541       4.417       1.000
  26   30     -2677.598      11.076       1.000
  27   31     -2677.683       5.752       1.000
  28   32     -2677.744       8.737       1.000
  29   33     -2677.790       5.644       1.000
  30   34     -2677.816       4.026       1.000
  31   35     -2677.824      12.271       1.000
  32   36     -2677.848       4.489       1.000
  33   37     -2677.873       2.927       1.000
  34   38     -2677.959      15.503       1.000
  35   39     -2678.016      10.552       1.000
  36   40     -2678.075       3.465       1.000
  37   42     -2678.086       3.049       0.286
  38   43     -2678.092       2.911       1.000
  39   44     -2678.107       6.408       1.000
  40   45     -2678.143       3.400       1.000
  41   46     -2678.166       3.599       1.000
  42   48     -2678.176       6.849       0.188
  43   49     -2678.189       2.590       1.000
  44   50     -2678.193       2.293       1.000
  45   52     -2678.202       3.360       0.438
Final RAS Transform: 
0.939403 -0.000805944 0.0491368 -1.59755 
0.046743 0.974896 -0.0590531 0.130746 
-0.0483636 0.014911 1.05975 -0.577556 
0 0 0 1 

Final RAS Transform: 
0.939403 -0.000805944 0.0491368 -1.59755 
0.046743 0.974896 -0.0590531 0.130746 
-0.0483636 0.014911 1.05975 -0.577556 
0 0 0 1 


real	0m10.691s
user	0m18.648s
sys	0m0.592s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.422341
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1113
Level     0,  Iter     1:    Energy =   0.1205
Level     0,  Iter     2:    Energy =   0.1277
Level     0,  Iter     3:    Energy =   0.1325
Level     0,  Iter     4:    Energy =   0.1376
Level     0,  Iter     5:    Energy =   0.1406
Level     0,  Iter     6:    Energy =   0.1412
Level     0,  Iter     7:    Energy =   0.1418
Level     0,  Iter     8:    Energy =   0.1420
Level     0,  Iter     9:    Energy =   0.1426
Level     0,  Iter    10:    Energy =   0.1428
Level     0,  Iter    11:    Energy =   0.1434
Level     0,  Iter    12:    Energy =   0.1438
Level     0,  Iter    13:    Energy =   0.1441
Level     0,  Iter    14:    Energy =   0.1439
Level     0,  Iter    15:    Energy =   0.1444
Level     0,  Iter    16:    Energy =   0.1446
Level     0,  Iter    17:    Energy =   0.1449
Level     0,  Iter    18:    Energy =   0.1447
Level     0,  Iter    19:    Energy =   0.1450
Level     0,  Iter    20:    Energy =   0.1449
Level     0,  Iter    21:    Energy =   0.1453
Level     0,  Iter    22:    Energy =   0.1453
Level     0,  Iter    23:    Energy =   0.1456
Level     0,  Iter    24:    Energy =   0.1452
Level     0,  Iter    25:    Energy =   0.1456
Level     0,  Iter    26:    Energy =   0.1455
Level     0,  Iter    27:    Energy =   0.1458
Level     0,  Iter    28:    Energy =   0.1455
Level     0,  Iter    29:    Energy =   0.1459
Level     0,  Iter    30:    Energy =   0.1456
Level     0,  Iter    31:    Energy =   0.1459
Level     0,  Iter    32:    Energy =   0.1456
Level     0,  Iter    33:    Energy =   0.1460
Level     0,  Iter    34:    Energy =   0.1458
Level     0,  Iter    35:    Energy =   0.1461
Level     0,  Iter    36:    Energy =   0.1458
Level     0,  Iter    37:    Energy =   0.1461
Level     0,  Iter    38:    Energy =   0.1459
Level     0,  Iter    39:    Energy =   0.1462
Level     0,  Iter    40:    Energy =   0.1459
Level     0,  Iter    41:    Energy =   0.1462
Level     0,  Iter    42:    Energy =   0.1459
Level     0,  Iter    43:    Energy =   0.1462
Level     0,  Iter    44:    Energy =   0.1460
Level     0,  Iter    45:    Energy =   0.1463
Level     0,  Iter    46:    Energy =   0.1460
Level     0,  Iter    47:    Energy =   0.1463
Level     0,  Iter    48:    Energy =   0.1461
Level     0,  Iter    49:    Energy =   0.1464
Level     0,  Iter    50:    Energy =   0.1461
Level     0,  Iter    51:    Energy =   0.1464
Level     0,  Iter    52:    Energy =   0.1461
Level     0,  Iter    53:    Energy =   0.1464
Level     0,  Iter    54:    Energy =   0.1461
Level     0,  Iter    55:    Energy =   0.1464
Level     0,  Iter    56:    Energy =   0.1461
Level     0,  Iter    57:    Energy =   0.1465
Level     0,  Iter    58:    Energy =   0.1462
Level     0,  Iter    59:    Energy =   0.1464
END OF LEVEL     0    DetJac Range:   0.2084  to   1.8390 
  Avg. Gradient Time  : 0.0083s  34.63% 
  Avg. Gaussian Time  : 0.0120s  49.71% 
  Avg. Iteration Time : 0.0241s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0975
Level     1,  Iter     1:    Energy =   0.1020
Level     1,  Iter     2:    Energy =   0.1059
Level     1,  Iter     3:    Energy =   0.1096
Level     1,  Iter     4:    Energy =   0.1127
Level     1,  Iter     5:    Energy =   0.1154
Level     1,  Iter     6:    Energy =   0.1170
Level     1,  Iter     7:    Energy =   0.1184
Level     1,  Iter     8:    Energy =   0.1201
Level     1,  Iter     9:    Energy =   0.1216
Level     1,  Iter    10:    Energy =   0.1231
Level     1,  Iter    11:    Energy =   0.1230
Level     1,  Iter    12:    Energy =   0.1233
Level     1,  Iter    13:    Energy =   0.1236
Level     1,  Iter    14:    Energy =   0.1237
Level     1,  Iter    15:    Energy =   0.1241
Level     1,  Iter    16:    Energy =   0.1242
Level     1,  Iter    17:    Energy =   0.1244
Level     1,  Iter    18:    Energy =   0.1245
Level     1,  Iter    19:    Energy =   0.1248
Level     1,  Iter    20:    Energy =   0.1248
Level     1,  Iter    21:    Energy =   0.1252
Level     1,  Iter    22:    Energy =   0.1252
Level     1,  Iter    23:    Energy =   0.1256
Level     1,  Iter    24:    Energy =   0.1255
Level     1,  Iter    25:    Energy =   0.1258
Level     1,  Iter    26:    Energy =   0.1257
Level     1,  Iter    27:    Energy =   0.1259
Level     1,  Iter    28:    Energy =   0.1259
Level     1,  Iter    29:    Energy =   0.1259
Level     1,  Iter    30:    Energy =   0.1260
Level     1,  Iter    31:    Energy =   0.1260
Level     1,  Iter    32:    Energy =   0.1261
Level     1,  Iter    33:    Energy =   0.1261
Level     1,  Iter    34:    Energy =   0.1262
Level     1,  Iter    35:    Energy =   0.1262
Level     1,  Iter    36:    Energy =   0.1263
Level     1,  Iter    37:    Energy =   0.1263
Level     1,  Iter    38:    Energy =   0.1264
Level     1,  Iter    39:    Energy =   0.1264
Level     1,  Iter    40:    Energy =   0.1265
Level     1,  Iter    41:    Energy =   0.1265
Level     1,  Iter    42:    Energy =   0.1266
Level     1,  Iter    43:    Energy =   0.1266
Level     1,  Iter    44:    Energy =   0.1266
Level     1,  Iter    45:    Energy =   0.1267
Level     1,  Iter    46:    Energy =   0.1267
Level     1,  Iter    47:    Energy =   0.1267
Level     1,  Iter    48:    Energy =   0.1268
Level     1,  Iter    49:    Energy =   0.1268
Level     1,  Iter    50:    Energy =   0.1268
Level     1,  Iter    51:    Energy =   0.1269
Level     1,  Iter    52:    Energy =   0.1269
Level     1,  Iter    53:    Energy =   0.1269
Level     1,  Iter    54:    Energy =   0.1270
Level     1,  Iter    55:    Energy =   0.1270
Level     1,  Iter    56:    Energy =   0.1270
Level     1,  Iter    57:    Energy =   0.1271
Level     1,  Iter    58:    Energy =   0.1271
Level     1,  Iter    59:    Energy =   0.1271
END OF LEVEL     1    DetJac Range:   0.1063  to   3.3637 
  Avg. Gradient Time  : 0.0476s  32.81% 
  Avg. Gaussian Time  : 0.0785s  54.20% 
  Avg. Iteration Time : 0.1449s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0689
Level     2,  Iter     2:    Energy =   0.0714
Level     2,  Iter     3:    Energy =   0.0732
Level     2,  Iter     4:    Energy =   0.0747
Level     2,  Iter     5:    Energy =   0.0759
Level     2,  Iter     6:    Energy =   0.0769
Level     2,  Iter     7:    Energy =   0.0776
Level     2,  Iter     8:    Energy =   0.0783
Level     2,  Iter     9:    Energy =   0.0791
Level     2,  Iter    10:    Energy =   0.0799
Level     2,  Iter    11:    Energy =   0.0806
Level     2,  Iter    12:    Energy =   0.0812
Level     2,  Iter    13:    Energy =   0.0819
Level     2,  Iter    14:    Energy =   0.0825
Level     2,  Iter    15:    Energy =   0.0832
Level     2,  Iter    16:    Energy =   0.0838
Level     2,  Iter    17:    Energy =   0.0845
Level     2,  Iter    18:    Energy =   0.0852
Level     2,  Iter    19:    Energy =   0.0858
END OF LEVEL     2    DetJac Range:   0.0505  to   5.1325 
  Avg. Gradient Time  : 0.3357s  30.84% 
  Avg. Gaussian Time  : 0.6035s  55.44% 
  Avg. Iteration Time : 1.0885s 

real	0m37.280s
user	1m8.088s
sys	0m1.552s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298077 0.303846
+ echo 'CHUNK 0.298077 0.303846 1'
CHUNK 0.298077 0.303846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298077 0.303846 1
====================================
         PROGRESS: 0.298077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.628946
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3943.2   GNORM= 590.957
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4011.695     267.044       0.000
   2    4     -4033.507     195.858       1.000
   3    5     -4060.434     158.347       1.000
   4    7     -4127.278     125.683       5.000
   5    8     -4181.552      67.280       1.000
   6    9     -4195.717      96.327       1.000
   7   10     -4208.911     188.302       1.000
   8   11     -4226.943      91.976       1.000
   9   12     -4234.115      52.185       1.000
  10   13     -4237.325      49.824       1.000
  11   14     -4240.412      31.971       1.000
  12   15     -4243.244      29.093       1.000
  13   16     -4245.246      79.345       1.000
  14   17     -4248.210      93.969       1.000
  15   18     -4250.228      61.075       1.000
  16   19     -4251.781      31.469       1.000
  17   20     -4252.289      18.842       1.000
  18   21     -4252.654      23.011       1.000
  19   22     -4253.371      27.926       1.000
  20   23     -4254.006      21.801       1.000
  21   25     -4254.075      19.808       0.222
  22   26     -4254.456      14.178       1.000
  23   27     -4254.634      23.712       1.000
  24   28     -4254.911      21.817       1.000
  25   29     -4255.187      16.790       1.000
  26   30     -4255.291      33.323       1.000
  27   31     -4255.564      17.262       1.000
  28   32     -4255.728      15.040       1.000
  29   34     -4255.815       8.823       0.220
  30   35     -4255.913      11.503       1.000
  31   36     -4256.160      12.853       1.000
  32   38     -4256.439      27.150       0.320
  33   39     -4256.613      19.937       1.000
  34   40     -4256.721      11.015       1.000
  35   41     -4256.804       7.469       1.000
  36   42     -4256.985      17.760       1.000
  37   43     -4257.074      13.426       1.000
  38   44     -4257.122      15.592       1.000
  39   45     -4257.190       3.279       1.000
  40   46     -4257.198       3.005       1.000
  41   48     -4257.211       3.916       0.227
  42   50     -4257.220       6.969       0.366
  43   51     -4257.239       5.763       1.000
  44   52     -4257.244       9.138       1.000
  45   53     -4257.282       7.589       1.000
  46   54     -4257.296       6.727       1.000
  47   55     -4257.307       3.371       1.000
  48   56     -4257.310       2.775       1.000
  49   58     -4257.314       2.409       0.424
  50   59     -4257.316       1.614       1.000
  51   60     -4257.330       1.495       1.000
Final RAS Transform: 
0.945539 0.00373848 0.0706898 -1.28699 
0.0582119 0.984214 -0.00101075 0.725476 
-0.0457848 0.0174718 1.04968 -0.164177 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2874.18   GNORM= 229.709
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2885.149      58.676       0.000
   2    4     -2886.553      45.200       1.000
   3    5     -2888.212      38.379       1.000
   4    6     -2889.108      28.415       1.000
   5    7     -2892.618      27.888       1.000
   6    8     -2893.325      14.214       1.000
   7    9     -2893.867      21.777       1.000
   8   10     -2895.382      48.340       1.000
   9   11     -2897.520      57.067       1.000
  10   13     -2899.228      52.551       0.399
  11   14     -2900.803      75.750       1.000
  12   15     -2901.535      59.802       1.000
  13   16     -2902.396      16.069       1.000
  14   17     -2902.620      11.720       1.000
  15   18     -2903.039      14.723       1.000
  16   19     -2903.957      21.182       1.000
  17   20     -2904.554      21.240       1.000
  18   21     -2904.937      13.232       1.000
  19   22     -2905.116       8.767       1.000
  20   24     -2905.283      12.001       0.510
  21   25     -2905.627      12.259       1.000
  22   27     -2905.923      13.535       0.500
  23   28     -2906.199      12.302       1.000
  24   30     -2906.271       7.993       0.213
  25   31     -2906.294       3.560       1.000
  26   32     -2906.334       3.418       1.000
  27   33     -2906.355       2.769       1.000
  28   34     -2906.378       5.555       1.000
  29   35     -2906.435       5.570       1.000
  30   36     -2906.538       9.290       1.000
  31   37     -2906.544       7.594       1.000
  32   38     -2906.595       6.929       1.000
  33   39     -2906.614       4.174       1.000
  34   40     -2906.627       3.760       1.000
  35   41     -2906.642       4.559       1.000
  36   42     -2906.662       4.612       1.000
  37   43     -2906.690       3.396       1.000
  38   45     -2906.714       3.179       0.279
  39   46     -2906.735       4.575       1.000
  40   47     -2906.803       3.326       1.000
  41   48     -2906.850      11.879       1.000
  42   49     -2906.917       5.537       1.000
  43   50     -2906.937       3.528       1.000
  44   52     -2906.950       3.626       0.364
  45   53     -2906.955       3.620       1.000
  46   54     -2906.957       2.075       1.000
  47   55     -2906.962       1.916       1.000
  48   56     -2906.971       3.018       1.000
  49   57     -2906.985       4.271       1.000
  50   58     -2906.987       4.589       1.000
  51   59     -2906.992       3.107       1.000
  52   61     -2906.999       2.701       0.334
Final RAS Transform: 
0.953703 -0.0027639 0.0381291 -1.36091 
0.0504414 0.977195 -0.010563 0.382894 
-0.0334775 0.022608 1.03047 0.052101 
0 0 0 1 

Final RAS Transform: 
0.953703 -0.0027639 0.0381291 -1.36091 
0.0504414 0.977195 -0.010563 0.382894 
-0.0334775 0.022608 1.03047 0.052101 
0 0 0 1 


real	0m10.524s
user	0m18.360s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.641964
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1258
Level     0,  Iter     1:    Energy =   0.1343
Level     0,  Iter     2:    Energy =   0.1395
Level     0,  Iter     3:    Energy =   0.1433
Level     0,  Iter     4:    Energy =   0.1469
Level     0,  Iter     5:    Energy =   0.1491
Level     0,  Iter     6:    Energy =   0.1500
Level     0,  Iter     7:    Energy =   0.1510
Level     0,  Iter     8:    Energy =   0.1517
Level     0,  Iter     9:    Energy =   0.1526
Level     0,  Iter    10:    Energy =   0.1531
Level     0,  Iter    11:    Energy =   0.1535
Level     0,  Iter    12:    Energy =   0.1538
Level     0,  Iter    13:    Energy =   0.1542
Level     0,  Iter    14:    Energy =   0.1546
Level     0,  Iter    15:    Energy =   0.1544
Level     0,  Iter    16:    Energy =   0.1548
Level     0,  Iter    17:    Energy =   0.1550
Level     0,  Iter    18:    Energy =   0.1552
Level     0,  Iter    19:    Energy =   0.1549
Level     0,  Iter    20:    Energy =   0.1552
Level     0,  Iter    21:    Energy =   0.1552
Level     0,  Iter    22:    Energy =   0.1554
Level     0,  Iter    23:    Energy =   0.1553
Level     0,  Iter    24:    Energy =   0.1555
Level     0,  Iter    25:    Energy =   0.1555
Level     0,  Iter    26:    Energy =   0.1556
Level     0,  Iter    27:    Energy =   0.1556
Level     0,  Iter    28:    Energy =   0.1558
Level     0,  Iter    29:    Energy =   0.1557
Level     0,  Iter    30:    Energy =   0.1558
Level     0,  Iter    31:    Energy =   0.1556
Level     0,  Iter    32:    Energy =   0.1557
Level     0,  Iter    33:    Energy =   0.1557
Level     0,  Iter    34:    Energy =   0.1558
Level     0,  Iter    35:    Energy =   0.1557
Level     0,  Iter    36:    Energy =   0.1558
Level     0,  Iter    37:    Energy =   0.1557
Level     0,  Iter    38:    Energy =   0.1558
Level     0,  Iter    39:    Energy =   0.1558
Level     0,  Iter    40:    Energy =   0.1559
Level     0,  Iter    41:    Energy =   0.1558
Level     0,  Iter    42:    Energy =   0.1559
Level     0,  Iter    43:    Energy =   0.1559
Level     0,  Iter    44:    Energy =   0.1559
Level     0,  Iter    45:    Energy =   0.1559
Level     0,  Iter    46:    Energy =   0.1560
Level     0,  Iter    47:    Energy =   0.1558
Level     0,  Iter    48:    Energy =   0.1559
Level     0,  Iter    49:    Energy =   0.1559
Level     0,  Iter    50:    Energy =   0.1560
Level     0,  Iter    51:    Energy =   0.1558
Level     0,  Iter    52:    Energy =   0.1559
Level     0,  Iter    53:    Energy =   0.1560
Level     0,  Iter    54:    Energy =   0.1561
Level     0,  Iter    55:    Energy =   0.1558
Level     0,  Iter    56:    Energy =   0.1559
Level     0,  Iter    57:    Energy =   0.1559
Level     0,  Iter    58:    Energy =   0.1559
Level     0,  Iter    59:    Energy =   0.1560
END OF LEVEL     0    DetJac Range:   0.4044  to   2.3164 
  Avg. Gradient Time  : 0.0073s  34.61% 
  Avg. Gaussian Time  : 0.0104s  49.55% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1035
Level     1,  Iter     1:    Energy =   0.1091
Level     1,  Iter     2:    Energy =   0.1136
Level     1,  Iter     3:    Energy =   0.1169
Level     1,  Iter     4:    Energy =   0.1194
Level     1,  Iter     5:    Energy =   0.1213
Level     1,  Iter     6:    Energy =   0.1231
Level     1,  Iter     7:    Energy =   0.1247
Level     1,  Iter     8:    Energy =   0.1259
Level     1,  Iter     9:    Energy =   0.1262
Level     1,  Iter    10:    Energy =   0.1268
Level     1,  Iter    11:    Energy =   0.1267
Level     1,  Iter    12:    Energy =   0.1274
Level     1,  Iter    13:    Energy =   0.1275
Level     1,  Iter    14:    Energy =   0.1279
Level     1,  Iter    15:    Energy =   0.1277
Level     1,  Iter    16:    Energy =   0.1282
Level     1,  Iter    17:    Energy =   0.1283
Level     1,  Iter    18:    Energy =   0.1286
Level     1,  Iter    19:    Energy =   0.1284
Level     1,  Iter    20:    Energy =   0.1287
Level     1,  Iter    21:    Energy =   0.1288
Level     1,  Iter    22:    Energy =   0.1290
Level     1,  Iter    23:    Energy =   0.1288
Level     1,  Iter    24:    Energy =   0.1291
Level     1,  Iter    25:    Energy =   0.1291
Level     1,  Iter    26:    Energy =   0.1293
Level     1,  Iter    27:    Energy =   0.1292
Level     1,  Iter    28:    Energy =   0.1295
Level     1,  Iter    29:    Energy =   0.1294
Level     1,  Iter    30:    Energy =   0.1296
Level     1,  Iter    31:    Energy =   0.1295
Level     1,  Iter    32:    Energy =   0.1297
Level     1,  Iter    33:    Energy =   0.1296
Level     1,  Iter    34:    Energy =   0.1298
Level     1,  Iter    35:    Energy =   0.1297
Level     1,  Iter    36:    Energy =   0.1299
Level     1,  Iter    37:    Energy =   0.1298
Level     1,  Iter    38:    Energy =   0.1301
Level     1,  Iter    39:    Energy =   0.1299
Level     1,  Iter    40:    Energy =   0.1302
Level     1,  Iter    41:    Energy =   0.1300
Level     1,  Iter    42:    Energy =   0.1302
Level     1,  Iter    43:    Energy =   0.1301
Level     1,  Iter    44:    Energy =   0.1303
Level     1,  Iter    45:    Energy =   0.1302
Level     1,  Iter    46:    Energy =   0.1304
Level     1,  Iter    47:    Energy =   0.1303
Level     1,  Iter    48:    Energy =   0.1305
Level     1,  Iter    49:    Energy =   0.1303
Level     1,  Iter    50:    Energy =   0.1305
Level     1,  Iter    51:    Energy =   0.1304
Level     1,  Iter    52:    Energy =   0.1306
Level     1,  Iter    53:    Energy =   0.1305
Level     1,  Iter    54:    Energy =   0.1307
Level     1,  Iter    55:    Energy =   0.1305
Level     1,  Iter    56:    Energy =   0.1308
Level     1,  Iter    57:    Energy =   0.1306
Level     1,  Iter    58:    Energy =   0.1308
Level     1,  Iter    59:    Energy =   0.1307
END OF LEVEL     1    DetJac Range:   0.1564  to   3.2712 
  Avg. Gradient Time  : 0.0423s  33.08% 
  Avg. Gaussian Time  : 0.0693s  54.16% 
  Avg. Iteration Time : 0.1280s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0675
Level     2,  Iter     1:    Energy =   0.0702
Level     2,  Iter     2:    Energy =   0.0728
Level     2,  Iter     3:    Energy =   0.0747
Level     2,  Iter     4:    Energy =   0.0768
Level     2,  Iter     5:    Energy =   0.0786
Level     2,  Iter     6:    Energy =   0.0801
Level     2,  Iter     7:    Energy =   0.0814
Level     2,  Iter     8:    Energy =   0.0824
Level     2,  Iter     9:    Energy =   0.0834
Level     2,  Iter    10:    Energy =   0.0843
Level     2,  Iter    11:    Energy =   0.0852
Level     2,  Iter    12:    Energy =   0.0860
Level     2,  Iter    13:    Energy =   0.0868
Level     2,  Iter    14:    Energy =   0.0875
Level     2,  Iter    15:    Energy =   0.0880
Level     2,  Iter    16:    Energy =   0.0883
Level     2,  Iter    17:    Energy =   0.0884
Level     2,  Iter    18:    Energy =   0.0886
Level     2,  Iter    19:    Energy =   0.0888
END OF LEVEL     2    DetJac Range:   0.0662  to   4.5684 
  Avg. Gradient Time  : 0.2941s  30.85% 
  Avg. Gaussian Time  : 0.5298s  55.56% 
  Avg. Iteration Time : 0.9536s 

real	0m32.734s
user	0m59.412s
sys	0m1.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.303846 0.309615
+ echo 'CHUNK 0.303846 0.309615 1'
CHUNK 0.303846 0.309615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.303846 0.309615 1
====================================
         PROGRESS: 0.303846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.456454
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3485.32   GNORM= 317.882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3534.844     310.183       0.001
   2    4     -3564.430     139.419       1.000
   3    5     -3577.228     119.297       1.000
   4    6     -3610.486     169.749       1.000
   5    7     -3647.772     214.142       1.000
   6    8     -3688.005     148.227       1.000
   7    9     -3716.743      97.316       1.000
   8   10     -3729.806     163.412       1.000
   9   11     -3740.318      79.657       1.000
  10   12     -3745.633      75.779       1.000
  11   13     -3750.231      71.634       1.000
  12   14     -3763.458      62.014       1.000
  13   15     -3778.385     100.915       1.000
  14   16     -3779.669      94.770       1.000
  15   17     -3781.630      31.123       1.000
  16   18     -3782.165      30.240       1.000
  17   19     -3783.137      23.546       1.000
  18   20     -3784.269      24.617       1.000
  19   21     -3785.110      13.731       1.000
  20   22     -3786.129      19.642       1.000
  21   23     -3786.411      25.347       1.000
  22   24     -3786.662      11.846       1.000
  23   25     -3786.674      16.556       1.000
  24   26     -3786.742       5.523       1.000
  25   27     -3786.773       4.871       1.000
  26   29     -3786.808       6.732       0.216
  27   30     -3786.840       4.486       1.000
  28   32     -3786.850       8.534       0.219
  29   33     -3786.865       6.201       1.000
  30   35     -3786.888       4.864       0.227
  31   36     -3786.916       9.514       1.000
  32   37     -3786.980       5.492       1.000
  33   39     -3786.993       6.606       0.302
  34   41     -3787.013       9.427       0.423
  35   42     -3787.063       5.434       1.000
  36   44     -3787.113      17.826       0.037
  37   45     -3787.171      22.176       1.000
  38   46     -3787.220      12.773       1.000
  39   47     -3787.267       8.572       1.000
  40   48     -3787.275       3.840       1.000
  41   50     -3787.282       4.935       0.158
  42   51     -3787.283       6.430       1.000
  43   52     -3787.311       5.997       1.000
  44   53     -3787.330       4.135       1.000
  45   54     -3787.336       4.108       1.000
  46   55     -3787.346       7.087       1.000
  47   56     -3787.347       6.576       1.000
  48   57     -3787.358       4.447       1.000
  49   59     -3787.359       3.844       0.339
  50   60     -3787.364       4.680       1.000
  51   61     -3787.371       3.120       1.000
Final RAS Transform: 
0.912987 -0.020053 0.0514671 -2.77486 
0.0084828 1.00237 0.0282899 -0.129491 
-0.018336 0.000538619 1.0431 0.0952743 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2668.37   GNORM= 314.958
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2690.473     116.384       0.000
   2    4     -2696.447      92.931       1.000
   3    5     -2702.862      54.433       1.000
   4    6     -2704.591      33.854       1.000
   5    7     -2708.941      67.200       1.000
   6    8     -2714.245      99.261       1.000
   7    9     -2722.140     130.566       1.000
   8   11     -2724.294      77.598       0.323
   9   12     -2726.361      44.788       1.000
  10   13     -2727.948      19.653       1.000
  11   14     -2728.457      18.783       1.000
  12   15     -2729.459      49.081       1.000
  13   16     -2731.011      36.123       1.000
  14   17     -2736.084      49.043       1.000
  15   19     -2736.790      26.512       0.240
  16   20     -2737.181      20.242       1.000
  17   21     -2737.911      22.034       1.000
  18   22     -2738.648      29.542       1.000
  19   23     -2739.809      24.362       1.000
  20   24     -2740.977      26.776       1.000
  21   25     -2741.281      59.234       1.000
  22   26     -2741.816      31.547       1.000
  23   27     -2742.508      20.734       1.000
  24   28     -2743.089      25.230       1.000
  25   29     -2743.390      39.580       1.000
  26   30     -2743.859      11.828       1.000
  27   31     -2743.929       8.656       1.000
  28   32     -2744.136      22.515       1.000
  29   33     -2744.236      12.872       1.000
  30   34     -2744.418      13.055       1.000
  31   35     -2744.510      10.693       1.000
  32   36     -2744.631      12.841       1.000
  33   37     -2744.798      13.877       1.000
  34   38     -2744.998      12.962       1.000
  35   39     -2745.171       8.579       1.000
  36   41     -2745.228       8.961       0.417
  37   42     -2745.266       4.629       1.000
  38   43     -2745.308       5.649       1.000
  39   44     -2745.414      17.261       1.000
  40   45     -2745.551      17.721       1.000
  41   47     -2746.002      24.654       0.287
  42   49     -2746.077      13.302       0.261
  43   50     -2746.177       5.575       1.000
  44   51     -2746.203       3.638       1.000
  45   52     -2746.234       4.456       1.000
  46   53     -2746.247       9.610       1.000
  47   54     -2746.273       5.458       1.000
  48   55     -2746.295       4.036       1.000
  49   56     -2746.304       8.168       1.000
  50   57     -2746.327       5.288       1.000
  51   58     -2746.353       6.127       1.000
  52   59     -2746.378       4.721       1.000
  53   60     -2746.426       3.291       1.000
Final RAS Transform: 
0.941751 -0.0103353 0.0257915 -1.74711 
0.0239569 0.992893 0.000697486 0.21963 
-0.0171198 0.00431946 1.0263 -0.114362 
0 0 0 1 

Final RAS Transform: 
0.941751 -0.0103353 0.0257915 -1.74711 
0.0239569 0.992893 0.000697486 0.21963 
-0.0171198 0.00431946 1.0263 -0.114362 
0 0 0 1 


real	0m10.704s
user	0m18.700s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.466483
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1096
Level     0,  Iter     1:    Energy =   0.1159
Level     0,  Iter     2:    Energy =   0.1229
Level     0,  Iter     3:    Energy =   0.1276
Level     0,  Iter     4:    Energy =   0.1303
Level     0,  Iter     5:    Energy =   0.1327
Level     0,  Iter     6:    Energy =   0.1339
Level     0,  Iter     7:    Energy =   0.1352
Level     0,  Iter     8:    Energy =   0.1360
Level     0,  Iter     9:    Energy =   0.1368
Level     0,  Iter    10:    Energy =   0.1372
Level     0,  Iter    11:    Energy =   0.1376
Level     0,  Iter    12:    Energy =   0.1379
Level     0,  Iter    13:    Energy =   0.1381
Level     0,  Iter    14:    Energy =   0.1384
Level     0,  Iter    15:    Energy =   0.1385
Level     0,  Iter    16:    Energy =   0.1388
Level     0,  Iter    17:    Energy =   0.1388
Level     0,  Iter    18:    Energy =   0.1390
Level     0,  Iter    19:    Energy =   0.1391
Level     0,  Iter    20:    Energy =   0.1393
Level     0,  Iter    21:    Energy =   0.1393
Level     0,  Iter    22:    Energy =   0.1395
Level     0,  Iter    23:    Energy =   0.1394
Level     0,  Iter    24:    Energy =   0.1396
Level     0,  Iter    25:    Energy =   0.1396
Level     0,  Iter    26:    Energy =   0.1397
Level     0,  Iter    27:    Energy =   0.1397
Level     0,  Iter    28:    Energy =   0.1398
Level     0,  Iter    29:    Energy =   0.1398
Level     0,  Iter    30:    Energy =   0.1400
Level     0,  Iter    31:    Energy =   0.1400
Level     0,  Iter    32:    Energy =   0.1402
Level     0,  Iter    33:    Energy =   0.1402
Level     0,  Iter    34:    Energy =   0.1403
Level     0,  Iter    35:    Energy =   0.1403
Level     0,  Iter    36:    Energy =   0.1404
Level     0,  Iter    37:    Energy =   0.1404
Level     0,  Iter    38:    Energy =   0.1405
Level     0,  Iter    39:    Energy =   0.1404
Level     0,  Iter    40:    Energy =   0.1405
Level     0,  Iter    41:    Energy =   0.1405
Level     0,  Iter    42:    Energy =   0.1406
Level     0,  Iter    43:    Energy =   0.1405
Level     0,  Iter    44:    Energy =   0.1406
Level     0,  Iter    45:    Energy =   0.1406
Level     0,  Iter    46:    Energy =   0.1407
Level     0,  Iter    47:    Energy =   0.1406
Level     0,  Iter    48:    Energy =   0.1408
Level     0,  Iter    49:    Energy =   0.1407
Level     0,  Iter    50:    Energy =   0.1408
Level     0,  Iter    51:    Energy =   0.1408
Level     0,  Iter    52:    Energy =   0.1409
Level     0,  Iter    53:    Energy =   0.1408
Level     0,  Iter    54:    Energy =   0.1410
Level     0,  Iter    55:    Energy =   0.1409
Level     0,  Iter    56:    Energy =   0.1411
Level     0,  Iter    57:    Energy =   0.1410
Level     0,  Iter    58:    Energy =   0.1412
Level     0,  Iter    59:    Energy =   0.1411
END OF LEVEL     0    DetJac Range:   0.3060  to   1.7195 
  Avg. Gradient Time  : 0.0073s  34.56% 
  Avg. Gaussian Time  : 0.0106s  49.84% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0962
Level     1,  Iter     1:    Energy =   0.1019
Level     1,  Iter     2:    Energy =   0.1064
Level     1,  Iter     3:    Energy =   0.1098
Level     1,  Iter     4:    Energy =   0.1127
Level     1,  Iter     5:    Energy =   0.1145
Level     1,  Iter     6:    Energy =   0.1160
Level     1,  Iter     7:    Energy =   0.1178
Level     1,  Iter     8:    Energy =   0.1196
Level     1,  Iter     9:    Energy =   0.1212
Level     1,  Iter    10:    Energy =   0.1221
Level     1,  Iter    11:    Energy =   0.1227
Level     1,  Iter    12:    Energy =   0.1225
Level     1,  Iter    13:    Energy =   0.1231
Level     1,  Iter    14:    Energy =   0.1233
Level     1,  Iter    15:    Energy =   0.1236
Level     1,  Iter    16:    Energy =   0.1235
Level     1,  Iter    17:    Energy =   0.1238
Level     1,  Iter    18:    Energy =   0.1239
Level     1,  Iter    19:    Energy =   0.1241
Level     1,  Iter    20:    Energy =   0.1241
Level     1,  Iter    21:    Energy =   0.1243
Level     1,  Iter    22:    Energy =   0.1243
Level     1,  Iter    23:    Energy =   0.1244
Level     1,  Iter    24:    Energy =   0.1246
Level     1,  Iter    25:    Energy =   0.1248
Level     1,  Iter    26:    Energy =   0.1247
Level     1,  Iter    27:    Energy =   0.1249
Level     1,  Iter    28:    Energy =   0.1249
Level     1,  Iter    29:    Energy =   0.1251
Level     1,  Iter    30:    Energy =   0.1250
Level     1,  Iter    31:    Energy =   0.1252
Level     1,  Iter    32:    Energy =   0.1252
Level     1,  Iter    33:    Energy =   0.1254
Level     1,  Iter    34:    Energy =   0.1254
Level     1,  Iter    35:    Energy =   0.1256
Level     1,  Iter    36:    Energy =   0.1254
Level     1,  Iter    37:    Energy =   0.1257
Level     1,  Iter    38:    Energy =   0.1256
Level     1,  Iter    39:    Energy =   0.1259
Level     1,  Iter    40:    Energy =   0.1257
Level     1,  Iter    41:    Energy =   0.1259
Level     1,  Iter    42:    Energy =   0.1258
Level     1,  Iter    43:    Energy =   0.1261
Level     1,  Iter    44:    Energy =   0.1259
Level     1,  Iter    45:    Energy =   0.1262
Level     1,  Iter    46:    Energy =   0.1260
Level     1,  Iter    47:    Energy =   0.1261
Level     1,  Iter    48:    Energy =   0.1262
Level     1,  Iter    49:    Energy =   0.1263
Level     1,  Iter    50:    Energy =   0.1261
Level     1,  Iter    51:    Energy =   0.1263
Level     1,  Iter    52:    Energy =   0.1262
Level     1,  Iter    53:    Energy =   0.1264
Level     1,  Iter    54:    Energy =   0.1262
Level     1,  Iter    55:    Energy =   0.1264
Level     1,  Iter    56:    Energy =   0.1263
Level     1,  Iter    57:    Energy =   0.1265
Level     1,  Iter    58:    Energy =   0.1264
Level     1,  Iter    59:    Energy =   0.1266
END OF LEVEL     1    DetJac Range:   0.1324  to   2.8918 
  Avg. Gradient Time  : 0.0423s  32.95% 
  Avg. Gaussian Time  : 0.0697s  54.26% 
  Avg. Iteration Time : 0.1284s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0683
Level     2,  Iter     2:    Energy =   0.0711
Level     2,  Iter     3:    Energy =   0.0732
Level     2,  Iter     4:    Energy =   0.0750
Level     2,  Iter     5:    Energy =   0.0766
Level     2,  Iter     6:    Energy =   0.0782
Level     2,  Iter     7:    Energy =   0.0799
Level     2,  Iter     8:    Energy =   0.0813
Level     2,  Iter     9:    Energy =   0.0825
Level     2,  Iter    10:    Energy =   0.0835
Level     2,  Iter    11:    Energy =   0.0842
Level     2,  Iter    12:    Energy =   0.0848
Level     2,  Iter    13:    Energy =   0.0853
Level     2,  Iter    14:    Energy =   0.0858
Level     2,  Iter    15:    Energy =   0.0865
Level     2,  Iter    16:    Energy =   0.0872
Level     2,  Iter    17:    Energy =   0.0878
Level     2,  Iter    18:    Energy =   0.0885
Level     2,  Iter    19:    Energy =   0.0892
END OF LEVEL     2    DetJac Range:   0.0632  to   4.2344 
  Avg. Gradient Time  : 0.2958s  30.94% 
  Avg. Gaussian Time  : 0.5305s  55.49% 
  Avg. Iteration Time : 0.9560s 

real	0m32.812s
user	0m59.648s
sys	0m1.404s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.309615 0.315385
+ echo 'CHUNK 0.309615 0.315385 1'
CHUNK 0.309615 0.315385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.309615 0.315385 1
====================================
         PROGRESS: 0.309615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.459973
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3108.61   GNORM= 435.56
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3163.390     246.785       0.001
   2    4     -3194.539     211.924       1.000
   3    5     -3250.207     115.070       1.000
   4    6     -3282.852     141.416       1.000
   5    7     -3326.521     135.258       1.000
   6    8     -3362.771     267.862       1.000
   7    9     -3410.938     102.014       1.000
   8   10     -3423.152      93.775       1.000
   9   11     -3431.134      68.754       1.000
  10   12     -3440.615      66.921       1.000
  11   14     -3467.497     106.542       0.485
  12   15     -3478.444      49.176       1.000
  13   16     -3480.322      28.158       1.000
  14   17     -3481.257      34.675       1.000
  15   18     -3484.002      50.782       1.000
  16   19     -3487.798      29.514       1.000
  17   20     -3489.242      19.726       1.000
  18   22     -3489.828      15.202       0.489
  19   23     -3490.063      18.812       1.000
  20   24     -3490.217      10.689       1.000
  21   25     -3490.410      18.793       1.000
  22   26     -3490.492       7.885       1.000
  23   27     -3490.555       6.322       1.000
  24   28     -3490.616       6.293       1.000
  25   29     -3490.697       8.663       1.000
  26   30     -3490.842       7.107       1.000
  27   31     -3490.889      16.192       1.000
  28   32     -3490.970       4.785       1.000
  29   33     -3490.992       5.689       1.000
  30   34     -3491.010       5.557       1.000
  31   36     -3491.014       7.137       0.266
  32   37     -3491.029       7.869       1.000
  33   38     -3491.042       8.527       1.000
  34   40     -3491.084       7.492       0.506
  35   41     -3491.101       6.434       1.000
  36   42     -3491.116       5.787       1.000
  37   44     -3491.129       4.822       0.114
  38   46     -3491.210       9.829       5.000
  39   47     -3491.241       6.469       1.000
  40   48     -3491.334       5.411       1.000
  41   49     -3491.381       5.631       1.000
  42   51     -3491.403       5.273       0.515
  43   52     -3491.423       6.260       1.000
  44   53     -3491.455       8.682       1.000
  45   54     -3491.463      13.283       1.000
  46   55     -3491.500       4.833       1.000
  47   56     -3491.510       4.293       1.000
  48   58     -3491.532       6.230       0.107
  49   59     -3491.564       6.264       1.000
  50   60     -3491.594       4.029       1.000
  51   61     -3491.606       9.271       1.000
Final RAS Transform: 
0.912944 -0.0186838 0.053864 -2.48319 
0.0214259 0.997731 0.0163087 0.14772 
-0.0418045 0.00571968 1.07716 -0.0476654 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2384.64   GNORM= 171.664
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2393.665      88.342       0.001
   2    4     -2397.260      66.167       1.000
   3    5     -2402.194      25.322       1.000
   4    6     -2403.766      22.440       1.000
   5    7     -2405.577      32.815       1.000
   6    8     -2407.656      27.498       1.000
   7    9     -2409.422      62.521       1.000
   8   10     -2410.336      53.532       1.000
   9   11     -2411.485      21.480       1.000
  10   12     -2412.408      18.486       1.000
  11   13     -2414.307      24.680       1.000
  12   14     -2415.430      19.903       1.000
  13   15     -2417.552      47.898       1.000
  14   16     -2418.662      24.951       1.000
  15   17     -2419.959      25.057       1.000
  16   18     -2421.677      47.424       1.000
  17   19     -2422.256      15.372       1.000
  18   20     -2422.522       7.505       1.000
  19   21     -2422.603       5.364       1.000
  20   22     -2422.826       7.312       1.000
  21   24     -2423.018      17.142       0.257
  22   25     -2423.129      15.023       1.000
  23   26     -2423.209      11.858       1.000
  24   27     -2423.279      19.816       1.000
  25   28     -2423.398       9.765       1.000
  26   29     -2423.412      13.744       1.000
  27   30     -2423.497       7.025       1.000
  28   31     -2423.582       6.794       1.000
  29   32     -2423.659       7.984       1.000
  30   33     -2423.728       6.764       1.000
  31   34     -2423.754       5.489       1.000
  32   35     -2423.781       4.140       1.000
  33   36     -2423.840       2.124       1.000
  34   38     -2423.862       6.356       0.357
  35   39     -2423.878       5.532       1.000
  36   40     -2423.893       4.046       1.000
  37   41     -2423.903       3.585       1.000
  38   42     -2423.907       4.988       1.000
  39   43     -2423.937       5.750       1.000
  40   44     -2423.940       2.916       1.000
  41   45     -2423.953       3.243       1.000
  42   46     -2423.976       4.303       1.000
  43   48     -2423.978       5.192       0.163
  44   49     -2423.994       4.281       1.000
  45   50     -2424.019       3.742       1.000
  46   51     -2424.020       4.728       1.000
  47   52     -2424.036       3.653       1.000
  48   53     -2424.043       3.820       1.000
  49   54     -2424.067       2.200       1.000
  50   56     -2424.070       2.527       0.512
  51   57     -2424.083       3.845       1.000
  52   58     -2424.085       1.947       1.000
  53   59     -2424.091       2.267       1.000
  54   60     -2424.097       1.711       1.000
  55   61     -2424.101       1.590       1.000
Final RAS Transform: 
0.946276 -0.0136958 0.0578593 -1.28975 
0.0212508 0.993515 0.0139362 0.160877 
-0.034148 0.0117186 1.06951 0.227945 
0 0 0 1 

Final RAS Transform: 
0.946276 -0.0136958 0.0578593 -1.28975 
0.0212508 0.993515 0.0139362 0.160877 
-0.034148 0.0117186 1.06951 0.227945 
0 0 0 1 


real	0m10.378s
user	0m18.060s
sys	0m0.516s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.464247
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0983
Level     0,  Iter     1:    Energy =   0.1055
Level     0,  Iter     2:    Energy =   0.1125
Level     0,  Iter     3:    Energy =   0.1183
Level     0,  Iter     4:    Energy =   0.1229
Level     0,  Iter     5:    Energy =   0.1259
Level     0,  Iter     6:    Energy =   0.1280
Level     0,  Iter     7:    Energy =   0.1284
Level     0,  Iter     8:    Energy =   0.1295
Level     0,  Iter     9:    Energy =   0.1298
Level     0,  Iter    10:    Energy =   0.1306
Level     0,  Iter    11:    Energy =   0.1307
Level     0,  Iter    12:    Energy =   0.1312
Level     0,  Iter    13:    Energy =   0.1315
Level     0,  Iter    14:    Energy =   0.1319
Level     0,  Iter    15:    Energy =   0.1322
Level     0,  Iter    16:    Energy =   0.1325
Level     0,  Iter    17:    Energy =   0.1329
Level     0,  Iter    18:    Energy =   0.1331
Level     0,  Iter    19:    Energy =   0.1336
Level     0,  Iter    20:    Energy =   0.1337
Level     0,  Iter    21:    Energy =   0.1340
Level     0,  Iter    22:    Energy =   0.1342
Level     0,  Iter    23:    Energy =   0.1346
Level     0,  Iter    24:    Energy =   0.1346
Level     0,  Iter    25:    Energy =   0.1350
Level     0,  Iter    26:    Energy =   0.1350
Level     0,  Iter    27:    Energy =   0.1356
Level     0,  Iter    28:    Energy =   0.1357
Level     0,  Iter    29:    Energy =   0.1359
Level     0,  Iter    30:    Energy =   0.1360
Level     0,  Iter    31:    Energy =   0.1364
Level     0,  Iter    32:    Energy =   0.1363
Level     0,  Iter    33:    Energy =   0.1368
Level     0,  Iter    34:    Energy =   0.1367
Level     0,  Iter    35:    Energy =   0.1370
Level     0,  Iter    36:    Energy =   0.1370
Level     0,  Iter    37:    Energy =   0.1374
Level     0,  Iter    38:    Energy =   0.1372
Level     0,  Iter    39:    Energy =   0.1374
Level     0,  Iter    40:    Energy =   0.1374
Level     0,  Iter    41:    Energy =   0.1379
Level     0,  Iter    42:    Energy =   0.1377
Level     0,  Iter    43:    Energy =   0.1377
Level     0,  Iter    44:    Energy =   0.1376
Level     0,  Iter    45:    Energy =   0.1383
Level     0,  Iter    46:    Energy =   0.1380
Level     0,  Iter    47:    Energy =   0.1377
Level     0,  Iter    48:    Energy =   0.1375
Level     0,  Iter    49:    Energy =   0.1378
Level     0,  Iter    50:    Energy =   0.1377
Level     0,  Iter    51:    Energy =   0.1377
Level     0,  Iter    52:    Energy =   0.1377
Level     0,  Iter    53:    Energy =   0.1385
Level     0,  Iter    54:    Energy =   0.1383
Level     0,  Iter    55:    Energy =   0.1380
Level     0,  Iter    56:    Energy =   0.1378
Level     0,  Iter    57:    Energy =   0.1384
Level     0,  Iter    58:    Energy =   0.1382
Level     0,  Iter    59:    Energy =   0.1381
END OF LEVEL     0    DetJac Range:   0.2274  to   2.9523 
  Avg. Gradient Time  : 0.0073s  34.63% 
  Avg. Gaussian Time  : 0.0105s  49.68% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0892
Level     1,  Iter     1:    Energy =   0.0935
Level     1,  Iter     2:    Energy =   0.0980
Level     1,  Iter     3:    Energy =   0.1011
Level     1,  Iter     4:    Energy =   0.1043
Level     1,  Iter     5:    Energy =   0.1068
Level     1,  Iter     6:    Energy =   0.1091
Level     1,  Iter     7:    Energy =   0.1111
Level     1,  Iter     8:    Energy =   0.1120
Level     1,  Iter     9:    Energy =   0.1120
Level     1,  Iter    10:    Energy =   0.1129
Level     1,  Iter    11:    Energy =   0.1131
Level     1,  Iter    12:    Energy =   0.1136
Level     1,  Iter    13:    Energy =   0.1138
Level     1,  Iter    14:    Energy =   0.1141
Level     1,  Iter    15:    Energy =   0.1143
Level     1,  Iter    16:    Energy =   0.1145
Level     1,  Iter    17:    Energy =   0.1146
Level     1,  Iter    18:    Energy =   0.1148
Level     1,  Iter    19:    Energy =   0.1149
Level     1,  Iter    20:    Energy =   0.1151
Level     1,  Iter    21:    Energy =   0.1151
Level     1,  Iter    22:    Energy =   0.1153
Level     1,  Iter    23:    Energy =   0.1153
Level     1,  Iter    24:    Energy =   0.1155
Level     1,  Iter    25:    Energy =   0.1155
Level     1,  Iter    26:    Energy =   0.1157
Level     1,  Iter    27:    Energy =   0.1157
Level     1,  Iter    28:    Energy =   0.1158
Level     1,  Iter    29:    Energy =   0.1158
Level     1,  Iter    30:    Energy =   0.1160
Level     1,  Iter    31:    Energy =   0.1159
Level     1,  Iter    32:    Energy =   0.1161
Level     1,  Iter    33:    Energy =   0.1161
Level     1,  Iter    34:    Energy =   0.1162
Level     1,  Iter    35:    Energy =   0.1162
Level     1,  Iter    36:    Energy =   0.1163
Level     1,  Iter    37:    Energy =   0.1163
Level     1,  Iter    38:    Energy =   0.1164
Level     1,  Iter    39:    Energy =   0.1164
Level     1,  Iter    40:    Energy =   0.1165
Level     1,  Iter    41:    Energy =   0.1165
Level     1,  Iter    42:    Energy =   0.1166
Level     1,  Iter    43:    Energy =   0.1165
Level     1,  Iter    44:    Energy =   0.1167
Level     1,  Iter    45:    Energy =   0.1166
Level     1,  Iter    46:    Energy =   0.1168
Level     1,  Iter    47:    Energy =   0.1167
Level     1,  Iter    48:    Energy =   0.1169
Level     1,  Iter    49:    Energy =   0.1168
Level     1,  Iter    50:    Energy =   0.1169
Level     1,  Iter    51:    Energy =   0.1169
Level     1,  Iter    52:    Energy =   0.1170
Level     1,  Iter    53:    Energy =   0.1170
Level     1,  Iter    54:    Energy =   0.1171
Level     1,  Iter    55:    Energy =   0.1170
Level     1,  Iter    56:    Energy =   0.1171
Level     1,  Iter    57:    Energy =   0.1171
Level     1,  Iter    58:    Energy =   0.1172
Level     1,  Iter    59:    Energy =   0.1172
END OF LEVEL     1    DetJac Range:   0.1824  to   3.9473 
  Avg. Gradient Time  : 0.0422s  32.89% 
  Avg. Gaussian Time  : 0.0697s  54.31% 
  Avg. Iteration Time : 0.1283s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0588
Level     2,  Iter     1:    Energy =   0.0621
Level     2,  Iter     2:    Energy =   0.0647
Level     2,  Iter     3:    Energy =   0.0668
Level     2,  Iter     4:    Energy =   0.0687
Level     2,  Iter     5:    Energy =   0.0705
Level     2,  Iter     6:    Energy =   0.0720
Level     2,  Iter     7:    Energy =   0.0734
Level     2,  Iter     8:    Energy =   0.0746
Level     2,  Iter     9:    Energy =   0.0757
Level     2,  Iter    10:    Energy =   0.0766
Level     2,  Iter    11:    Energy =   0.0775
Level     2,  Iter    12:    Energy =   0.0782
Level     2,  Iter    13:    Energy =   0.0788
Level     2,  Iter    14:    Energy =   0.0793
Level     2,  Iter    15:    Energy =   0.0797
Level     2,  Iter    16:    Energy =   0.0801
Level     2,  Iter    17:    Energy =   0.0804
Level     2,  Iter    18:    Energy =   0.0807
Level     2,  Iter    19:    Energy =   0.0809
END OF LEVEL     2    DetJac Range:   0.1079  to   4.4652 
  Avg. Gradient Time  : 0.2965s  31.00% 
  Avg. Gaussian Time  : 0.5303s  55.43% 
  Avg. Iteration Time : 0.9567s 

real	0m32.814s
user	0m59.704s
sys	0m1.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315385 0.321154
+ echo 'CHUNK 0.315385 0.321154 1'
CHUNK 0.315385 0.321154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315385 0.321154 1
====================================
         PROGRESS: 0.315385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.70117
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3192.93   GNORM= 340.81
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3223.739     191.736       0.001
   2    4     -3238.213     146.684       1.000
   3    5     -3268.958      80.813       1.000
   4    6     -3284.285      98.642       1.000
   5    7     -3334.063     145.441       1.000
   6    8     -3358.524     150.262       1.000
   7    9     -3368.363     224.257       1.000
   8   10     -3381.989     149.078       1.000
   9   11     -3389.472      55.644       1.000
  10   12     -3392.731      48.577       1.000
  11   13     -3403.474      79.061       1.000
  12   14     -3413.886      88.713       1.000
  13   15     -3420.593      50.729       1.000
  14   16     -3421.594      63.619       1.000
  15   17     -3423.421      23.106       1.000
  16   18     -3424.246      20.969       1.000
  17   19     -3425.684      20.578       1.000
  18   21     -3426.840      55.720       0.334
  19   22     -3428.588      27.147       1.000
  20   23     -3429.346      11.745       1.000
  21   25     -3429.435      11.986       0.322
  22   26     -3429.613       7.967       1.000
  23   27     -3429.878      17.948       1.000
  24   28     -3430.044       4.801       1.000
  25   29     -3430.086       4.223       1.000
  26   30     -3430.124      12.287       1.000
  27   31     -3430.175       4.223       1.000
  28   32     -3430.214       4.800       1.000
  29   34     -3430.258       8.083       0.500
  30   35     -3430.275       7.226       1.000
  31   36     -3430.294       7.536       1.000
  32   38     -3430.314       4.139       0.472
  33   39     -3430.330       6.259       1.000
  34   40     -3430.362       3.243       1.000
  35   41     -3430.368       4.374       1.000
  36   42     -3430.371      11.166       1.000
  37   43     -3430.389       3.822       1.000
  38   44     -3430.390       2.938       1.000
  39   45     -3430.395       4.671       1.000
  40   46     -3430.403       2.761       1.000
  41   47     -3430.408       6.055       1.000
Final RAS Transform: 
0.919665 0.014777 0.0809883 -1.71829 
0.00438464 1.01282 0.0395521 0.233668 
0.00155021 0.0155002 1.02506 0.842751 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2396.79   GNORM= 474.155
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2450.942      80.973       0.000
   2    4     -2452.851      39.390       1.000
   3    5     -2453.567      36.189       1.000
   4    6     -2456.611      29.984       1.000
   5    7     -2458.899      42.706       1.000
   6    8     -2459.787      36.278       1.000
   7    9     -2460.722      15.831       1.000
   8   10     -2461.139      21.005       1.000
   9   11     -2461.665      22.451       1.000
  10   12     -2463.201      41.879       1.000
  11   13     -2464.914      29.722       1.000
  12   14     -2466.050      21.681       1.000
  13   15     -2466.542      18.599       1.000
  14   16     -2466.891      17.015       1.000
  15   17     -2468.202      18.585       1.000
  16   19     -2468.763      42.696       0.082
  17   20     -2469.825      29.903       1.000
  18   21     -2470.743      16.034       1.000
  19   22     -2471.103      20.119       1.000
  20   23     -2471.421      16.176       1.000
  21   25     -2471.685       9.047       0.336
  22   26     -2471.779       9.091       1.000
  23   27     -2471.824       6.180       1.000
  24   28     -2471.873       8.175       1.000
  25   29     -2471.977       7.478       1.000
  26   30     -2472.404       8.986       1.000
  27   31     -2472.594      38.733       1.000
  28   32     -2472.932       7.493       1.000
  29   33     -2472.995       7.008       1.000
  30   34     -2473.186      11.512       1.000
  31   35     -2473.267       5.331       1.000
  32   36     -2473.289       5.205       1.000
  33   37     -2473.361      14.873       1.000
  34   38     -2473.461       6.055       1.000
  35   39     -2473.521       4.872       1.000
  36   40     -2473.543       5.512       1.000
  37   41     -2473.580       2.656       1.000
  38   42     -2473.593       5.195       1.000
  39   43     -2473.606       3.772       1.000
  40   45     -2473.610       2.323       0.431
  41   46     -2473.618       3.715       1.000
  42   47     -2473.624       2.778       1.000
  43   48     -2473.651       2.618       1.000
  44   49     -2473.665       3.739       1.000
  45   51     -2473.670       3.984       0.307
  46   52     -2473.685       2.832       1.000
  47   54     -2473.694       3.698       0.262
  48   55     -2473.699       2.583       1.000
  49   57     -2473.717       8.796       0.321
  50   58     -2473.731       6.933       1.000
  51   60     -2473.748       4.682       0.405
Final RAS Transform: 
0.946023 0.0113675 0.0430969 -1.10514 
0.0126667 1.00668 0.0278286 0.283273 
0.00743299 0.017742 1.02059 0.792147 
0 0 0 1 

Final RAS Transform: 
0.946023 0.0113675 0.0430969 -1.10514 
0.0126667 1.00668 0.0278286 0.283273 
0.00743299 0.017742 1.02059 0.792147 
0 0 0 1 


real	0m10.241s
user	0m17.748s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.6972
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0996
Level     0,  Iter     1:    Energy =   0.1073
Level     0,  Iter     2:    Energy =   0.1141
Level     0,  Iter     3:    Energy =   0.1197
Level     0,  Iter     4:    Energy =   0.1245
Level     0,  Iter     5:    Energy =   0.1272
Level     0,  Iter     6:    Energy =   0.1287
Level     0,  Iter     7:    Energy =   0.1300
Level     0,  Iter     8:    Energy =   0.1311
Level     0,  Iter     9:    Energy =   0.1319
Level     0,  Iter    10:    Energy =   0.1325
Level     0,  Iter    11:    Energy =   0.1331
Level     0,  Iter    12:    Energy =   0.1336
Level     0,  Iter    13:    Energy =   0.1340
Level     0,  Iter    14:    Energy =   0.1343
Level     0,  Iter    15:    Energy =   0.1348
Level     0,  Iter    16:    Energy =   0.1350
Level     0,  Iter    17:    Energy =   0.1354
Level     0,  Iter    18:    Energy =   0.1355
Level     0,  Iter    19:    Energy =   0.1358
Level     0,  Iter    20:    Energy =   0.1359
Level     0,  Iter    21:    Energy =   0.1362
Level     0,  Iter    22:    Energy =   0.1361
Level     0,  Iter    23:    Energy =   0.1364
Level     0,  Iter    24:    Energy =   0.1364
Level     0,  Iter    25:    Energy =   0.1366
Level     0,  Iter    26:    Energy =   0.1366
Level     0,  Iter    27:    Energy =   0.1368
Level     0,  Iter    28:    Energy =   0.1367
Level     0,  Iter    29:    Energy =   0.1370
Level     0,  Iter    30:    Energy =   0.1369
Level     0,  Iter    31:    Energy =   0.1372
Level     0,  Iter    32:    Energy =   0.1371
Level     0,  Iter    33:    Energy =   0.1373
Level     0,  Iter    34:    Energy =   0.1372
Level     0,  Iter    35:    Energy =   0.1374
Level     0,  Iter    36:    Energy =   0.1372
Level     0,  Iter    37:    Energy =   0.1374
Level     0,  Iter    38:    Energy =   0.1370
Level     0,  Iter    39:    Energy =   0.1373
Level     0,  Iter    40:    Energy =   0.1371
Level     0,  Iter    41:    Energy =   0.1371
Level     0,  Iter    42:    Energy =   0.1370
Level     0,  Iter    43:    Energy =   0.1370
Level     0,  Iter    44:    Energy =   0.1369
Level     0,  Iter    45:    Energy =   0.1370
Level     0,  Iter    46:    Energy =   0.1369
Level     0,  Iter    47:    Energy =   0.1370
Level     0,  Iter    48:    Energy =   0.1369
Level     0,  Iter    49:    Energy =   0.1371
Level     0,  Iter    50:    Energy =   0.1369
Level     0,  Iter    51:    Energy =   0.1371
Level     0,  Iter    52:    Energy =   0.1370
Level     0,  Iter    53:    Energy =   0.1371
Level     0,  Iter    54:    Energy =   0.1370
Level     0,  Iter    55:    Energy =   0.1372
Level     0,  Iter    56:    Energy =   0.1371
Level     0,  Iter    57:    Energy =   0.1373
Level     0,  Iter    58:    Energy =   0.1373
Level     0,  Iter    59:    Energy =   0.1375
END OF LEVEL     0    DetJac Range:   0.1846  to   2.4561 
  Avg. Gradient Time  : 0.0083s  34.43% 
  Avg. Gaussian Time  : 0.0121s  50.01% 
  Avg. Iteration Time : 0.0242s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0877
Level     1,  Iter     1:    Energy =   0.0932
Level     1,  Iter     2:    Energy =   0.0971
Level     1,  Iter     3:    Energy =   0.1006
Level     1,  Iter     4:    Energy =   0.1044
Level     1,  Iter     5:    Energy =   0.1070
Level     1,  Iter     6:    Energy =   0.1086
Level     1,  Iter     7:    Energy =   0.1104
Level     1,  Iter     8:    Energy =   0.1123
Level     1,  Iter     9:    Energy =   0.1138
Level     1,  Iter    10:    Energy =   0.1149
Level     1,  Iter    11:    Energy =   0.1161
Level     1,  Iter    12:    Energy =   0.1167
Level     1,  Iter    13:    Energy =   0.1173
Level     1,  Iter    14:    Energy =   0.1171
Level     1,  Iter    15:    Energy =   0.1180
Level     1,  Iter    16:    Energy =   0.1187
Level     1,  Iter    17:    Energy =   0.1195
Level     1,  Iter    18:    Energy =   0.1192
Level     1,  Iter    19:    Energy =   0.1192
Level     1,  Iter    20:    Energy =   0.1194
Level     1,  Iter    21:    Energy =   0.1191
Level     1,  Iter    22:    Energy =   0.1193
Level     1,  Iter    23:    Energy =   0.1196
Level     1,  Iter    24:    Energy =   0.1193
Level     1,  Iter    25:    Energy =   0.1198
Level     1,  Iter    26:    Energy =   0.1198
Level     1,  Iter    27:    Energy =   0.1196
Level     1,  Iter    28:    Energy =   0.1200
Level     1,  Iter    29:    Energy =   0.1197
Level     1,  Iter    30:    Energy =   0.1198
Level     1,  Iter    31:    Energy =   0.1201
Level     1,  Iter    32:    Energy =   0.1199
Level     1,  Iter    33:    Energy =   0.1201
Level     1,  Iter    34:    Energy =   0.1202
Level     1,  Iter    35:    Energy =   0.1199
Level     1,  Iter    36:    Energy =   0.1200
Level     1,  Iter    37:    Energy =   0.1202
Level     1,  Iter    38:    Energy =   0.1201
Level     1,  Iter    39:    Energy =   0.1202
Level     1,  Iter    40:    Energy =   0.1203
Level     1,  Iter    41:    Energy =   0.1201
Level     1,  Iter    42:    Energy =   0.1203
Level     1,  Iter    43:    Energy =   0.1202
Level     1,  Iter    44:    Energy =   0.1203
Level     1,  Iter    45:    Energy =   0.1203
Level     1,  Iter    46:    Energy =   0.1203
Level     1,  Iter    47:    Energy =   0.1205
Level     1,  Iter    48:    Energy =   0.1205
Level     1,  Iter    49:    Energy =   0.1204
Level     1,  Iter    50:    Energy =   0.1205
Level     1,  Iter    51:    Energy =   0.1205
Level     1,  Iter    52:    Energy =   0.1205
Level     1,  Iter    53:    Energy =   0.1206
Level     1,  Iter    54:    Energy =   0.1206
Level     1,  Iter    55:    Energy =   0.1206
Level     1,  Iter    56:    Energy =   0.1207
Level     1,  Iter    57:    Energy =   0.1207
Level     1,  Iter    58:    Energy =   0.1207
Level     1,  Iter    59:    Energy =   0.1210
END OF LEVEL     1    DetJac Range:   0.1350  to   3.2357 
  Avg. Gradient Time  : 0.0479s  32.89% 
  Avg. Gaussian Time  : 0.0787s  54.06% 
  Avg. Iteration Time : 0.1455s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0618
Level     2,  Iter     1:    Energy =   0.0643
Level     2,  Iter     2:    Energy =   0.0667
Level     2,  Iter     3:    Energy =   0.0687
Level     2,  Iter     4:    Energy =   0.0707
Level     2,  Iter     5:    Energy =   0.0724
Level     2,  Iter     6:    Energy =   0.0740
Level     2,  Iter     7:    Energy =   0.0753
Level     2,  Iter     8:    Energy =   0.0764
Level     2,  Iter     9:    Energy =   0.0772
Level     2,  Iter    10:    Energy =   0.0780
Level     2,  Iter    11:    Energy =   0.0787
Level     2,  Iter    12:    Energy =   0.0793
Level     2,  Iter    13:    Energy =   0.0799
Level     2,  Iter    14:    Energy =   0.0805
Level     2,  Iter    15:    Energy =   0.0811
Level     2,  Iter    16:    Energy =   0.0817
Level     2,  Iter    17:    Energy =   0.0821
Level     2,  Iter    18:    Energy =   0.0825
Level     2,  Iter    19:    Energy =   0.0829
END OF LEVEL     2    DetJac Range:   0.0377  to   4.1779 
  Avg. Gradient Time  : 0.3370s  30.90% 
  Avg. Gaussian Time  : 0.6035s  55.33% 
  Avg. Iteration Time : 1.0907s 

real	0m37.420s
user	1m8.208s
sys	0m1.604s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.321154 0.326923
+ echo 'CHUNK 0.321154 0.326923 1'
CHUNK 0.321154 0.326923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.321154 0.326923 1
====================================
         PROGRESS: 0.321154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.593068
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3685.45   GNORM= 614.492
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3761.939     270.394       0.000
   2    4     -3789.628     222.401       1.000
   3    5     -3828.842     114.655       1.000
   4    6     -3842.400      99.062       1.000
   5    7     -3887.062     114.312       1.000
   6    8     -3910.621     184.092       1.000
   7    9     -3927.299     124.146       1.000
   8   10     -3947.165      62.965       1.000
   9   11     -3953.900     102.772       1.000
  10   12     -3958.287      69.864       1.000
  11   13     -3961.386      49.366       1.000
  12   14     -3967.308      57.221       1.000
  13   15     -3974.599      72.912       1.000
  14   16     -3976.977      47.655       1.000
  15   17     -3978.293      20.739       1.000
  16   18     -3978.971      25.311       1.000
  17   19     -3980.010      55.789       1.000
  18   20     -3980.966      53.823       1.000
  19   21     -3982.311      20.031       1.000
  20   22     -3982.716      12.890       1.000
  21   23     -3982.883      11.511       1.000
  22   25     -3983.047      21.748       0.203
  23   26     -3983.157      17.874       1.000
  24   28     -3983.323      11.699       0.467
  25   29     -3983.634      18.693       1.000
  26   31     -3984.329      21.766       5.000
  27   32     -3984.523      10.138       1.000
  28   33     -3984.690      17.740       1.000
  29   34     -3984.963      26.143       1.000
  30   35     -3985.257      18.523       1.000
  31   37     -3985.509      18.324       0.439
  32   38     -3985.606       8.244       1.000
  33   39     -3985.681       7.621       1.000
  34   41     -3985.710      17.567       0.361
  35   42     -3985.745       7.340       1.000
  36   43     -3985.757       3.623       1.000
Final RAS Transform: 
0.933928 -0.00442439 0.0249549 -1.9278 
-0.0323672 0.997234 0.0361415 -1.14364 
-0.0177976 -0.00183608 1.03012 -0.0125432 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2795.49   GNORM= 281.382
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2812.482      79.812       0.000
   2    4     -2814.905      50.633       1.000
   3    5     -2816.260      29.375       1.000
   4    7     -2818.777      29.452       5.000
   5    8     -2822.165      19.022       1.000
   6    9     -2823.045      28.849       1.000
   7   10     -2823.612      20.238       1.000
   8   11     -2824.250      22.687       1.000
   9   12     -2825.062      18.040       1.000
  10   13     -2825.444      18.100       1.000
  11   14     -2825.710      10.096       1.000
  12   15     -2825.915      15.706       1.000
  13   16     -2826.246      22.716       1.000
  14   17     -2826.825      15.534       1.000
  15   18     -2827.443      11.518       1.000
  16   19     -2827.817      18.368       1.000
  17   20     -2828.234      21.032       1.000
  18   21     -2828.446       8.657       1.000
  19   22     -2828.534       6.623       1.000
  20   23     -2828.613       7.345       1.000
  21   24     -2828.618       9.874       1.000
  22   25     -2828.788       9.005       1.000
  23   26     -2828.860      13.082       1.000
  24   27     -2828.953       8.070       1.000
  25   28     -2829.045       8.570       1.000
  26   29     -2829.086       4.890       1.000
  27   30     -2829.130       4.652       1.000
  28   31     -2829.246       6.172       1.000
  29   33     -2829.313      12.960       0.369
  30   34     -2829.447       6.615       1.000
  31   35     -2829.536       5.655       1.000
  32   37     -2829.553       3.507       0.130
  33   38     -2829.568       1.663       1.000
  34   39     -2829.570       2.844       1.000
  35   40     -2829.581       2.237       1.000
  36   42     -2829.587       2.633       0.501
  37   43     -2829.602       2.255       1.000
  38   44     -2829.635       2.874       1.000
  39   46     -2829.641       2.935       0.410
  40   48     -2829.654       4.462       0.397
  41   50     -2829.657       3.980       0.232
  42   51     -2829.664       1.479       1.000
  43   52     -2829.665       1.780       1.000
  44   53     -2829.665       1.054       1.000
Final RAS Transform: 
0.944319 -0.00902263 0.0197875 -1.68668 
-0.0260179 0.993989 0.0200743 -1.1202 
-0.00799555 -0.00252987 1.011 0.0413333 
0 0 0 1 

Final RAS Transform: 
0.944319 -0.00902263 0.0197875 -1.68668 
-0.0260179 0.993989 0.0200743 -1.1202 
-0.00799555 -0.00252987 1.011 0.0413333 
0 0 0 1 


real	0m9.602s
user	0m16.704s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.593157
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1172
Level     0,  Iter     1:    Energy =   0.1252
Level     0,  Iter     2:    Energy =   0.1324
Level     0,  Iter     3:    Energy =   0.1378
Level     0,  Iter     4:    Energy =   0.1418
Level     0,  Iter     5:    Energy =   0.1431
Level     0,  Iter     6:    Energy =   0.1441
Level     0,  Iter     7:    Energy =   0.1449
Level     0,  Iter     8:    Energy =   0.1456
Level     0,  Iter     9:    Energy =   0.1461
Level     0,  Iter    10:    Energy =   0.1466
Level     0,  Iter    11:    Energy =   0.1469
Level     0,  Iter    12:    Energy =   0.1473
Level     0,  Iter    13:    Energy =   0.1477
Level     0,  Iter    14:    Energy =   0.1480
Level     0,  Iter    15:    Energy =   0.1481
Level     0,  Iter    16:    Energy =   0.1485
Level     0,  Iter    17:    Energy =   0.1487
Level     0,  Iter    18:    Energy =   0.1489
Level     0,  Iter    19:    Energy =   0.1490
Level     0,  Iter    20:    Energy =   0.1493
Level     0,  Iter    21:    Energy =   0.1493
Level     0,  Iter    22:    Energy =   0.1496
Level     0,  Iter    23:    Energy =   0.1496
Level     0,  Iter    24:    Energy =   0.1499
Level     0,  Iter    25:    Energy =   0.1498
Level     0,  Iter    26:    Energy =   0.1501
Level     0,  Iter    27:    Energy =   0.1500
Level     0,  Iter    28:    Energy =   0.1503
Level     0,  Iter    29:    Energy =   0.1502
Level     0,  Iter    30:    Energy =   0.1504
Level     0,  Iter    31:    Energy =   0.1503
Level     0,  Iter    32:    Energy =   0.1506
Level     0,  Iter    33:    Energy =   0.1505
Level     0,  Iter    34:    Energy =   0.1507
Level     0,  Iter    35:    Energy =   0.1505
Level     0,  Iter    36:    Energy =   0.1508
Level     0,  Iter    37:    Energy =   0.1507
Level     0,  Iter    38:    Energy =   0.1508
Level     0,  Iter    39:    Energy =   0.1506
Level     0,  Iter    40:    Energy =   0.1509
Level     0,  Iter    41:    Energy =   0.1507
Level     0,  Iter    42:    Energy =   0.1509
Level     0,  Iter    43:    Energy =   0.1507
Level     0,  Iter    44:    Energy =   0.1510
Level     0,  Iter    45:    Energy =   0.1508
Level     0,  Iter    46:    Energy =   0.1510
Level     0,  Iter    47:    Energy =   0.1508
Level     0,  Iter    48:    Energy =   0.1511
Level     0,  Iter    49:    Energy =   0.1509
Level     0,  Iter    50:    Energy =   0.1511
Level     0,  Iter    51:    Energy =   0.1509
Level     0,  Iter    52:    Energy =   0.1511
Level     0,  Iter    53:    Energy =   0.1510
Level     0,  Iter    54:    Energy =   0.1512
Level     0,  Iter    55:    Energy =   0.1510
Level     0,  Iter    56:    Energy =   0.1512
Level     0,  Iter    57:    Energy =   0.1511
Level     0,  Iter    58:    Energy =   0.1513
Level     0,  Iter    59:    Energy =   0.1511
END OF LEVEL     0    DetJac Range:   0.2982  to   2.2270 
  Avg. Gradient Time  : 0.0074s  34.42% 
  Avg. Gaussian Time  : 0.0107s  50.01% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1025
Level     1,  Iter     1:    Energy =   0.1081
Level     1,  Iter     2:    Energy =   0.1121
Level     1,  Iter     3:    Energy =   0.1153
Level     1,  Iter     4:    Energy =   0.1182
Level     1,  Iter     5:    Energy =   0.1206
Level     1,  Iter     6:    Energy =   0.1221
Level     1,  Iter     7:    Energy =   0.1230
Level     1,  Iter     8:    Energy =   0.1233
Level     1,  Iter     9:    Energy =   0.1241
Level     1,  Iter    10:    Energy =   0.1244
Level     1,  Iter    11:    Energy =   0.1251
Level     1,  Iter    12:    Energy =   0.1252
Level     1,  Iter    13:    Energy =   0.1258
Level     1,  Iter    14:    Energy =   0.1259
Level     1,  Iter    15:    Energy =   0.1264
Level     1,  Iter    16:    Energy =   0.1264
Level     1,  Iter    17:    Energy =   0.1268
Level     1,  Iter    18:    Energy =   0.1268
Level     1,  Iter    19:    Energy =   0.1272
Level     1,  Iter    20:    Energy =   0.1272
Level     1,  Iter    21:    Energy =   0.1276
Level     1,  Iter    22:    Energy =   0.1275
Level     1,  Iter    23:    Energy =   0.1279
Level     1,  Iter    24:    Energy =   0.1278
Level     1,  Iter    25:    Energy =   0.1282
Level     1,  Iter    26:    Energy =   0.1281
Level     1,  Iter    27:    Energy =   0.1285
Level     1,  Iter    28:    Energy =   0.1283
Level     1,  Iter    29:    Energy =   0.1288
Level     1,  Iter    30:    Energy =   0.1287
Level     1,  Iter    31:    Energy =   0.1290
Level     1,  Iter    32:    Energy =   0.1288
Level     1,  Iter    33:    Energy =   0.1293
Level     1,  Iter    34:    Energy =   0.1291
Level     1,  Iter    35:    Energy =   0.1295
Level     1,  Iter    36:    Energy =   0.1293
Level     1,  Iter    37:    Energy =   0.1297
Level     1,  Iter    38:    Energy =   0.1295
Level     1,  Iter    39:    Energy =   0.1298
Level     1,  Iter    40:    Energy =   0.1296
Level     1,  Iter    41:    Energy =   0.1299
Level     1,  Iter    42:    Energy =   0.1298
Level     1,  Iter    43:    Energy =   0.1300
Level     1,  Iter    44:    Energy =   0.1298
Level     1,  Iter    45:    Energy =   0.1300
Level     1,  Iter    46:    Energy =   0.1299
Level     1,  Iter    47:    Energy =   0.1301
Level     1,  Iter    48:    Energy =   0.1299
Level     1,  Iter    49:    Energy =   0.1302
Level     1,  Iter    50:    Energy =   0.1300
Level     1,  Iter    51:    Energy =   0.1303
Level     1,  Iter    52:    Energy =   0.1301
Level     1,  Iter    53:    Energy =   0.1304
Level     1,  Iter    54:    Energy =   0.1302
Level     1,  Iter    55:    Energy =   0.1304
Level     1,  Iter    56:    Energy =   0.1302
Level     1,  Iter    57:    Energy =   0.1305
Level     1,  Iter    58:    Energy =   0.1303
Level     1,  Iter    59:    Energy =   0.1305
END OF LEVEL     1    DetJac Range:   0.1223  to   3.4806 
  Avg. Gradient Time  : 0.0428s  33.23% 
  Avg. Gaussian Time  : 0.0697s  54.07% 
  Avg. Iteration Time : 0.1289s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0660
Level     2,  Iter     1:    Energy =   0.0686
Level     2,  Iter     2:    Energy =   0.0707
Level     2,  Iter     3:    Energy =   0.0726
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0765
Level     2,  Iter     6:    Energy =   0.0782
Level     2,  Iter     7:    Energy =   0.0796
Level     2,  Iter     8:    Energy =   0.0805
Level     2,  Iter     9:    Energy =   0.0816
Level     2,  Iter    10:    Energy =   0.0826
Level     2,  Iter    11:    Energy =   0.0836
Level     2,  Iter    12:    Energy =   0.0847
Level     2,  Iter    13:    Energy =   0.0855
Level     2,  Iter    14:    Energy =   0.0863
Level     2,  Iter    15:    Energy =   0.0868
Level     2,  Iter    16:    Energy =   0.0871
Level     2,  Iter    17:    Energy =   0.0874
Level     2,  Iter    18:    Energy =   0.0880
Level     2,  Iter    19:    Energy =   0.0885
END OF LEVEL     2    DetJac Range:   0.0674  to   4.8367 
  Avg. Gradient Time  : 0.2961s  30.98% 
  Avg. Gaussian Time  : 0.5302s  55.47% 
  Avg. Iteration Time : 0.9558s 

real	0m32.853s
user	0m59.660s
sys	0m1.480s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.326923 0.332692
+ echo 'CHUNK 0.326923 0.332692 1'
CHUNK 0.326923 0.332692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.326923 0.332692 1
====================================
         PROGRESS: 0.326923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.784759
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3695.5   GNORM= 813.38
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3841.314     367.205       0.000
   2    4     -3881.529     251.793       1.000
   3    5     -3945.508     128.070       1.000
   4    6     -3971.301     131.691       1.000
   5    7     -4005.021     131.447       1.000
   6    8     -4053.468     129.069       1.000
   7   10     -4062.869     111.538       0.377
   8   11     -4073.464      70.908       1.000
   9   12     -4079.647     176.967       1.000
  10   13     -4091.346      83.529       1.000
  11   14     -4102.607      53.115       1.000
  12   15     -4109.788      40.644       1.000
  13   17     -4112.719      79.395       0.321
  14   18     -4117.371      38.885       1.000
  15   19     -4119.397      35.823       1.000
  16   20     -4120.738      30.683       1.000
  17   21     -4122.290      51.768       1.000
  18   22     -4123.985      28.696       1.000
  19   23     -4124.949      27.778       1.000
  20   24     -4125.716      21.782       1.000
  21   25     -4125.946      17.180       1.000
  22   26     -4126.115      10.222       1.000
  23   27     -4126.326      14.783       1.000
  24   28     -4126.532       9.754       1.000
  25   29     -4126.697       9.657       1.000
  26   30     -4126.975      27.761       1.000
  27   31     -4127.207      28.852       1.000
  28   32     -4127.399       6.628       1.000
  29   33     -4127.526      13.526       1.000
  30   34     -4127.631      16.921       1.000
  31   36     -4127.688      17.766       0.104
  32   38     -4127.728      21.362       0.394
  33   39     -4127.802       8.905       1.000
  34   41     -4127.813       3.055       0.420
  35   42     -4127.820       3.163       1.000
  36   43     -4127.825       7.058       1.000
  37   44     -4127.829       4.551       1.000
Final RAS Transform: 
0.957809 -0.00716919 0.0459583 -1.12707 
0.0530494 0.996756 0.0351927 0.739571 
-0.04506 0.00857304 1.03442 -0.141064 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2815.12   GNORM= 163.999
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2822.344      61.977       0.000
   2    4     -2823.855      30.932       1.000
   3    5     -2824.578      22.188       1.000
   4    6     -2825.703      28.690       1.000
   5    7     -2826.870      47.117       1.000
   6    8     -2828.637      49.698       1.000
   7   10     -2830.586      68.817       0.376
   8   11     -2832.459      23.655       1.000
   9   12     -2833.070      25.725       1.000
  10   13     -2836.002      34.536       1.000
  11   14     -2840.289      46.349       1.000
  12   16     -2842.087      28.185       0.386
  13   17     -2842.809      13.974       1.000
  14   18     -2842.883      26.465       1.000
  15   19     -2843.036      10.463       1.000
  16   20     -2843.090       8.198       1.000
  17   21     -2843.157       9.502       1.000
  18   22     -2843.389      15.182       1.000
  19   24     -2843.500      18.088       0.257
  20   25     -2843.622      10.162       1.000
  21   26     -2843.802       8.281       1.000
  22   27     -2843.942      18.649       1.000
  23   28     -2844.026       5.854       1.000
  24   29     -2844.074       4.379       1.000
  25   30     -2844.178       6.639       1.000
  26   31     -2844.275       7.883       1.000
  27   33     -2844.311       6.902       0.329
  28   34     -2844.348       5.606       1.000
  29   35     -2844.366       5.437       1.000
  30   36     -2844.434      14.758       1.000
  31   37     -2844.512       7.749       1.000
  32   38     -2844.561       6.021       1.000
  33   39     -2844.566       8.800       1.000
  34   40     -2844.601       6.374       1.000
  35   41     -2844.613       7.185       1.000
  36   42     -2844.640       4.675       1.000
  37   43     -2844.711       5.809       1.000
  38   44     -2844.754       7.275       1.000
  39   45     -2844.771       2.727       1.000
  40   46     -2844.786       3.799       1.000
  41   47     -2844.805       5.895       1.000
  42   48     -2844.826       8.735       1.000
  43   49     -2844.846       4.183       1.000
  44   50     -2844.847       1.692       1.000
  45   52     -2844.847       1.812       0.274
  46   53     -2844.854       1.226       1.000
Final RAS Transform: 
0.950987 -0.0156136 0.0156858 -1.58429 
0.0464882 0.991862 0.0267248 0.438773 
-0.030006 0.00701215 1.02063 0.103043 
0 0 0 1 

Final RAS Transform: 
0.950987 -0.0156136 0.0156858 -1.58429 
0.0464882 0.991862 0.0267248 0.438773 
-0.030006 0.00701215 1.02063 0.103043 
0 0 0 1 


real	0m10.379s
user	0m18.100s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.800192
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1202
Level     0,  Iter     1:    Energy =   0.1288
Level     0,  Iter     2:    Energy =   0.1375
Level     0,  Iter     3:    Energy =   0.1429
Level     0,  Iter     4:    Energy =   0.1469
Level     0,  Iter     5:    Energy =   0.1496
Level     0,  Iter     6:    Energy =   0.1520
Level     0,  Iter     7:    Energy =   0.1540
Level     0,  Iter     8:    Energy =   0.1560
Level     0,  Iter     9:    Energy =   0.1565
Level     0,  Iter    10:    Energy =   0.1569
Level     0,  Iter    11:    Energy =   0.1570
Level     0,  Iter    12:    Energy =   0.1572
Level     0,  Iter    13:    Energy =   0.1572
Level     0,  Iter    14:    Energy =   0.1574
Level     0,  Iter    15:    Energy =   0.1572
Level     0,  Iter    16:    Energy =   0.1575
Level     0,  Iter    17:    Energy =   0.1573
Level     0,  Iter    18:    Energy =   0.1576
Level     0,  Iter    19:    Energy =   0.1574
Level     0,  Iter    20:    Energy =   0.1578
Level     0,  Iter    21:    Energy =   0.1575
Level     0,  Iter    22:    Energy =   0.1579
Level     0,  Iter    23:    Energy =   0.1576
Level     0,  Iter    24:    Energy =   0.1580
Level     0,  Iter    25:    Energy =   0.1577
Level     0,  Iter    26:    Energy =   0.1581
Level     0,  Iter    27:    Energy =   0.1577
Level     0,  Iter    28:    Energy =   0.1582
Level     0,  Iter    29:    Energy =   0.1578
Level     0,  Iter    30:    Energy =   0.1583
Level     0,  Iter    31:    Energy =   0.1580
Level     0,  Iter    32:    Energy =   0.1583
Level     0,  Iter    33:    Energy =   0.1580
Level     0,  Iter    34:    Energy =   0.1583
Level     0,  Iter    35:    Energy =   0.1580
Level     0,  Iter    36:    Energy =   0.1584
Level     0,  Iter    37:    Energy =   0.1580
Level     0,  Iter    38:    Energy =   0.1584
Level     0,  Iter    39:    Energy =   0.1581
Level     0,  Iter    40:    Energy =   0.1583
Level     0,  Iter    41:    Energy =   0.1581
Level     0,  Iter    42:    Energy =   0.1583
Level     0,  Iter    43:    Energy =   0.1581
Level     0,  Iter    44:    Energy =   0.1583
Level     0,  Iter    45:    Energy =   0.1581
Level     0,  Iter    46:    Energy =   0.1583
Level     0,  Iter    47:    Energy =   0.1582
Level     0,  Iter    48:    Energy =   0.1583
Level     0,  Iter    49:    Energy =   0.1582
Level     0,  Iter    50:    Energy =   0.1583
Level     0,  Iter    51:    Energy =   0.1582
Level     0,  Iter    52:    Energy =   0.1583
Level     0,  Iter    53:    Energy =   0.1582
Level     0,  Iter    54:    Energy =   0.1583
Level     0,  Iter    55:    Energy =   0.1582
Level     0,  Iter    56:    Energy =   0.1584
Level     0,  Iter    57:    Energy =   0.1583
Level     0,  Iter    58:    Energy =   0.1584
Level     0,  Iter    59:    Energy =   0.1583
END OF LEVEL     0    DetJac Range:   0.4391  to   2.0921 
  Avg. Gradient Time  : 0.0074s  34.59% 
  Avg. Gaussian Time  : 0.0107s  49.83% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1076
Level     1,  Iter     1:    Energy =   0.1129
Level     1,  Iter     2:    Energy =   0.1178
Level     1,  Iter     3:    Energy =   0.1216
Level     1,  Iter     4:    Energy =   0.1242
Level     1,  Iter     5:    Energy =   0.1266
Level     1,  Iter     6:    Energy =   0.1286
Level     1,  Iter     7:    Energy =   0.1303
Level     1,  Iter     8:    Energy =   0.1315
Level     1,  Iter     9:    Energy =   0.1319
Level     1,  Iter    10:    Energy =   0.1329
Level     1,  Iter    11:    Energy =   0.1333
Level     1,  Iter    12:    Energy =   0.1333
Level     1,  Iter    13:    Energy =   0.1339
Level     1,  Iter    14:    Energy =   0.1338
Level     1,  Iter    15:    Energy =   0.1340
Level     1,  Iter    16:    Energy =   0.1339
Level     1,  Iter    17:    Energy =   0.1342
Level     1,  Iter    18:    Energy =   0.1341
Level     1,  Iter    19:    Energy =   0.1343
Level     1,  Iter    20:    Energy =   0.1342
Level     1,  Iter    21:    Energy =   0.1345
Level     1,  Iter    22:    Energy =   0.1344
Level     1,  Iter    23:    Energy =   0.1347
Level     1,  Iter    24:    Energy =   0.1345
Level     1,  Iter    25:    Energy =   0.1348
Level     1,  Iter    26:    Energy =   0.1347
Level     1,  Iter    27:    Energy =   0.1349
Level     1,  Iter    28:    Energy =   0.1347
Level     1,  Iter    29:    Energy =   0.1351
Level     1,  Iter    30:    Energy =   0.1350
Level     1,  Iter    31:    Energy =   0.1351
Level     1,  Iter    32:    Energy =   0.1349
Level     1,  Iter    33:    Energy =   0.1354
Level     1,  Iter    34:    Energy =   0.1352
Level     1,  Iter    35:    Energy =   0.1354
Level     1,  Iter    36:    Energy =   0.1352
Level     1,  Iter    37:    Energy =   0.1356
Level     1,  Iter    38:    Energy =   0.1354
Level     1,  Iter    39:    Energy =   0.1356
Level     1,  Iter    40:    Energy =   0.1353
Level     1,  Iter    41:    Energy =   0.1357
Level     1,  Iter    42:    Energy =   0.1355
Level     1,  Iter    43:    Energy =   0.1357
Level     1,  Iter    44:    Energy =   0.1355
Level     1,  Iter    45:    Energy =   0.1358
Level     1,  Iter    46:    Energy =   0.1356
Level     1,  Iter    47:    Energy =   0.1358
Level     1,  Iter    48:    Energy =   0.1356
Level     1,  Iter    49:    Energy =   0.1360
Level     1,  Iter    50:    Energy =   0.1358
Level     1,  Iter    51:    Energy =   0.1360
Level     1,  Iter    52:    Energy =   0.1357
Level     1,  Iter    53:    Energy =   0.1362
Level     1,  Iter    54:    Energy =   0.1360
Level     1,  Iter    55:    Energy =   0.1361
Level     1,  Iter    56:    Energy =   0.1359
Level     1,  Iter    57:    Energy =   0.1363
Level     1,  Iter    58:    Energy =   0.1361
Level     1,  Iter    59:    Energy =   0.1362
END OF LEVEL     1    DetJac Range:   0.1862  to   3.3441 
  Avg. Gradient Time  : 0.0423s  32.96% 
  Avg. Gaussian Time  : 0.0697s  54.28% 
  Avg. Iteration Time : 0.1283s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0721
Level     2,  Iter     1:    Energy =   0.0744
Level     2,  Iter     2:    Energy =   0.0768
Level     2,  Iter     3:    Energy =   0.0791
Level     2,  Iter     4:    Energy =   0.0816
Level     2,  Iter     5:    Energy =   0.0835
Level     2,  Iter     6:    Energy =   0.0850
Level     2,  Iter     7:    Energy =   0.0861
Level     2,  Iter     8:    Energy =   0.0869
Level     2,  Iter     9:    Energy =   0.0877
Level     2,  Iter    10:    Energy =   0.0883
Level     2,  Iter    11:    Energy =   0.0890
Level     2,  Iter    12:    Energy =   0.0898
Level     2,  Iter    13:    Energy =   0.0905
Level     2,  Iter    14:    Energy =   0.0913
Level     2,  Iter    15:    Energy =   0.0917
Level     2,  Iter    16:    Energy =   0.0921
Level     2,  Iter    17:    Energy =   0.0925
Level     2,  Iter    18:    Energy =   0.0926
Level     2,  Iter    19:    Energy =   0.0927
END OF LEVEL     2    DetJac Range:   0.0657  to   4.6107 
  Avg. Gradient Time  : 0.2975s  31.03% 
  Avg. Gaussian Time  : 0.5314s  55.43% 
  Avg. Iteration Time : 0.9588s 

real	0m32.881s
user	0m59.764s
sys	0m1.412s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332692 0.338462
+ echo 'CHUNK 0.332692 0.338462 1'
CHUNK 0.332692 0.338462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332692 0.338462 1
====================================
         PROGRESS: 0.332692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.679531
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2818.79   GNORM= 103.882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2862.784     123.673       0.010
   2    3     -2870.967     266.336       1.000
   3    4     -2894.318     114.237       1.000
   4    5     -2907.174      67.253       1.000
   5    6     -2923.842     121.619       1.000
   6    7     -2945.901     150.460       1.000
   7    8     -2979.399     172.267       1.000
   8    9     -2999.309      76.340       1.000
   9   10     -3005.156      49.608       1.000
  10   11     -3011.401      97.568       1.000
  11   12     -3018.622      88.121       1.000
  12   13     -3057.437      70.630       1.000
  13   14     -3087.750      69.849       1.000
  14   15     -3102.176     117.648       1.000
  15   16     -3109.465      35.132       1.000
  16   17     -3110.467      23.444       1.000
  17   18     -3111.324      22.442       1.000
  18   19     -3111.918      17.023       1.000
  19   21     -3112.441      22.419       0.422
  20   22     -3113.158      23.423       1.000
  21   24     -3113.542      23.217       0.124
  22   25     -3114.246      15.432       1.000
  23   26     -3114.890      13.205       1.000
  24   27     -3115.730      11.775       1.000
  25   29     -3115.971      28.545       0.358
  26   30     -3116.333      13.364       1.000
  27   31     -3116.564       4.911       1.000
  28   32     -3116.616       4.173       1.000
  29   33     -3116.656       5.100       1.000
  30   34     -3116.704       8.066       1.000
  31   35     -3116.769       6.559       1.000
  32   36     -3116.799       3.117       1.000
  33   37     -3116.817       3.667       1.000
  34   38     -3116.849       5.272       1.000
  35   40     -3116.856       8.689       0.236
  36   41     -3116.877       4.686       1.000
  37   43     -3116.896       3.912       0.467
  38   44     -3116.920       3.921       1.000
  39   46     -3116.934       4.978       0.083
  40   47     -3116.937       5.288       1.000
  41   48     -3116.952       2.836       1.000
  42   49     -3116.961       2.826       1.000
  43   51     -3116.990       7.165       5.000
  44   52     -3117.001       1.667       1.000
  45   53     -3117.007       1.370       1.000
  46   54     -3117.012       2.025       1.000
  47   56     -3117.016       2.973       0.327
  48   58     -3117.018       2.195       0.304
  49   59     -3117.020       2.101       1.000
  50   61     -3117.021       2.345       0.170
Final RAS Transform: 
0.896848 -0.0307026 0.0652125 -3.51387 
0.0255581 0.943069 -0.101662 -0.793844 
-0.0643918 0.0148633 1.11538 -0.893988 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1835.32   GNORM= 45.0635
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1839.718      23.319       0.004
   2    4     -1841.339      25.901       1.000
   3    5     -1844.057      23.367       1.000
   4    6     -1847.060      41.916       1.000
   5    7     -1849.508      20.077       1.000
   6    8     -1853.126      21.400       1.000
   7    9     -1855.556      56.575       1.000
   8   10     -1860.890      39.370       1.000
   9   12     -1866.339      31.676       0.349
  10   13     -1868.875      37.752       1.000
  11   14     -1871.864      28.805       1.000
  12   15     -1875.174      25.888       1.000
  13   16     -1878.468      33.967       1.000
  14   17     -1893.482      60.250       1.000
  15   18     -1906.838      62.327       1.000
  16   19     -1918.230      45.193       1.000
  17   20     -1918.906      27.468       1.000
  18   21     -1919.496       5.158       1.000
  19   22     -1919.541       6.395       1.000
  20   23     -1919.564       3.619       1.000
  21   24     -1919.603       4.732       1.000
  22   26     -1919.644       9.649       0.368
  23   28     -1919.877      10.891       5.000
  24   29     -1920.060      23.673       1.000
  25   30     -1920.506      13.015       1.000
  26   31     -1920.613       6.147       1.000
  27   32     -1920.630       4.004       1.000
  28   33     -1920.647       7.037       1.000
  29   34     -1920.709       6.106       1.000
  30   35     -1920.853       7.946       1.000
  31   36     -1921.270       9.739       1.000
  32   37     -1921.536      13.523       1.000
  33   38     -1921.653      10.347       1.000
  34   39     -1921.813       6.190       1.000
  35   40     -1921.825      12.393       1.000
  36   41     -1921.881       3.495       1.000
  37   42     -1921.892       3.003       1.000
  38   43     -1922.006      12.572       1.000
  39   45     -1922.038       9.820       0.322
  40   46     -1922.144       7.696       1.000
  41   47     -1922.377      11.258       1.000
  42   48     -1922.560       9.318       1.000
  43   49     -1922.715      11.788       1.000
  44   50     -1922.770      10.437       1.000
  45   51     -1922.874       5.145       1.000
  46   52     -1922.970       4.179       1.000
  47   53     -1923.086       5.168       1.000
  48   54     -1923.193       4.172       1.000
  49   55     -1923.246       4.978       1.000
  50   56     -1923.286       6.304       1.000
  51   57     -1923.305       5.807       1.000
  52   58     -1923.336       2.063       1.000
  53   59     -1923.349       3.056       1.000
  54   60     -1923.354       2.884       1.000
Final RAS Transform: 
0.988792 -0.017812 0.0448838 -0.963054 
0.0122659 0.943323 -0.127467 -1.14203 
0.00330375 0.0145675 1.07951 0.556114 
0 0 0 1 

Final RAS Transform: 
0.988792 -0.017812 0.0448838 -0.963054 
0.0122659 0.943323 -0.127467 -1.14203 
0.00330375 0.0145675 1.07951 0.556114 
0 0 0 1 


real	0m10.309s
user	0m17.904s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.684559
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0848
Level     0,  Iter     1:    Energy =   0.0912
Level     0,  Iter     2:    Energy =   0.0977
Level     0,  Iter     3:    Energy =   0.1036
Level     0,  Iter     4:    Energy =   0.1080
Level     0,  Iter     5:    Energy =   0.1121
Level     0,  Iter     6:    Energy =   0.1158
Level     0,  Iter     7:    Energy =   0.1185
Level     0,  Iter     8:    Energy =   0.1206
Level     0,  Iter     9:    Energy =   0.1220
Level     0,  Iter    10:    Energy =   0.1232
Level     0,  Iter    11:    Energy =   0.1244
Level     0,  Iter    12:    Energy =   0.1252
Level     0,  Iter    13:    Energy =   0.1258
Level     0,  Iter    14:    Energy =   0.1264
Level     0,  Iter    15:    Energy =   0.1268
Level     0,  Iter    16:    Energy =   0.1271
Level     0,  Iter    17:    Energy =   0.1275
Level     0,  Iter    18:    Energy =   0.1279
Level     0,  Iter    19:    Energy =   0.1281
Level     0,  Iter    20:    Energy =   0.1285
Level     0,  Iter    21:    Energy =   0.1288
Level     0,  Iter    22:    Energy =   0.1291
Level     0,  Iter    23:    Energy =   0.1295
Level     0,  Iter    24:    Energy =   0.1296
Level     0,  Iter    25:    Energy =   0.1299
Level     0,  Iter    26:    Energy =   0.1300
Level     0,  Iter    27:    Energy =   0.1300
Level     0,  Iter    28:    Energy =   0.1299
Level     0,  Iter    29:    Energy =   0.1304
Level     0,  Iter    30:    Energy =   0.1304
Level     0,  Iter    31:    Energy =   0.1308
Level     0,  Iter    32:    Energy =   0.1308
Level     0,  Iter    33:    Energy =   0.1313
Level     0,  Iter    34:    Energy =   0.1312
Level     0,  Iter    35:    Energy =   0.1313
Level     0,  Iter    36:    Energy =   0.1314
Level     0,  Iter    37:    Energy =   0.1318
Level     0,  Iter    38:    Energy =   0.1316
Level     0,  Iter    39:    Energy =   0.1315
Level     0,  Iter    40:    Energy =   0.1315
Level     0,  Iter    41:    Energy =   0.1319
Level     0,  Iter    42:    Energy =   0.1318
Level     0,  Iter    43:    Energy =   0.1315
Level     0,  Iter    44:    Energy =   0.1315
Level     0,  Iter    45:    Energy =   0.1318
Level     0,  Iter    46:    Energy =   0.1318
Level     0,  Iter    47:    Energy =   0.1321
Level     0,  Iter    48:    Energy =   0.1320
Level     0,  Iter    49:    Energy =   0.1324
Level     0,  Iter    50:    Energy =   0.1323
Level     0,  Iter    51:    Energy =   0.1324
Level     0,  Iter    52:    Energy =   0.1323
Level     0,  Iter    53:    Energy =   0.1326
Level     0,  Iter    54:    Energy =   0.1324
Level     0,  Iter    55:    Energy =   0.1324
Level     0,  Iter    56:    Energy =   0.1324
Level     0,  Iter    57:    Energy =   0.1326
Level     0,  Iter    58:    Energy =   0.1325
Level     0,  Iter    59:    Energy =   0.1328
END OF LEVEL     0    DetJac Range:   0.1191  to   2.3387 
  Avg. Gradient Time  : 0.0084s  34.74% 
  Avg. Gaussian Time  : 0.0120s  49.70% 
  Avg. Iteration Time : 0.0241s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0814
Level     1,  Iter     1:    Energy =   0.0856
Level     1,  Iter     2:    Energy =   0.0889
Level     1,  Iter     3:    Energy =   0.0921
Level     1,  Iter     4:    Energy =   0.0950
Level     1,  Iter     5:    Energy =   0.0971
Level     1,  Iter     6:    Energy =   0.0989
Level     1,  Iter     7:    Energy =   0.1010
Level     1,  Iter     8:    Energy =   0.1028
Level     1,  Iter     9:    Energy =   0.1048
Level     1,  Iter    10:    Energy =   0.1064
Level     1,  Iter    11:    Energy =   0.1075
Level     1,  Iter    12:    Energy =   0.1086
Level     1,  Iter    13:    Energy =   0.1095
Level     1,  Iter    14:    Energy =   0.1102
Level     1,  Iter    15:    Energy =   0.1109
Level     1,  Iter    16:    Energy =   0.1115
Level     1,  Iter    17:    Energy =   0.1116
Level     1,  Iter    18:    Energy =   0.1121
Level     1,  Iter    19:    Energy =   0.1120
Level     1,  Iter    20:    Energy =   0.1125
Level     1,  Iter    21:    Energy =   0.1125
Level     1,  Iter    22:    Energy =   0.1131
Level     1,  Iter    23:    Energy =   0.1128
Level     1,  Iter    24:    Energy =   0.1125
Level     1,  Iter    25:    Energy =   0.1125
Level     1,  Iter    26:    Energy =   0.1122
Level     1,  Iter    27:    Energy =   0.1124
Level     1,  Iter    28:    Energy =   0.1122
Level     1,  Iter    29:    Energy =   0.1124
Level     1,  Iter    30:    Energy =   0.1123
Level     1,  Iter    31:    Energy =   0.1125
Level     1,  Iter    32:    Energy =   0.1124
Level     1,  Iter    33:    Energy =   0.1125
Level     1,  Iter    34:    Energy =   0.1125
Level     1,  Iter    35:    Energy =   0.1126
Level     1,  Iter    36:    Energy =   0.1126
Level     1,  Iter    37:    Energy =   0.1127
Level     1,  Iter    38:    Energy =   0.1127
Level     1,  Iter    39:    Energy =   0.1128
Level     1,  Iter    40:    Energy =   0.1128
Level     1,  Iter    41:    Energy =   0.1130
Level     1,  Iter    42:    Energy =   0.1128
Level     1,  Iter    43:    Energy =   0.1130
Level     1,  Iter    44:    Energy =   0.1129
Level     1,  Iter    45:    Energy =   0.1131
Level     1,  Iter    46:    Energy =   0.1130
Level     1,  Iter    47:    Energy =   0.1133
Level     1,  Iter    48:    Energy =   0.1131
Level     1,  Iter    49:    Energy =   0.1133
Level     1,  Iter    50:    Energy =   0.1132
Level     1,  Iter    51:    Energy =   0.1134
Level     1,  Iter    52:    Energy =   0.1132
Level     1,  Iter    53:    Energy =   0.1135
Level     1,  Iter    54:    Energy =   0.1133
Level     1,  Iter    55:    Energy =   0.1136
Level     1,  Iter    56:    Energy =   0.1134
Level     1,  Iter    57:    Energy =   0.1136
Level     1,  Iter    58:    Energy =   0.1134
Level     1,  Iter    59:    Energy =   0.1137
END OF LEVEL     1    DetJac Range:   0.0675  to   3.7354 
  Avg. Gradient Time  : 0.0475s  32.78% 
  Avg. Gaussian Time  : 0.0785s  54.24% 
  Avg. Iteration Time : 0.1448s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0549
Level     2,  Iter     1:    Energy =   0.0575
Level     2,  Iter     2:    Energy =   0.0589
Level     2,  Iter     3:    Energy =   0.0612
Level     2,  Iter     4:    Energy =   0.0629
Level     2,  Iter     5:    Energy =   0.0643
Level     2,  Iter     6:    Energy =   0.0658
Level     2,  Iter     7:    Energy =   0.0670
Level     2,  Iter     8:    Energy =   0.0681
Level     2,  Iter     9:    Energy =   0.0689
Level     2,  Iter    10:    Energy =   0.0696
Level     2,  Iter    11:    Energy =   0.0703
Level     2,  Iter    12:    Energy =   0.0709
Level     2,  Iter    13:    Energy =   0.0714
Level     2,  Iter    14:    Energy =   0.0719
Level     2,  Iter    15:    Energy =   0.0723
Level     2,  Iter    16:    Energy =   0.0727
Level     2,  Iter    17:    Energy =   0.0731
Level     2,  Iter    18:    Energy =   0.0735
Level     2,  Iter    19:    Energy =   0.0739
END OF LEVEL     2    DetJac Range:   0.0689  to   5.2547 
  Avg. Gradient Time  : 0.3353s  30.81% 
  Avg. Gaussian Time  : 0.6031s  55.43% 
  Avg. Iteration Time : 1.0881s 

real	0m37.223s
user	1m7.924s
sys	0m1.592s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.338462 0.344231
+ echo 'CHUNK 0.338462 0.344231 1'
CHUNK 0.338462 0.344231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.338462 0.344231 1
====================================
         PROGRESS: 0.338462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.432333
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2891.16   GNORM= 373.29
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2946.536     278.955       0.001
   2    4     -2981.790     190.402       1.000
   3    5     -3018.486     122.895       1.000
   4    6     -3043.074     135.822       1.000
   5    7     -3109.682     220.586       1.000
   6    8     -3161.582     130.482       1.000
   7    9     -3186.566     111.456       1.000
   8   11     -3192.112      96.924       0.225
   9   12     -3203.115     100.627       1.000
  10   13     -3244.074     113.061       1.000
  11   15     -3258.163     101.619       0.299
  12   16     -3273.635      89.190       1.000
  13   17     -3284.630      82.862       1.000
  14   18     -3287.052      66.021       1.000
  15   19     -3288.027      25.470       1.000
  16   20     -3288.403      24.996       1.000
  17   21     -3290.213      21.003       1.000
  18   22     -3292.708      38.820       1.000
  19   23     -3294.626      27.060       1.000
  20   24     -3294.893      39.617       1.000
  21   25     -3295.550      12.240       1.000
  22   26     -3295.683      13.884       1.000
  23   27     -3295.821      29.270       1.000
  24   28     -3296.006      14.979       1.000
  25   29     -3296.129      11.794       1.000
  26   30     -3296.361      11.125       1.000
  27   31     -3296.671      13.037       1.000
  28   32     -3296.841      17.317       1.000
  29   33     -3296.970      18.111       1.000
  30   34     -3297.173      19.035       1.000
  31   36     -3297.293      10.941       0.346
  32   37     -3297.396      10.902       1.000
  33   38     -3297.503      12.406       1.000
  34   39     -3297.585       7.776       1.000
  35   40     -3297.669       8.225       1.000
  36   41     -3297.706      15.006       1.000
  37   42     -3297.803       7.786       1.000
  38   43     -3297.877      20.643       1.000
  39   44     -3297.946      10.147       1.000
  40   45     -3297.973       6.870       1.000
  41   46     -3297.996       6.098       1.000
  42   47     -3298.073       6.445       1.000
  43   49     -3298.167       9.177       0.513
  44   50     -3298.300       5.608       1.000
  45   51     -3298.483       9.126       1.000
  46   53     -3298.533       8.327       0.220
  47   54     -3298.545       7.671       1.000
  48   55     -3298.576       5.564       1.000
  49   56     -3298.597       7.359       1.000
  50   57     -3298.630      11.019       1.000
  51   58     -3298.651       4.285       1.000
  52   59     -3298.655       2.629       1.000
  53   60     -3298.660       2.293       1.000
Final RAS Transform: 
0.901922 -0.0271092 0.0245455 -3.7377 
-0.0304186 0.991898 0.0662625 -1.42763 
-0.0203035 -0.00814113 0.999452 -0.533206 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2307.7   GNORM= 268.58
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2324.733      76.450       0.000
   2    4     -2327.220      49.702       1.000
   3    5     -2329.143      36.917       1.000
   4    6     -2331.142      41.614       1.000
   5    7     -2336.679      45.790       1.000
   6    8     -2338.328      53.601       1.000
   7    9     -2339.466      18.523       1.000
   8   10     -2339.894      21.298       1.000
   9   11     -2340.591      26.895       1.000
  10   12     -2342.594      50.762       1.000
  11   13     -2345.963      64.694       1.000
  12   14     -2348.065      44.268       1.000
  13   15     -2349.132      18.656       1.000
  14   16     -2349.442       8.034       1.000
  15   17     -2349.593      10.426       1.000
  16   18     -2350.003      18.436       1.000
  17   19     -2350.692      21.673       1.000
  18   20     -2351.224      18.409       1.000
  19   21     -2351.472      15.988       1.000
  20   22     -2351.667      12.235       1.000
  21   23     -2352.462      11.744       1.000
  22   25     -2352.918      18.752       0.174
  23   26     -2353.203       7.075       1.000
  24   27     -2353.224       7.752       1.000
  25   28     -2353.238       6.167       1.000
  26   29     -2353.251       4.818       1.000
  27   31     -2353.267       3.809       0.370
  28   32     -2353.279       2.348       1.000
  29   33     -2353.339       4.246       1.000
  30   35     -2353.360       4.191       0.255
  31   37     -2353.367       4.763       0.406
  32   38     -2353.374       2.131       1.000
  33   39     -2353.383       2.245       1.000
  34   40     -2353.397       2.292       1.000
  35   42     -2353.407       6.776       0.463
  36   43     -2353.424       5.056       1.000
  37   44     -2353.451       1.869       1.000
  38   45     -2353.458       3.349       1.000
  39   46     -2353.469       2.176       1.000
  40   47     -2353.477       6.224       1.000
  41   48     -2353.493       6.275       1.000
  42   49     -2353.500       6.240       1.000
  43   50     -2353.521       1.871       1.000
  44   51     -2353.529       1.467       1.000
  45   52     -2353.531       1.967       1.000
Final RAS Transform: 
0.922391 -0.0261581 0.0275638 -2.96849 
-0.0220072 0.986508 0.0418156 -1.41082 
-0.010978 -0.00207809 0.991507 -0.222398 
0 0 0 1 

Final RAS Transform: 
0.922391 -0.0261581 0.0275638 -2.96849 
-0.0220072 0.986508 0.0418156 -1.41082 
-0.010978 -0.00207809 0.991507 -0.222398 
0 0 0 1 


real	0m10.252s
user	0m17.808s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.583, moving = 0.428588
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0948
Level     0,  Iter     1:    Energy =   0.1026
Level     0,  Iter     2:    Energy =   0.1105
Level     0,  Iter     3:    Energy =   0.1165
Level     0,  Iter     4:    Energy =   0.1207
Level     0,  Iter     5:    Energy =   0.1228
Level     0,  Iter     6:    Energy =   0.1241
Level     0,  Iter     7:    Energy =   0.1254
Level     0,  Iter     8:    Energy =   0.1262
Level     0,  Iter     9:    Energy =   0.1271
Level     0,  Iter    10:    Energy =   0.1278
Level     0,  Iter    11:    Energy =   0.1291
Level     0,  Iter    12:    Energy =   0.1296
Level     0,  Iter    13:    Energy =   0.1304
Level     0,  Iter    14:    Energy =   0.1308
Level     0,  Iter    15:    Energy =   0.1321
Level     0,  Iter    16:    Energy =   0.1321
Level     0,  Iter    17:    Energy =   0.1326
Level     0,  Iter    18:    Energy =   0.1328
Level     0,  Iter    19:    Energy =   0.1337
Level     0,  Iter    20:    Energy =   0.1336
Level     0,  Iter    21:    Energy =   0.1340
Level     0,  Iter    22:    Energy =   0.1340
Level     0,  Iter    23:    Energy =   0.1348
Level     0,  Iter    24:    Energy =   0.1346
Level     0,  Iter    25:    Energy =   0.1347
Level     0,  Iter    26:    Energy =   0.1347
Level     0,  Iter    27:    Energy =   0.1352
Level     0,  Iter    28:    Energy =   0.1351
Level     0,  Iter    29:    Energy =   0.1352
Level     0,  Iter    30:    Energy =   0.1351
Level     0,  Iter    31:    Energy =   0.1358
Level     0,  Iter    32:    Energy =   0.1355
Level     0,  Iter    33:    Energy =   0.1353
Level     0,  Iter    34:    Energy =   0.1353
Level     0,  Iter    35:    Energy =   0.1354
Level     0,  Iter    36:    Energy =   0.1352
Level     0,  Iter    37:    Energy =   0.1353
Level     0,  Iter    38:    Energy =   0.1353
Level     0,  Iter    39:    Energy =   0.1357
Level     0,  Iter    40:    Energy =   0.1355
Level     0,  Iter    41:    Energy =   0.1357
Level     0,  Iter    42:    Energy =   0.1356
Level     0,  Iter    43:    Energy =   0.1360
Level     0,  Iter    44:    Energy =   0.1358
Level     0,  Iter    45:    Energy =   0.1360
Level     0,  Iter    46:    Energy =   0.1359
Level     0,  Iter    47:    Energy =   0.1364
Level     0,  Iter    48:    Energy =   0.1361
Level     0,  Iter    49:    Energy =   0.1361
Level     0,  Iter    50:    Energy =   0.1360
Level     0,  Iter    51:    Energy =   0.1363
Level     0,  Iter    52:    Energy =   0.1361
Level     0,  Iter    53:    Energy =   0.1360
Level     0,  Iter    54:    Energy =   0.1359
Level     0,  Iter    55:    Energy =   0.1364
Level     0,  Iter    56:    Energy =   0.1361
Level     0,  Iter    57:    Energy =   0.1360
Level     0,  Iter    58:    Energy =   0.1359
Level     0,  Iter    59:    Energy =   0.1363
END OF LEVEL     0    DetJac Range:   0.2691  to   2.4241 
  Avg. Gradient Time  : 0.0073s  34.55% 
  Avg. Gaussian Time  : 0.0105s  49.79% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0891
Level     1,  Iter     1:    Energy =   0.0945
Level     1,  Iter     2:    Energy =   0.0991
Level     1,  Iter     3:    Energy =   0.1030
Level     1,  Iter     4:    Energy =   0.1062
Level     1,  Iter     5:    Energy =   0.1090
Level     1,  Iter     6:    Energy =   0.1115
Level     1,  Iter     7:    Energy =   0.1132
Level     1,  Iter     8:    Energy =   0.1145
Level     1,  Iter     9:    Energy =   0.1155
Level     1,  Iter    10:    Energy =   0.1164
Level     1,  Iter    11:    Energy =   0.1172
Level     1,  Iter    12:    Energy =   0.1175
Level     1,  Iter    13:    Energy =   0.1177
Level     1,  Iter    14:    Energy =   0.1184
Level     1,  Iter    15:    Energy =   0.1185
Level     1,  Iter    16:    Energy =   0.1191
Level     1,  Iter    17:    Energy =   0.1190
Level     1,  Iter    18:    Energy =   0.1196
Level     1,  Iter    19:    Energy =   0.1194
Level     1,  Iter    20:    Energy =   0.1199
Level     1,  Iter    21:    Energy =   0.1198
Level     1,  Iter    22:    Energy =   0.1202
Level     1,  Iter    23:    Energy =   0.1200
Level     1,  Iter    24:    Energy =   0.1205
Level     1,  Iter    25:    Energy =   0.1201
Level     1,  Iter    26:    Energy =   0.1206
Level     1,  Iter    27:    Energy =   0.1204
Level     1,  Iter    28:    Energy =   0.1207
Level     1,  Iter    29:    Energy =   0.1204
Level     1,  Iter    30:    Energy =   0.1208
Level     1,  Iter    31:    Energy =   0.1205
Level     1,  Iter    32:    Energy =   0.1210
Level     1,  Iter    33:    Energy =   0.1205
Level     1,  Iter    34:    Energy =   0.1210
Level     1,  Iter    35:    Energy =   0.1208
Level     1,  Iter    36:    Energy =   0.1209
Level     1,  Iter    37:    Energy =   0.1206
Level     1,  Iter    38:    Energy =   0.1211
Level     1,  Iter    39:    Energy =   0.1207
Level     1,  Iter    40:    Energy =   0.1212
Level     1,  Iter    41:    Energy =   0.1209
Level     1,  Iter    42:    Energy =   0.1213
Level     1,  Iter    43:    Energy =   0.1209
Level     1,  Iter    44:    Energy =   0.1214
Level     1,  Iter    45:    Energy =   0.1211
Level     1,  Iter    46:    Energy =   0.1215
Level     1,  Iter    47:    Energy =   0.1211
Level     1,  Iter    48:    Energy =   0.1215
Level     1,  Iter    49:    Energy =   0.1213
Level     1,  Iter    50:    Energy =   0.1214
Level     1,  Iter    51:    Energy =   0.1211
Level     1,  Iter    52:    Energy =   0.1215
Level     1,  Iter    53:    Energy =   0.1213
Level     1,  Iter    54:    Energy =   0.1215
Level     1,  Iter    55:    Energy =   0.1211
Level     1,  Iter    56:    Energy =   0.1216
Level     1,  Iter    57:    Energy =   0.1214
Level     1,  Iter    58:    Energy =   0.1215
Level     1,  Iter    59:    Energy =   0.1212
END OF LEVEL     1    DetJac Range:   0.1011  to   3.5666 
  Avg. Gradient Time  : 0.0426s  33.26% 
  Avg. Gaussian Time  : 0.0692s  54.02% 
  Avg. Iteration Time : 0.1281s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0620
Level     2,  Iter     1:    Energy =   0.0642
Level     2,  Iter     2:    Energy =   0.0665
Level     2,  Iter     3:    Energy =   0.0684
Level     2,  Iter     4:    Energy =   0.0698
Level     2,  Iter     5:    Energy =   0.0711
Level     2,  Iter     6:    Energy =   0.0725
Level     2,  Iter     7:    Energy =   0.0738
Level     2,  Iter     8:    Energy =   0.0750
Level     2,  Iter     9:    Energy =   0.0762
Level     2,  Iter    10:    Energy =   0.0771
Level     2,  Iter    11:    Energy =   0.0779
Level     2,  Iter    12:    Energy =   0.0787
Level     2,  Iter    13:    Energy =   0.0794
Level     2,  Iter    14:    Energy =   0.0800
Level     2,  Iter    15:    Energy =   0.0804
Level     2,  Iter    16:    Energy =   0.0809
Level     2,  Iter    17:    Energy =   0.0814
Level     2,  Iter    18:    Energy =   0.0819
Level     2,  Iter    19:    Energy =   0.0819
END OF LEVEL     2    DetJac Range:   0.0512  to   4.5679 
  Avg. Gradient Time  : 0.2965s  31.03% 
  Avg. Gaussian Time  : 0.5295s  55.42% 
  Avg. Iteration Time : 0.9555s 

real	0m32.803s
user	0m59.660s
sys	0m1.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.344231 0.35
+ echo 'CHUNK 0.344231 0.35 1'
CHUNK 0.344231 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.344231 0.35 1
====================================
         PROGRESS: 0.344231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.82766
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3644.01   GNORM= 552.129
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3708.702     153.058       0.000
   2    4     -3717.655     143.354       1.000
   3    5     -3774.730     179.037       1.000
   4    6     -3789.939     184.872       1.000
   5    7     -3804.280      76.329       1.000
   6    8     -3814.548      64.571       1.000
   7    9     -3830.459     146.898       1.000
   8   10     -3837.699     172.108       1.000
   9   11     -3846.764      74.922       1.000
  10   12     -3850.510      63.448       1.000
  11   13     -3853.688      69.223       1.000
  12   14     -3865.722      82.136       1.000
  13   15     -3872.582      47.499       1.000
  14   16     -3874.082      30.592       1.000
  15   17     -3874.442      15.520       1.000
  16   18     -3874.602      16.900       1.000
  17   19     -3874.874      13.964       1.000
  18   21     -3875.232      15.261       0.396
  19   22     -3875.481      46.867       1.000
  20   23     -3875.848      28.109       1.000
  21   24     -3876.200      19.245       1.000
  22   25     -3876.338      13.641       1.000
  23   26     -3876.573      10.940       1.000
  24   27     -3876.809      34.056       1.000
  25   28     -3877.084      12.000       1.000
  26   29     -3877.188       5.473       1.000
  27   30     -3877.223       6.369       1.000
  28   31     -3877.280       6.571       1.000
  29   33     -3877.395      11.342       0.335
  30   34     -3877.512      10.832       1.000
  31   35     -3877.561      11.409       1.000
  32   36     -3877.581       5.172       1.000
  33   37     -3877.615       3.203       1.000
  34   38     -3877.629       2.999       1.000
  35   40     -3877.659       8.001       0.196
  36   42     -3877.665       4.996       0.282
  37   43     -3877.675       2.922       1.000
  38   44     -3877.693       4.081       1.000
  39   45     -3877.700       4.341       1.000
  40   46     -3877.714       4.176       1.000
  41   48     -3877.734       7.555       0.287
  42   49     -3877.749       5.790       1.000
  43   50     -3877.761       5.163       1.000
  44   51     -3877.789       7.772       1.000
  45   52     -3877.810       5.140       1.000
  46   53     -3877.816       7.423       1.000
  47   54     -3877.832       3.656       1.000
  48   55     -3877.849       2.387       1.000
  49   57     -3877.852       2.221       0.434
  50   58     -3877.859       2.733       1.000
  51   59     -3877.864       1.670       1.000
  52   61     -3877.868       2.072       5.000
Final RAS Transform: 
0.959731 0.0168787 0.0331058 1.33959 
-0.00691616 0.98721 0.0107777 0.00078383 
0.0474692 0.000472395 1.02396 -0.879824 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2753.13   GNORM= 170.32
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2757.990      49.492       0.000
   2    4     -2758.889      46.952       1.000
   3    5     -2763.382      86.699       1.000
   4    6     -2767.944     103.014       1.000
   5    7     -2775.802      79.730       1.000
   6    9     -2778.465      39.618       0.520
   7   10     -2779.593      30.159       1.000
   8   11     -2782.778      74.964       1.000
   9   12     -2788.414     113.754       1.000
  10   13     -2798.166     119.643       1.000
  11   15     -2800.547      51.982       0.112
  12   16     -2801.995      17.949       1.000
  13   17     -2802.324      11.495       1.000
  14   18     -2802.515      39.005       1.000
  15   19     -2802.794      23.676       1.000
  16   20     -2803.195      19.548       1.000
  17   21     -2803.554      24.946       1.000
  18   22     -2803.950      23.958       1.000
  19   23     -2804.100      17.868       1.000
  20   24     -2804.189      10.745       1.000
  21   25     -2804.247       5.465       1.000
  22   26     -2804.276       3.441       1.000
  23   27     -2804.312      13.218       1.000
  24   28     -2804.354      10.655       1.000
  25   29     -2804.371       3.816       1.000
  26   30     -2804.381       3.316       1.000
  27   31     -2804.387       3.498       1.000
  28   32     -2804.407       3.595       1.000
  29   33     -2804.431       4.065       1.000
  30   34     -2804.438       2.482       1.000
  31   35     -2804.455       2.160       1.000
  32   37     -2804.465       7.500       5.000
  33   38     -2804.482       4.069       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974504 0.0062426 0.00586717 0.708121 
-0.00957518 0.986322 -0.00407394 0.0322847 
0.0286373 0.00633234 1.02136 -0.48454 
0 0 0 1 

Final RAS Transform: 
0.974504 0.0062426 0.00586717 0.708121 
-0.00957518 0.986322 -0.00407394 0.0322847 
0.0286373 0.00633234 1.02136 -0.48454 
0 0 0 1 


real	0m10.432s
user	0m18.232s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.823513
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1130
Level     0,  Iter     1:    Energy =   0.1196
Level     0,  Iter     2:    Energy =   0.1253
Level     0,  Iter     3:    Energy =   0.1299
Level     0,  Iter     4:    Energy =   0.1321
Level     0,  Iter     5:    Energy =   0.1340
Level     0,  Iter     6:    Energy =   0.1351
Level     0,  Iter     7:    Energy =   0.1362
Level     0,  Iter     8:    Energy =   0.1369
Level     0,  Iter     9:    Energy =   0.1375
Level     0,  Iter    10:    Energy =   0.1381
Level     0,  Iter    11:    Energy =   0.1384
Level     0,  Iter    12:    Energy =   0.1389
Level     0,  Iter    13:    Energy =   0.1391
Level     0,  Iter    14:    Energy =   0.1394
Level     0,  Iter    15:    Energy =   0.1395
Level     0,  Iter    16:    Energy =   0.1398
Level     0,  Iter    17:    Energy =   0.1398
Level     0,  Iter    18:    Energy =   0.1402
Level     0,  Iter    19:    Energy =   0.1401
Level     0,  Iter    20:    Energy =   0.1404
Level     0,  Iter    21:    Energy =   0.1402
Level     0,  Iter    22:    Energy =   0.1405
Level     0,  Iter    23:    Energy =   0.1404
Level     0,  Iter    24:    Energy =   0.1407
Level     0,  Iter    25:    Energy =   0.1406
Level     0,  Iter    26:    Energy =   0.1408
Level     0,  Iter    27:    Energy =   0.1407
Level     0,  Iter    28:    Energy =   0.1409
Level     0,  Iter    29:    Energy =   0.1408
Level     0,  Iter    30:    Energy =   0.1410
Level     0,  Iter    31:    Energy =   0.1409
Level     0,  Iter    32:    Energy =   0.1411
Level     0,  Iter    33:    Energy =   0.1410
Level     0,  Iter    34:    Energy =   0.1412
Level     0,  Iter    35:    Energy =   0.1411
Level     0,  Iter    36:    Energy =   0.1413
Level     0,  Iter    37:    Energy =   0.1412
Level     0,  Iter    38:    Energy =   0.1414
Level     0,  Iter    39:    Energy =   0.1412
Level     0,  Iter    40:    Energy =   0.1414
Level     0,  Iter    41:    Energy =   0.1413
Level     0,  Iter    42:    Energy =   0.1414
Level     0,  Iter    43:    Energy =   0.1413
Level     0,  Iter    44:    Energy =   0.1414
Level     0,  Iter    45:    Energy =   0.1414
Level     0,  Iter    46:    Energy =   0.1415
Level     0,  Iter    47:    Energy =   0.1414
Level     0,  Iter    48:    Energy =   0.1415
Level     0,  Iter    49:    Energy =   0.1415
Level     0,  Iter    50:    Energy =   0.1416
Level     0,  Iter    51:    Energy =   0.1416
Level     0,  Iter    52:    Energy =   0.1417
Level     0,  Iter    53:    Energy =   0.1416
Level     0,  Iter    54:    Energy =   0.1417
Level     0,  Iter    55:    Energy =   0.1416
Level     0,  Iter    56:    Energy =   0.1417
Level     0,  Iter    57:    Energy =   0.1417
Level     0,  Iter    58:    Energy =   0.1418
Level     0,  Iter    59:    Energy =   0.1416
END OF LEVEL     0    DetJac Range:   0.3811  to   1.9311 
  Avg. Gradient Time  : 0.0077s  34.73% 
  Avg. Gaussian Time  : 0.0110s  49.64% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0947
Level     1,  Iter     1:    Energy =   0.1002
Level     1,  Iter     2:    Energy =   0.1048
Level     1,  Iter     3:    Energy =   0.1082
Level     1,  Iter     4:    Energy =   0.1103
Level     1,  Iter     5:    Energy =   0.1121
Level     1,  Iter     6:    Energy =   0.1138
Level     1,  Iter     7:    Energy =   0.1154
Level     1,  Iter     8:    Energy =   0.1166
Level     1,  Iter     9:    Energy =   0.1176
Level     1,  Iter    10:    Energy =   0.1185
Level     1,  Iter    11:    Energy =   0.1195
Level     1,  Iter    12:    Energy =   0.1204
Level     1,  Iter    13:    Energy =   0.1212
Level     1,  Iter    14:    Energy =   0.1220
Level     1,  Iter    15:    Energy =   0.1223
Level     1,  Iter    16:    Energy =   0.1229
Level     1,  Iter    17:    Energy =   0.1234
Level     1,  Iter    18:    Energy =   0.1238
Level     1,  Iter    19:    Energy =   0.1238
Level     1,  Iter    20:    Energy =   0.1241
Level     1,  Iter    21:    Energy =   0.1242
Level     1,  Iter    22:    Energy =   0.1244
Level     1,  Iter    23:    Energy =   0.1243
Level     1,  Iter    24:    Energy =   0.1245
Level     1,  Iter    25:    Energy =   0.1247
Level     1,  Iter    26:    Energy =   0.1248
Level     1,  Iter    27:    Energy =   0.1247
Level     1,  Iter    28:    Energy =   0.1248
Level     1,  Iter    29:    Energy =   0.1250
Level     1,  Iter    30:    Energy =   0.1250
Level     1,  Iter    31:    Energy =   0.1250
Level     1,  Iter    32:    Energy =   0.1251
Level     1,  Iter    33:    Energy =   0.1252
Level     1,  Iter    34:    Energy =   0.1253
Level     1,  Iter    35:    Energy =   0.1252
Level     1,  Iter    36:    Energy =   0.1254
Level     1,  Iter    37:    Energy =   0.1254
Level     1,  Iter    38:    Energy =   0.1256
Level     1,  Iter    39:    Energy =   0.1255
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1257
Level     1,  Iter    42:    Energy =   0.1258
Level     1,  Iter    43:    Energy =   0.1257
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1259
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1259
Level     1,  Iter    48:    Energy =   0.1260
Level     1,  Iter    49:    Energy =   0.1260
Level     1,  Iter    50:    Energy =   0.1261
Level     1,  Iter    51:    Energy =   0.1260
Level     1,  Iter    52:    Energy =   0.1261
Level     1,  Iter    53:    Energy =   0.1261
Level     1,  Iter    54:    Energy =   0.1262
Level     1,  Iter    55:    Energy =   0.1262
Level     1,  Iter    56:    Energy =   0.1263
Level     1,  Iter    57:    Energy =   0.1262
Level     1,  Iter    58:    Energy =   0.1263
Level     1,  Iter    59:    Energy =   0.1263
END OF LEVEL     1    DetJac Range:   0.0660  to   3.5276 
  Avg. Gradient Time  : 0.0435s  32.90% 
  Avg. Gaussian Time  : 0.0717s  54.28% 
  Avg. Iteration Time : 0.1322s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0639
Level     2,  Iter     1:    Energy =   0.0662
Level     2,  Iter     2:    Energy =   0.0685
Level     2,  Iter     3:    Energy =   0.0704
Level     2,  Iter     4:    Energy =   0.0721
Level     2,  Iter     5:    Energy =   0.0736
Level     2,  Iter     6:    Energy =   0.0749
Level     2,  Iter     7:    Energy =   0.0759
Level     2,  Iter     8:    Energy =   0.0769
Level     2,  Iter     9:    Energy =   0.0776
Level     2,  Iter    10:    Energy =   0.0783
Level     2,  Iter    11:    Energy =   0.0790
Level     2,  Iter    12:    Energy =   0.0795
Level     2,  Iter    13:    Energy =   0.0800
Level     2,  Iter    14:    Energy =   0.0805
Level     2,  Iter    15:    Energy =   0.0810
Level     2,  Iter    16:    Energy =   0.0815
Level     2,  Iter    17:    Energy =   0.0820
Level     2,  Iter    18:    Energy =   0.0824
Level     2,  Iter    19:    Energy =   0.0829
END OF LEVEL     2    DetJac Range:   0.0549  to   4.6653 
  Avg. Gradient Time  : 0.3059s  30.01% 
  Avg. Gaussian Time  : 0.5767s  56.57% 
  Avg. Iteration Time : 1.0195s 

real	0m34.614s
user	1m2.372s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.355769
+ echo 'CHUNK 0.35 0.355769 1'
CHUNK 0.35 0.355769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.355769 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.769215
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2724.3   GNORM= 191.812
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2763.091     128.536       0.002
   2    4     -2783.697      93.233       1.000
   3    5     -2838.188     110.962       1.000
   4    6     -2872.019     254.627       1.000
   5    7     -2906.265      97.128       1.000
   6    8     -2915.961      46.059       1.000
   7    9     -2923.103      46.831       1.000
   8   10     -2944.576     115.707       1.000
   9   11     -2972.317      48.012       1.000
  10   12     -2978.676      30.923       1.000
  11   13     -2981.776      20.162       1.000
  12   14     -2983.745      61.621       1.000
  13   15     -2985.954      36.971       1.000
  14   16     -2987.840      12.879       1.000
  15   17     -2988.970      19.052       1.000
  16   18     -2990.015      30.377       1.000
  17   19     -2991.076      19.118       1.000
  18   20     -2991.621      21.992       1.000
  19   21     -2992.132      11.442       1.000
  20   22     -2992.579       9.671       1.000
  21   23     -2992.816      16.003       1.000
  22   24     -2992.847      20.937       1.000
  23   26     -2992.979       9.620       0.398
  24   27     -2993.119      14.020       1.000
  25   28     -2993.259       8.147       1.000
  26   29     -2993.290      12.840       1.000
  27   30     -2993.342       6.239       1.000
  28   31     -2993.401       5.079       1.000
  29   32     -2993.453       5.251       1.000
  30   33     -2993.505       6.048       1.000
  31   35     -2993.518       1.914       0.192
  32   36     -2993.520       1.848       1.000
  33   37     -2993.533       4.826       1.000
  34   38     -2993.536       3.174       1.000
  35   39     -2993.544       2.612       1.000
  36   40     -2993.553       3.806       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.974212 0.0413326 0.00172488 1.21146 
-0.0737515 1.00651 0.0514742 1.19192 
0.0741664 -0.00549234 1.06277 -0.267118 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1761.26   GNORM= 121.297
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1779.417      60.612       0.002
   2    4     -1785.560      46.393       1.000
   3    5     -1798.496      53.066       1.000
   4    6     -1809.945      90.667       1.000
   5    7     -1825.723      67.484       1.000
   6    8     -1838.408      46.107       1.000
   7    9     -1843.868      34.863       1.000
   8   10     -1848.552      35.023       1.000
   9   11     -1862.355      92.057       1.000
  10   12     -1874.330      85.668       1.000
  11   14     -1884.135      60.466       0.489
  12   15     -1888.559      25.616       1.000
  13   16     -1890.497      21.729       1.000
  14   18     -1894.107      47.383       0.320
  15   19     -1899.070      34.740       1.000
  16   20     -1902.625      36.325       1.000
  17   21     -1905.157      12.229       1.000
  18   22     -1905.923       7.648       1.000
  19   23     -1906.161      16.722       1.000
  20   24     -1906.645       9.284       1.000
  21   25     -1907.333      18.264       1.000
  22   26     -1908.079      16.107       1.000
  23   28     -1908.949      14.800       0.458
  24   29     -1909.169      26.321       1.000
  25   30     -1909.745      10.981       1.000
  26   31     -1909.864       6.667       1.000
  27   33     -1910.382       7.115       5.000
  28   35     -1910.798      13.935       0.212
  29   36     -1911.205      16.040       1.000
  30   37     -1911.277      15.055       1.000
  31   38     -1911.595       5.854       1.000
  32   39     -1911.679       8.254       1.000
  33   40     -1911.761       6.927       1.000
  34   41     -1911.998       7.239       1.000
  35   42     -1912.099      14.119       1.000
  36   43     -1912.459       5.644       1.000
  37   44     -1912.579       9.067       1.000
  38   45     -1912.639      10.449       1.000
  39   46     -1912.758       5.028       1.000
  40   47     -1912.792       2.932       1.000
  41   48     -1912.814       5.011       1.000
  42   49     -1912.875       3.844       1.000
  43   51     -1912.904       4.628       0.488
  44   52     -1912.945       2.987       1.000
  45   53     -1913.005       5.271       1.000
  46   54     -1913.130       5.987       1.000
  47   56     -1913.145       5.265       0.111
  48   57     -1913.156       2.478       1.000
  49   58     -1913.158       2.379       1.000
  50   59     -1913.170       1.442       1.000
  51   60     -1913.187       3.207       1.000
  52   61     -1913.191       6.304       1.000
Final RAS Transform: 
1.00546 0.0131268 -0.0161342 0.429936 
-0.0608386 1.00528 -0.0175883 0.455895 
0.0158639 -0.000313949 1.00276 0.249571 
0 0 0 1 

Final RAS Transform: 
1.00546 0.0131268 -0.0161342 0.429936 
-0.0608386 1.00528 -0.0175883 0.455895 
0.0158639 -0.000313949 1.00276 0.249571 
0 0 0 1 


real	0m10.831s
user	0m18.964s
sys	0m0.500s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.763761
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0795
Level     0,  Iter     1:    Energy =   0.0855
Level     0,  Iter     2:    Energy =   0.0922
Level     0,  Iter     3:    Energy =   0.0971
Level     0,  Iter     4:    Energy =   0.1019
Level     0,  Iter     5:    Energy =   0.1051
Level     0,  Iter     6:    Energy =   0.1076
Level     0,  Iter     7:    Energy =   0.1085
Level     0,  Iter     8:    Energy =   0.1096
Level     0,  Iter     9:    Energy =   0.1106
Level     0,  Iter    10:    Energy =   0.1113
Level     0,  Iter    11:    Energy =   0.1117
Level     0,  Iter    12:    Energy =   0.1123
Level     0,  Iter    13:    Energy =   0.1123
Level     0,  Iter    14:    Energy =   0.1128
Level     0,  Iter    15:    Energy =   0.1128
Level     0,  Iter    16:    Energy =   0.1132
Level     0,  Iter    17:    Energy =   0.1134
Level     0,  Iter    18:    Energy =   0.1138
Level     0,  Iter    19:    Energy =   0.1139
Level     0,  Iter    20:    Energy =   0.1142
Level     0,  Iter    21:    Energy =   0.1143
Level     0,  Iter    22:    Energy =   0.1146
Level     0,  Iter    23:    Energy =   0.1145
Level     0,  Iter    24:    Energy =   0.1148
Level     0,  Iter    25:    Energy =   0.1148
Level     0,  Iter    26:    Energy =   0.1151
Level     0,  Iter    27:    Energy =   0.1151
Level     0,  Iter    28:    Energy =   0.1154
Level     0,  Iter    29:    Energy =   0.1154
Level     0,  Iter    30:    Energy =   0.1157
Level     0,  Iter    31:    Energy =   0.1157
Level     0,  Iter    32:    Energy =   0.1159
Level     0,  Iter    33:    Energy =   0.1160
Level     0,  Iter    34:    Energy =   0.1163
Level     0,  Iter    35:    Energy =   0.1164
Level     0,  Iter    36:    Energy =   0.1166
Level     0,  Iter    37:    Energy =   0.1166
Level     0,  Iter    38:    Energy =   0.1168
Level     0,  Iter    39:    Energy =   0.1170
Level     0,  Iter    40:    Energy =   0.1171
Level     0,  Iter    41:    Energy =   0.1171
Level     0,  Iter    42:    Energy =   0.1173
Level     0,  Iter    43:    Energy =   0.1175
Level     0,  Iter    44:    Energy =   0.1176
Level     0,  Iter    45:    Energy =   0.1175
Level     0,  Iter    46:    Energy =   0.1177
Level     0,  Iter    47:    Energy =   0.1177
Level     0,  Iter    48:    Energy =   0.1179
Level     0,  Iter    49:    Energy =   0.1177
Level     0,  Iter    50:    Energy =   0.1180
Level     0,  Iter    51:    Energy =   0.1179
Level     0,  Iter    52:    Energy =   0.1182
Level     0,  Iter    53:    Energy =   0.1178
Level     0,  Iter    54:    Energy =   0.1181
Level     0,  Iter    55:    Energy =   0.1182
Level     0,  Iter    56:    Energy =   0.1183
Level     0,  Iter    57:    Energy =   0.1178
Level     0,  Iter    58:    Energy =   0.1182
Level     0,  Iter    59:    Energy =   0.1181
END OF LEVEL     0    DetJac Range:   0.1510  to   2.1936 
  Avg. Gradient Time  : 0.0076s  34.98% 
  Avg. Gaussian Time  : 0.0107s  49.11% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0744
Level     1,  Iter     1:    Energy =   0.0790
Level     1,  Iter     2:    Energy =   0.0828
Level     1,  Iter     3:    Energy =   0.0861
Level     1,  Iter     4:    Energy =   0.0887
Level     1,  Iter     5:    Energy =   0.0905
Level     1,  Iter     6:    Energy =   0.0923
Level     1,  Iter     7:    Energy =   0.0943
Level     1,  Iter     8:    Energy =   0.0961
Level     1,  Iter     9:    Energy =   0.0975
Level     1,  Iter    10:    Energy =   0.0988
Level     1,  Iter    11:    Energy =   0.0999
Level     1,  Iter    12:    Energy =   0.1008
Level     1,  Iter    13:    Energy =   0.1017
Level     1,  Iter    14:    Energy =   0.1025
Level     1,  Iter    15:    Energy =   0.1032
Level     1,  Iter    16:    Energy =   0.1038
Level     1,  Iter    17:    Energy =   0.1044
Level     1,  Iter    18:    Energy =   0.1049
Level     1,  Iter    19:    Energy =   0.1052
Level     1,  Iter    20:    Energy =   0.1055
Level     1,  Iter    21:    Energy =   0.1058
Level     1,  Iter    22:    Energy =   0.1061
Level     1,  Iter    23:    Energy =   0.1063
Level     1,  Iter    24:    Energy =   0.1066
Level     1,  Iter    25:    Energy =   0.1068
Level     1,  Iter    26:    Energy =   0.1066
Level     1,  Iter    27:    Energy =   0.1068
Level     1,  Iter    28:    Energy =   0.1067
Level     1,  Iter    29:    Energy =   0.1068
Level     1,  Iter    30:    Energy =   0.1069
Level     1,  Iter    31:    Energy =   0.1070
Level     1,  Iter    32:    Energy =   0.1070
Level     1,  Iter    33:    Energy =   0.1071
Level     1,  Iter    34:    Energy =   0.1072
Level     1,  Iter    35:    Energy =   0.1073
Level     1,  Iter    36:    Energy =   0.1073
Level     1,  Iter    37:    Energy =   0.1073
Level     1,  Iter    38:    Energy =   0.1074
Level     1,  Iter    39:    Energy =   0.1074
Level     1,  Iter    40:    Energy =   0.1074
Level     1,  Iter    41:    Energy =   0.1073
Level     1,  Iter    42:    Energy =   0.1072
Level     1,  Iter    43:    Energy =   0.1071
Level     1,  Iter    44:    Energy =   0.1071
Level     1,  Iter    45:    Energy =   0.1071
Level     1,  Iter    46:    Energy =   0.1072
Level     1,  Iter    47:    Energy =   0.1073
Level     1,  Iter    48:    Energy =   0.1075
Level     1,  Iter    49:    Energy =   0.1077
Level     1,  Iter    50:    Energy =   0.1079
Level     1,  Iter    51:    Energy =   0.1081
Level     1,  Iter    52:    Energy =   0.1082
Level     1,  Iter    53:    Energy =   0.1084
Level     1,  Iter    54:    Energy =   0.1084
Level     1,  Iter    55:    Energy =   0.1085
Level     1,  Iter    56:    Energy =   0.1085
Level     1,  Iter    57:    Energy =   0.1085
Level     1,  Iter    58:    Energy =   0.1084
Level     1,  Iter    59:    Energy =   0.1085
END OF LEVEL     1    DetJac Range:   0.0429  to   4.8230 
  Avg. Gradient Time  : 0.0436s  33.18% 
  Avg. Gaussian Time  : 0.0711s  54.03% 
  Avg. Iteration Time : 0.1315s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0538
Level     2,  Iter     1:    Energy =   0.0555
Level     2,  Iter     2:    Energy =   0.0575
Level     2,  Iter     3:    Energy =   0.0594
Level     2,  Iter     4:    Energy =   0.0609
Level     2,  Iter     5:    Energy =   0.0623
Level     2,  Iter     6:    Energy =   0.0636
Level     2,  Iter     7:    Energy =   0.0647
Level     2,  Iter     8:    Energy =   0.0656
Level     2,  Iter     9:    Energy =   0.0665
Level     2,  Iter    10:    Energy =   0.0672
Level     2,  Iter    11:    Energy =   0.0678
Level     2,  Iter    12:    Energy =   0.0684
Level     2,  Iter    13:    Energy =   0.0689
Level     2,  Iter    14:    Energy =   0.0694
Level     2,  Iter    15:    Energy =   0.0698
Level     2,  Iter    16:    Energy =   0.0702
Level     2,  Iter    17:    Energy =   0.0706
Level     2,  Iter    18:    Energy =   0.0708
Level     2,  Iter    19:    Energy =   0.0711
END OF LEVEL     2    DetJac Range:   0.0290  to   5.9210 
  Avg. Gradient Time  : 0.3081s  26.72% 
  Avg. Gaussian Time  : 0.7079s  61.39% 
  Avg. Iteration Time : 1.1531s 

real	0m37.316s
user	1m7.716s
sys	0m2.124s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.355769 0.361538
+ echo 'CHUNK 0.355769 0.361538 1'
CHUNK 0.355769 0.361538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.355769 0.361538 1
====================================
         PROGRESS: 0.355769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.529508
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3511.59   GNORM= 312.528
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3553.480     288.145       0.001
   2    4     -3583.737     162.694       1.000
   3    5     -3606.537     139.506       1.000
   4    6     -3624.514     135.840       1.000
   5    7     -3681.529     162.307       1.000
   6    8     -3698.215     148.109       1.000
   7    9     -3706.802      84.074       1.000
   8   10     -3710.150      82.567       1.000
   9   11     -3726.255      63.759       1.000
  10   12     -3736.319      75.976       1.000
  11   13     -3739.585      30.904       1.000
  12   14     -3740.522      20.928       1.000
  13   15     -3741.051      18.227       1.000
  14   16     -3741.450      18.259       1.000
  15   17     -3742.957      19.123       1.000
  16   19     -3744.718      50.231       0.347
  17   20     -3745.117      53.493       1.000
  18   21     -3746.766      22.562       1.000
  19   22     -3747.430      27.320       1.000
  20   24     -3747.629      21.600       0.434
  21   25     -3747.785      12.134       1.000
  22   26     -3747.936      12.496       1.000
  23   27     -3748.081      11.830       1.000
  24   28     -3748.246      14.047       1.000
  25   29     -3748.500      15.699       1.000
  26   30     -3748.733      14.323       1.000
  27   32     -3748.922       9.027       0.307
  28   33     -3748.975      11.774       1.000
  29   34     -3749.038      10.004       1.000
  30   35     -3749.086       7.397       1.000
  31   36     -3749.180       6.284       1.000
  32   37     -3749.241       2.740       1.000
  33   38     -3749.273       6.472       1.000
  34   40     -3749.275       4.345       0.472
  35   41     -3749.283       3.063       1.000
  36   42     -3749.287       4.019       1.000
  37   43     -3749.297       2.064       1.000
  38   44     -3749.306       1.346       1.000
Final RAS Transform: 
0.967416 0.0297026 0.0259307 1.53308 
-0.0419051 1.01026 0.0278315 0.895311 
0.0271084 0.00781541 1.01101 0.234267 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2724.03   GNORM= 271.185
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2736.981      56.902       0.000
   2    4     -2738.051      47.103       1.000
   3    5     -2740.408      64.961       1.000
   4    6     -2744.475      85.499       1.000
   5    7     -2750.765      95.544       1.000
   6    8     -2756.768      95.737       1.000
   7    9     -2763.537      63.376       1.000
   8   10     -2769.116     106.815       1.000
   9   11     -2772.129      60.286       1.000
  10   12     -2775.764      61.627       1.000
  11   13     -2781.931      91.129       1.000
  12   14     -2785.110      55.349       1.000
  13   15     -2786.614      29.824       1.000
  14   16     -2786.947      26.170       1.000
  15   17     -2788.590      42.982       1.000
  16   18     -2790.069      25.033       1.000
  17   19     -2791.179      31.524       1.000
  18   20     -2791.894      34.925       1.000
  19   21     -2793.037      36.377       1.000
  20   22     -2793.926      15.537       1.000
  21   23     -2794.253      10.694       1.000
  22   24     -2794.681      12.075       1.000
  23   25     -2795.204      10.750       1.000
  24   27     -2795.379      14.583       0.150
  25   28     -2795.623       9.639       1.000
  26   29     -2795.922      28.639       1.000
  27   30     -2796.388      16.152       1.000
  28   31     -2796.981      28.680       1.000
  29   32     -2797.886      27.029       1.000
  30   33     -2798.386      30.211       1.000
  31   34     -2799.018      16.648       1.000
  32   35     -2799.319      28.227       1.000
  33   36     -2799.685      19.606       1.000
  34   37     -2800.006      21.793       1.000
  35   38     -2800.483      13.672       1.000
  36   39     -2800.627      10.890       1.000
  37   40     -2800.739       9.541       1.000
  38   41     -2800.881      15.048       1.000
  39   42     -2801.118       9.454       1.000
  40   44     -2801.166      11.043       0.253
  41   45     -2801.190       6.332       1.000
  42   46     -2801.198       2.956       1.000
  43   47     -2801.205       2.929       1.000
  44   48     -2801.240       9.619       1.000
  45   49     -2801.275       6.461       1.000
  46   50     -2801.347       6.550       1.000
  47   51     -2801.359       7.933       1.000
  48   52     -2801.382       2.550       1.000
  49   53     -2801.393       2.170       1.000
  50   55     -2801.395       2.262       0.275
  51   56     -2801.401       3.925       1.000
  52   57     -2801.417       2.522       1.000
  53   58     -2801.418       1.574       1.000
  54   59     -2801.419       2.329       1.000
Final RAS Transform: 
0.977764 0.00541924 -0.0163447 0.448833 
-0.0168383 1.0158 0.0454544 0.687951 
0.00562074 0.00822952 0.992421 0.443602 
0 0 0 1 

Final RAS Transform: 
0.977764 0.00541924 -0.0163447 0.448833 
-0.0168383 1.0158 0.0454544 0.687951 
0.00562074 0.00822952 0.992421 0.443602 
0 0 0 1 


real	0m10.057s
user	0m17.620s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.531955
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1096
Level     0,  Iter     1:    Energy =   0.1169
Level     0,  Iter     2:    Energy =   0.1230
Level     0,  Iter     3:    Energy =   0.1262
Level     0,  Iter     4:    Energy =   0.1290
Level     0,  Iter     5:    Energy =   0.1311
Level     0,  Iter     6:    Energy =   0.1328
Level     0,  Iter     7:    Energy =   0.1339
Level     0,  Iter     8:    Energy =   0.1350
Level     0,  Iter     9:    Energy =   0.1357
Level     0,  Iter    10:    Energy =   0.1365
Level     0,  Iter    11:    Energy =   0.1368
Level     0,  Iter    12:    Energy =   0.1375
Level     0,  Iter    13:    Energy =   0.1377
Level     0,  Iter    14:    Energy =   0.1382
Level     0,  Iter    15:    Energy =   0.1384
Level     0,  Iter    16:    Energy =   0.1388
Level     0,  Iter    17:    Energy =   0.1389
Level     0,  Iter    18:    Energy =   0.1393
Level     0,  Iter    19:    Energy =   0.1393
Level     0,  Iter    20:    Energy =   0.1396
Level     0,  Iter    21:    Energy =   0.1396
Level     0,  Iter    22:    Energy =   0.1399
Level     0,  Iter    23:    Energy =   0.1399
Level     0,  Iter    24:    Energy =   0.1401
Level     0,  Iter    25:    Energy =   0.1401
Level     0,  Iter    26:    Energy =   0.1403
Level     0,  Iter    27:    Energy =   0.1402
Level     0,  Iter    28:    Energy =   0.1404
Level     0,  Iter    29:    Energy =   0.1403
Level     0,  Iter    30:    Energy =   0.1405
Level     0,  Iter    31:    Energy =   0.1404
Level     0,  Iter    32:    Energy =   0.1406
Level     0,  Iter    33:    Energy =   0.1405
Level     0,  Iter    34:    Energy =   0.1407
Level     0,  Iter    35:    Energy =   0.1406
Level     0,  Iter    36:    Energy =   0.1408
Level     0,  Iter    37:    Energy =   0.1406
Level     0,  Iter    38:    Energy =   0.1408
Level     0,  Iter    39:    Energy =   0.1407
Level     0,  Iter    40:    Energy =   0.1408
Level     0,  Iter    41:    Energy =   0.1407
Level     0,  Iter    42:    Energy =   0.1409
Level     0,  Iter    43:    Energy =   0.1407
Level     0,  Iter    44:    Energy =   0.1409
Level     0,  Iter    45:    Energy =   0.1408
Level     0,  Iter    46:    Energy =   0.1410
Level     0,  Iter    47:    Energy =   0.1408
Level     0,  Iter    48:    Energy =   0.1410
Level     0,  Iter    49:    Energy =   0.1409
Level     0,  Iter    50:    Energy =   0.1410
Level     0,  Iter    51:    Energy =   0.1409
Level     0,  Iter    52:    Energy =   0.1410
Level     0,  Iter    53:    Energy =   0.1409
Level     0,  Iter    54:    Energy =   0.1411
Level     0,  Iter    55:    Energy =   0.1409
Level     0,  Iter    56:    Energy =   0.1411
Level     0,  Iter    57:    Energy =   0.1409
Level     0,  Iter    58:    Energy =   0.1411
Level     0,  Iter    59:    Energy =   0.1410
END OF LEVEL     0    DetJac Range:   0.3729  to   1.9043 
  Avg. Gradient Time  : 0.0076s  35.24% 
  Avg. Gaussian Time  : 0.0106s  48.87% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0957
Level     1,  Iter     1:    Energy =   0.0997
Level     1,  Iter     2:    Energy =   0.1037
Level     1,  Iter     3:    Energy =   0.1061
Level     1,  Iter     4:    Energy =   0.1090
Level     1,  Iter     5:    Energy =   0.1111
Level     1,  Iter     6:    Energy =   0.1127
Level     1,  Iter     7:    Energy =   0.1142
Level     1,  Iter     8:    Energy =   0.1154
Level     1,  Iter     9:    Energy =   0.1167
Level     1,  Iter    10:    Energy =   0.1179
Level     1,  Iter    11:    Energy =   0.1190
Level     1,  Iter    12:    Energy =   0.1201
Level     1,  Iter    13:    Energy =   0.1211
Level     1,  Iter    14:    Energy =   0.1220
Level     1,  Iter    15:    Energy =   0.1229
Level     1,  Iter    16:    Energy =   0.1229
Level     1,  Iter    17:    Energy =   0.1227
Level     1,  Iter    18:    Energy =   0.1235
Level     1,  Iter    19:    Energy =   0.1233
Level     1,  Iter    20:    Energy =   0.1239
Level     1,  Iter    21:    Energy =   0.1237
Level     1,  Iter    22:    Energy =   0.1243
Level     1,  Iter    23:    Energy =   0.1241
Level     1,  Iter    24:    Energy =   0.1246
Level     1,  Iter    25:    Energy =   0.1244
Level     1,  Iter    26:    Energy =   0.1249
Level     1,  Iter    27:    Energy =   0.1246
Level     1,  Iter    28:    Energy =   0.1251
Level     1,  Iter    29:    Energy =   0.1248
Level     1,  Iter    30:    Energy =   0.1252
Level     1,  Iter    31:    Energy =   0.1250
Level     1,  Iter    32:    Energy =   0.1252
Level     1,  Iter    33:    Energy =   0.1250
Level     1,  Iter    34:    Energy =   0.1253
Level     1,  Iter    35:    Energy =   0.1251
Level     1,  Iter    36:    Energy =   0.1255
Level     1,  Iter    37:    Energy =   0.1252
Level     1,  Iter    38:    Energy =   0.1257
Level     1,  Iter    39:    Energy =   0.1254
Level     1,  Iter    40:    Energy =   0.1258
Level     1,  Iter    41:    Energy =   0.1255
Level     1,  Iter    42:    Energy =   0.1259
Level     1,  Iter    43:    Energy =   0.1256
Level     1,  Iter    44:    Energy =   0.1259
Level     1,  Iter    45:    Energy =   0.1256
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1256
Level     1,  Iter    48:    Energy =   0.1259
Level     1,  Iter    49:    Energy =   0.1256
Level     1,  Iter    50:    Energy =   0.1259
Level     1,  Iter    51:    Energy =   0.1256
Level     1,  Iter    52:    Energy =   0.1259
Level     1,  Iter    53:    Energy =   0.1257
Level     1,  Iter    54:    Energy =   0.1259
Level     1,  Iter    55:    Energy =   0.1257
Level     1,  Iter    56:    Energy =   0.1259
Level     1,  Iter    57:    Energy =   0.1257
Level     1,  Iter    58:    Energy =   0.1259
Level     1,  Iter    59:    Energy =   0.1257
END OF LEVEL     1    DetJac Range:   0.1264  to   4.0323 
  Avg. Gradient Time  : 0.0432s  32.62% 
  Avg. Gaussian Time  : 0.0721s  54.48% 
  Avg. Iteration Time : 0.1324s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0684
Level     2,  Iter     1:    Energy =   0.0709
Level     2,  Iter     2:    Energy =   0.0732
Level     2,  Iter     3:    Energy =   0.0750
Level     2,  Iter     4:    Energy =   0.0765
Level     2,  Iter     5:    Energy =   0.0778
Level     2,  Iter     6:    Energy =   0.0789
Level     2,  Iter     7:    Energy =   0.0799
Level     2,  Iter     8:    Energy =   0.0807
Level     2,  Iter     9:    Energy =   0.0816
Level     2,  Iter    10:    Energy =   0.0823
Level     2,  Iter    11:    Energy =   0.0829
Level     2,  Iter    12:    Energy =   0.0835
Level     2,  Iter    13:    Energy =   0.0839
Level     2,  Iter    14:    Energy =   0.0843
Level     2,  Iter    15:    Energy =   0.0846
Level     2,  Iter    16:    Energy =   0.0850
Level     2,  Iter    17:    Energy =   0.0853
Level     2,  Iter    18:    Energy =   0.0856
Level     2,  Iter    19:    Energy =   0.0858
END OF LEVEL     2    DetJac Range:   0.0865  to   5.3596 
  Avg. Gradient Time  : 0.3061s  26.16% 
  Avg. Gaussian Time  : 0.7258s  62.04% 
  Avg. Iteration Time : 1.1698s 

real	0m37.652s
user	1m8.420s
sys	0m2.176s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.361538 0.367308
+ echo 'CHUNK 0.361538 0.367308 1'
CHUNK 0.361538 0.367308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.361538 0.367308 1
====================================
         PROGRESS: 0.361538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.261065
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2609.13   GNORM= 741.698
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2754.805     683.470       0.001
   2    3     -2894.459     172.397       1.000
   3    4     -2914.648     147.255       1.000
   4    5     -2967.495     201.583       1.000
   5    6     -3007.538      96.443       1.000
   6    7     -3031.828      90.089       1.000
   7    8     -3050.608      75.565       1.000
   8    9     -3066.552      80.119       1.000
   9   10     -3068.940     192.057       1.000
  10   11     -3087.446      78.460       1.000
  11   12     -3098.232      86.171       1.000
  12   13     -3107.375      92.253       1.000
  13   15     -3123.566      76.213       0.342
  14   17     -3130.892      53.402       0.440
  15   18     -3132.992      22.377       1.000
  16   19     -3133.678      20.685       1.000
  17   20     -3134.432      18.238       1.000
  18   21     -3134.988      30.408       1.000
  19   22     -3135.841      17.145       1.000
  20   23     -3136.915      22.732       1.000
  21   24     -3138.286      22.934       1.000
  22   25     -3139.180      20.490       1.000
  23   27     -3140.621      36.227       0.496
  24   28     -3141.398      16.668       1.000
  25   29     -3141.823      12.679       1.000
  26   30     -3142.104      11.817       1.000
  27   31     -3142.308      12.415       1.000
  28   32     -3142.702      12.651       1.000
  29   33     -3143.062      14.312       1.000
  30   34     -3143.276      12.308       1.000
  31   35     -3143.641      10.002       1.000
  32   36     -3143.774       6.825       1.000
  33   37     -3143.915       8.574       1.000
  34   39     -3144.121       9.342       0.473
  35   41     -3144.156      11.283       0.076
  36   42     -3144.226       4.468       1.000
  37   43     -3144.260       7.056       1.000
  38   44     -3144.317       8.570       1.000
  39   46     -3144.565      16.428       0.344
  40   47     -3144.709       9.653       1.000
  41   48     -3144.741       6.469       1.000
  42   49     -3144.747       3.075       1.000
  43   51     -3144.751       2.786       0.435
  44   52     -3144.765       2.999       1.000
  45   53     -3144.782       3.369       1.000
  46   55     -3144.788       5.281       0.290
  47   56     -3144.798       3.483       1.000
  48   57     -3144.803       3.478       1.000
  49   58     -3144.806       1.478       1.000
  50   59     -3144.808       2.050       1.000
  51   61     -3144.809       2.534       0.228
Final RAS Transform: 
0.947505 0.0581058 0.069365 2.20034 
-0.0186418 0.97617 0.000686017 -0.761144 
0.0649681 0.0201461 1.04475 -0.603257 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2106.31   GNORM= 124.688
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2111.370      47.128       0.001
   2    4     -2112.989      46.664       1.000
   3    5     -2119.062     112.106       1.000
   4    6     -2124.095      87.175       1.000
   5    7     -2138.150      45.610       1.000
   6    8     -2141.783      34.895       1.000
   7    9     -2145.827      32.540       1.000
   8   10     -2161.087     116.473       1.000
   9   12     -2168.273     104.537       0.459
  10   13     -2177.803      58.130       1.000
  11   14     -2182.361      27.348       1.000
  12   15     -2184.208      25.596       1.000
  13   16     -2188.141      44.525       1.000
  14   17     -2192.992      78.824       1.000
  15   18     -2194.129      73.523       1.000
  16   19     -2198.328      24.539       1.000
  17   20     -2200.059      25.872       1.000
  18   21     -2200.987      20.921       1.000
  19   22     -2202.323      22.389       1.000
  20   24     -2202.676      24.034       0.256
  21   25     -2203.397      22.275       1.000
  22   26     -2203.901      28.389       1.000
  23   27     -2204.621      15.351       1.000
  24   28     -2204.817      11.097       1.000
  25   29     -2204.982      12.232       1.000
  26   30     -2205.207      38.893       1.000
  27   31     -2205.926      14.513       1.000
  28   32     -2206.270       9.043       1.000
  29   33     -2206.429      10.885       1.000
  30   34     -2206.603      10.585       1.000
  31   35     -2206.706       8.555       1.000
  32   36     -2206.827      12.548       1.000
  33   37     -2207.314      35.755       1.000
  34   38     -2207.969      31.045       1.000
  35   39     -2209.465      19.621       1.000
  36   40     -2209.868      19.930       1.000
  37   41     -2210.418      10.567       1.000
  38   42     -2210.649      10.760       1.000
  39   43     -2210.810      10.144       1.000
  40   44     -2211.036       7.910       1.000
  41   46     -2211.081       9.585       0.100
  42   47     -2211.132       6.177       1.000
  43   48     -2211.206       6.544       1.000
  44   49     -2211.286       8.454       1.000
  45   50     -2211.456      17.036       1.000
  46   52     -2211.574       4.939       0.483
  47   53     -2211.615       5.751       1.000
  48   55     -2211.634       2.892       0.420
  49   56     -2211.656       4.056       1.000
  50   57     -2211.687       4.715       1.000
  51   58     -2211.712       3.217       1.000
  52   59     -2211.744       3.174       1.000
  53   60     -2211.755       2.336       1.000
Final RAS Transform: 
0.991494 0.0284071 0.0484891 0.740594 
-0.034318 1.01458 0.0457426 0.32953 
0.035587 0.014801 0.997897 -0.447188 
0 0 0 1 

Final RAS Transform: 
0.991494 0.0284071 0.0484891 0.740594 
-0.034318 1.01458 0.0457426 0.32953 
0.035587 0.014801 0.997897 -0.447188 
0 0 0 1 


real	0m11.037s
user	0m19.380s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.25928
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0902
Level     0,  Iter     1:    Energy =   0.0964
Level     0,  Iter     2:    Energy =   0.1012
Level     0,  Iter     3:    Energy =   0.1054
Level     0,  Iter     4:    Energy =   0.1084
Level     0,  Iter     5:    Energy =   0.1101
Level     0,  Iter     6:    Energy =   0.1114
Level     0,  Iter     7:    Energy =   0.1132
Level     0,  Iter     8:    Energy =   0.1141
Level     0,  Iter     9:    Energy =   0.1157
Level     0,  Iter    10:    Energy =   0.1166
Level     0,  Iter    11:    Energy =   0.1173
Level     0,  Iter    12:    Energy =   0.1180
Level     0,  Iter    13:    Energy =   0.1185
Level     0,  Iter    14:    Energy =   0.1189
Level     0,  Iter    15:    Energy =   0.1196
Level     0,  Iter    16:    Energy =   0.1199
Level     0,  Iter    17:    Energy =   0.1206
Level     0,  Iter    18:    Energy =   0.1208
Level     0,  Iter    19:    Energy =   0.1214
Level     0,  Iter    20:    Energy =   0.1216
Level     0,  Iter    21:    Energy =   0.1221
Level     0,  Iter    22:    Energy =   0.1223
Level     0,  Iter    23:    Energy =   0.1228
Level     0,  Iter    24:    Energy =   0.1229
Level     0,  Iter    25:    Energy =   0.1233
Level     0,  Iter    26:    Energy =   0.1234
Level     0,  Iter    27:    Energy =   0.1238
Level     0,  Iter    28:    Energy =   0.1238
Level     0,  Iter    29:    Energy =   0.1243
Level     0,  Iter    30:    Energy =   0.1243
Level     0,  Iter    31:    Energy =   0.1246
Level     0,  Iter    32:    Energy =   0.1246
Level     0,  Iter    33:    Energy =   0.1249
Level     0,  Iter    34:    Energy =   0.1249
Level     0,  Iter    35:    Energy =   0.1251
Level     0,  Iter    36:    Energy =   0.1252
Level     0,  Iter    37:    Energy =   0.1254
Level     0,  Iter    38:    Energy =   0.1254
Level     0,  Iter    39:    Energy =   0.1255
Level     0,  Iter    40:    Energy =   0.1256
Level     0,  Iter    41:    Energy =   0.1256
Level     0,  Iter    42:    Energy =   0.1257
Level     0,  Iter    43:    Energy =   0.1258
Level     0,  Iter    44:    Energy =   0.1257
Level     0,  Iter    45:    Energy =   0.1257
Level     0,  Iter    46:    Energy =   0.1258
Level     0,  Iter    47:    Energy =   0.1258
Level     0,  Iter    48:    Energy =   0.1259
Level     0,  Iter    49:    Energy =   0.1259
Level     0,  Iter    50:    Energy =   0.1260
Level     0,  Iter    51:    Energy =   0.1262
Level     0,  Iter    52:    Energy =   0.1260
Level     0,  Iter    53:    Energy =   0.1262
Level     0,  Iter    54:    Energy =   0.1262
Level     0,  Iter    55:    Energy =   0.1263
Level     0,  Iter    56:    Energy =   0.1264
Level     0,  Iter    57:    Energy =   0.1264
Level     0,  Iter    58:    Energy =   0.1265
Level     0,  Iter    59:    Energy =   0.1266
END OF LEVEL     0    DetJac Range:   0.2529  to   2.2857 
  Avg. Gradient Time  : 0.0078s  34.77% 
  Avg. Gaussian Time  : 0.0111s  49.71% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0830
Level     1,  Iter     1:    Energy =   0.0875
Level     1,  Iter     2:    Energy =   0.0918
Level     1,  Iter     3:    Energy =   0.0951
Level     1,  Iter     4:    Energy =   0.0980
Level     1,  Iter     5:    Energy =   0.1009
Level     1,  Iter     6:    Energy =   0.1033
Level     1,  Iter     7:    Energy =   0.1051
Level     1,  Iter     8:    Energy =   0.1070
Level     1,  Iter     9:    Energy =   0.1082
Level     1,  Iter    10:    Energy =   0.1092
Level     1,  Iter    11:    Energy =   0.1100
Level     1,  Iter    12:    Energy =   0.1103
Level     1,  Iter    13:    Energy =   0.1109
Level     1,  Iter    14:    Energy =   0.1107
Level     1,  Iter    15:    Energy =   0.1113
Level     1,  Iter    16:    Energy =   0.1116
Level     1,  Iter    17:    Energy =   0.1113
Level     1,  Iter    18:    Energy =   0.1123
Level     1,  Iter    19:    Energy =   0.1123
Level     1,  Iter    20:    Energy =   0.1129
Level     1,  Iter    21:    Energy =   0.1125
Level     1,  Iter    22:    Energy =   0.1133
Level     1,  Iter    23:    Energy =   0.1133
Level     1,  Iter    24:    Energy =   0.1136
Level     1,  Iter    25:    Energy =   0.1132
Level     1,  Iter    26:    Energy =   0.1139
Level     1,  Iter    27:    Energy =   0.1139
Level     1,  Iter    28:    Energy =   0.1142
Level     1,  Iter    29:    Energy =   0.1137
Level     1,  Iter    30:    Energy =   0.1143
Level     1,  Iter    31:    Energy =   0.1143
Level     1,  Iter    32:    Energy =   0.1146
Level     1,  Iter    33:    Energy =   0.1140
Level     1,  Iter    34:    Energy =   0.1147
Level     1,  Iter    35:    Energy =   0.1148
Level     1,  Iter    36:    Energy =   0.1149
Level     1,  Iter    37:    Energy =   0.1144
Level     1,  Iter    38:    Energy =   0.1149
Level     1,  Iter    39:    Energy =   0.1148
Level     1,  Iter    40:    Energy =   0.1152
Level     1,  Iter    41:    Energy =   0.1146
Level     1,  Iter    42:    Energy =   0.1151
Level     1,  Iter    43:    Energy =   0.1152
Level     1,  Iter    44:    Energy =   0.1152
Level     1,  Iter    45:    Energy =   0.1148
Level     1,  Iter    46:    Energy =   0.1153
Level     1,  Iter    47:    Energy =   0.1149
Level     1,  Iter    48:    Energy =   0.1154
Level     1,  Iter    49:    Energy =   0.1149
Level     1,  Iter    50:    Energy =   0.1154
Level     1,  Iter    51:    Energy =   0.1152
Level     1,  Iter    52:    Energy =   0.1155
Level     1,  Iter    53:    Energy =   0.1149
Level     1,  Iter    54:    Energy =   0.1154
Level     1,  Iter    55:    Energy =   0.1153
Level     1,  Iter    56:    Energy =   0.1154
Level     1,  Iter    57:    Energy =   0.1148
Level     1,  Iter    58:    Energy =   0.1153
Level     1,  Iter    59:    Energy =   0.1151
END OF LEVEL     1    DetJac Range:   0.0602  to   3.7840 
  Avg. Gradient Time  : 0.0432s  32.70% 
  Avg. Gaussian Time  : 0.0718s  54.40% 
  Avg. Iteration Time : 0.1321s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0585
Level     2,  Iter     1:    Energy =   0.0608
Level     2,  Iter     2:    Energy =   0.0632
Level     2,  Iter     3:    Energy =   0.0653
Level     2,  Iter     4:    Energy =   0.0670
Level     2,  Iter     5:    Energy =   0.0684
Level     2,  Iter     6:    Energy =   0.0696
Level     2,  Iter     7:    Energy =   0.0707
Level     2,  Iter     8:    Energy =   0.0716
Level     2,  Iter     9:    Energy =   0.0724
Level     2,  Iter    10:    Energy =   0.0731
Level     2,  Iter    11:    Energy =   0.0737
Level     2,  Iter    12:    Energy =   0.0743
Level     2,  Iter    13:    Energy =   0.0747
Level     2,  Iter    14:    Energy =   0.0751
Level     2,  Iter    15:    Energy =   0.0755
Level     2,  Iter    16:    Energy =   0.0759
Level     2,  Iter    17:    Energy =   0.0763
Level     2,  Iter    18:    Energy =   0.0766
Level     2,  Iter    19:    Energy =   0.0770
END OF LEVEL     2    DetJac Range:   0.0434  to   4.9877 
  Avg. Gradient Time  : 0.3072s  27.26% 
  Avg. Gaussian Time  : 0.6826s  60.56% 
  Avg. Iteration Time : 1.1271s 

real	0m36.830s
user	1m6.680s
sys	0m2.252s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367308 0.373077
+ echo 'CHUNK 0.367308 0.373077 1'
CHUNK 0.367308 0.373077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367308 0.373077 1
====================================
         PROGRESS: 0.367308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.614173
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4040.1   GNORM= 616.619
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4120.689     221.180       0.000
   2    4     -4139.111     184.870       1.000
   3    5     -4169.747     169.026       1.000
   4    6     -4186.561     128.182       1.000
   5    7     -4243.067     200.606       1.000
   6    8     -4263.511     105.041       1.000
   7    9     -4282.995     101.194       1.000
   8   10     -4285.093     190.293       1.000
   9   11     -4291.689      57.295       1.000
  10   12     -4293.412      38.161       1.000
  11   13     -4296.074      44.187       1.000
  12   14     -4298.106      46.410       1.000
  13   15     -4300.339      36.778       1.000
  14   16     -4302.204      37.971       1.000
  15   17     -4303.026      68.599       1.000
  16   18     -4303.964      43.414       1.000
  17   19     -4304.295      19.970       1.000
  18   20     -4304.501      14.878       1.000
  19   21     -4304.811      24.894       1.000
  20   22     -4305.302      27.888       1.000
  21   23     -4305.475      19.653       1.000
  22   24     -4305.605      11.051       1.000
  23   25     -4305.676      11.210       1.000
  24   26     -4305.704       8.648       1.000
  25   27     -4305.773       6.170       1.000
  26   28     -4305.937      26.809       1.000
  27   29     -4306.139      20.965       1.000
  28   30     -4306.423      14.382       1.000
  29   31     -4306.709      20.694       1.000
  30   33     -4306.863      20.184       0.338
  31   35     -4306.907      11.181       0.405
  32   36     -4306.920       4.137       1.000
  33   37     -4306.939       4.452       1.000
  34   38     -4306.956       3.879       1.000
  35   39     -4306.969       2.349       1.000
  36   40     -4306.974       4.133       1.000
  37   41     -4306.978       2.911       1.000
  38   43     -4306.984       2.541       0.440
  39   44     -4306.988       1.624       1.000
  40   45     -4306.992       2.998       1.000
  41   47     -4306.994       3.769       0.219
  42   49     -4306.995       3.647       0.349
  43   50     -4306.996       2.723       1.000
  44   51     -4306.997       1.146       1.000
  45   54     -4306.998       2.061       0.718
Final RAS Transform: 
0.967361 0.0160385 0.00917942 1.23548 
-0.0107678 1.01553 0.0214206 0.649929 
0.0389534 0.0084773 1.0232 0.120382 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2888.74   GNORM= 308.502
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2916.252     116.572       0.000
   2    4     -2922.459      54.828       1.000
   3    5     -2924.467      34.089       1.000
   4    6     -2926.072      44.519       1.000
   5    7     -2931.478      73.550       1.000
   6    8     -2938.624      95.395       1.000
   7   10     -2940.516     129.349       0.329
   8   11     -2945.269      63.347       1.000
   9   12     -2947.777      31.783       1.000
  10   13     -2949.241      46.981       1.000
  11   14     -2952.805      70.561       1.000
  12   15     -2957.720      73.356       1.000
  13   16     -2959.076      72.183       1.000
  14   17     -2961.397      30.504       1.000
  15   18     -2961.655      28.306       1.000
  16   19     -2961.846      15.420       1.000
  17   20     -2962.121      13.781       1.000
  18   21     -2962.635      25.349       1.000
  19   22     -2963.485      38.408       1.000
  20   24     -2963.840      38.800       0.405
  21   25     -2964.267      26.799       1.000
  22   26     -2964.770      14.833       1.000
  23   27     -2964.941       8.118       1.000
  24   28     -2965.008      10.367       1.000
  25   29     -2965.072       9.830       1.000
  26   30     -2965.180       9.516       1.000
  27   31     -2965.335      10.041       1.000
  28   32     -2965.504       6.929       1.000
  29   33     -2966.050      11.835       1.000
  30   35     -2966.232      16.987       0.280
  31   36     -2966.656      17.029       1.000
  32   38     -2966.940      14.852       0.325
  33   40     -2967.101       9.779       0.459
  34   41     -2967.154       4.716       1.000
  35   42     -2967.174       5.489       1.000
  36   43     -2967.226       5.039       1.000
  37   44     -2967.397       6.134       1.000
  38   46     -2967.432       6.486       0.099
  39   47     -2967.489       6.374       1.000
  40   49     -2967.496       9.799       0.068
  41   50     -2967.551       4.956       1.000
  42   51     -2967.583       5.304       1.000
  43   52     -2967.622       3.494       1.000
  44   53     -2967.683      14.152       1.000
  45   54     -2967.748       4.302       1.000
  46   55     -2967.784       2.932       1.000
  47   56     -2967.829       8.766       1.000
  48   57     -2967.860       8.194       1.000
  49   58     -2967.881       8.253       1.000
  50   59     -2967.911       3.407       1.000
  51   60     -2967.929       6.766       1.000
  52   61     -2967.950       6.998       1.000
Final RAS Transform: 
0.970573 -0.00169129 -0.0202223 0.399339 
-0.00284593 1.01752 0.0273778 0.699252 
0.0130104 0.010357 1.00198 0.461578 
0 0 0 1 

Final RAS Transform: 
0.970573 -0.00169129 -0.0202223 0.399339 
-0.00284593 1.01752 0.0273778 0.699252 
0.0130104 0.010357 1.00198 0.461578 
0 0 0 1 


real	0m11.186s
user	0m19.604s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.619911
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1240
Level     0,  Iter     1:    Energy =   0.1334
Level     0,  Iter     2:    Energy =   0.1402
Level     0,  Iter     3:    Energy =   0.1452
Level     0,  Iter     4:    Energy =   0.1473
Level     0,  Iter     5:    Energy =   0.1501
Level     0,  Iter     6:    Energy =   0.1512
Level     0,  Iter     7:    Energy =   0.1534
Level     0,  Iter     8:    Energy =   0.1540
Level     0,  Iter     9:    Energy =   0.1550
Level     0,  Iter    10:    Energy =   0.1557
Level     0,  Iter    11:    Energy =   0.1569
Level     0,  Iter    12:    Energy =   0.1569
Level     0,  Iter    13:    Energy =   0.1570
Level     0,  Iter    14:    Energy =   0.1573
Level     0,  Iter    15:    Energy =   0.1581
Level     0,  Iter    16:    Energy =   0.1582
Level     0,  Iter    17:    Energy =   0.1585
Level     0,  Iter    18:    Energy =   0.1588
Level     0,  Iter    19:    Energy =   0.1595
Level     0,  Iter    20:    Energy =   0.1593
Level     0,  Iter    21:    Energy =   0.1590
Level     0,  Iter    22:    Energy =   0.1590
Level     0,  Iter    23:    Energy =   0.1592
Level     0,  Iter    24:    Energy =   0.1594
Level     0,  Iter    25:    Energy =   0.1599
Level     0,  Iter    26:    Energy =   0.1597
Level     0,  Iter    27:    Energy =   0.1594
Level     0,  Iter    28:    Energy =   0.1594
Level     0,  Iter    29:    Energy =   0.1596
Level     0,  Iter    30:    Energy =   0.1598
Level     0,  Iter    31:    Energy =   0.1602
Level     0,  Iter    32:    Energy =   0.1601
Level     0,  Iter    33:    Energy =   0.1599
Level     0,  Iter    34:    Energy =   0.1600
Level     0,  Iter    35:    Energy =   0.1603
Level     0,  Iter    36:    Energy =   0.1602
Level     0,  Iter    37:    Energy =   0.1599
Level     0,  Iter    38:    Energy =   0.1600
Level     0,  Iter    39:    Energy =   0.1602
Level     0,  Iter    40:    Energy =   0.1603
Level     0,  Iter    41:    Energy =   0.1603
Level     0,  Iter    42:    Energy =   0.1604
Level     0,  Iter    43:    Energy =   0.1608
Level     0,  Iter    44:    Energy =   0.1605
Level     0,  Iter    45:    Energy =   0.1602
Level     0,  Iter    46:    Energy =   0.1601
Level     0,  Iter    47:    Energy =   0.1602
Level     0,  Iter    48:    Energy =   0.1603
Level     0,  Iter    49:    Energy =   0.1607
Level     0,  Iter    50:    Energy =   0.1605
Level     0,  Iter    51:    Energy =   0.1603
Level     0,  Iter    52:    Energy =   0.1603
Level     0,  Iter    53:    Energy =   0.1605
Level     0,  Iter    54:    Energy =   0.1606
Level     0,  Iter    55:    Energy =   0.1609
Level     0,  Iter    56:    Energy =   0.1608
Level     0,  Iter    57:    Energy =   0.1605
Level     0,  Iter    58:    Energy =   0.1605
Level     0,  Iter    59:    Energy =   0.1607
END OF LEVEL     0    DetJac Range:   0.2497  to   2.4463 
  Avg. Gradient Time  : 0.0077s  34.51% 
  Avg. Gaussian Time  : 0.0112s  49.98% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1046
Level     1,  Iter     1:    Energy =   0.1093
Level     1,  Iter     2:    Energy =   0.1131
Level     1,  Iter     3:    Energy =   0.1168
Level     1,  Iter     4:    Energy =   0.1196
Level     1,  Iter     5:    Energy =   0.1219
Level     1,  Iter     6:    Energy =   0.1237
Level     1,  Iter     7:    Energy =   0.1253
Level     1,  Iter     8:    Energy =   0.1265
Level     1,  Iter     9:    Energy =   0.1276
Level     1,  Iter    10:    Energy =   0.1288
Level     1,  Iter    11:    Energy =   0.1291
Level     1,  Iter    12:    Energy =   0.1292
Level     1,  Iter    13:    Energy =   0.1299
Level     1,  Iter    14:    Energy =   0.1298
Level     1,  Iter    15:    Energy =   0.1304
Level     1,  Iter    16:    Energy =   0.1303
Level     1,  Iter    17:    Energy =   0.1305
Level     1,  Iter    18:    Energy =   0.1306
Level     1,  Iter    19:    Energy =   0.1306
Level     1,  Iter    20:    Energy =   0.1309
Level     1,  Iter    21:    Energy =   0.1308
Level     1,  Iter    22:    Energy =   0.1312
Level     1,  Iter    23:    Energy =   0.1310
Level     1,  Iter    24:    Energy =   0.1314
Level     1,  Iter    25:    Energy =   0.1312
Level     1,  Iter    26:    Energy =   0.1316
Level     1,  Iter    27:    Energy =   0.1314
Level     1,  Iter    28:    Energy =   0.1318
Level     1,  Iter    29:    Energy =   0.1315
Level     1,  Iter    30:    Energy =   0.1319
Level     1,  Iter    31:    Energy =   0.1317
Level     1,  Iter    32:    Energy =   0.1321
Level     1,  Iter    33:    Energy =   0.1318
Level     1,  Iter    34:    Energy =   0.1322
Level     1,  Iter    35:    Energy =   0.1319
Level     1,  Iter    36:    Energy =   0.1323
Level     1,  Iter    37:    Energy =   0.1320
Level     1,  Iter    38:    Energy =   0.1324
Level     1,  Iter    39:    Energy =   0.1321
Level     1,  Iter    40:    Energy =   0.1326
Level     1,  Iter    41:    Energy =   0.1323
Level     1,  Iter    42:    Energy =   0.1327
Level     1,  Iter    43:    Energy =   0.1324
Level     1,  Iter    44:    Energy =   0.1327
Level     1,  Iter    45:    Energy =   0.1325
Level     1,  Iter    46:    Energy =   0.1328
Level     1,  Iter    47:    Energy =   0.1325
Level     1,  Iter    48:    Energy =   0.1328
Level     1,  Iter    49:    Energy =   0.1326
Level     1,  Iter    50:    Energy =   0.1328
Level     1,  Iter    51:    Energy =   0.1326
Level     1,  Iter    52:    Energy =   0.1329
Level     1,  Iter    53:    Energy =   0.1327
Level     1,  Iter    54:    Energy =   0.1329
Level     1,  Iter    55:    Energy =   0.1327
Level     1,  Iter    56:    Energy =   0.1330
Level     1,  Iter    57:    Energy =   0.1327
Level     1,  Iter    58:    Energy =   0.1330
Level     1,  Iter    59:    Energy =   0.1328
END OF LEVEL     1    DetJac Range:   0.1272  to   3.9604 
  Avg. Gradient Time  : 0.0428s  32.64% 
  Avg. Gaussian Time  : 0.0714s  54.46% 
  Avg. Iteration Time : 0.1311s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0705
Level     2,  Iter     1:    Energy =   0.0726
Level     2,  Iter     2:    Energy =   0.0747
Level     2,  Iter     3:    Energy =   0.0764
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0805
Level     2,  Iter     6:    Energy =   0.0824
Level     2,  Iter     7:    Energy =   0.0839
Level     2,  Iter     8:    Energy =   0.0852
Level     2,  Iter     9:    Energy =   0.0862
Level     2,  Iter    10:    Energy =   0.0870
Level     2,  Iter    11:    Energy =   0.0877
Level     2,  Iter    12:    Energy =   0.0884
Level     2,  Iter    13:    Energy =   0.0889
Level     2,  Iter    14:    Energy =   0.0894
Level     2,  Iter    15:    Energy =   0.0899
Level     2,  Iter    16:    Energy =   0.0903
Level     2,  Iter    17:    Energy =   0.0907
Level     2,  Iter    18:    Energy =   0.0911
Level     2,  Iter    19:    Energy =   0.0914
END OF LEVEL     2    DetJac Range:   0.0485  to   6.3713 
  Avg. Gradient Time  : 0.3055s  27.24% 
  Avg. Gaussian Time  : 0.6784s  60.50% 
  Avg. Iteration Time : 1.1213s 

real	0m36.649s
user	1m6.392s
sys	0m2.172s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.373077 0.378846
+ echo 'CHUNK 0.373077 0.378846 1'
CHUNK 0.373077 0.378846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.373077 0.378846 1
====================================
         PROGRESS: 0.373077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.682003
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3438.01   GNORM= 285.427
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3478.204     249.373       0.001
   2    4     -3509.179     175.287       1.000
   3    5     -3549.719     158.570       1.000
   4    6     -3614.965     244.542       1.000
   5    7     -3669.283     170.436       1.000
   6    8     -3688.293     180.981       1.000
   7    9     -3713.099      94.653       1.000
   8   10     -3728.526     117.187       1.000
   9   11     -3746.206     102.020       1.000
  10   12     -3776.518     180.074       1.000
  11   14     -3785.482      95.906       0.377
  12   15     -3790.942      40.360       1.000
  13   16     -3792.714      32.830       1.000
  14   17     -3794.550      39.866       1.000
  15   18     -3797.156      43.744       1.000
  16   19     -3800.173      30.804       1.000
  17   20     -3800.717      18.208       1.000
  18   22     -3801.550      36.003       0.483
  19   23     -3802.120      22.586       1.000
  20   24     -3802.261       5.934       1.000
  21   25     -3802.279       7.578       1.000
  22   26     -3802.309      10.476       1.000
  23   27     -3802.382       6.458       1.000
  24   28     -3802.521       8.431       1.000
  25   29     -3802.632      15.437       1.000
  26   30     -3802.691      22.902       1.000
  27   32     -3802.747      11.657       0.292
  28   33     -3802.799       8.568       1.000
  29   34     -3802.832       4.898       1.000
  30   35     -3802.866       4.126       1.000
  31   36     -3802.974       5.476       1.000
  32   38     -3803.072       7.832       0.471
  33   40     -3803.077       5.766       0.286
  34   41     -3803.109       3.144       1.000
  35   42     -3803.133       4.579       1.000
  36   44     -3803.157       5.734       0.326
  37   46     -3803.170       6.559       0.410
  38   47     -3803.188       3.472       1.000
  39   48     -3803.221       4.328       1.000
  40   49     -3803.233       4.751       1.000
  41   50     -3803.246       2.439       1.000
Final RAS Transform: 
0.910024 0.0392649 0.00484659 2.41273 
0.00596213 1.00799 0.0516311 0.198458 
0.040941 -0.00124532 1.04385 -0.0266479 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2581.99   GNORM= 181.712
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2590.137      61.867       0.000
   2    4     -2592.132      54.035       1.000
   3    5     -2595.832      50.578       1.000
   4    6     -2599.526      56.696       1.000
   5    7     -2615.562     112.167       1.000
   6    8     -2630.033     114.704       1.000
   7    9     -2631.455     158.532       1.000
   8   10     -2652.993     161.077       1.000
   9   11     -2661.134      48.119       1.000
  10   12     -2665.086      51.656       1.000
  11   13     -2678.684      67.399       1.000
  12   14     -2687.802      45.636       1.000
  13   15     -2694.723      32.249       1.000
  14   16     -2698.236      47.512       1.000
  15   18     -2701.356     107.888       0.503
  16   19     -2706.820      55.111       1.000
  17   20     -2709.128      10.827       1.000
  18   21     -2709.337       9.764       1.000
  19   22     -2709.581       9.358       1.000
  20   23     -2709.850      30.402       1.000
  21   24     -2710.349      35.834       1.000
  22   25     -2711.029      18.665       1.000
  23   26     -2711.832       6.294       1.000
  24   27     -2712.165      10.116       1.000
  25   29     -2712.249       9.782       0.329
  26   30     -2712.329       7.201       1.000
  27   31     -2712.448      20.042       1.000
  28   32     -2712.596      12.503       1.000
  29   33     -2712.974      11.444       1.000
  30   34     -2713.137      33.258       1.000
  31   35     -2713.420      11.134       1.000
  32   36     -2713.460       3.705       1.000
  33   37     -2713.463       4.881       1.000
  34   38     -2713.486       5.176       1.000
  35   40     -2713.515       5.573       0.398
  36   41     -2713.556       9.907       1.000
  37   42     -2713.614       4.574       1.000
  38   43     -2713.660       2.845       1.000
  39   45     -2713.711      10.977       0.272
  40   47     -2713.732      14.193       0.304
  41   48     -2713.767       4.762       1.000
  42   49     -2713.781       2.838       1.000
  43   50     -2713.793       6.216       1.000
  44   51     -2713.807       5.726       1.000
  45   52     -2713.835       5.049       1.000
  46   53     -2713.896       4.476       1.000
  47   55     -2713.977       4.429       0.489
  48   57     -2713.995       2.547       0.293
  49   58     -2713.999       2.786       1.000
  50   60     -2714.004       2.330       0.143
  51   61     -2714.006       3.910       1.000
Final RAS Transform: 
0.968757 0.0264589 -0.0106143 1.1514 
-0.00312388 0.98861 -0.00332057 -0.0838878 
0.0135369 0.00615028 1.04487 0.351135 
0 0 0 1 

Final RAS Transform: 
0.968757 0.0264589 -0.0106143 1.1514 
-0.00312388 0.98861 -0.00332057 -0.0838878 
0.0135369 0.00615028 1.04487 0.351135 
0 0 0 1 


real	0m10.897s
user	0m19.108s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.678436
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1088
Level     0,  Iter     1:    Energy =   0.1158
Level     0,  Iter     2:    Energy =   0.1212
Level     0,  Iter     3:    Energy =   0.1254
Level     0,  Iter     4:    Energy =   0.1281
Level     0,  Iter     5:    Energy =   0.1302
Level     0,  Iter     6:    Energy =   0.1319
Level     0,  Iter     7:    Energy =   0.1333
Level     0,  Iter     8:    Energy =   0.1344
Level     0,  Iter     9:    Energy =   0.1351
Level     0,  Iter    10:    Energy =   0.1359
Level     0,  Iter    11:    Energy =   0.1364
Level     0,  Iter    12:    Energy =   0.1369
Level     0,  Iter    13:    Energy =   0.1374
Level     0,  Iter    14:    Energy =   0.1378
Level     0,  Iter    15:    Energy =   0.1380
Level     0,  Iter    16:    Energy =   0.1384
Level     0,  Iter    17:    Energy =   0.1386
Level     0,  Iter    18:    Energy =   0.1390
Level     0,  Iter    19:    Energy =   0.1391
Level     0,  Iter    20:    Energy =   0.1395
Level     0,  Iter    21:    Energy =   0.1395
Level     0,  Iter    22:    Energy =   0.1398
Level     0,  Iter    23:    Energy =   0.1398
Level     0,  Iter    24:    Energy =   0.1401
Level     0,  Iter    25:    Energy =   0.1402
Level     0,  Iter    26:    Energy =   0.1404
Level     0,  Iter    27:    Energy =   0.1404
Level     0,  Iter    28:    Energy =   0.1406
Level     0,  Iter    29:    Energy =   0.1406
Level     0,  Iter    30:    Energy =   0.1408
Level     0,  Iter    31:    Energy =   0.1408
Level     0,  Iter    32:    Energy =   0.1410
Level     0,  Iter    33:    Energy =   0.1410
Level     0,  Iter    34:    Energy =   0.1412
Level     0,  Iter    35:    Energy =   0.1411
Level     0,  Iter    36:    Energy =   0.1413
Level     0,  Iter    37:    Energy =   0.1413
Level     0,  Iter    38:    Energy =   0.1414
Level     0,  Iter    39:    Energy =   0.1414
Level     0,  Iter    40:    Energy =   0.1416
Level     0,  Iter    41:    Energy =   0.1415
Level     0,  Iter    42:    Energy =   0.1416
Level     0,  Iter    43:    Energy =   0.1416
Level     0,  Iter    44:    Energy =   0.1417
Level     0,  Iter    45:    Energy =   0.1417
Level     0,  Iter    46:    Energy =   0.1418
Level     0,  Iter    47:    Energy =   0.1417
Level     0,  Iter    48:    Energy =   0.1419
Level     0,  Iter    49:    Energy =   0.1418
Level     0,  Iter    50:    Energy =   0.1419
Level     0,  Iter    51:    Energy =   0.1418
Level     0,  Iter    52:    Energy =   0.1420
Level     0,  Iter    53:    Energy =   0.1419
Level     0,  Iter    54:    Energy =   0.1420
Level     0,  Iter    55:    Energy =   0.1419
Level     0,  Iter    56:    Energy =   0.1421
Level     0,  Iter    57:    Energy =   0.1420
Level     0,  Iter    58:    Energy =   0.1421
Level     0,  Iter    59:    Energy =   0.1420
END OF LEVEL     0    DetJac Range:   0.2469  to   2.1580 
  Avg. Gradient Time  : 0.0077s  34.69% 
  Avg. Gaussian Time  : 0.0110s  49.64% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0968
Level     1,  Iter     1:    Energy =   0.1022
Level     1,  Iter     2:    Energy =   0.1066
Level     1,  Iter     3:    Energy =   0.1103
Level     1,  Iter     4:    Energy =   0.1137
Level     1,  Iter     5:    Energy =   0.1158
Level     1,  Iter     6:    Energy =   0.1176
Level     1,  Iter     7:    Energy =   0.1193
Level     1,  Iter     8:    Energy =   0.1206
Level     1,  Iter     9:    Energy =   0.1212
Level     1,  Iter    10:    Energy =   0.1213
Level     1,  Iter    11:    Energy =   0.1222
Level     1,  Iter    12:    Energy =   0.1221
Level     1,  Iter    13:    Energy =   0.1230
Level     1,  Iter    14:    Energy =   0.1229
Level     1,  Iter    15:    Energy =   0.1234
Level     1,  Iter    16:    Energy =   0.1232
Level     1,  Iter    17:    Energy =   0.1240
Level     1,  Iter    18:    Energy =   0.1239
Level     1,  Iter    19:    Energy =   0.1243
Level     1,  Iter    20:    Energy =   0.1239
Level     1,  Iter    21:    Energy =   0.1247
Level     1,  Iter    22:    Energy =   0.1246
Level     1,  Iter    23:    Energy =   0.1248
Level     1,  Iter    24:    Energy =   0.1244
Level     1,  Iter    25:    Energy =   0.1252
Level     1,  Iter    26:    Energy =   0.1250
Level     1,  Iter    27:    Energy =   0.1252
Level     1,  Iter    28:    Energy =   0.1248
Level     1,  Iter    29:    Energy =   0.1255
Level     1,  Iter    30:    Energy =   0.1253
Level     1,  Iter    31:    Energy =   0.1255
Level     1,  Iter    32:    Energy =   0.1251
Level     1,  Iter    33:    Energy =   0.1257
Level     1,  Iter    34:    Energy =   0.1255
Level     1,  Iter    35:    Energy =   0.1257
Level     1,  Iter    36:    Energy =   0.1253
Level     1,  Iter    37:    Energy =   0.1261
Level     1,  Iter    38:    Energy =   0.1259
Level     1,  Iter    39:    Energy =   0.1261
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1264
Level     1,  Iter    42:    Energy =   0.1262
Level     1,  Iter    43:    Energy =   0.1262
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1263
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1265
Level     1,  Iter    48:    Energy =   0.1260
Level     1,  Iter    49:    Energy =   0.1268
Level     1,  Iter    50:    Energy =   0.1266
Level     1,  Iter    51:    Energy =   0.1265
Level     1,  Iter    52:    Energy =   0.1261
Level     1,  Iter    53:    Energy =   0.1267
Level     1,  Iter    54:    Energy =   0.1263
Level     1,  Iter    55:    Energy =   0.1270
Level     1,  Iter    56:    Energy =   0.1265
Level     1,  Iter    57:    Energy =   0.1272
Level     1,  Iter    58:    Energy =   0.1270
Level     1,  Iter    59:    Energy =   0.1269
END OF LEVEL     1    DetJac Range:   0.0794  to   2.9431 
  Avg. Gradient Time  : 0.0440s  33.16% 
  Avg. Gaussian Time  : 0.0717s  54.07% 
  Avg. Iteration Time : 0.1326s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0649
Level     2,  Iter     1:    Energy =   0.0670
Level     2,  Iter     2:    Energy =   0.0688
Level     2,  Iter     3:    Energy =   0.0708
Level     2,  Iter     4:    Energy =   0.0733
Level     2,  Iter     5:    Energy =   0.0752
Level     2,  Iter     6:    Energy =   0.0766
Level     2,  Iter     7:    Energy =   0.0777
Level     2,  Iter     8:    Energy =   0.0785
Level     2,  Iter     9:    Energy =   0.0793
Level     2,  Iter    10:    Energy =   0.0799
Level     2,  Iter    11:    Energy =   0.0807
Level     2,  Iter    12:    Energy =   0.0813
Level     2,  Iter    13:    Energy =   0.0820
Level     2,  Iter    14:    Energy =   0.0826
Level     2,  Iter    15:    Energy =   0.0830
Level     2,  Iter    16:    Energy =   0.0833
Level     2,  Iter    17:    Energy =   0.0837
Level     2,  Iter    18:    Energy =   0.0841
Level     2,  Iter    19:    Energy =   0.0845
END OF LEVEL     2    DetJac Range:   0.0344  to   3.9530 
  Avg. Gradient Time  : 0.3079s  30.04% 
  Avg. Gaussian Time  : 0.5793s  56.51% 
  Avg. Iteration Time : 1.0250s 

real	0m34.764s
user	1m2.608s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.378846 0.384615
+ echo 'CHUNK 0.378846 0.384615 1'
CHUNK 0.378846 0.384615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.378846 0.384615 1
====================================
         PROGRESS: 0.378846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.56944
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3474.12   GNORM= 339.608
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3499.431     486.834       0.003
   2    3     -3588.314     235.374       1.000
   3    4     -3604.403     102.712       1.000
   4    5     -3617.153     103.916       1.000
   5    6     -3635.479     399.427       1.000
   6    7     -3679.717     129.341       1.000
   7    8     -3687.987      56.430       1.000
   8    9     -3692.226      89.362       1.000
   9   10     -3697.142     106.045       1.000
  10   12     -3703.113     106.461       0.217
  11   13     -3709.650      68.648       1.000
  12   14     -3716.337      41.499       1.000
  13   15     -3720.989      48.998       1.000
  14   16     -3723.320      78.636       1.000
  15   17     -3727.563      18.947       1.000
  16   18     -3727.903      17.460       1.000
  17   19     -3728.191      23.166       1.000
  18   20     -3728.528      10.431       1.000
  19   21     -3728.784      15.469       1.000
  20   22     -3728.910      11.134       1.000
  21   24     -3729.113       8.253       0.182
  22   25     -3729.194      18.546       1.000
  23   26     -3729.316       8.236       1.000
  24   27     -3729.480       8.463       1.000
  25   28     -3729.572      22.290       1.000
  26   29     -3729.672       9.652       1.000
  27   30     -3729.718       4.313       1.000
  28   31     -3729.731       3.182       1.000
  29   32     -3729.766       8.203       1.000
  30   34     -3729.771       6.797       0.291
  31   35     -3729.805       6.388       1.000
  32   36     -3729.809       9.195       1.000
  33   37     -3729.830       3.578       1.000
  34   38     -3729.833       1.202       1.000
  35   39     -3729.835       1.393       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.961737 0.0131823 0.0164742 1.15178 
0.00754352 1.00842 0.0388096 0.0697113 
0.0165727 0.0199071 1.01703 0.638086 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2751.67   GNORM= 377.302
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2779.354      98.639       0.000
   2    4     -2782.246      60.170       1.000
   3    5     -2784.187      67.711       1.000
   4    6     -2788.125      74.489       1.000
   5    7     -2792.526      61.347       1.000
   6    8     -2804.091      43.550       1.000
   7    9     -2806.010      82.466       1.000
   8   10     -2809.673      60.530       1.000
   9   11     -2815.978      41.082       1.000
  10   12     -2823.578     125.771       1.000
  11   13     -2827.767      59.972       1.000
  12   14     -2829.215      28.469       1.000
  13   15     -2829.616      16.385       1.000
  14   16     -2829.849      10.292       1.000
  15   17     -2830.151      12.264       1.000
  16   18     -2830.396      11.259       1.000
  17   19     -2830.512      49.452       1.000
  18   20     -2831.113      13.700       1.000
  19   21     -2831.374      13.368       1.000
  20   22     -2831.745      24.047       1.000
  21   23     -2832.034      21.969       1.000
  22   25     -2832.160      16.746       0.446
  23   26     -2832.315      10.264       1.000
  24   27     -2832.408      13.119       1.000
  25   28     -2832.707      12.189       1.000
  26   29     -2833.082      19.662       1.000
  27   31     -2833.263      12.823       0.436
  28   32     -2833.345      23.184       1.000
  29   33     -2833.460       5.451       1.000
  30   34     -2833.488       5.494       1.000
  31   35     -2833.557      10.358       1.000
  32   36     -2833.659      11.619       1.000
  33   37     -2833.906      10.679       1.000
  34   38     -2834.021       7.690       1.000
  35   39     -2834.045       2.672       1.000
  36   40     -2834.056       2.224       1.000
  37   42     -2834.064       2.974       0.130
  38   43     -2834.064       2.644       1.000
  39   45     -2834.076       3.724       0.412
  40   46     -2834.086       3.759       1.000
  41   47     -2834.101       2.948       1.000
  42   48     -2834.112       3.313       1.000
  43   50     -2834.117       5.985       0.227
  44   51     -2834.127       1.675       1.000
  45   52     -2834.136       1.310       1.000
  46   53     -2834.138       1.681       1.000
  47   54     -2834.148       3.712       1.000
  48   55     -2834.155       2.779       1.000
  49   57     -2834.164       5.020       0.311
  50   58     -2834.172       4.410       1.000
  51   59     -2834.180       1.067       1.000
Final RAS Transform: 
0.984869 0.0123826 0.0131525 0.680064 
-0.000652386 1.00553 0.0195036 0.138602 
-0.00627051 0.0156146 0.988909 0.578211 
0 0 0 1 

Final RAS Transform: 
0.984869 0.0123826 0.0131525 0.680064 
-0.000652386 1.00553 0.0195036 0.138602 
-0.00627051 0.0156146 0.988909 0.578211 
0 0 0 1 


real	0m10.662s
user	0m18.688s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.566511
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1089
Level     0,  Iter     1:    Energy =   0.1155
Level     0,  Iter     2:    Energy =   0.1224
Level     0,  Iter     3:    Energy =   0.1269
Level     0,  Iter     4:    Energy =   0.1299
Level     0,  Iter     5:    Energy =   0.1321
Level     0,  Iter     6:    Energy =   0.1337
Level     0,  Iter     7:    Energy =   0.1350
Level     0,  Iter     8:    Energy =   0.1362
Level     0,  Iter     9:    Energy =   0.1369
Level     0,  Iter    10:    Energy =   0.1377
Level     0,  Iter    11:    Energy =   0.1382
Level     0,  Iter    12:    Energy =   0.1388
Level     0,  Iter    13:    Energy =   0.1392
Level     0,  Iter    14:    Energy =   0.1397
Level     0,  Iter    15:    Energy =   0.1399
Level     0,  Iter    16:    Energy =   0.1403
Level     0,  Iter    17:    Energy =   0.1404
Level     0,  Iter    18:    Energy =   0.1408
Level     0,  Iter    19:    Energy =   0.1409
Level     0,  Iter    20:    Energy =   0.1412
Level     0,  Iter    21:    Energy =   0.1412
Level     0,  Iter    22:    Energy =   0.1414
Level     0,  Iter    23:    Energy =   0.1414
Level     0,  Iter    24:    Energy =   0.1417
Level     0,  Iter    25:    Energy =   0.1416
Level     0,  Iter    26:    Energy =   0.1419
Level     0,  Iter    27:    Energy =   0.1418
Level     0,  Iter    28:    Energy =   0.1420
Level     0,  Iter    29:    Energy =   0.1420
Level     0,  Iter    30:    Energy =   0.1422
Level     0,  Iter    31:    Energy =   0.1421
Level     0,  Iter    32:    Energy =   0.1423
Level     0,  Iter    33:    Energy =   0.1423
Level     0,  Iter    34:    Energy =   0.1425
Level     0,  Iter    35:    Energy =   0.1425
Level     0,  Iter    36:    Energy =   0.1427
Level     0,  Iter    37:    Energy =   0.1426
Level     0,  Iter    38:    Energy =   0.1428
Level     0,  Iter    39:    Energy =   0.1428
Level     0,  Iter    40:    Energy =   0.1430
Level     0,  Iter    41:    Energy =   0.1429
Level     0,  Iter    42:    Energy =   0.1430
Level     0,  Iter    43:    Energy =   0.1431
Level     0,  Iter    44:    Energy =   0.1432
Level     0,  Iter    45:    Energy =   0.1431
Level     0,  Iter    46:    Energy =   0.1433
Level     0,  Iter    47:    Energy =   0.1433
Level     0,  Iter    48:    Energy =   0.1434
Level     0,  Iter    49:    Energy =   0.1434
Level     0,  Iter    50:    Energy =   0.1435
Level     0,  Iter    51:    Energy =   0.1434
Level     0,  Iter    52:    Energy =   0.1435
Level     0,  Iter    53:    Energy =   0.1434
Level     0,  Iter    54:    Energy =   0.1435
Level     0,  Iter    55:    Energy =   0.1435
Level     0,  Iter    56:    Energy =   0.1436
Level     0,  Iter    57:    Energy =   0.1435
Level     0,  Iter    58:    Energy =   0.1436
Level     0,  Iter    59:    Energy =   0.1435
END OF LEVEL     0    DetJac Range:   0.3239  to   1.8783 
  Avg. Gradient Time  : 0.0076s  34.67% 
  Avg. Gaussian Time  : 0.0109s  49.67% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0990
Level     1,  Iter     1:    Energy =   0.1041
Level     1,  Iter     2:    Energy =   0.1078
Level     1,  Iter     3:    Energy =   0.1109
Level     1,  Iter     4:    Energy =   0.1137
Level     1,  Iter     5:    Energy =   0.1160
Level     1,  Iter     6:    Energy =   0.1180
Level     1,  Iter     7:    Energy =   0.1199
Level     1,  Iter     8:    Energy =   0.1215
Level     1,  Iter     9:    Energy =   0.1223
Level     1,  Iter    10:    Energy =   0.1228
Level     1,  Iter    11:    Energy =   0.1234
Level     1,  Iter    12:    Energy =   0.1240
Level     1,  Iter    13:    Energy =   0.1244
Level     1,  Iter    14:    Energy =   0.1251
Level     1,  Iter    15:    Energy =   0.1253
Level     1,  Iter    16:    Energy =   0.1260
Level     1,  Iter    17:    Energy =   0.1261
Level     1,  Iter    18:    Energy =   0.1268
Level     1,  Iter    19:    Energy =   0.1268
Level     1,  Iter    20:    Energy =   0.1276
Level     1,  Iter    21:    Energy =   0.1275
Level     1,  Iter    22:    Energy =   0.1283
Level     1,  Iter    23:    Energy =   0.1282
Level     1,  Iter    24:    Energy =   0.1290
Level     1,  Iter    25:    Energy =   0.1288
Level     1,  Iter    26:    Energy =   0.1294
Level     1,  Iter    27:    Energy =   0.1292
Level     1,  Iter    28:    Energy =   0.1299
Level     1,  Iter    29:    Energy =   0.1296
Level     1,  Iter    30:    Energy =   0.1303
Level     1,  Iter    31:    Energy =   0.1300
Level     1,  Iter    32:    Energy =   0.1304
Level     1,  Iter    33:    Energy =   0.1301
Level     1,  Iter    34:    Energy =   0.1307
Level     1,  Iter    35:    Energy =   0.1304
Level     1,  Iter    36:    Energy =   0.1307
Level     1,  Iter    37:    Energy =   0.1303
Level     1,  Iter    38:    Energy =   0.1308
Level     1,  Iter    39:    Energy =   0.1305
Level     1,  Iter    40:    Energy =   0.1308
Level     1,  Iter    41:    Energy =   0.1305
Level     1,  Iter    42:    Energy =   0.1309
Level     1,  Iter    43:    Energy =   0.1306
Level     1,  Iter    44:    Energy =   0.1309
Level     1,  Iter    45:    Energy =   0.1306
Level     1,  Iter    46:    Energy =   0.1308
Level     1,  Iter    47:    Energy =   0.1307
Level     1,  Iter    48:    Energy =   0.1308
Level     1,  Iter    49:    Energy =   0.1306
Level     1,  Iter    50:    Energy =   0.1309
Level     1,  Iter    51:    Energy =   0.1307
Level     1,  Iter    52:    Energy =   0.1310
Level     1,  Iter    53:    Energy =   0.1307
Level     1,  Iter    54:    Energy =   0.1310
Level     1,  Iter    55:    Energy =   0.1308
Level     1,  Iter    56:    Energy =   0.1311
Level     1,  Iter    57:    Energy =   0.1309
Level     1,  Iter    58:    Energy =   0.1311
Level     1,  Iter    59:    Energy =   0.1309
END OF LEVEL     1    DetJac Range:   0.0669  to   3.0280 
  Avg. Gradient Time  : 0.0433s  32.83% 
  Avg. Gaussian Time  : 0.0716s  54.33% 
  Avg. Iteration Time : 0.1318s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0688
Level     2,  Iter     1:    Energy =   0.0717
Level     2,  Iter     2:    Energy =   0.0738
Level     2,  Iter     3:    Energy =   0.0755
Level     2,  Iter     4:    Energy =   0.0770
Level     2,  Iter     5:    Energy =   0.0782
Level     2,  Iter     6:    Energy =   0.0793
Level     2,  Iter     7:    Energy =   0.0803
Level     2,  Iter     8:    Energy =   0.0813
Level     2,  Iter     9:    Energy =   0.0821
Level     2,  Iter    10:    Energy =   0.0829
Level     2,  Iter    11:    Energy =   0.0836
Level     2,  Iter    12:    Energy =   0.0842
Level     2,  Iter    13:    Energy =   0.0848
Level     2,  Iter    14:    Energy =   0.0853
Level     2,  Iter    15:    Energy =   0.0857
Level     2,  Iter    16:    Energy =   0.0860
Level     2,  Iter    17:    Energy =   0.0862
Level     2,  Iter    18:    Energy =   0.0865
Level     2,  Iter    19:    Energy =   0.0867
END OF LEVEL     2    DetJac Range:   0.0498  to   3.3961 
  Avg. Gradient Time  : 0.3069s  26.72% 
  Avg. Gaussian Time  : 0.7041s  61.30% 
  Avg. Iteration Time : 1.1485s 

real	0m37.190s
user	1m7.300s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384615 0.390385
+ echo 'CHUNK 0.384615 0.390385 1'
CHUNK 0.384615 0.390385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384615 0.390385 1
====================================
         PROGRESS: 0.384615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.421882
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3390.29   GNORM= 522.708
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3491.375     340.687       0.001
   2    4     -3539.897     183.250       1.000
   3    5     -3572.422     133.399       1.000
   4    6     -3599.486     163.080       1.000
   5    7     -3627.816     146.642       1.000
   6    8     -3666.890     233.136       1.000
   7    9     -3678.504     130.357       1.000
   8   10     -3682.478      60.168       1.000
   9   11     -3684.695      69.148       1.000
  10   12     -3687.168      67.400       1.000
  11   13     -3698.651      74.499       1.000
  12   14     -3703.582     135.458       1.000
  13   15     -3707.705      29.630       1.000
  14   16     -3708.147      23.028       1.000
  15   17     -3708.668      39.344       1.000
  16   18     -3709.410      35.079       1.000
  17   19     -3711.388      52.640       1.000
  18   20     -3711.947      34.450       1.000
  19   21     -3712.948      27.504       1.000
  20   22     -3713.373      19.395       1.000
  21   23     -3713.772      31.558       1.000
  22   24     -3714.029      16.749       1.000
  23   25     -3714.243      13.416       1.000
  24   26     -3714.444      11.756       1.000
  25   27     -3714.765       9.800       1.000
  26   28     -3714.840      10.138       1.000
  27   29     -3714.873       8.182       1.000
  28   30     -3714.909      21.655       1.000
  29   31     -3715.101      12.870       1.000
  30   32     -3715.237      15.991       1.000
  31   33     -3715.329      12.366       1.000
  32   34     -3715.415      13.084       1.000
  33   35     -3715.594       6.367       1.000
  34   36     -3715.709       7.646       1.000
  35   38     -3715.724       4.907       0.085
  36   39     -3715.750       4.109       1.000
  37   40     -3715.754      14.943       1.000
  38   41     -3715.788       7.959       1.000
  39   42     -3715.797       2.043       1.000
Final RAS Transform: 
0.969399 0.00757423 -0.0023619 0.513087 
-0.000404216 1.02502 0.0971202 0.806578 
0.00997154 0.00135347 1.00457 0.565255 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2765.72   GNORM= 384.387
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2793.715      72.914       0.000
   2    4     -2794.839      30.698       1.000
   3    5     -2795.161      27.653       1.000
   4    6     -2797.159      28.010       1.000
   5    7     -2799.739      35.214       1.000
   6    8     -2802.352      32.683       1.000
   7   10     -2805.408      36.530       0.401
   8   11     -2809.177      22.370       1.000
   9   13     -2809.804      43.381       0.259
  10   14     -2810.887      13.427       1.000
  11   15     -2811.167      10.881       1.000
  12   16     -2811.345       7.297       1.000
  13   17     -2811.608      15.629       1.000
  14   18     -2812.018      19.045       1.000
  15   20     -2812.143      18.171       0.189
  16   21     -2812.400      12.336       1.000
  17   22     -2812.570       7.447       1.000
  18   23     -2812.614      15.989       1.000
  19   24     -2812.671       7.965       1.000
  20   25     -2812.743       6.842       1.000
  21   26     -2812.841       9.086       1.000
  22   27     -2813.004      14.565       1.000
  23   28     -2813.296      20.869       1.000
  24   29     -2813.532      15.004       1.000
  25   31     -2813.651       5.279       0.366
  26   32     -2813.693       5.610       1.000
  27   33     -2813.718       8.737       1.000
  28   34     -2813.863      16.580       1.000
  29   35     -2814.018      10.954       1.000
  30   36     -2814.138       9.122       1.000
  31   38     -2814.236      11.512       0.408
  32   39     -2814.277      12.071       1.000
  33   40     -2814.324       3.869       1.000
  34   41     -2814.327       3.393       1.000
  35   42     -2814.360      11.263       1.000
  36   43     -2814.425       6.675       1.000
  37   44     -2814.485       6.430       1.000
  38   45     -2814.586       5.958       1.000
  39   46     -2814.635       8.950       1.000
  40   47     -2814.659       2.030       1.000
  41   48     -2814.664       6.278       1.000
  42   49     -2814.666       3.874       1.000
  43   50     -2814.673       1.758       1.000
  44   52     -2814.676       1.565       0.099
Final RAS Transform: 
0.971433 0.0072127 0.00514294 0.579584 
0.00132043 1.02908 0.0939496 0.803766 
-0.00465713 -0.00881389 0.970403 0.192756 
0 0 0 1 

Final RAS Transform: 
0.971433 0.0072127 0.00514294 0.579584 
0.00132043 1.02908 0.0939496 0.803766 
-0.00465713 -0.00881389 0.970403 0.192756 
0 0 0 1 


real	0m11.004s
user	0m19.284s
sys	0m0.512s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.430671
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1092
Level     0,  Iter     1:    Energy =   0.1161
Level     0,  Iter     2:    Energy =   0.1224
Level     0,  Iter     3:    Energy =   0.1260
Level     0,  Iter     4:    Energy =   0.1278
Level     0,  Iter     5:    Energy =   0.1300
Level     0,  Iter     6:    Energy =   0.1310
Level     0,  Iter     7:    Energy =   0.1323
Level     0,  Iter     8:    Energy =   0.1330
Level     0,  Iter     9:    Energy =   0.1338
Level     0,  Iter    10:    Energy =   0.1343
Level     0,  Iter    11:    Energy =   0.1348
Level     0,  Iter    12:    Energy =   0.1352
Level     0,  Iter    13:    Energy =   0.1355
Level     0,  Iter    14:    Energy =   0.1358
Level     0,  Iter    15:    Energy =   0.1360
Level     0,  Iter    16:    Energy =   0.1362
Level     0,  Iter    17:    Energy =   0.1362
Level     0,  Iter    18:    Energy =   0.1366
Level     0,  Iter    19:    Energy =   0.1364
Level     0,  Iter    20:    Energy =   0.1365
Level     0,  Iter    21:    Energy =   0.1365
Level     0,  Iter    22:    Energy =   0.1365
Level     0,  Iter    23:    Energy =   0.1366
Level     0,  Iter    24:    Energy =   0.1365
Level     0,  Iter    25:    Energy =   0.1366
Level     0,  Iter    26:    Energy =   0.1366
Level     0,  Iter    27:    Energy =   0.1366
Level     0,  Iter    28:    Energy =   0.1366
Level     0,  Iter    29:    Energy =   0.1367
Level     0,  Iter    30:    Energy =   0.1367
Level     0,  Iter    31:    Energy =   0.1367
Level     0,  Iter    32:    Energy =   0.1367
Level     0,  Iter    33:    Energy =   0.1367
Level     0,  Iter    34:    Energy =   0.1369
Level     0,  Iter    35:    Energy =   0.1368
Level     0,  Iter    36:    Energy =   0.1370
Level     0,  Iter    37:    Energy =   0.1368
Level     0,  Iter    38:    Energy =   0.1372
Level     0,  Iter    39:    Energy =   0.1370
Level     0,  Iter    40:    Energy =   0.1373
Level     0,  Iter    41:    Energy =   0.1371
Level     0,  Iter    42:    Energy =   0.1375
Level     0,  Iter    43:    Energy =   0.1373
Level     0,  Iter    44:    Energy =   0.1379
Level     0,  Iter    45:    Energy =   0.1375
Level     0,  Iter    46:    Energy =   0.1380
Level     0,  Iter    47:    Energy =   0.1377
Level     0,  Iter    48:    Energy =   0.1381
Level     0,  Iter    49:    Energy =   0.1376
Level     0,  Iter    50:    Energy =   0.1380
Level     0,  Iter    51:    Energy =   0.1376
Level     0,  Iter    52:    Energy =   0.1381
Level     0,  Iter    53:    Energy =   0.1378
Level     0,  Iter    54:    Energy =   0.1382
Level     0,  Iter    55:    Energy =   0.1378
Level     0,  Iter    56:    Energy =   0.1383
Level     0,  Iter    57:    Energy =   0.1378
Level     0,  Iter    58:    Energy =   0.1384
Level     0,  Iter    59:    Energy =   0.1379
END OF LEVEL     0    DetJac Range:   0.3110  to   2.1415 
  Avg. Gradient Time  : 0.0076s  34.79% 
  Avg. Gaussian Time  : 0.0109s  49.52% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0973
Level     1,  Iter     1:    Energy =   0.1024
Level     1,  Iter     2:    Energy =   0.1060
Level     1,  Iter     3:    Energy =   0.1087
Level     1,  Iter     4:    Energy =   0.1106
Level     1,  Iter     5:    Energy =   0.1120
Level     1,  Iter     6:    Energy =   0.1132
Level     1,  Iter     7:    Energy =   0.1141
Level     1,  Iter     8:    Energy =   0.1149
Level     1,  Iter     9:    Energy =   0.1156
Level     1,  Iter    10:    Energy =   0.1163
Level     1,  Iter    11:    Energy =   0.1169
Level     1,  Iter    12:    Energy =   0.1175
Level     1,  Iter    13:    Energy =   0.1181
Level     1,  Iter    14:    Energy =   0.1187
Level     1,  Iter    15:    Energy =   0.1192
Level     1,  Iter    16:    Energy =   0.1197
Level     1,  Iter    17:    Energy =   0.1201
Level     1,  Iter    18:    Energy =   0.1205
Level     1,  Iter    19:    Energy =   0.1208
Level     1,  Iter    20:    Energy =   0.1211
Level     1,  Iter    21:    Energy =   0.1212
Level     1,  Iter    22:    Energy =   0.1215
Level     1,  Iter    23:    Energy =   0.1216
Level     1,  Iter    24:    Energy =   0.1219
Level     1,  Iter    25:    Energy =   0.1220
Level     1,  Iter    26:    Energy =   0.1222
Level     1,  Iter    27:    Energy =   0.1223
Level     1,  Iter    28:    Energy =   0.1225
Level     1,  Iter    29:    Energy =   0.1226
Level     1,  Iter    30:    Energy =   0.1228
Level     1,  Iter    31:    Energy =   0.1228
Level     1,  Iter    32:    Energy =   0.1230
Level     1,  Iter    33:    Energy =   0.1230
Level     1,  Iter    34:    Energy =   0.1232
Level     1,  Iter    35:    Energy =   0.1232
Level     1,  Iter    36:    Energy =   0.1234
Level     1,  Iter    37:    Energy =   0.1233
Level     1,  Iter    38:    Energy =   0.1235
Level     1,  Iter    39:    Energy =   0.1235
Level     1,  Iter    40:    Energy =   0.1236
Level     1,  Iter    41:    Energy =   0.1236
Level     1,  Iter    42:    Energy =   0.1237
Level     1,  Iter    43:    Energy =   0.1237
Level     1,  Iter    44:    Energy =   0.1238
Level     1,  Iter    45:    Energy =   0.1238
Level     1,  Iter    46:    Energy =   0.1239
Level     1,  Iter    47:    Energy =   0.1239
Level     1,  Iter    48:    Energy =   0.1240
Level     1,  Iter    49:    Energy =   0.1239
Level     1,  Iter    50:    Energy =   0.1240
Level     1,  Iter    51:    Energy =   0.1240
Level     1,  Iter    52:    Energy =   0.1240
Level     1,  Iter    53:    Energy =   0.1241
Level     1,  Iter    54:    Energy =   0.1240
Level     1,  Iter    55:    Energy =   0.1241
Level     1,  Iter    56:    Energy =   0.1241
Level     1,  Iter    57:    Energy =   0.1242
Level     1,  Iter    58:    Energy =   0.1241
Level     1,  Iter    59:    Energy =   0.1242
END OF LEVEL     1    DetJac Range:   0.1525  to   3.0003 
  Avg. Gradient Time  : 0.0432s  32.72% 
  Avg. Gaussian Time  : 0.0718s  54.40% 
  Avg. Iteration Time : 0.1320s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0658
Level     2,  Iter     1:    Energy =   0.0685
Level     2,  Iter     2:    Energy =   0.0706
Level     2,  Iter     3:    Energy =   0.0723
Level     2,  Iter     4:    Energy =   0.0736
Level     2,  Iter     5:    Energy =   0.0749
Level     2,  Iter     6:    Energy =   0.0761
Level     2,  Iter     7:    Energy =   0.0773
Level     2,  Iter     8:    Energy =   0.0785
Level     2,  Iter     9:    Energy =   0.0795
Level     2,  Iter    10:    Energy =   0.0806
Level     2,  Iter    11:    Energy =   0.0815
Level     2,  Iter    12:    Energy =   0.0823
Level     2,  Iter    13:    Energy =   0.0830
Level     2,  Iter    14:    Energy =   0.0837
Level     2,  Iter    15:    Energy =   0.0842
Level     2,  Iter    16:    Energy =   0.0846
Level     2,  Iter    17:    Energy =   0.0849
Level     2,  Iter    18:    Energy =   0.0853
Level     2,  Iter    19:    Energy =   0.0856
END OF LEVEL     2    DetJac Range:   0.0783  to   4.4848 
  Avg. Gradient Time  : 0.3072s  27.39% 
  Avg. Gaussian Time  : 0.6769s  60.35% 
  Avg. Iteration Time : 1.1216s 

real	0m36.667s
user	1m6.444s
sys	0m2.148s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.390385 0.396154
+ echo 'CHUNK 0.390385 0.396154 1'
CHUNK 0.390385 0.396154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.390385 0.396154 1
====================================
         PROGRESS: 0.390385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.414324
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2638.83   GNORM= 303.3
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2703.108     259.909       0.001
   2    4     -2732.314     109.174       1.000
   3    5     -2746.022     108.682       1.000
   4    6     -2786.287     168.776       1.000
   5    7     -2829.600     145.267       1.000
   6    8     -2872.053     127.650       1.000
   7    9     -2904.815      76.991       1.000
   8   11     -2907.878      63.424       0.169
   9   12     -2913.019      59.155       1.000
  10   13     -2927.945      63.659       1.000
  11   14     -2943.150      63.499       1.000
  12   15     -2953.230      33.023       1.000
  13   16     -2957.581      25.993       1.000
  14   17     -2961.122      98.625       1.000
  15   19     -2963.567      32.201       0.487
  16   20     -2964.961      12.481       1.000
  17   21     -2965.576      12.682       1.000
  18   22     -2966.194      20.711       1.000
  19   23     -2966.651       9.398       1.000
  20   24     -2966.719       7.576       1.000
  21   26     -2966.759       3.243       0.395
  22   29     -2966.771       5.287       1.683
  23   30     -2966.785       4.346       1.000
  24   31     -2966.844       9.539       1.000
  25   32     -2966.894       8.086       1.000
  26   34     -2966.943       7.147       0.387
  27   35     -2966.960       4.473       1.000
  28   36     -2966.979       4.148       1.000
  29   37     -2966.998       5.421       1.000
  30   38     -2967.000       3.938       1.000
  31   39     -2967.029       4.082       1.000
  32   41     -2967.058       3.432       0.490
  33   42     -2967.070       6.729       1.000
  34   43     -2967.078       7.254       1.000
  35   45     -2967.082       2.727       0.305
  36   46     -2967.089       2.694       1.000
  37   47     -2967.093       2.243       1.000
  38   49     -2967.100       2.736       0.121
Final RAS Transform: 
0.898366 0.0281301 -0.0468764 2.33976 
-0.00710961 0.997627 0.0521913 -0.146688 
0.0304629 -0.0042681 1.0162 -0.147497 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2167.79   GNORM= 157.935
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2205.367      89.452       0.003
   2    5     -2208.363      62.992       0.323
   3    7     -2215.455      40.105       5.000
   4    8     -2221.985      48.047       1.000
   5    9     -2227.818      33.890       1.000
   6   10     -2229.424      18.038       1.000
   7   11     -2232.523      37.612       1.000
   8   12     -2235.354      49.941       1.000
   9   13     -2239.111     129.265       1.000
  10   14     -2243.517      30.298       1.000
  11   15     -2244.077      16.268       1.000
  12   16     -2244.319      15.742       1.000
  13   17     -2245.536      52.929       1.000
  14   18     -2248.056      25.493       1.000
  15   19     -2250.702      29.997       1.000
  16   20     -2251.910      26.696       1.000
  17   21     -2253.117      27.005       1.000
  18   22     -2255.259      25.542       1.000
  19   24     -2256.296      17.927       0.449
  20   25     -2257.077      13.492       1.000
  21   26     -2257.840      14.802       1.000
  22   28     -2258.259      26.400       0.220
  23   29     -2258.817      18.671       1.000
  24   30     -2260.071      22.277       1.000
  25   31     -2261.862      26.240       1.000
  26   32     -2263.133      50.583       1.000
  27   33     -2264.264      14.397       1.000
  28   34     -2264.510      10.489       1.000
  29   35     -2264.669       7.398       1.000
  30   36     -2264.842       7.421       1.000
  31   38     -2265.004      11.287       0.217
  32   39     -2265.513      15.785       1.000
  33   40     -2266.351      25.198       1.000
  34   41     -2267.160      23.861       1.000
  35   42     -2267.420      72.492       1.000
  36   43     -2268.348      19.576       1.000
  37   44     -2268.501      14.594       1.000
  38   46     -2268.817      13.493       0.365
  39   47     -2268.927      11.320       1.000
  40   48     -2269.415      12.573       1.000
  41   49     -2269.776      15.257       1.000
  42   51     -2270.117       9.170       0.492
  43   52     -2270.252       6.003       1.000
  44   53     -2270.415       6.623       1.000
  45   54     -2270.669      12.435       1.000
  46   55     -2270.863       5.812       1.000
  47   56     -2270.935       5.550       1.000
  48   57     -2271.015       8.606       1.000
  49   58     -2271.074       9.260       1.000
  50   59     -2271.150      12.815       1.000
  51   60     -2271.352       7.410       1.000
  52   61     -2271.447       9.500       1.000
Final RAS Transform: 
0.965685 0.0246955 -0.0328931 1.05964 
-0.0121269 0.984944 0.00212368 -0.144867 
0.00611826 0.00290483 1.01169 0.202782 
0 0 0 1 

Final RAS Transform: 
0.965685 0.0246955 -0.0328931 1.05964 
-0.0121269 0.984944 0.00212368 -0.144867 
0.00611826 0.00290483 1.01169 0.202782 
0 0 0 1 


real	0m10.438s
user	0m18.192s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.4159
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0848
Level     0,  Iter     1:    Energy =   0.0913
Level     0,  Iter     2:    Energy =   0.0967
Level     0,  Iter     3:    Energy =   0.0995
Level     0,  Iter     4:    Energy =   0.1016
Level     0,  Iter     5:    Energy =   0.1033
Level     0,  Iter     6:    Energy =   0.1046
Level     0,  Iter     7:    Energy =   0.1055
Level     0,  Iter     8:    Energy =   0.1065
Level     0,  Iter     9:    Energy =   0.1071
Level     0,  Iter    10:    Energy =   0.1078
Level     0,  Iter    11:    Energy =   0.1082
Level     0,  Iter    12:    Energy =   0.1089
Level     0,  Iter    13:    Energy =   0.1091
Level     0,  Iter    14:    Energy =   0.1096
Level     0,  Iter    15:    Energy =   0.1098
Level     0,  Iter    16:    Energy =   0.1103
Level     0,  Iter    17:    Energy =   0.1104
Level     0,  Iter    18:    Energy =   0.1108
Level     0,  Iter    19:    Energy =   0.1109
Level     0,  Iter    20:    Energy =   0.1112
Level     0,  Iter    21:    Energy =   0.1112
Level     0,  Iter    22:    Energy =   0.1115
Level     0,  Iter    23:    Energy =   0.1115
Level     0,  Iter    24:    Energy =   0.1118
Level     0,  Iter    25:    Energy =   0.1118
Level     0,  Iter    26:    Energy =   0.1121
Level     0,  Iter    27:    Energy =   0.1121
Level     0,  Iter    28:    Energy =   0.1123
Level     0,  Iter    29:    Energy =   0.1123
Level     0,  Iter    30:    Energy =   0.1125
Level     0,  Iter    31:    Energy =   0.1124
Level     0,  Iter    32:    Energy =   0.1127
Level     0,  Iter    33:    Energy =   0.1126
Level     0,  Iter    34:    Energy =   0.1128
Level     0,  Iter    35:    Energy =   0.1128
Level     0,  Iter    36:    Energy =   0.1130
Level     0,  Iter    37:    Energy =   0.1129
Level     0,  Iter    38:    Energy =   0.1131
Level     0,  Iter    39:    Energy =   0.1130
Level     0,  Iter    40:    Energy =   0.1133
Level     0,  Iter    41:    Energy =   0.1132
Level     0,  Iter    42:    Energy =   0.1135
Level     0,  Iter    43:    Energy =   0.1133
Level     0,  Iter    44:    Energy =   0.1136
Level     0,  Iter    45:    Energy =   0.1134
Level     0,  Iter    46:    Energy =   0.1137
Level     0,  Iter    47:    Energy =   0.1136
Level     0,  Iter    48:    Energy =   0.1138
Level     0,  Iter    49:    Energy =   0.1137
Level     0,  Iter    50:    Energy =   0.1140
Level     0,  Iter    51:    Energy =   0.1139
Level     0,  Iter    52:    Energy =   0.1141
Level     0,  Iter    53:    Energy =   0.1140
Level     0,  Iter    54:    Energy =   0.1142
Level     0,  Iter    55:    Energy =   0.1141
Level     0,  Iter    56:    Energy =   0.1144
Level     0,  Iter    57:    Energy =   0.1142
Level     0,  Iter    58:    Energy =   0.1145
Level     0,  Iter    59:    Energy =   0.1144
END OF LEVEL     0    DetJac Range:   0.2467  to   1.9363 
  Avg. Gradient Time  : 0.0077s  34.65% 
  Avg. Gaussian Time  : 0.0111s  49.89% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0797
Level     1,  Iter     1:    Energy =   0.0834
Level     1,  Iter     2:    Energy =   0.0870
Level     1,  Iter     3:    Energy =   0.0901
Level     1,  Iter     4:    Energy =   0.0931
Level     1,  Iter     5:    Energy =   0.0955
Level     1,  Iter     6:    Energy =   0.0974
Level     1,  Iter     7:    Energy =   0.0988
Level     1,  Iter     8:    Energy =   0.0999
Level     1,  Iter     9:    Energy =   0.1008
Level     1,  Iter    10:    Energy =   0.1016
Level     1,  Iter    11:    Energy =   0.1024
Level     1,  Iter    12:    Energy =   0.1032
Level     1,  Iter    13:    Energy =   0.1039
Level     1,  Iter    14:    Energy =   0.1046
Level     1,  Iter    15:    Energy =   0.1053
Level     1,  Iter    16:    Energy =   0.1061
Level     1,  Iter    17:    Energy =   0.1068
Level     1,  Iter    18:    Energy =   0.1075
Level     1,  Iter    19:    Energy =   0.1082
Level     1,  Iter    20:    Energy =   0.1087
Level     1,  Iter    21:    Energy =   0.1091
Level     1,  Iter    22:    Energy =   0.1093
Level     1,  Iter    23:    Energy =   0.1091
Level     1,  Iter    24:    Energy =   0.1095
Level     1,  Iter    25:    Energy =   0.1096
Level     1,  Iter    26:    Energy =   0.1098
Level     1,  Iter    27:    Energy =   0.1099
Level     1,  Iter    28:    Energy =   0.1100
Level     1,  Iter    29:    Energy =   0.1099
Level     1,  Iter    30:    Energy =   0.1102
Level     1,  Iter    31:    Energy =   0.1104
Level     1,  Iter    32:    Energy =   0.1105
Level     1,  Iter    33:    Energy =   0.1103
Level     1,  Iter    34:    Energy =   0.1106
Level     1,  Iter    35:    Energy =   0.1108
Level     1,  Iter    36:    Energy =   0.1109
Level     1,  Iter    37:    Energy =   0.1107
Level     1,  Iter    38:    Energy =   0.1109
Level     1,  Iter    39:    Energy =   0.1111
Level     1,  Iter    40:    Energy =   0.1112
Level     1,  Iter    41:    Energy =   0.1109
Level     1,  Iter    42:    Energy =   0.1111
Level     1,  Iter    43:    Energy =   0.1113
Level     1,  Iter    44:    Energy =   0.1114
Level     1,  Iter    45:    Energy =   0.1112
Level     1,  Iter    46:    Energy =   0.1113
Level     1,  Iter    47:    Energy =   0.1114
Level     1,  Iter    48:    Energy =   0.1114
Level     1,  Iter    49:    Energy =   0.1112
Level     1,  Iter    50:    Energy =   0.1114
Level     1,  Iter    51:    Energy =   0.1115
Level     1,  Iter    52:    Energy =   0.1116
Level     1,  Iter    53:    Energy =   0.1113
Level     1,  Iter    54:    Energy =   0.1115
Level     1,  Iter    55:    Energy =   0.1117
Level     1,  Iter    56:    Energy =   0.1118
Level     1,  Iter    57:    Energy =   0.1116
Level     1,  Iter    58:    Energy =   0.1118
Level     1,  Iter    59:    Energy =   0.1117
END OF LEVEL     1    DetJac Range:   0.0794  to   4.1840 
  Avg. Gradient Time  : 0.0439s  32.85% 
  Avg. Gaussian Time  : 0.0725s  54.29% 
  Avg. Iteration Time : 0.1335s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0592
Level     2,  Iter     1:    Energy =   0.0616
Level     2,  Iter     2:    Energy =   0.0637
Level     2,  Iter     3:    Energy =   0.0654
Level     2,  Iter     4:    Energy =   0.0669
Level     2,  Iter     5:    Energy =   0.0682
Level     2,  Iter     6:    Energy =   0.0692
Level     2,  Iter     7:    Energy =   0.0701
Level     2,  Iter     8:    Energy =   0.0709
Level     2,  Iter     9:    Energy =   0.0717
Level     2,  Iter    10:    Energy =   0.0724
Level     2,  Iter    11:    Energy =   0.0730
Level     2,  Iter    12:    Energy =   0.0736
Level     2,  Iter    13:    Energy =   0.0742
Level     2,  Iter    14:    Energy =   0.0747
Level     2,  Iter    15:    Energy =   0.0751
Level     2,  Iter    16:    Energy =   0.0755
Level     2,  Iter    17:    Energy =   0.0759
Level     2,  Iter    18:    Energy =   0.0762
Level     2,  Iter    19:    Energy =   0.0765
END OF LEVEL     2    DetJac Range:   0.0603  to   3.9166 
  Avg. Gradient Time  : 0.3142s  27.45% 
  Avg. Gaussian Time  : 0.6923s  60.47% 
  Avg. Iteration Time : 1.1448s 

real	0m37.240s
user	1m7.540s
sys	0m2.176s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.396154 0.401923
+ echo 'CHUNK 0.396154 0.401923 1'
CHUNK 0.396154 0.401923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.396154 0.401923 1
====================================
         PROGRESS: 0.396154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.777078
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3262.92   GNORM= 712.744
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3426.768     317.214       0.001
   2    4     -3471.891     250.883       1.000
   3    5     -3528.078     136.738       1.000
   4    6     -3544.994     129.885       1.000
   5    7     -3636.325     204.717       1.000
   6    8     -3672.979     139.751       1.000
   7    9     -3692.308     176.869       1.000
   8   10     -3707.999     141.510       1.000
   9   11     -3727.459     101.357       1.000
  10   12     -3734.244      29.161       1.000
  11   13     -3734.879      15.814       1.000
  12   14     -3735.190      15.999       1.000
  13   16     -3736.171      25.505       0.385
  14   17     -3737.163      21.527       1.000
  15   18     -3737.526      42.033       1.000
  16   19     -3737.901      35.412       1.000
  17   20     -3738.267      16.241       1.000
  18   21     -3738.422      12.676       1.000
  19   22     -3738.521      15.407       1.000
  20   23     -3738.646      10.179       1.000
  21   24     -3738.823      19.539       1.000
  22   25     -3738.994      14.282       1.000
  23   26     -3739.183      19.438       1.000
  24   28     -3739.412      11.867       0.334
  25   29     -3739.548      10.236       1.000
  26   30     -3739.628      18.661       1.000
  27   31     -3739.877       6.057       1.000
  28   32     -3740.170       7.443       1.000
  29   34     -3740.232       9.013       0.055
  30   35     -3740.362      12.746       1.000
  31   37     -3740.406      11.051       0.320
  32   38     -3740.472       5.762       1.000
  33   39     -3740.501       7.434       1.000
  34   40     -3740.533       5.818       1.000
  35   42     -3740.534       3.203       0.328
  36   43     -3740.541       3.459       1.000
  37   44     -3740.556       6.317       1.000
  38   45     -3740.596       5.275       1.000
Final RAS Transform: 
0.943282 0.0359254 0.0128405 1.94196 
-0.00959777 1.0016 0.0180374 0.0818491 
0.0624747 -0.00117462 1.02338 -0.172516 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2488.05   GNORM= 389.795
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2523.964      89.687       0.000
   2    4     -2526.624      50.821       1.000
   3    5     -2527.999      48.766       1.000
   4    6     -2532.559      60.813       1.000
   5    7     -2540.019      94.381       1.000
   6    8     -2555.922     127.807       1.000
   7    9     -2573.065     150.013       1.000
   8   11     -2579.686     130.341       0.495
   9   12     -2588.600      73.968       1.000
  10   13     -2594.581      53.933       1.000
  11   14     -2599.631      60.470       1.000
  12   15     -2607.468      63.084       1.000
  13   16     -2610.706      31.093       1.000
  14   17     -2612.030      24.549       1.000
  15   18     -2612.395      67.043       1.000
  16   19     -2613.178      14.799       1.000
  17   20     -2613.368      11.773       1.000
  18   21     -2613.896       8.330       1.000
  19   23     -2614.033      11.210       0.399
  20   24     -2614.284      15.949       1.000
  21   25     -2614.803      22.794       1.000
  22   27     -2614.944      10.304       0.204
  23   28     -2615.045       7.801       1.000
  24   29     -2615.278       8.572       1.000
  25   30     -2615.662      13.172       1.000
  26   31     -2616.103      31.524       1.000
  27   32     -2616.597      14.289       1.000
  28   33     -2616.768      13.185       1.000
  29   34     -2616.892      10.311       1.000
  30   35     -2616.974      20.380       1.000
  31   36     -2617.099      13.258       1.000
  32   37     -2617.241      11.791       1.000
  33   38     -2617.811      14.374       1.000
  34   39     -2618.184      48.613       1.000
  35   40     -2618.632      11.906       1.000
  36   41     -2618.754      10.661       1.000
  37   42     -2619.075      13.096       1.000
  38   43     -2619.153      10.402       1.000
  39   44     -2619.238      12.385       1.000
  40   45     -2619.306      10.596       1.000
  41   46     -2619.328       6.140       1.000
  42   49     -2619.435       6.029       1.961
  43   50     -2619.488       5.593       1.000
  44   51     -2619.828      17.279       1.000
  45   52     -2620.013      29.346       1.000
  46   53     -2620.271      14.612       1.000
  47   54     -2620.408       9.290       1.000
  48   55     -2620.450       7.446       1.000
  49   56     -2620.512       7.446       1.000
  50   57     -2620.546       8.003       1.000
  51   58     -2620.584       8.563       1.000
  52   59     -2620.635      18.365       1.000
  53   60     -2620.734       6.243       1.000
  54   61     -2620.757       5.706       1.000
Final RAS Transform: 
0.961821 0.0103306 -0.00754494 0.818864 
0.0026529 1.0027 0.0220132 -0.0849088 
0.0113542 0.0029825 0.988603 0.537513 
0 0 0 1 

Final RAS Transform: 
0.961821 0.0103306 -0.00754494 0.818864 
0.0026529 1.0027 0.0220132 -0.0849088 
0.0113542 0.0029825 0.988603 0.537513 
0 0 0 1 


real	0m10.937s
user	0m19.152s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.774441
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1076
Level     0,  Iter     1:    Energy =   0.1148
Level     0,  Iter     2:    Energy =   0.1214
Level     0,  Iter     3:    Energy =   0.1264
Level     0,  Iter     4:    Energy =   0.1295
Level     0,  Iter     5:    Energy =   0.1324
Level     0,  Iter     6:    Energy =   0.1344
Level     0,  Iter     7:    Energy =   0.1357
Level     0,  Iter     8:    Energy =   0.1372
Level     0,  Iter     9:    Energy =   0.1376
Level     0,  Iter    10:    Energy =   0.1386
Level     0,  Iter    11:    Energy =   0.1392
Level     0,  Iter    12:    Energy =   0.1399
Level     0,  Iter    13:    Energy =   0.1400
Level     0,  Iter    14:    Energy =   0.1406
Level     0,  Iter    15:    Energy =   0.1407
Level     0,  Iter    16:    Energy =   0.1413
Level     0,  Iter    17:    Energy =   0.1412
Level     0,  Iter    18:    Energy =   0.1420
Level     0,  Iter    19:    Energy =   0.1419
Level     0,  Iter    20:    Energy =   0.1425
Level     0,  Iter    21:    Energy =   0.1423
Level     0,  Iter    22:    Energy =   0.1428
Level     0,  Iter    23:    Energy =   0.1427
Level     0,  Iter    24:    Energy =   0.1432
Level     0,  Iter    25:    Energy =   0.1426
Level     0,  Iter    26:    Energy =   0.1434
Level     0,  Iter    27:    Energy =   0.1431
Level     0,  Iter    28:    Energy =   0.1436
Level     0,  Iter    29:    Energy =   0.1431
Level     0,  Iter    30:    Energy =   0.1437
Level     0,  Iter    31:    Energy =   0.1434
Level     0,  Iter    32:    Energy =   0.1439
Level     0,  Iter    33:    Energy =   0.1434
Level     0,  Iter    34:    Energy =   0.1440
Level     0,  Iter    35:    Energy =   0.1436
Level     0,  Iter    36:    Energy =   0.1441
Level     0,  Iter    37:    Energy =   0.1435
Level     0,  Iter    38:    Energy =   0.1442
Level     0,  Iter    39:    Energy =   0.1438
Level     0,  Iter    40:    Energy =   0.1444
Level     0,  Iter    41:    Energy =   0.1437
Level     0,  Iter    42:    Energy =   0.1443
Level     0,  Iter    43:    Energy =   0.1439
Level     0,  Iter    44:    Energy =   0.1444
Level     0,  Iter    45:    Energy =   0.1437
Level     0,  Iter    46:    Energy =   0.1442
Level     0,  Iter    47:    Energy =   0.1438
Level     0,  Iter    48:    Energy =   0.1443
Level     0,  Iter    49:    Energy =   0.1437
Level     0,  Iter    50:    Energy =   0.1441
Level     0,  Iter    51:    Energy =   0.1436
Level     0,  Iter    52:    Energy =   0.1441
Level     0,  Iter    53:    Energy =   0.1436
Level     0,  Iter    54:    Energy =   0.1441
Level     0,  Iter    55:    Energy =   0.1436
Level     0,  Iter    56:    Energy =   0.1441
Level     0,  Iter    57:    Energy =   0.1437
Level     0,  Iter    58:    Energy =   0.1442
Level     0,  Iter    59:    Energy =   0.1438
END OF LEVEL     0    DetJac Range:   0.3203  to   2.4587 
  Avg. Gradient Time  : 0.0088s  34.63% 
  Avg. Gaussian Time  : 0.0127s  49.89% 
  Avg. Iteration Time : 0.0254s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0945
Level     1,  Iter     1:    Energy =   0.0982
Level     1,  Iter     2:    Energy =   0.1015
Level     1,  Iter     3:    Energy =   0.1046
Level     1,  Iter     4:    Energy =   0.1070
Level     1,  Iter     5:    Energy =   0.1092
Level     1,  Iter     6:    Energy =   0.1111
Level     1,  Iter     7:    Energy =   0.1129
Level     1,  Iter     8:    Energy =   0.1146
Level     1,  Iter     9:    Energy =   0.1165
Level     1,  Iter    10:    Energy =   0.1184
Level     1,  Iter    11:    Energy =   0.1195
Level     1,  Iter    12:    Energy =   0.1205
Level     1,  Iter    13:    Energy =   0.1215
Level     1,  Iter    14:    Energy =   0.1221
Level     1,  Iter    15:    Energy =   0.1226
Level     1,  Iter    16:    Energy =   0.1224
Level     1,  Iter    17:    Energy =   0.1226
Level     1,  Iter    18:    Energy =   0.1224
Level     1,  Iter    19:    Energy =   0.1227
Level     1,  Iter    20:    Energy =   0.1226
Level     1,  Iter    21:    Energy =   0.1228
Level     1,  Iter    22:    Energy =   0.1228
Level     1,  Iter    23:    Energy =   0.1230
Level     1,  Iter    24:    Energy =   0.1230
Level     1,  Iter    25:    Energy =   0.1231
Level     1,  Iter    26:    Energy =   0.1232
Level     1,  Iter    27:    Energy =   0.1233
Level     1,  Iter    28:    Energy =   0.1234
Level     1,  Iter    29:    Energy =   0.1235
Level     1,  Iter    30:    Energy =   0.1236
Level     1,  Iter    31:    Energy =   0.1237
Level     1,  Iter    32:    Energy =   0.1238
Level     1,  Iter    33:    Energy =   0.1238
Level     1,  Iter    34:    Energy =   0.1239
Level     1,  Iter    35:    Energy =   0.1241
Level     1,  Iter    36:    Energy =   0.1240
Level     1,  Iter    37:    Energy =   0.1241
Level     1,  Iter    38:    Energy =   0.1242
Level     1,  Iter    39:    Energy =   0.1243
Level     1,  Iter    40:    Energy =   0.1243
Level     1,  Iter    41:    Energy =   0.1244
Level     1,  Iter    42:    Energy =   0.1244
Level     1,  Iter    43:    Energy =   0.1245
Level     1,  Iter    44:    Energy =   0.1245
Level     1,  Iter    45:    Energy =   0.1246
Level     1,  Iter    46:    Energy =   0.1246
Level     1,  Iter    47:    Energy =   0.1247
Level     1,  Iter    48:    Energy =   0.1247
Level     1,  Iter    49:    Energy =   0.1248
Level     1,  Iter    50:    Energy =   0.1248
Level     1,  Iter    51:    Energy =   0.1249
Level     1,  Iter    52:    Energy =   0.1248
Level     1,  Iter    53:    Energy =   0.1250
Level     1,  Iter    54:    Energy =   0.1249
Level     1,  Iter    55:    Energy =   0.1250
Level     1,  Iter    56:    Energy =   0.1250
Level     1,  Iter    57:    Energy =   0.1251
Level     1,  Iter    58:    Energy =   0.1251
Level     1,  Iter    59:    Energy =   0.1252
END OF LEVEL     1    DetJac Range:   0.0679  to   3.5385 
  Avg. Gradient Time  : 0.0495s  32.59% 
  Avg. Gaussian Time  : 0.0826s  54.42% 
  Avg. Iteration Time : 0.1518s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0637
Level     2,  Iter     1:    Energy =   0.0663
Level     2,  Iter     2:    Energy =   0.0692
Level     2,  Iter     3:    Energy =   0.0716
Level     2,  Iter     4:    Energy =   0.0735
Level     2,  Iter     5:    Energy =   0.0750
Level     2,  Iter     6:    Energy =   0.0763
Level     2,  Iter     7:    Energy =   0.0776
Level     2,  Iter     8:    Energy =   0.0789
Level     2,  Iter     9:    Energy =   0.0801
Level     2,  Iter    10:    Energy =   0.0810
Level     2,  Iter    11:    Energy =   0.0817
Level     2,  Iter    12:    Energy =   0.0822
Level     2,  Iter    13:    Energy =   0.0827
Level     2,  Iter    14:    Energy =   0.0831
Level     2,  Iter    15:    Energy =   0.0835
Level     2,  Iter    16:    Energy =   0.0838
Level     2,  Iter    17:    Energy =   0.0842
Level     2,  Iter    18:    Energy =   0.0845
Level     2,  Iter    19:    Energy =   0.0849
END OF LEVEL     2    DetJac Range:   0.0315  to   4.5569 
  Avg. Gradient Time  : 0.3231s  27.01% 
  Avg. Gaussian Time  : 0.7292s  60.96% 
  Avg. Iteration Time : 1.1961s 

real	0m39.889s
user	1m12.356s
sys	0m2.456s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401923 0.407692
+ echo 'CHUNK 0.401923 0.407692 1'
CHUNK 0.401923 0.407692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401923 0.407692 1
====================================
         PROGRESS: 0.401923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.482932
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3559.31   GNORM= 533.367
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3652.469     288.365       0.001
   2    4     -3682.885     132.420       1.000
   3    5     -3696.187     118.870       1.000
   4    6     -3714.427     138.283       1.000
   5    7     -3741.068     149.244       1.000
   6    8     -3775.118     181.702       1.000
   7   10     -3782.649     128.190       0.323
   8   11     -3793.269      97.994       1.000
   9   12     -3806.821      74.255       1.000
  10   13     -3819.376      80.768       1.000
  11   14     -3827.937      18.230       1.000
  12   15     -3829.101      19.164       1.000
  13   17     -3829.346      21.348       0.272
  14   18     -3829.572      13.750       1.000
  15   19     -3830.041      13.705       1.000
  16   21     -3830.386      15.697       0.338
  17   22     -3830.600      19.523       1.000
  18   23     -3830.822      12.615       1.000
  19   24     -3831.070      28.397       1.000
  20   25     -3831.630      14.913       1.000
  21   26     -3831.780      21.298       1.000
  22   27     -3832.026      14.260       1.000
  23   28     -3832.301      13.532       1.000
  24   29     -3832.341      10.671       1.000
  25   30     -3832.363       4.763       1.000
  26   31     -3832.371       7.278       1.000
  27   32     -3832.391       8.374       1.000
  28   34     -3832.408       4.845       0.350
  29   35     -3832.437       4.679       1.000
  30   36     -3832.445       4.659       1.000
  31   37     -3832.476       4.642       1.000
  32   38     -3832.514       8.981       1.000
  33   39     -3832.520      13.851       1.000
  34   40     -3832.571       5.135       1.000
  35   41     -3832.590       4.687       1.000
  36   42     -3832.598       4.728       1.000
  37   43     -3832.611       4.845       1.000
  38   44     -3832.619       3.225       1.000
  39   45     -3832.626       3.457       1.000
Final RAS Transform: 
0.954502 0.0118248 -0.00549262 0.919923 
-0.0207815 1.00667 0.0473225 0.835827 
0.0233596 0.0030658 1.01956 0.31422 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2760.22   GNORM= 203.056
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2768.253      59.333       0.000
   2    4     -2769.583      46.058       1.000
   3    5     -2770.656      31.516       1.000
   4    6     -2771.234      26.107       1.000
   5    7     -2774.750      46.721       1.000
   6    8     -2778.048      59.193       1.000
   7    9     -2784.198     103.489       1.000
   8   11     -2786.494      45.322       0.390
   9   12     -2787.312      25.222       1.000
  10   13     -2787.799      15.737       1.000
  11   14     -2788.106      14.853       1.000
  12   15     -2789.417      39.638       1.000
  13   16     -2790.627      27.669       1.000
  14   17     -2791.302      24.507       1.000
  15   19     -2791.392      14.431       0.401
  16   20     -2791.514      14.166       1.000
  17   22     -2791.615       8.742       0.463
  18   23     -2791.711       7.999       1.000
  19   25     -2791.941      13.676       0.201
  20   26     -2792.150       9.173       1.000
  21   28     -2792.184       5.945       0.387
  22   29     -2792.216       5.825       1.000
  23   30     -2792.229       7.418       1.000
  24   31     -2792.260       4.561       1.000
  25   32     -2792.297       4.092       1.000
  26   33     -2792.340       6.924       1.000
  27   34     -2792.370       9.202       1.000
  28   35     -2792.389       2.458       1.000
  29   37     -2792.397       2.450       0.410
  30   39     -2792.410       2.625       0.421
  31   40     -2792.414       4.293       1.000
  32   41     -2792.466       6.368       1.000
  33   43     -2792.640      12.515       0.444
  34   44     -2792.643      12.495       1.000
  35   45     -2792.694      10.671       1.000
  36   46     -2792.722       5.996       1.000
  37   47     -2792.733       3.388       1.000
  38   48     -2792.748       2.507       1.000
Final RAS Transform: 
0.965751 -0.00528869 -0.0204452 0.289914 
-0.0157382 1.00402 0.0272432 0.609329 
0.0161735 0.0067293 1.0212 0.422623 
0 0 0 1 

Final RAS Transform: 
0.965751 -0.00528869 -0.0204452 0.289914 
-0.0157382 1.00402 0.0272432 0.609329 
0.0161735 0.0067293 1.0212 0.422623 
0 0 0 1 


real	0m11.413s
user	0m20.016s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.48972
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1116
Level     0,  Iter     1:    Energy =   0.1194
Level     0,  Iter     2:    Energy =   0.1257
Level     0,  Iter     3:    Energy =   0.1303
Level     0,  Iter     4:    Energy =   0.1326
Level     0,  Iter     5:    Energy =   0.1344
Level     0,  Iter     6:    Energy =   0.1358
Level     0,  Iter     7:    Energy =   0.1367
Level     0,  Iter     8:    Energy =   0.1376
Level     0,  Iter     9:    Energy =   0.1382
Level     0,  Iter    10:    Energy =   0.1388
Level     0,  Iter    11:    Energy =   0.1393
Level     0,  Iter    12:    Energy =   0.1397
Level     0,  Iter    13:    Energy =   0.1401
Level     0,  Iter    14:    Energy =   0.1403
Level     0,  Iter    15:    Energy =   0.1407
Level     0,  Iter    16:    Energy =   0.1408
Level     0,  Iter    17:    Energy =   0.1412
Level     0,  Iter    18:    Energy =   0.1413
Level     0,  Iter    19:    Energy =   0.1416
Level     0,  Iter    20:    Energy =   0.1416
Level     0,  Iter    21:    Energy =   0.1419
Level     0,  Iter    22:    Energy =   0.1419
Level     0,  Iter    23:    Energy =   0.1422
Level     0,  Iter    24:    Energy =   0.1422
Level     0,  Iter    25:    Energy =   0.1424
Level     0,  Iter    26:    Energy =   0.1423
Level     0,  Iter    27:    Energy =   0.1426
Level     0,  Iter    28:    Energy =   0.1426
Level     0,  Iter    29:    Energy =   0.1428
Level     0,  Iter    30:    Energy =   0.1426
Level     0,  Iter    31:    Energy =   0.1429
Level     0,  Iter    32:    Energy =   0.1429
Level     0,  Iter    33:    Energy =   0.1430
Level     0,  Iter    34:    Energy =   0.1429
Level     0,  Iter    35:    Energy =   0.1431
Level     0,  Iter    36:    Energy =   0.1429
Level     0,  Iter    37:    Energy =   0.1432
Level     0,  Iter    38:    Energy =   0.1431
Level     0,  Iter    39:    Energy =   0.1432
Level     0,  Iter    40:    Energy =   0.1431
Level     0,  Iter    41:    Energy =   0.1433
Level     0,  Iter    42:    Energy =   0.1431
Level     0,  Iter    43:    Energy =   0.1433
Level     0,  Iter    44:    Energy =   0.1432
Level     0,  Iter    45:    Energy =   0.1434
Level     0,  Iter    46:    Energy =   0.1432
Level     0,  Iter    47:    Energy =   0.1434
Level     0,  Iter    48:    Energy =   0.1432
Level     0,  Iter    49:    Energy =   0.1434
Level     0,  Iter    50:    Energy =   0.1433
Level     0,  Iter    51:    Energy =   0.1434
Level     0,  Iter    52:    Energy =   0.1433
Level     0,  Iter    53:    Energy =   0.1435
Level     0,  Iter    54:    Energy =   0.1433
Level     0,  Iter    55:    Energy =   0.1435
Level     0,  Iter    56:    Energy =   0.1434
Level     0,  Iter    57:    Energy =   0.1435
Level     0,  Iter    58:    Energy =   0.1434
Level     0,  Iter    59:    Energy =   0.1435
END OF LEVEL     0    DetJac Range:   0.2913  to   2.0897 
  Avg. Gradient Time  : 0.0077s  34.25% 
  Avg. Gaussian Time  : 0.0114s  50.37% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0983
Level     1,  Iter     1:    Energy =   0.1025
Level     1,  Iter     2:    Energy =   0.1072
Level     1,  Iter     3:    Energy =   0.1109
Level     1,  Iter     4:    Energy =   0.1136
Level     1,  Iter     5:    Energy =   0.1155
Level     1,  Iter     6:    Energy =   0.1170
Level     1,  Iter     7:    Energy =   0.1183
Level     1,  Iter     8:    Energy =   0.1193
Level     1,  Iter     9:    Energy =   0.1203
Level     1,  Iter    10:    Energy =   0.1211
Level     1,  Iter    11:    Energy =   0.1220
Level     1,  Iter    12:    Energy =   0.1227
Level     1,  Iter    13:    Energy =   0.1234
Level     1,  Iter    14:    Energy =   0.1237
Level     1,  Iter    15:    Energy =   0.1241
Level     1,  Iter    16:    Energy =   0.1243
Level     1,  Iter    17:    Energy =   0.1247
Level     1,  Iter    18:    Energy =   0.1248
Level     1,  Iter    19:    Energy =   0.1250
Level     1,  Iter    20:    Energy =   0.1251
Level     1,  Iter    21:    Energy =   0.1252
Level     1,  Iter    22:    Energy =   0.1254
Level     1,  Iter    23:    Energy =   0.1255
Level     1,  Iter    24:    Energy =   0.1257
Level     1,  Iter    25:    Energy =   0.1257
Level     1,  Iter    26:    Energy =   0.1259
Level     1,  Iter    27:    Energy =   0.1259
Level     1,  Iter    28:    Energy =   0.1261
Level     1,  Iter    29:    Energy =   0.1261
Level     1,  Iter    30:    Energy =   0.1263
Level     1,  Iter    31:    Energy =   0.1263
Level     1,  Iter    32:    Energy =   0.1264
Level     1,  Iter    33:    Energy =   0.1264
Level     1,  Iter    34:    Energy =   0.1265
Level     1,  Iter    35:    Energy =   0.1265
Level     1,  Iter    36:    Energy =   0.1266
Level     1,  Iter    37:    Energy =   0.1266
Level     1,  Iter    38:    Energy =   0.1267
Level     1,  Iter    39:    Energy =   0.1267
Level     1,  Iter    40:    Energy =   0.1268
Level     1,  Iter    41:    Energy =   0.1267
Level     1,  Iter    42:    Energy =   0.1268
Level     1,  Iter    43:    Energy =   0.1268
Level     1,  Iter    44:    Energy =   0.1269
Level     1,  Iter    45:    Energy =   0.1269
Level     1,  Iter    46:    Energy =   0.1269
Level     1,  Iter    47:    Energy =   0.1270
Level     1,  Iter    48:    Energy =   0.1270
Level     1,  Iter    49:    Energy =   0.1270
Level     1,  Iter    50:    Energy =   0.1270
Level     1,  Iter    51:    Energy =   0.1271
Level     1,  Iter    52:    Energy =   0.1272
Level     1,  Iter    53:    Energy =   0.1270
Level     1,  Iter    54:    Energy =   0.1271
Level     1,  Iter    55:    Energy =   0.1272
Level     1,  Iter    56:    Energy =   0.1273
Level     1,  Iter    57:    Energy =   0.1273
Level     1,  Iter    58:    Energy =   0.1273
Level     1,  Iter    59:    Energy =   0.1272
END OF LEVEL     1    DetJac Range:   0.1453  to   2.8925 
  Avg. Gradient Time  : 0.0439s  32.84% 
  Avg. Gaussian Time  : 0.0727s  54.32% 
  Avg. Iteration Time : 0.1338s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0687
Level     2,  Iter     1:    Energy =   0.0716
Level     2,  Iter     2:    Energy =   0.0740
Level     2,  Iter     3:    Energy =   0.0757
Level     2,  Iter     4:    Energy =   0.0771
Level     2,  Iter     5:    Energy =   0.0784
Level     2,  Iter     6:    Energy =   0.0793
Level     2,  Iter     7:    Energy =   0.0801
Level     2,  Iter     8:    Energy =   0.0809
Level     2,  Iter     9:    Energy =   0.0815
Level     2,  Iter    10:    Energy =   0.0820
Level     2,  Iter    11:    Energy =   0.0826
Level     2,  Iter    12:    Energy =   0.0830
Level     2,  Iter    13:    Energy =   0.0835
Level     2,  Iter    14:    Energy =   0.0839
Level     2,  Iter    15:    Energy =   0.0842
Level     2,  Iter    16:    Energy =   0.0846
Level     2,  Iter    17:    Energy =   0.0848
Level     2,  Iter    18:    Energy =   0.0851
Level     2,  Iter    19:    Energy =   0.0854
END OF LEVEL     2    DetJac Range:   0.0930  to   3.1122 
  Avg. Gradient Time  : 0.3100s  26.55% 
  Avg. Gaussian Time  : 0.7190s  61.57% 
  Avg. Iteration Time : 1.1677s 

real	0m37.981s
user	1m8.836s
sys	0m2.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.407692 0.413462
+ echo 'CHUNK 0.407692 0.413462 1'
CHUNK 0.407692 0.413462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.407692 0.413462 1
====================================
         PROGRESS: 0.407692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.463675
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3364.5   GNORM= 326.192
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3397.102     175.036       0.001
   2    4     -3409.220     121.774       1.000
   3    5     -3426.388      95.850       1.000
   4    6     -3440.921     141.993       1.000
   5    7     -3476.026     167.233       1.000
   6    8     -3497.663     172.955       1.000
   7    9     -3517.609      57.555       1.000
   8   10     -3524.578      38.663       1.000
   9   11     -3526.950     132.379       1.000
  10   12     -3530.652      43.523       1.000
  11   13     -3531.941      29.913       1.000
  12   14     -3533.166      27.342       1.000
  13   15     -3535.166      41.920       1.000
  14   16     -3537.131      29.043       1.000
  15   17     -3538.092      27.995       1.000
  16   18     -3539.543      54.382       1.000
  17   19     -3540.887      20.085       1.000
  18   20     -3541.291      14.079       1.000
  19   21     -3541.571      20.108       1.000
  20   22     -3542.093      18.778       1.000
  21   23     -3542.578      14.803       1.000
  22   25     -3542.922      14.998       0.420
  23   26     -3543.148      10.037       1.000
  24   27     -3543.412      20.193       1.000
  25   28     -3543.674       8.933       1.000
  26   29     -3543.775       6.682       1.000
  27   30     -3543.860       6.579       1.000
  28   32     -3543.910       6.015       0.101
  29   33     -3543.950       5.736       1.000
  30   34     -3544.023      11.887       1.000
  31   36     -3544.078       7.206       0.292
  32   37     -3544.097      10.545       1.000
  33   38     -3544.137       4.715       1.000
  34   39     -3544.161       7.435       1.000
  35   40     -3544.171       4.892       1.000
  36   41     -3544.191       3.153       1.000
  37   42     -3544.199       6.149       1.000
  38   43     -3544.200       4.183       1.000
  39   44     -3544.213       3.309       1.000
  40   46     -3544.225       6.373       0.326
  41   47     -3544.226       2.652       1.000
  42   48     -3544.234       2.117       1.000
Final RAS Transform: 
0.964751 -0.00319597 -0.044894 0.194657 
-0.0197193 1.00439 0.0196501 0.901105 
0.0357799 0.0128368 1.05701 0.396366 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2566.36   GNORM= 251.635
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2580.715      75.879       0.000
   2    4     -2582.954      56.719       1.000
   3    5     -2585.502      79.628       1.000
   4    6     -2593.420     136.497       1.000
   5    7     -2603.708     126.656       1.000
   6    9     -2605.631     127.061       0.251
   7   10     -2609.913      45.739       1.000
   8   11     -2610.519      14.266       1.000
   9   12     -2610.662      16.366       1.000
  10   13     -2611.484      41.989       1.000
  11   14     -2612.582      43.782       1.000
  12   15     -2615.999      60.939       1.000
  13   17     -2617.688      56.939       0.466
  14   18     -2619.639      25.668       1.000
  15   19     -2620.297      11.244       1.000
  16   20     -2620.411      21.521       1.000
  17   21     -2620.715      11.604       1.000
  18   22     -2621.088      12.505       1.000
  19   23     -2621.420      11.274       1.000
  20   24     -2621.804      10.211       1.000
  21   26     -2622.422      34.786       0.339
  22   27     -2623.018      19.476       1.000
  23   28     -2623.189       7.211       1.000
  24   29     -2623.320       5.965       1.000
  25   30     -2623.358       3.583       1.000
  26   31     -2623.401       5.716       1.000
  27   33     -2623.430      10.886       0.414
  28   34     -2623.488       7.098       1.000
  29   35     -2623.586       6.633       1.000
  30   37     -2623.619       4.960       0.481
  31   38     -2623.637       4.384       1.000
  32   39     -2623.651       3.638       1.000
  33   40     -2623.690       3.616       1.000
  34   41     -2623.803       5.880       1.000
  35   42     -2623.831      17.005       1.000
  36   43     -2623.895       7.084       1.000
  37   44     -2623.914       5.224       1.000
  38   45     -2623.955       7.771       1.000
  39   46     -2623.995       4.843       1.000
  40   48     -2624.036       8.692       0.498
  41   49     -2624.072       5.975       1.000
  42   50     -2624.094       6.492       1.000
  43   51     -2624.110       2.829       1.000
  44   52     -2624.118       2.992       1.000
  45   53     -2624.138       4.424       1.000
  46   54     -2624.154      10.979       1.000
  47   55     -2624.215       6.692       1.000
  48   56     -2624.259       7.673       1.000
  49   57     -2624.274       2.605       1.000
  50   58     -2624.293       2.441       1.000
  51   60     -2624.300       5.187       0.214
  52   61     -2624.335       2.504       1.000
Final RAS Transform: 
0.972362 -0.00649293 -0.0470752 0.0170261 
-0.0146461 1.00099 -0.0142379 0.602868 
0.0173168 0.0234719 1.03747 0.755386 
0 0 0 1 

Final RAS Transform: 
0.972362 -0.00649293 -0.0470752 0.0170261 
-0.0146461 1.00099 -0.0142379 0.602868 
0.0173168 0.0234719 1.03747 0.755386 
0 0 0 1 


real	0m10.833s
user	0m18.916s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.474499
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1017
Level     0,  Iter     1:    Energy =   0.1103
Level     0,  Iter     2:    Energy =   0.1159
Level     0,  Iter     3:    Energy =   0.1211
Level     0,  Iter     4:    Energy =   0.1239
Level     0,  Iter     5:    Energy =   0.1257
Level     0,  Iter     6:    Energy =   0.1271
Level     0,  Iter     7:    Energy =   0.1283
Level     0,  Iter     8:    Energy =   0.1292
Level     0,  Iter     9:    Energy =   0.1300
Level     0,  Iter    10:    Energy =   0.1306
Level     0,  Iter    11:    Energy =   0.1312
Level     0,  Iter    12:    Energy =   0.1316
Level     0,  Iter    13:    Energy =   0.1320
Level     0,  Iter    14:    Energy =   0.1323
Level     0,  Iter    15:    Energy =   0.1326
Level     0,  Iter    16:    Energy =   0.1329
Level     0,  Iter    17:    Energy =   0.1332
Level     0,  Iter    18:    Energy =   0.1334
Level     0,  Iter    19:    Energy =   0.1336
Level     0,  Iter    20:    Energy =   0.1338
Level     0,  Iter    21:    Energy =   0.1339
Level     0,  Iter    22:    Energy =   0.1341
Level     0,  Iter    23:    Energy =   0.1343
Level     0,  Iter    24:    Energy =   0.1345
Level     0,  Iter    25:    Energy =   0.1347
Level     0,  Iter    26:    Energy =   0.1348
Level     0,  Iter    27:    Energy =   0.1350
Level     0,  Iter    28:    Energy =   0.1352
Level     0,  Iter    29:    Energy =   0.1352
Level     0,  Iter    30:    Energy =   0.1354
Level     0,  Iter    31:    Energy =   0.1355
Level     0,  Iter    32:    Energy =   0.1357
Level     0,  Iter    33:    Energy =   0.1357
Level     0,  Iter    34:    Energy =   0.1359
Level     0,  Iter    35:    Energy =   0.1360
Level     0,  Iter    36:    Energy =   0.1361
Level     0,  Iter    37:    Energy =   0.1361
Level     0,  Iter    38:    Energy =   0.1362
Level     0,  Iter    39:    Energy =   0.1363
Level     0,  Iter    40:    Energy =   0.1365
Level     0,  Iter    41:    Energy =   0.1365
Level     0,  Iter    42:    Energy =   0.1367
Level     0,  Iter    43:    Energy =   0.1368
Level     0,  Iter    44:    Energy =   0.1369
Level     0,  Iter    45:    Energy =   0.1370
Level     0,  Iter    46:    Energy =   0.1371
Level     0,  Iter    47:    Energy =   0.1372
Level     0,  Iter    48:    Energy =   0.1373
Level     0,  Iter    49:    Energy =   0.1373
Level     0,  Iter    50:    Energy =   0.1374
Level     0,  Iter    51:    Energy =   0.1375
Level     0,  Iter    52:    Energy =   0.1376
Level     0,  Iter    53:    Energy =   0.1377
Level     0,  Iter    54:    Energy =   0.1377
Level     0,  Iter    55:    Energy =   0.1377
Level     0,  Iter    56:    Energy =   0.1378
Level     0,  Iter    57:    Energy =   0.1379
Level     0,  Iter    58:    Energy =   0.1378
Level     0,  Iter    59:    Energy =   0.1379
END OF LEVEL     0    DetJac Range:   0.2556  to   2.0482 
  Avg. Gradient Time  : 0.0077s  34.34% 
  Avg. Gaussian Time  : 0.0112s  50.09% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0962
Level     1,  Iter     1:    Energy =   0.1007
Level     1,  Iter     2:    Energy =   0.1056
Level     1,  Iter     3:    Energy =   0.1097
Level     1,  Iter     4:    Energy =   0.1126
Level     1,  Iter     5:    Energy =   0.1149
Level     1,  Iter     6:    Energy =   0.1167
Level     1,  Iter     7:    Energy =   0.1181
Level     1,  Iter     8:    Energy =   0.1192
Level     1,  Iter     9:    Energy =   0.1197
Level     1,  Iter    10:    Energy =   0.1201
Level     1,  Iter    11:    Energy =   0.1205
Level     1,  Iter    12:    Energy =   0.1208
Level     1,  Iter    13:    Energy =   0.1211
Level     1,  Iter    14:    Energy =   0.1214
Level     1,  Iter    15:    Energy =   0.1216
Level     1,  Iter    16:    Energy =   0.1219
Level     1,  Iter    17:    Energy =   0.1220
Level     1,  Iter    18:    Energy =   0.1222
Level     1,  Iter    19:    Energy =   0.1223
Level     1,  Iter    20:    Energy =   0.1226
Level     1,  Iter    21:    Energy =   0.1226
Level     1,  Iter    22:    Energy =   0.1228
Level     1,  Iter    23:    Energy =   0.1229
Level     1,  Iter    24:    Energy =   0.1230
Level     1,  Iter    25:    Energy =   0.1231
Level     1,  Iter    26:    Energy =   0.1232
Level     1,  Iter    27:    Energy =   0.1233
Level     1,  Iter    28:    Energy =   0.1234
Level     1,  Iter    29:    Energy =   0.1234
Level     1,  Iter    30:    Energy =   0.1235
Level     1,  Iter    31:    Energy =   0.1236
Level     1,  Iter    32:    Energy =   0.1237
Level     1,  Iter    33:    Energy =   0.1237
Level     1,  Iter    34:    Energy =   0.1238
Level     1,  Iter    35:    Energy =   0.1238
Level     1,  Iter    36:    Energy =   0.1239
Level     1,  Iter    37:    Energy =   0.1239
Level     1,  Iter    38:    Energy =   0.1240
Level     1,  Iter    39:    Energy =   0.1240
Level     1,  Iter    40:    Energy =   0.1241
Level     1,  Iter    41:    Energy =   0.1241
Level     1,  Iter    42:    Energy =   0.1242
Level     1,  Iter    43:    Energy =   0.1242
Level     1,  Iter    44:    Energy =   0.1242
Level     1,  Iter    45:    Energy =   0.1243
Level     1,  Iter    46:    Energy =   0.1243
Level     1,  Iter    47:    Energy =   0.1243
Level     1,  Iter    48:    Energy =   0.1243
Level     1,  Iter    49:    Energy =   0.1244
Level     1,  Iter    50:    Energy =   0.1244
Level     1,  Iter    51:    Energy =   0.1244
Level     1,  Iter    52:    Energy =   0.1245
Level     1,  Iter    53:    Energy =   0.1245
Level     1,  Iter    54:    Energy =   0.1245
Level     1,  Iter    55:    Energy =   0.1246
Level     1,  Iter    56:    Energy =   0.1246
Level     1,  Iter    57:    Energy =   0.1246
Level     1,  Iter    58:    Energy =   0.1246
Level     1,  Iter    59:    Energy =   0.1247
END OF LEVEL     1    DetJac Range:   0.1287  to   2.8692 
  Avg. Gradient Time  : 0.0434s  32.80% 
  Avg. Gaussian Time  : 0.0720s  54.35% 
  Avg. Iteration Time : 0.1324s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0671
Level     2,  Iter     1:    Energy =   0.0693
Level     2,  Iter     2:    Energy =   0.0716
Level     2,  Iter     3:    Energy =   0.0734
Level     2,  Iter     4:    Energy =   0.0749
Level     2,  Iter     5:    Energy =   0.0761
Level     2,  Iter     6:    Energy =   0.0772
Level     2,  Iter     7:    Energy =   0.0782
Level     2,  Iter     8:    Energy =   0.0790
Level     2,  Iter     9:    Energy =   0.0798
Level     2,  Iter    10:    Energy =   0.0805
Level     2,  Iter    11:    Energy =   0.0811
Level     2,  Iter    12:    Energy =   0.0817
Level     2,  Iter    13:    Energy =   0.0823
Level     2,  Iter    14:    Energy =   0.0828
Level     2,  Iter    15:    Energy =   0.0832
Level     2,  Iter    16:    Energy =   0.0836
Level     2,  Iter    17:    Energy =   0.0840
Level     2,  Iter    18:    Energy =   0.0843
Level     2,  Iter    19:    Energy =   0.0845
END OF LEVEL     2    DetJac Range:   0.0749  to   3.6627 
  Avg. Gradient Time  : 0.3098s  27.30% 
  Avg. Gaussian Time  : 0.6867s  60.51% 
  Avg. Iteration Time : 1.1349s 

real	0m36.968s
user	1m6.796s
sys	0m2.340s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.413462 0.419231
+ echo 'CHUNK 0.413462 0.419231 1'
CHUNK 0.413462 0.419231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.413462 0.419231 1
====================================
         PROGRESS: 0.413462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.82589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3541.92   GNORM= 411.051
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3620.486     413.715       0.002
   2    3     -3688.555     216.888       1.000
   3    4     -3701.931      82.227       1.000
   4    5     -3707.195      88.510       1.000
   5    6     -3733.996     123.547       1.000
   6    7     -3742.449     131.781       1.000
   7    8     -3750.327      52.271       1.000
   8    9     -3754.942      38.182       1.000
   9   10     -3760.257     104.296       1.000
  10   11     -3766.878      94.136       1.000
  11   12     -3774.927      44.561       1.000
  12   13     -3776.822      33.829       1.000
  13   14     -3778.011      34.184       1.000
  14   15     -3778.523      23.486       1.000
  15   17     -3779.041      21.045       0.456
  16   18     -3779.345      18.544       1.000
  17   19     -3779.752      16.630       1.000
  18   21     -3780.640      37.329       0.423
  19   22     -3781.495      30.165       1.000
  20   23     -3781.791      30.540       1.000
  21   24     -3782.163      12.670       1.000
  22   25     -3782.368      12.775       1.000
  23   27     -3782.686      22.807       0.411
  24   28     -3783.089      17.731       1.000
  25   29     -3783.429      14.727       1.000
  26   30     -3783.559      20.562       1.000
  27   31     -3784.045      15.704       1.000
  28   32     -3784.164      10.191       1.000
  29   33     -3784.198       8.710       1.000
  30   34     -3784.234       4.851       1.000
  31   35     -3784.258       4.312       1.000
  32   36     -3784.299       3.642       1.000
  33   37     -3784.321       8.500       1.000
  34   39     -3784.349       4.250       0.506
  35   40     -3784.357       5.746       1.000
  36   41     -3784.366       1.991       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994185 0.00162692 -0.0186472 -0.152694 
-0.00865696 1.01968 0.067559 0.497044 
0.0295634 0.00353972 1.03045 0.242744 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2597.55   GNORM= 211.7
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2609.360      74.819       0.000
   2    4     -2612.157      60.725       1.000
   3    5     -2617.737      52.842       1.000
   4    6     -2623.126      57.134       1.000
   5    7     -2632.154      76.953       1.000
   6    8     -2637.762      44.815       1.000
   7    9     -2639.566      31.187       1.000
   8   10     -2640.853      34.379       1.000
   9   11     -2642.569      49.223       1.000
  10   12     -2648.086      71.432       1.000
  11   13     -2654.334      78.455       1.000
  12   15     -2656.892      43.659       0.453
  13   16     -2658.188      21.333       1.000
  14   17     -2658.973      14.672       1.000
  15   18     -2659.659      20.722       1.000
  16   19     -2659.777      78.651       1.000
  17   20     -2661.244      34.261       1.000
  18   21     -2662.085      18.160       1.000
  19   22     -2662.300      12.156       1.000
  20   23     -2662.399      15.659       1.000
  21   24     -2662.535      14.383       1.000
  22   25     -2662.763      10.485       1.000
  23   26     -2663.098      13.874       1.000
  24   27     -2663.261      12.705       1.000
  25   28     -2663.495      22.608       1.000
  26   29     -2663.625       8.123       1.000
  27   30     -2663.666       6.098       1.000
  28   31     -2663.702      10.924       1.000
  29   32     -2663.742      11.078       1.000
  30   33     -2663.861       6.061       1.000
  31   34     -2663.955       3.927       1.000
  32   35     -2664.173       9.053       1.000
  33   36     -2664.306      19.687       1.000
  34   37     -2664.495      17.360       1.000
  35   38     -2664.762       8.009       1.000
  36   39     -2665.034      14.824       1.000
  37   40     -2665.161       6.083       1.000
  38   41     -2665.197       5.379       1.000
  39   42     -2665.264       3.741       1.000
  40   43     -2665.322       7.950       1.000
  41   44     -2665.386       5.449       1.000
  42   45     -2665.413       4.370       1.000
  43   47     -2665.428       3.795       0.135
  44   48     -2665.430       4.206       1.000
  45   49     -2665.458       2.476       1.000
  46   51     -2665.496       8.064       0.210
  47   52     -2665.512       7.702       1.000
  48   54     -2665.542       3.532       0.177
  49   55     -2665.554       3.536       1.000
  50   56     -2665.562       4.202       1.000
  51   57     -2665.593       5.094       1.000
  52   59     -2665.606       2.814       0.386
  53   61     -2665.611       2.222       0.113
Final RAS Transform: 
1.00607 0.003783 -0.00877365 -0.298867 
-0.0232234 1.0169 0.0322965 0.473011 
0.0092112 -0.00185415 0.989196 0.183439 
0 0 0 1 

Final RAS Transform: 
1.00607 0.003783 -0.00877365 -0.298867 
-0.0232234 1.0169 0.0322965 0.473011 
0.0092112 -0.00185415 0.989196 0.183439 
0 0 0 1 


real	0m11.040s
user	0m19.240s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.832576
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1087
Level     0,  Iter     1:    Energy =   0.1181
Level     0,  Iter     2:    Energy =   0.1252
Level     0,  Iter     3:    Energy =   0.1298
Level     0,  Iter     4:    Energy =   0.1345
Level     0,  Iter     5:    Energy =   0.1374
Level     0,  Iter     6:    Energy =   0.1388
Level     0,  Iter     7:    Energy =   0.1400
Level     0,  Iter     8:    Energy =   0.1409
Level     0,  Iter     9:    Energy =   0.1417
Level     0,  Iter    10:    Energy =   0.1423
Level     0,  Iter    11:    Energy =   0.1428
Level     0,  Iter    12:    Energy =   0.1433
Level     0,  Iter    13:    Energy =   0.1437
Level     0,  Iter    14:    Energy =   0.1440
Level     0,  Iter    15:    Energy =   0.1443
Level     0,  Iter    16:    Energy =   0.1445
Level     0,  Iter    17:    Energy =   0.1447
Level     0,  Iter    18:    Energy =   0.1448
Level     0,  Iter    19:    Energy =   0.1450
Level     0,  Iter    20:    Energy =   0.1451
Level     0,  Iter    21:    Energy =   0.1453
Level     0,  Iter    22:    Energy =   0.1454
Level     0,  Iter    23:    Energy =   0.1456
Level     0,  Iter    24:    Energy =   0.1457
Level     0,  Iter    25:    Energy =   0.1460
Level     0,  Iter    26:    Energy =   0.1460
Level     0,  Iter    27:    Energy =   0.1462
Level     0,  Iter    28:    Energy =   0.1463
Level     0,  Iter    29:    Energy =   0.1464
Level     0,  Iter    30:    Energy =   0.1465
Level     0,  Iter    31:    Energy =   0.1466
Level     0,  Iter    32:    Energy =   0.1466
Level     0,  Iter    33:    Energy =   0.1467
Level     0,  Iter    34:    Energy =   0.1466
Level     0,  Iter    35:    Energy =   0.1467
Level     0,  Iter    36:    Energy =   0.1467
Level     0,  Iter    37:    Energy =   0.1468
Level     0,  Iter    38:    Energy =   0.1467
Level     0,  Iter    39:    Energy =   0.1468
Level     0,  Iter    40:    Energy =   0.1467
Level     0,  Iter    41:    Energy =   0.1468
Level     0,  Iter    42:    Energy =   0.1467
Level     0,  Iter    43:    Energy =   0.1469
Level     0,  Iter    44:    Energy =   0.1468
Level     0,  Iter    45:    Energy =   0.1469
Level     0,  Iter    46:    Energy =   0.1468
Level     0,  Iter    47:    Energy =   0.1469
Level     0,  Iter    48:    Energy =   0.1469
Level     0,  Iter    49:    Energy =   0.1469
Level     0,  Iter    50:    Energy =   0.1469
Level     0,  Iter    51:    Energy =   0.1470
Level     0,  Iter    52:    Energy =   0.1469
Level     0,  Iter    53:    Energy =   0.1470
Level     0,  Iter    54:    Energy =   0.1469
Level     0,  Iter    55:    Energy =   0.1470
Level     0,  Iter    56:    Energy =   0.1469
Level     0,  Iter    57:    Energy =   0.1471
Level     0,  Iter    58:    Energy =   0.1470
Level     0,  Iter    59:    Energy =   0.1470
END OF LEVEL     0    DetJac Range:   0.4175  to   2.4979 
  Avg. Gradient Time  : 0.0077s  34.10% 
  Avg. Gaussian Time  : 0.0114s  50.47% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0954
Level     1,  Iter     1:    Energy =   0.1003
Level     1,  Iter     2:    Energy =   0.1048
Level     1,  Iter     3:    Energy =   0.1086
Level     1,  Iter     4:    Energy =   0.1118
Level     1,  Iter     5:    Energy =   0.1145
Level     1,  Iter     6:    Energy =   0.1167
Level     1,  Iter     7:    Energy =   0.1179
Level     1,  Iter     8:    Energy =   0.1187
Level     1,  Iter     9:    Energy =   0.1186
Level     1,  Iter    10:    Energy =   0.1197
Level     1,  Iter    11:    Energy =   0.1199
Level     1,  Iter    12:    Energy =   0.1204
Level     1,  Iter    13:    Energy =   0.1203
Level     1,  Iter    14:    Energy =   0.1211
Level     1,  Iter    15:    Energy =   0.1210
Level     1,  Iter    16:    Energy =   0.1216
Level     1,  Iter    17:    Energy =   0.1214
Level     1,  Iter    18:    Energy =   0.1220
Level     1,  Iter    19:    Energy =   0.1219
Level     1,  Iter    20:    Energy =   0.1223
Level     1,  Iter    21:    Energy =   0.1222
Level     1,  Iter    22:    Energy =   0.1226
Level     1,  Iter    23:    Energy =   0.1224
Level     1,  Iter    24:    Energy =   0.1228
Level     1,  Iter    25:    Energy =   0.1227
Level     1,  Iter    26:    Energy =   0.1231
Level     1,  Iter    27:    Energy =   0.1230
Level     1,  Iter    28:    Energy =   0.1233
Level     1,  Iter    29:    Energy =   0.1232
Level     1,  Iter    30:    Energy =   0.1237
Level     1,  Iter    31:    Energy =   0.1235
Level     1,  Iter    32:    Energy =   0.1239
Level     1,  Iter    33:    Energy =   0.1237
Level     1,  Iter    34:    Energy =   0.1242
Level     1,  Iter    35:    Energy =   0.1240
Level     1,  Iter    36:    Energy =   0.1244
Level     1,  Iter    37:    Energy =   0.1241
Level     1,  Iter    38:    Energy =   0.1245
Level     1,  Iter    39:    Energy =   0.1243
Level     1,  Iter    40:    Energy =   0.1246
Level     1,  Iter    41:    Energy =   0.1243
Level     1,  Iter    42:    Energy =   0.1247
Level     1,  Iter    43:    Energy =   0.1244
Level     1,  Iter    44:    Energy =   0.1248
Level     1,  Iter    45:    Energy =   0.1246
Level     1,  Iter    46:    Energy =   0.1250
Level     1,  Iter    47:    Energy =   0.1247
Level     1,  Iter    48:    Energy =   0.1251
Level     1,  Iter    49:    Energy =   0.1248
Level     1,  Iter    50:    Energy =   0.1252
Level     1,  Iter    51:    Energy =   0.1249
Level     1,  Iter    52:    Energy =   0.1254
Level     1,  Iter    53:    Energy =   0.1251
Level     1,  Iter    54:    Energy =   0.1255
Level     1,  Iter    55:    Energy =   0.1252
Level     1,  Iter    56:    Energy =   0.1257
Level     1,  Iter    57:    Energy =   0.1254
Level     1,  Iter    58:    Energy =   0.1257
Level     1,  Iter    59:    Energy =   0.1254
END OF LEVEL     1    DetJac Range:   0.1936  to   3.3075 
  Avg. Gradient Time  : 0.0438s  32.76% 
  Avg. Gaussian Time  : 0.0727s  54.36% 
  Avg. Iteration Time : 0.1337s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0664
Level     2,  Iter     1:    Energy =   0.0686
Level     2,  Iter     2:    Energy =   0.0705
Level     2,  Iter     3:    Energy =   0.0723
Level     2,  Iter     4:    Energy =   0.0739
Level     2,  Iter     5:    Energy =   0.0754
Level     2,  Iter     6:    Energy =   0.0768
Level     2,  Iter     7:    Energy =   0.0781
Level     2,  Iter     8:    Energy =   0.0794
Level     2,  Iter     9:    Energy =   0.0808
Level     2,  Iter    10:    Energy =   0.0820
Level     2,  Iter    11:    Energy =   0.0832
Level     2,  Iter    12:    Energy =   0.0842
Level     2,  Iter    13:    Energy =   0.0852
Level     2,  Iter    14:    Energy =   0.0860
Level     2,  Iter    15:    Energy =   0.0867
Level     2,  Iter    16:    Energy =   0.0873
Level     2,  Iter    17:    Energy =   0.0878
Level     2,  Iter    18:    Energy =   0.0886
Level     2,  Iter    19:    Energy =   0.0890
END OF LEVEL     2    DetJac Range:   0.0802  to   5.1368 
  Avg. Gradient Time  : 0.3111s  29.94% 
  Avg. Gaussian Time  : 0.5894s  56.72% 
  Avg. Iteration Time : 1.0391s 

real	0m35.228s
user	1m3.416s
sys	0m2.228s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.419231 0.425
+ echo 'CHUNK 0.419231 0.425 1'
CHUNK 0.419231 0.425 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.419231 0.425 1
====================================
         PROGRESS: 0.419231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.699131
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2937.63   GNORM= 229.146
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2984.683     227.666       0.002
   2    4     -3007.033     107.410       1.000
   3    6     -3048.318     170.892       5.000
   4    7     -3118.303     205.697       1.000
   5    9     -3186.865     180.672       0.487
   6   10     -3206.983     106.682       1.000
   7   11     -3220.087      81.082       1.000
   8   12     -3242.494     154.155       1.000
   9   13     -3261.699      73.419       1.000
  10   14     -3277.209      81.977       1.000
  11   15     -3286.979      47.514       1.000
  12   16     -3291.948      39.768       1.000
  13   17     -3295.334      44.479       1.000
  14   18     -3298.335      30.491       1.000
  15   20     -3299.209      46.865       0.324
  16   21     -3300.488      31.843       1.000
  17   23     -3301.949      26.497       0.486
  18   24     -3302.739      24.714       1.000
  19   25     -3303.493      30.577       1.000
  20   26     -3304.096      17.987       1.000
  21   27     -3304.499      12.996       1.000
  22   28     -3304.689      11.425       1.000
  23   30     -3304.752      12.102       0.488
  24   31     -3304.807      13.115       1.000
  25   32     -3304.858       4.856       1.000
  26   33     -3304.927       8.481       1.000
  27   34     -3304.997      10.786       1.000
  28   36     -3305.061      11.175       0.365
  29   37     -3305.142      10.502       1.000
  30   39     -3305.242       8.298       0.087
  31   41     -3305.272       6.704       0.524
  32   42     -3305.298       5.721       1.000
  33   44     -3305.334       5.290       0.455
  34   45     -3305.348       3.744       1.000
  35   46     -3305.377       5.491       1.000
  36   47     -3305.404       5.372       1.000
  37   48     -3305.428       5.652       1.000
  38   49     -3305.472       6.320       1.000
  39   50     -3305.499       3.268       1.000
  40   51     -3305.510       3.279       1.000
  41   53     -3305.518       7.471       0.232
  42   54     -3305.549       3.985       1.000
  43   55     -3305.594       7.544       1.000
  44   57     -3305.611       7.855       0.372
  45   58     -3305.626       3.715       1.000
  46   59     -3305.641       2.501       1.000
  47   60     -3305.647       3.136       1.000
Final RAS Transform: 
0.902081 0.0503787 0.01285 3.10568 
-0.0367117 0.999653 0.0334648 0.267168 
0.0586261 0.0106585 1.03878 -0.105475 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2273.31   GNORM= 187.937
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2285.149      69.383       0.001
   2    4     -2288.122      64.253       1.000
   3    5     -2293.788      66.968       1.000
   4    6     -2297.880      46.334       1.000
   5    7     -2306.261      44.340       1.000
   6    8     -2316.989      84.174       1.000
   7   10     -2321.156      77.792       0.494
   8   11     -2326.664      47.148       1.000
   9   12     -2332.183      34.611       1.000
  10   13     -2342.107      34.819       1.000
  11   14     -2346.962      39.877       1.000
  12   15     -2349.476      61.290       1.000
  13   16     -2352.320      25.012       1.000
  14   17     -2352.623      48.957       1.000
  15   18     -2354.864      28.959       1.000
  16   19     -2358.673      15.671       1.000
  17   20     -2362.784      18.770       1.000
  18   22     -2363.833      29.348       0.243
  19   23     -2364.267      56.818       1.000
  20   24     -2365.357      13.688       1.000
  21   25     -2365.476      10.396       1.000
  22   26     -2365.606       8.359       1.000
  23   27     -2365.889      11.574       1.000
  24   28     -2366.473      18.209       1.000
  25   29     -2367.163      16.122       1.000
  26   31     -2367.596      24.712       0.381
  27   32     -2367.939      15.901       1.000
  28   33     -2368.125      12.004       1.000
  29   34     -2368.529      10.317       1.000
  30   35     -2368.672       6.335       1.000
  31   36     -2368.710       3.179       1.000
  32   37     -2368.736       2.338       1.000
  33   38     -2368.739       7.624       1.000
  34   40     -2368.765       3.885       0.495
  35   41     -2368.790       3.753       1.000
  36   42     -2368.810       2.261       1.000
  37   43     -2368.828       4.230       1.000
  38   44     -2368.848       3.652       1.000
  39   45     -2368.872       3.091       1.000
  40   47     -2368.893       2.736       0.099
  41   48     -2368.944       4.469       1.000
  42   49     -2368.983       7.458       1.000
  43   50     -2369.011       8.778       1.000
  44   51     -2369.045       2.384       1.000
  45   52     -2369.060       1.884       1.000
  46   53     -2369.069       2.644       1.000
  47   54     -2369.085       3.227       1.000
  48   55     -2369.089       3.542       1.000
  49   56     -2369.092       1.186       1.000
  50   57     -2369.094       2.466       1.000
  51   59     -2369.096       2.605       5.000
  52   60     -2369.097       3.026       1.000
Final RAS Transform: 
0.927567 0.0129622 -0.0215745 1.83095 
-0.0319049 0.995741 -7.62375e-05 0.0138674 
0.024144 0.0198648 1.03067 0.501674 
0 0 0 1 

Final RAS Transform: 
0.927567 0.0129622 -0.0215745 1.83095 
-0.0319049 0.995741 -7.62375e-05 0.0138674 
0.024144 0.0198648 1.03067 0.501674 
0 0 0 1 


real	0m10.845s
user	0m18.832s
sys	0m0.620s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.701914
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0949
Level     0,  Iter     1:    Energy =   0.1008
Level     0,  Iter     2:    Energy =   0.1057
Level     0,  Iter     3:    Energy =   0.1098
Level     0,  Iter     4:    Energy =   0.1120
Level     0,  Iter     5:    Energy =   0.1137
Level     0,  Iter     6:    Energy =   0.1152
Level     0,  Iter     7:    Energy =   0.1164
Level     0,  Iter     8:    Energy =   0.1174
Level     0,  Iter     9:    Energy =   0.1183
Level     0,  Iter    10:    Energy =   0.1190
Level     0,  Iter    11:    Energy =   0.1195
Level     0,  Iter    12:    Energy =   0.1200
Level     0,  Iter    13:    Energy =   0.1205
Level     0,  Iter    14:    Energy =   0.1209
Level     0,  Iter    15:    Energy =   0.1215
Level     0,  Iter    16:    Energy =   0.1220
Level     0,  Iter    17:    Energy =   0.1227
Level     0,  Iter    18:    Energy =   0.1233
Level     0,  Iter    19:    Energy =   0.1236
Level     0,  Iter    20:    Energy =   0.1241
Level     0,  Iter    21:    Energy =   0.1246
Level     0,  Iter    22:    Energy =   0.1249
Level     0,  Iter    23:    Energy =   0.1247
Level     0,  Iter    24:    Energy =   0.1251
Level     0,  Iter    25:    Energy =   0.1254
Level     0,  Iter    26:    Energy =   0.1256
Level     0,  Iter    27:    Energy =   0.1255
Level     0,  Iter    28:    Energy =   0.1257
Level     0,  Iter    29:    Energy =   0.1257
Level     0,  Iter    30:    Energy =   0.1257
Level     0,  Iter    31:    Energy =   0.1256
Level     0,  Iter    32:    Energy =   0.1257
Level     0,  Iter    33:    Energy =   0.1257
Level     0,  Iter    34:    Energy =   0.1258
Level     0,  Iter    35:    Energy =   0.1257
Level     0,  Iter    36:    Energy =   0.1259
Level     0,  Iter    37:    Energy =   0.1258
Level     0,  Iter    38:    Energy =   0.1259
Level     0,  Iter    39:    Energy =   0.1258
Level     0,  Iter    40:    Energy =   0.1259
Level     0,  Iter    41:    Energy =   0.1259
Level     0,  Iter    42:    Energy =   0.1260
Level     0,  Iter    43:    Energy =   0.1260
Level     0,  Iter    44:    Energy =   0.1261
Level     0,  Iter    45:    Energy =   0.1260
Level     0,  Iter    46:    Energy =   0.1261
Level     0,  Iter    47:    Energy =   0.1261
Level     0,  Iter    48:    Energy =   0.1262
Level     0,  Iter    49:    Energy =   0.1263
Level     0,  Iter    50:    Energy =   0.1264
Level     0,  Iter    51:    Energy =   0.1264
Level     0,  Iter    52:    Energy =   0.1264
Level     0,  Iter    53:    Energy =   0.1264
Level     0,  Iter    54:    Energy =   0.1265
Level     0,  Iter    55:    Energy =   0.1265
Level     0,  Iter    56:    Energy =   0.1265
Level     0,  Iter    57:    Energy =   0.1265
Level     0,  Iter    58:    Energy =   0.1266
Level     0,  Iter    59:    Energy =   0.1265
END OF LEVEL     0    DetJac Range:   0.2396  to   2.6652 
  Avg. Gradient Time  : 0.0078s  34.24% 
  Avg. Gaussian Time  : 0.0115s  50.33% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0846
Level     1,  Iter     1:    Energy =   0.0892
Level     1,  Iter     2:    Energy =   0.0936
Level     1,  Iter     3:    Energy =   0.0974
Level     1,  Iter     4:    Energy =   0.1003
Level     1,  Iter     5:    Energy =   0.1023
Level     1,  Iter     6:    Energy =   0.1040
Level     1,  Iter     7:    Energy =   0.1057
Level     1,  Iter     8:    Energy =   0.1070
Level     1,  Iter     9:    Energy =   0.1080
Level     1,  Iter    10:    Energy =   0.1088
Level     1,  Iter    11:    Energy =   0.1095
Level     1,  Iter    12:    Energy =   0.1102
Level     1,  Iter    13:    Energy =   0.1109
Level     1,  Iter    14:    Energy =   0.1115
Level     1,  Iter    15:    Energy =   0.1122
Level     1,  Iter    16:    Energy =   0.1126
Level     1,  Iter    17:    Energy =   0.1124
Level     1,  Iter    18:    Energy =   0.1123
Level     1,  Iter    19:    Energy =   0.1124
Level     1,  Iter    20:    Energy =   0.1123
Level     1,  Iter    21:    Energy =   0.1124
Level     1,  Iter    22:    Energy =   0.1125
Level     1,  Iter    23:    Energy =   0.1126
Level     1,  Iter    24:    Energy =   0.1126
Level     1,  Iter    25:    Energy =   0.1127
Level     1,  Iter    26:    Energy =   0.1127
Level     1,  Iter    27:    Energy =   0.1128
Level     1,  Iter    28:    Energy =   0.1128
Level     1,  Iter    29:    Energy =   0.1129
Level     1,  Iter    30:    Energy =   0.1129
Level     1,  Iter    31:    Energy =   0.1129
Level     1,  Iter    32:    Energy =   0.1130
Level     1,  Iter    33:    Energy =   0.1131
Level     1,  Iter    34:    Energy =   0.1131
Level     1,  Iter    35:    Energy =   0.1132
Level     1,  Iter    36:    Energy =   0.1132
Level     1,  Iter    37:    Energy =   0.1133
Level     1,  Iter    38:    Energy =   0.1133
Level     1,  Iter    39:    Energy =   0.1134
Level     1,  Iter    40:    Energy =   0.1134
Level     1,  Iter    41:    Energy =   0.1135
Level     1,  Iter    42:    Energy =   0.1135
Level     1,  Iter    43:    Energy =   0.1135
Level     1,  Iter    44:    Energy =   0.1136
Level     1,  Iter    45:    Energy =   0.1137
Level     1,  Iter    46:    Energy =   0.1137
Level     1,  Iter    47:    Energy =   0.1137
Level     1,  Iter    48:    Energy =   0.1138
Level     1,  Iter    49:    Energy =   0.1139
Level     1,  Iter    50:    Energy =   0.1139
Level     1,  Iter    51:    Energy =   0.1139
Level     1,  Iter    52:    Energy =   0.1139
Level     1,  Iter    53:    Energy =   0.1140
Level     1,  Iter    54:    Energy =   0.1140
Level     1,  Iter    55:    Energy =   0.1141
Level     1,  Iter    56:    Energy =   0.1141
Level     1,  Iter    57:    Energy =   0.1141
Level     1,  Iter    58:    Energy =   0.1141
Level     1,  Iter    59:    Energy =   0.1142
END OF LEVEL     1    DetJac Range:   0.0585  to   3.0862 
  Avg. Gradient Time  : 0.0437s  32.70% 
  Avg. Gaussian Time  : 0.0727s  54.43% 
  Avg. Iteration Time : 0.1335s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0579
Level     2,  Iter     1:    Energy =   0.0600
Level     2,  Iter     2:    Energy =   0.0618
Level     2,  Iter     3:    Energy =   0.0638
Level     2,  Iter     4:    Energy =   0.0656
Level     2,  Iter     5:    Energy =   0.0672
Level     2,  Iter     6:    Energy =   0.0686
Level     2,  Iter     7:    Energy =   0.0700
Level     2,  Iter     8:    Energy =   0.0713
Level     2,  Iter     9:    Energy =   0.0723
Level     2,  Iter    10:    Energy =   0.0732
Level     2,  Iter    11:    Energy =   0.0742
Level     2,  Iter    12:    Energy =   0.0752
Level     2,  Iter    13:    Energy =   0.0759
Level     2,  Iter    14:    Energy =   0.0766
Level     2,  Iter    15:    Energy =   0.0771
Level     2,  Iter    16:    Energy =   0.0776
Level     2,  Iter    17:    Energy =   0.0781
Level     2,  Iter    18:    Energy =   0.0785
Level     2,  Iter    19:    Energy =   0.0788
END OF LEVEL     2    DetJac Range:   0.0511  to   4.4991 
  Avg. Gradient Time  : 0.3090s  27.20% 
  Avg. Gaussian Time  : 0.6893s  60.68% 
  Avg. Iteration Time : 1.1359s 

real	0m37.168s
user	1m7.264s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.425 0.430769
+ echo 'CHUNK 0.425 0.430769 1'
CHUNK 0.425 0.430769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.425 0.430769 1
====================================
         PROGRESS: 0.425               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.543471
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2740.56   GNORM= 337.181
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2842.163     370.906       0.003
   2    3     -2880.581     285.128       1.000
   3    4     -2904.005     116.057       1.000
   4    5     -2916.140     100.556       1.000
   5    6     -2980.484     156.045       1.000
   6    7     -3025.745     257.762       1.000
   7    8     -3062.435     129.764       1.000
   8    9     -3080.650     139.917       1.000
   9   10     -3092.051      97.145       1.000
  10   11     -3105.638      90.792       1.000
  11   12     -3112.016      67.125       1.000
  12   13     -3122.392      59.176       1.000
  13   14     -3136.362      71.409       1.000
  14   15     -3141.530      60.982       1.000
  15   16     -3143.074      26.738       1.000
  16   17     -3143.552      31.761       1.000
  17   18     -3144.086      19.278       1.000
  18   19     -3144.967      18.717       1.000
  19   20     -3145.337      27.387       1.000
  20   21     -3146.181      15.043       1.000
  21   22     -3146.906      22.354       1.000
  22   23     -3148.512      34.599       1.000
  23   24     -3149.226      27.399       1.000
  24   25     -3149.601       9.692       1.000
  25   27     -3149.656      12.057       0.418
  26   28     -3149.719       7.062       1.000
  27   29     -3149.804      10.990       1.000
  28   30     -3149.830      24.135       1.000
  29   31     -3149.960      15.995       1.000
  30   32     -3150.072       7.660       1.000
  31   33     -3150.174       6.024       1.000
  32   34     -3150.380      22.633       1.000
  33   35     -3150.509       5.694       1.000
  34   36     -3150.539       6.261       1.000
  35   37     -3150.557       2.435       1.000
  36   41     -3150.611      10.333       7.670
  37   42     -3150.629      10.844       1.000
  38   44     -3150.639       5.330       0.424
  39   45     -3150.656       3.068       1.000
Final RAS Transform: 
0.902591 0.0328881 0.00805541 2.40388 
0.0189878 0.990745 0.0269855 -0.741767 
0.0294242 0.0135722 1.02842 0.543464 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2200.7   GNORM= 147.155
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2206.283      42.809       0.000
   2    4     -2207.187      41.747       1.000
   3    5     -2212.159      75.074       1.000
   4    7     -2227.801      36.560       5.000
   5    8     -2242.382      31.727       1.000
   6    9     -2254.546      45.148       1.000
   7   10     -2263.378      41.284       1.000
   8   12     -2263.919      19.357       0.278
   9   13     -2264.461      15.645       1.000
  10   14     -2266.837      35.713       1.000
  11   15     -2270.255      49.733       1.000
  12   17     -2276.802      18.643       0.501
  13   18     -2277.011      21.765       1.000
  14   19     -2277.626      12.539       1.000
  15   20     -2278.121      17.685       1.000
  16   21     -2278.304      39.264       1.000
  17   22     -2278.809       8.506       1.000
  18   23     -2278.945       7.229       1.000
  19   24     -2279.427      19.217       1.000
  20   25     -2279.569      12.834       1.000
  21   26     -2279.684       8.027       1.000
  22   27     -2279.840       9.600       1.000
  23   28     -2280.019      12.690       1.000
  24   29     -2280.033      23.672       1.000
  25   30     -2280.359      10.771       1.000
  26   31     -2280.432       4.569       1.000
  27   32     -2280.530       5.865       1.000
  28   34     -2280.594       8.172       0.157
  29   35     -2280.659       5.998       1.000
  30   36     -2280.743       9.588       1.000
  31   38     -2280.834       6.328       0.373
  32   39     -2280.912       5.852       1.000
  33   40     -2280.929      10.389       1.000
  34   41     -2280.973       2.948       1.000
  35   42     -2280.984       2.536       1.000
  36   43     -2281.008       4.004       1.000
  37   44     -2281.042       4.236       1.000
  38   46     -2281.088       6.018       0.233
  39   47     -2281.102       3.962       1.000
  40   48     -2281.113       1.987       1.000
  41   51     -2281.127       2.444       2.756
  42   52     -2281.142       5.268       1.000
  43   53     -2281.165       4.098       1.000
  44   54     -2281.182       4.177       1.000
  45   55     -2281.197       8.346       1.000
  46   56     -2281.235       8.056       1.000
  47   57     -2281.282       2.887       1.000
  48   59     -2281.300       3.042       0.265
  49   61     -2281.311       4.237       0.314
Final RAS Transform: 
0.933273 0.000929018 -0.0155576 1.06477 
0.01237 0.986569 -0.00555162 -0.664912 
0.00478054 0.0174377 0.996006 0.646664 
0 0 0 1 

Final RAS Transform: 
0.933273 0.000929018 -0.0155576 1.06477 
0.01237 0.986569 -0.00555162 -0.664912 
0.00478054 0.0174377 0.996006 0.646664 
0 0 0 1 


real	0m10.829s
user	0m18.800s
sys	0m0.624s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.533067
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0905
Level     0,  Iter     1:    Energy =   0.0967
Level     0,  Iter     2:    Energy =   0.1023
Level     0,  Iter     3:    Energy =   0.1061
Level     0,  Iter     4:    Energy =   0.1085
Level     0,  Iter     5:    Energy =   0.1103
Level     0,  Iter     6:    Energy =   0.1118
Level     0,  Iter     7:    Energy =   0.1131
Level     0,  Iter     8:    Energy =   0.1142
Level     0,  Iter     9:    Energy =   0.1151
Level     0,  Iter    10:    Energy =   0.1158
Level     0,  Iter    11:    Energy =   0.1164
Level     0,  Iter    12:    Energy =   0.1170
Level     0,  Iter    13:    Energy =   0.1174
Level     0,  Iter    14:    Energy =   0.1178
Level     0,  Iter    15:    Energy =   0.1181
Level     0,  Iter    16:    Energy =   0.1185
Level     0,  Iter    17:    Energy =   0.1186
Level     0,  Iter    18:    Energy =   0.1189
Level     0,  Iter    19:    Energy =   0.1190
Level     0,  Iter    20:    Energy =   0.1193
Level     0,  Iter    21:    Energy =   0.1193
Level     0,  Iter    22:    Energy =   0.1195
Level     0,  Iter    23:    Energy =   0.1195
Level     0,  Iter    24:    Energy =   0.1198
Level     0,  Iter    25:    Energy =   0.1197
Level     0,  Iter    26:    Energy =   0.1199
Level     0,  Iter    27:    Energy =   0.1199
Level     0,  Iter    28:    Energy =   0.1201
Level     0,  Iter    29:    Energy =   0.1200
Level     0,  Iter    30:    Energy =   0.1202
Level     0,  Iter    31:    Energy =   0.1201
Level     0,  Iter    32:    Energy =   0.1203
Level     0,  Iter    33:    Energy =   0.1202
Level     0,  Iter    34:    Energy =   0.1205
Level     0,  Iter    35:    Energy =   0.1203
Level     0,  Iter    36:    Energy =   0.1205
Level     0,  Iter    37:    Energy =   0.1204
Level     0,  Iter    38:    Energy =   0.1206
Level     0,  Iter    39:    Energy =   0.1205
Level     0,  Iter    40:    Energy =   0.1207
Level     0,  Iter    41:    Energy =   0.1206
Level     0,  Iter    42:    Energy =   0.1207
Level     0,  Iter    43:    Energy =   0.1206
Level     0,  Iter    44:    Energy =   0.1208
Level     0,  Iter    45:    Energy =   0.1207
Level     0,  Iter    46:    Energy =   0.1209
Level     0,  Iter    47:    Energy =   0.1207
Level     0,  Iter    48:    Energy =   0.1209
Level     0,  Iter    49:    Energy =   0.1208
Level     0,  Iter    50:    Energy =   0.1210
Level     0,  Iter    51:    Energy =   0.1208
Level     0,  Iter    52:    Energy =   0.1210
Level     0,  Iter    53:    Energy =   0.1209
Level     0,  Iter    54:    Energy =   0.1210
Level     0,  Iter    55:    Energy =   0.1209
Level     0,  Iter    56:    Energy =   0.1210
Level     0,  Iter    57:    Energy =   0.1209
Level     0,  Iter    58:    Energy =   0.1211
Level     0,  Iter    59:    Energy =   0.1210
END OF LEVEL     0    DetJac Range:   0.3373  to   2.3514 
  Avg. Gradient Time  : 0.0078s  34.37% 
  Avg. Gaussian Time  : 0.0115s  50.41% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0819
Level     1,  Iter     1:    Energy =   0.0861
Level     1,  Iter     2:    Energy =   0.0900
Level     1,  Iter     3:    Energy =   0.0934
Level     1,  Iter     4:    Energy =   0.0961
Level     1,  Iter     5:    Energy =   0.0983
Level     1,  Iter     6:    Energy =   0.1001
Level     1,  Iter     7:    Energy =   0.1016
Level     1,  Iter     8:    Energy =   0.1028
Level     1,  Iter     9:    Energy =   0.1039
Level     1,  Iter    10:    Energy =   0.1050
Level     1,  Iter    11:    Energy =   0.1057
Level     1,  Iter    12:    Energy =   0.1062
Level     1,  Iter    13:    Energy =   0.1066
Level     1,  Iter    14:    Energy =   0.1070
Level     1,  Iter    15:    Energy =   0.1075
Level     1,  Iter    16:    Energy =   0.1080
Level     1,  Iter    17:    Energy =   0.1085
Level     1,  Iter    18:    Energy =   0.1091
Level     1,  Iter    19:    Energy =   0.1097
Level     1,  Iter    20:    Energy =   0.1103
Level     1,  Iter    21:    Energy =   0.1105
Level     1,  Iter    22:    Energy =   0.1103
Level     1,  Iter    23:    Energy =   0.1110
Level     1,  Iter    24:    Energy =   0.1111
Level     1,  Iter    25:    Energy =   0.1114
Level     1,  Iter    26:    Energy =   0.1110
Level     1,  Iter    27:    Energy =   0.1117
Level     1,  Iter    28:    Energy =   0.1118
Level     1,  Iter    29:    Energy =   0.1119
Level     1,  Iter    30:    Energy =   0.1116
Level     1,  Iter    31:    Energy =   0.1122
Level     1,  Iter    32:    Energy =   0.1122
Level     1,  Iter    33:    Energy =   0.1123
Level     1,  Iter    34:    Energy =   0.1120
Level     1,  Iter    35:    Energy =   0.1126
Level     1,  Iter    36:    Energy =   0.1125
Level     1,  Iter    37:    Energy =   0.1126
Level     1,  Iter    38:    Energy =   0.1123
Level     1,  Iter    39:    Energy =   0.1129
Level     1,  Iter    40:    Energy =   0.1128
Level     1,  Iter    41:    Energy =   0.1128
Level     1,  Iter    42:    Energy =   0.1125
Level     1,  Iter    43:    Energy =   0.1131
Level     1,  Iter    44:    Energy =   0.1129
Level     1,  Iter    45:    Energy =   0.1130
Level     1,  Iter    46:    Energy =   0.1126
Level     1,  Iter    47:    Energy =   0.1132
Level     1,  Iter    48:    Energy =   0.1131
Level     1,  Iter    49:    Energy =   0.1131
Level     1,  Iter    50:    Energy =   0.1128
Level     1,  Iter    51:    Energy =   0.1134
Level     1,  Iter    52:    Energy =   0.1132
Level     1,  Iter    53:    Energy =   0.1132
Level     1,  Iter    54:    Energy =   0.1128
Level     1,  Iter    55:    Energy =   0.1134
Level     1,  Iter    56:    Energy =   0.1132
Level     1,  Iter    57:    Energy =   0.1134
Level     1,  Iter    58:    Energy =   0.1130
Level     1,  Iter    59:    Energy =   0.1135
END OF LEVEL     1    DetJac Range:   0.0780  to   4.0073 
  Avg. Gradient Time  : 0.0438s  32.74% 
  Avg. Gaussian Time  : 0.0728s  54.39% 
  Avg. Iteration Time : 0.1339s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0581
Level     2,  Iter     1:    Energy =   0.0600
Level     2,  Iter     2:    Energy =   0.0617
Level     2,  Iter     3:    Energy =   0.0632
Level     2,  Iter     4:    Energy =   0.0646
Level     2,  Iter     5:    Energy =   0.0658
Level     2,  Iter     6:    Energy =   0.0669
Level     2,  Iter     7:    Energy =   0.0678
Level     2,  Iter     8:    Energy =   0.0687
Level     2,  Iter     9:    Energy =   0.0695
Level     2,  Iter    10:    Energy =   0.0702
Level     2,  Iter    11:    Energy =   0.0710
Level     2,  Iter    12:    Energy =   0.0716
Level     2,  Iter    13:    Energy =   0.0723
Level     2,  Iter    14:    Energy =   0.0728
Level     2,  Iter    15:    Energy =   0.0735
Level     2,  Iter    16:    Energy =   0.0740
Level     2,  Iter    17:    Energy =   0.0745
Level     2,  Iter    18:    Energy =   0.0750
Level     2,  Iter    19:    Energy =   0.0756
END OF LEVEL     2    DetJac Range:   0.0586  to   3.8540 
  Avg. Gradient Time  : 0.3107s  26.91% 
  Avg. Gaussian Time  : 0.7057s  61.12% 
  Avg. Iteration Time : 1.1546s 

real	0m37.555s
user	1m7.960s
sys	0m2.288s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.430769 0.436538
+ echo 'CHUNK 0.430769 0.436538 1'
CHUNK 0.430769 0.436538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.430769 0.436538 1
====================================
         PROGRESS: 0.430769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.755546
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3981.4   GNORM= 336.716
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4014.751     215.148       0.001
   2    4     -4032.249     156.944       1.000
   3    5     -4059.348     140.797       1.000
   4    6     -4082.646     120.113       1.000
   5    7     -4118.779     102.694       1.000
   6    9     -4125.747      95.301       0.417
   7   10     -4131.689      90.158       1.000
   8   11     -4135.206     123.638       1.000
   9   12     -4138.147      61.689       1.000
  10   13     -4142.142      47.199       1.000
  11   14     -4146.334      61.965       1.000
  12   15     -4148.191      37.897       1.000
  13   16     -4148.928      22.240       1.000
  14   17     -4149.448      22.813       1.000
  15   18     -4149.883      21.081       1.000
  16   19     -4150.476      30.507       1.000
  17   20     -4151.059      15.132       1.000
  18   21     -4151.338      11.272       1.000
  19   23     -4151.651      22.430       0.521
  20   24     -4151.774      31.934       1.000
  21   25     -4151.958      28.783       1.000
  22   26     -4152.113      11.290       1.000
  23   27     -4152.150      11.304       1.000
  24   28     -4152.228       7.411       1.000
  25   30     -4152.295      10.418       0.337
  26   31     -4152.354       5.276       1.000
  27   32     -4152.364       3.824       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.975044 0.0152453 -0.00658816 0.672691 
-0.00862358 1.00192 0.032572 0.466914 
0.0131087 0.00899753 1.02344 0.274329 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2960.94   GNORM= 265.551
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2972.630      64.335       0.000
   2    4     -2973.869      45.757       1.000
   3    5     -2975.370      46.964       1.000
   4    6     -2977.347      51.792       1.000
   5    7     -2981.039      67.444       1.000
   6    8     -2987.635      67.569       1.000
   7    9     -2994.982      98.134       1.000
   8   10     -2997.388      73.867       1.000
   9   11     -2999.466      33.835       1.000
  10   12     -3000.960      34.767       1.000
  11   13     -3002.111      31.347       1.000
  12   14     -3002.731      17.647       1.000
  13   15     -3003.339      22.243       1.000
  14   16     -3004.096      44.241       1.000
  15   17     -3005.116      27.647       1.000
  16   18     -3006.398      41.579       1.000
  17   19     -3006.681      41.275       1.000
  18   20     -3007.277      15.586       1.000
  19   21     -3007.483       7.451       1.000
  20   22     -3007.598      16.140       1.000
  21   23     -3007.659      10.178       1.000
  22   24     -3007.741      16.831       1.000
  23   25     -3007.827      10.133       1.000
  24   26     -3007.901       7.624       1.000
  25   27     -3008.018       8.140       1.000
  26   29     -3008.356      17.569       0.266
  27   30     -3008.519      13.689       1.000
  28   31     -3008.611      17.485       1.000
  29   32     -3008.723       7.627       1.000
  30   33     -3008.756      12.703       1.000
  31   34     -3008.827       7.242       1.000
  32   35     -3009.045       6.935       1.000
  33   37     -3009.162      18.482       0.494
  34   38     -3009.264      12.257       1.000
  35   39     -3009.316       5.793       1.000
  36   40     -3009.352       5.553       1.000
  37   41     -3009.383       6.685       1.000
  38   42     -3009.462      10.190       1.000
  39   43     -3009.508       8.140       1.000
  40   44     -3009.512      12.851       1.000
  41   45     -3009.535       3.911       1.000
  42   46     -3009.538       3.285       1.000
  43   47     -3009.555      11.500       1.000
  44   48     -3009.585      10.357       1.000
  45   50     -3009.624       3.901       0.395
  46   51     -3009.662       2.976       1.000
  47   53     -3009.667       3.559       0.157
  48   54     -3009.667       2.676       1.000
  49   55     -3009.674       2.781       1.000
  50   56     -3009.697       6.079       1.000
  51   57     -3009.710       5.794       1.000
  52   58     -3009.724       5.696       1.000
  53   59     -3009.739       3.823       1.000
  54   61     -3009.751       4.383       0.293
Final RAS Transform: 
0.985448 0.00499407 -0.00473301 0.37389 
-0.0010381 1.00445 0.0165163 0.347997 
-0.00878107 0.00657487 0.997217 0.299884 
0 0 0 1 

Final RAS Transform: 
0.985448 0.00499407 -0.00473301 0.37389 
-0.0010381 1.00445 0.0165163 0.347997 
-0.00878107 0.00657487 0.997217 0.299884 
0 0 0 1 


real	0m10.941s
user	0m19.136s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.748253
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1220
Level     0,  Iter     1:    Energy =   0.1300
Level     0,  Iter     2:    Energy =   0.1358
Level     0,  Iter     3:    Energy =   0.1387
Level     0,  Iter     4:    Energy =   0.1412
Level     0,  Iter     5:    Energy =   0.1427
Level     0,  Iter     6:    Energy =   0.1442
Level     0,  Iter     7:    Energy =   0.1452
Level     0,  Iter     8:    Energy =   0.1462
Level     0,  Iter     9:    Energy =   0.1468
Level     0,  Iter    10:    Energy =   0.1475
Level     0,  Iter    11:    Energy =   0.1479
Level     0,  Iter    12:    Energy =   0.1485
Level     0,  Iter    13:    Energy =   0.1488
Level     0,  Iter    14:    Energy =   0.1493
Level     0,  Iter    15:    Energy =   0.1495
Level     0,  Iter    16:    Energy =   0.1499
Level     0,  Iter    17:    Energy =   0.1500
Level     0,  Iter    18:    Energy =   0.1504
Level     0,  Iter    19:    Energy =   0.1504
Level     0,  Iter    20:    Energy =   0.1507
Level     0,  Iter    21:    Energy =   0.1507
Level     0,  Iter    22:    Energy =   0.1510
Level     0,  Iter    23:    Energy =   0.1510
Level     0,  Iter    24:    Energy =   0.1512
Level     0,  Iter    25:    Energy =   0.1512
Level     0,  Iter    26:    Energy =   0.1514
Level     0,  Iter    27:    Energy =   0.1514
Level     0,  Iter    28:    Energy =   0.1517
Level     0,  Iter    29:    Energy =   0.1516
Level     0,  Iter    30:    Energy =   0.1518
Level     0,  Iter    31:    Energy =   0.1517
Level     0,  Iter    32:    Energy =   0.1519
Level     0,  Iter    33:    Energy =   0.1518
Level     0,  Iter    34:    Energy =   0.1520
Level     0,  Iter    35:    Energy =   0.1519
Level     0,  Iter    36:    Energy =   0.1521
Level     0,  Iter    37:    Energy =   0.1520
Level     0,  Iter    38:    Energy =   0.1521
Level     0,  Iter    39:    Energy =   0.1520
Level     0,  Iter    40:    Energy =   0.1522
Level     0,  Iter    41:    Energy =   0.1521
Level     0,  Iter    42:    Energy =   0.1522
Level     0,  Iter    43:    Energy =   0.1521
Level     0,  Iter    44:    Energy =   0.1522
Level     0,  Iter    45:    Energy =   0.1521
Level     0,  Iter    46:    Energy =   0.1523
Level     0,  Iter    47:    Energy =   0.1521
Level     0,  Iter    48:    Energy =   0.1523
Level     0,  Iter    49:    Energy =   0.1522
Level     0,  Iter    50:    Energy =   0.1523
Level     0,  Iter    51:    Energy =   0.1522
Level     0,  Iter    52:    Energy =   0.1523
Level     0,  Iter    53:    Energy =   0.1522
Level     0,  Iter    54:    Energy =   0.1523
Level     0,  Iter    55:    Energy =   0.1522
Level     0,  Iter    56:    Energy =   0.1524
Level     0,  Iter    57:    Energy =   0.1523
Level     0,  Iter    58:    Energy =   0.1524
Level     0,  Iter    59:    Energy =   0.1523
END OF LEVEL     0    DetJac Range:   0.4745  to   1.8389 
  Avg. Gradient Time  : 0.0076s  34.58% 
  Avg. Gaussian Time  : 0.0110s  49.82% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1033
Level     1,  Iter     1:    Energy =   0.1072
Level     1,  Iter     2:    Energy =   0.1112
Level     1,  Iter     3:    Energy =   0.1137
Level     1,  Iter     4:    Energy =   0.1162
Level     1,  Iter     5:    Energy =   0.1185
Level     1,  Iter     6:    Energy =   0.1207
Level     1,  Iter     7:    Energy =   0.1226
Level     1,  Iter     8:    Energy =   0.1238
Level     1,  Iter     9:    Energy =   0.1244
Level     1,  Iter    10:    Energy =   0.1247
Level     1,  Iter    11:    Energy =   0.1255
Level     1,  Iter    12:    Energy =   0.1255
Level     1,  Iter    13:    Energy =   0.1266
Level     1,  Iter    14:    Energy =   0.1263
Level     1,  Iter    15:    Energy =   0.1276
Level     1,  Iter    16:    Energy =   0.1272
Level     1,  Iter    17:    Energy =   0.1284
Level     1,  Iter    18:    Energy =   0.1280
Level     1,  Iter    19:    Energy =   0.1287
Level     1,  Iter    20:    Energy =   0.1282
Level     1,  Iter    21:    Energy =   0.1293
Level     1,  Iter    22:    Energy =   0.1289
Level     1,  Iter    23:    Energy =   0.1294
Level     1,  Iter    24:    Energy =   0.1289
Level     1,  Iter    25:    Energy =   0.1300
Level     1,  Iter    26:    Energy =   0.1295
Level     1,  Iter    27:    Energy =   0.1300
Level     1,  Iter    28:    Energy =   0.1295
Level     1,  Iter    29:    Energy =   0.1305
Level     1,  Iter    30:    Energy =   0.1301
Level     1,  Iter    31:    Energy =   0.1306
Level     1,  Iter    32:    Energy =   0.1301
Level     1,  Iter    33:    Energy =   0.1310
Level     1,  Iter    34:    Energy =   0.1306
Level     1,  Iter    35:    Energy =   0.1308
Level     1,  Iter    36:    Energy =   0.1303
Level     1,  Iter    37:    Energy =   0.1312
Level     1,  Iter    38:    Energy =   0.1307
Level     1,  Iter    39:    Energy =   0.1315
Level     1,  Iter    40:    Energy =   0.1309
Level     1,  Iter    41:    Energy =   0.1317
Level     1,  Iter    42:    Energy =   0.1312
Level     1,  Iter    43:    Energy =   0.1314
Level     1,  Iter    44:    Energy =   0.1309
Level     1,  Iter    45:    Energy =   0.1317
Level     1,  Iter    46:    Energy =   0.1312
Level     1,  Iter    47:    Energy =   0.1320
Level     1,  Iter    48:    Energy =   0.1314
Level     1,  Iter    49:    Energy =   0.1322
Level     1,  Iter    50:    Energy =   0.1316
Level     1,  Iter    51:    Energy =   0.1322
Level     1,  Iter    52:    Energy =   0.1316
Level     1,  Iter    53:    Energy =   0.1324
Level     1,  Iter    54:    Energy =   0.1319
Level     1,  Iter    55:    Energy =   0.1320
Level     1,  Iter    56:    Energy =   0.1314
Level     1,  Iter    57:    Energy =   0.1322
Level     1,  Iter    58:    Energy =   0.1316
Level     1,  Iter    59:    Energy =   0.1324
END OF LEVEL     1    DetJac Range:   0.1519  to   3.0840 
  Avg. Gradient Time  : 0.0436s  32.79% 
  Avg. Gaussian Time  : 0.0723s  54.34% 
  Avg. Iteration Time : 0.1330s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0698
Level     2,  Iter     1:    Energy =   0.0722
Level     2,  Iter     2:    Energy =   0.0744
Level     2,  Iter     3:    Energy =   0.0762
Level     2,  Iter     4:    Energy =   0.0777
Level     2,  Iter     5:    Energy =   0.0790
Level     2,  Iter     6:    Energy =   0.0802
Level     2,  Iter     7:    Energy =   0.0812
Level     2,  Iter     8:    Energy =   0.0822
Level     2,  Iter     9:    Energy =   0.0830
Level     2,  Iter    10:    Energy =   0.0837
Level     2,  Iter    11:    Energy =   0.0844
Level     2,  Iter    12:    Energy =   0.0850
Level     2,  Iter    13:    Energy =   0.0856
Level     2,  Iter    14:    Energy =   0.0862
Level     2,  Iter    15:    Energy =   0.0867
Level     2,  Iter    16:    Energy =   0.0872
Level     2,  Iter    17:    Energy =   0.0876
Level     2,  Iter    18:    Energy =   0.0880
Level     2,  Iter    19:    Energy =   0.0884
END OF LEVEL     2    DetJac Range:   0.1297  to   4.3943 
  Avg. Gradient Time  : 0.3137s  27.58% 
  Avg. Gaussian Time  : 0.6862s  60.33% 
  Avg. Iteration Time : 1.1375s 

real	0m37.026s
user	1m7.016s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.436538 0.442308
+ echo 'CHUNK 0.436538 0.442308 1'
CHUNK 0.436538 0.442308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.436538 0.442308 1
====================================
         PROGRESS: 0.436538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.683794
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3259.87   GNORM= 266.543
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3291.272     255.801       0.001
   2    4     -3319.555     182.309       1.000
   3    5     -3360.190     206.449       1.000
   4    6     -3393.481     130.507       1.000
   5    7     -3447.283      71.724       1.000
   6    8     -3465.356      68.275       1.000
   7   10     -3484.145     104.781       0.523
   8   12     -3489.385      83.534       0.311
   9   13     -3495.106      70.370       1.000
  10   14     -3508.543     109.349       1.000
  11   15     -3521.499      64.387       1.000
  12   16     -3532.101      32.191       1.000
  13   17     -3534.816      27.793       1.000
  14   19     -3535.198      27.243       0.126
  15   20     -3535.658      22.761       1.000
  16   21     -3536.079      43.348       1.000
  17   22     -3537.245      25.725       1.000
  18   23     -3538.343      12.194       1.000
  19   24     -3539.008      27.480       1.000
  20   25     -3539.444      28.559       1.000
  21   26     -3539.662      14.078       1.000
  22   27     -3539.781       9.241       1.000
  23   28     -3539.924      13.363       1.000
  24   29     -3540.071      11.673       1.000
  25   31     -3540.208      20.719       0.405
  26   32     -3540.388      23.290       1.000
  27   33     -3540.648      21.372       1.000
  28   34     -3540.764      15.110       1.000
  29   35     -3540.861      11.200       1.000
  30   36     -3540.939       7.430       1.000
  31   37     -3541.067       8.284       1.000
  32   39     -3541.125      10.110       0.352
  33   41     -3541.169       9.031       0.395
  34   42     -3541.290       8.727       1.000
  35   43     -3541.432       6.483       1.000
  36   45     -3541.476       5.834       0.438
  37   46     -3541.499       3.294       1.000
  38   48     -3541.513       7.348       0.244
  39   49     -3541.517       3.078       1.000
  40   50     -3541.519       2.574       1.000
Final RAS Transform: 
0.925641 0.0136848 -0.0315017 1.74484 
0.03103 0.998855 0.0652705 -0.327946 
0.0248713 0.00340657 1.01143 0.0822803 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2507.75   GNORM= 361.001
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2538.551     102.261       0.000
   2    4     -2543.098      75.394       1.000
   3    5     -2548.153      53.815       1.000
   4    6     -2552.670      57.043       1.000
   5    7     -2558.218      47.094       1.000
   6    8     -2562.766      31.651       1.000
   7    9     -2563.920      99.977       1.000
   8   10     -2566.076      50.125       1.000
   9   11     -2569.795      34.194       1.000
  10   12     -2573.752      70.178       1.000
  11   13     -2578.463      78.263       1.000
  12   14     -2582.470      26.000       1.000
  13   15     -2583.171      15.489       1.000
  14   16     -2583.743      14.373       1.000
  15   18     -2585.792      60.643       0.298
  16   19     -2587.804      21.044       1.000
  17   20     -2588.513      13.820       1.000
  18   21     -2588.858      12.995       1.000
  19   23     -2589.110      19.403       0.390
  20   24     -2589.428      12.648       1.000
  21   26     -2589.599      13.007       0.507
  22   27     -2589.652       9.022       1.000
  23   28     -2589.669       5.846       1.000
  24   29     -2589.708       6.328       1.000
  25   30     -2589.776      12.774       1.000
  26   31     -2589.873      13.750       1.000
  27   32     -2590.035      24.426       1.000
  28   33     -2590.192      11.331       1.000
  29   34     -2590.264       7.028       1.000
  30   35     -2590.365       5.849       1.000
  31   36     -2590.567      17.486       1.000
  32   37     -2590.817      18.373       1.000
  33   38     -2591.033       9.971       1.000
  34   39     -2591.093       8.276       1.000
  35   40     -2591.307       8.240       1.000
  36   41     -2591.503       9.096       1.000
  37   43     -2591.559      12.550       0.368
  38   44     -2591.666       8.824       1.000
  39   45     -2591.743       6.944       1.000
  40   46     -2591.785       5.439       1.000
  41   47     -2591.850       6.349       1.000
  42   49     -2591.874       4.176       0.257
  43   50     -2591.889       2.800       1.000
  44   52     -2591.909       3.939       0.326
Final RAS Transform: 
0.948763 0.00336183 -0.0369184 0.818353 
0.0106198 1.00327 0.0497454 0.024112 
0.00200699 0.00620721 0.997808 0.433416 
0 0 0 1 

Final RAS Transform: 
0.948763 0.00336183 -0.0369184 0.818353 
0.0106198 1.00327 0.0497454 0.024112 
0.00200699 0.00620721 0.997808 0.433416 
0 0 0 1 


real	0m11.093s
user	0m19.392s
sys	0m0.604s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.68384
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1040
Level     0,  Iter     1:    Energy =   0.1110
Level     0,  Iter     2:    Energy =   0.1165
Level     0,  Iter     3:    Energy =   0.1211
Level     0,  Iter     4:    Energy =   0.1248
Level     0,  Iter     5:    Energy =   0.1267
Level     0,  Iter     6:    Energy =   0.1282
Level     0,  Iter     7:    Energy =   0.1294
Level     0,  Iter     8:    Energy =   0.1305
Level     0,  Iter     9:    Energy =   0.1312
Level     0,  Iter    10:    Energy =   0.1320
Level     0,  Iter    11:    Energy =   0.1325
Level     0,  Iter    12:    Energy =   0.1332
Level     0,  Iter    13:    Energy =   0.1335
Level     0,  Iter    14:    Energy =   0.1341
Level     0,  Iter    15:    Energy =   0.1344
Level     0,  Iter    16:    Energy =   0.1349
Level     0,  Iter    17:    Energy =   0.1353
Level     0,  Iter    18:    Energy =   0.1356
Level     0,  Iter    19:    Energy =   0.1362
Level     0,  Iter    20:    Energy =   0.1365
Level     0,  Iter    21:    Energy =   0.1369
Level     0,  Iter    22:    Energy =   0.1370
Level     0,  Iter    23:    Energy =   0.1374
Level     0,  Iter    24:    Energy =   0.1376
Level     0,  Iter    25:    Energy =   0.1379
Level     0,  Iter    26:    Energy =   0.1379
Level     0,  Iter    27:    Energy =   0.1383
Level     0,  Iter    28:    Energy =   0.1382
Level     0,  Iter    29:    Energy =   0.1386
Level     0,  Iter    30:    Energy =   0.1386
Level     0,  Iter    31:    Energy =   0.1389
Level     0,  Iter    32:    Energy =   0.1388
Level     0,  Iter    33:    Energy =   0.1391
Level     0,  Iter    34:    Energy =   0.1390
Level     0,  Iter    35:    Energy =   0.1392
Level     0,  Iter    36:    Energy =   0.1390
Level     0,  Iter    37:    Energy =   0.1392
Level     0,  Iter    38:    Energy =   0.1392
Level     0,  Iter    39:    Energy =   0.1393
Level     0,  Iter    40:    Energy =   0.1390
Level     0,  Iter    41:    Energy =   0.1394
Level     0,  Iter    42:    Energy =   0.1393
Level     0,  Iter    43:    Energy =   0.1395
Level     0,  Iter    44:    Energy =   0.1393
Level     0,  Iter    45:    Energy =   0.1396
Level     0,  Iter    46:    Energy =   0.1394
Level     0,  Iter    47:    Energy =   0.1397
Level     0,  Iter    48:    Energy =   0.1394
Level     0,  Iter    49:    Energy =   0.1397
Level     0,  Iter    50:    Energy =   0.1397
Level     0,  Iter    51:    Energy =   0.1399
Level     0,  Iter    52:    Energy =   0.1397
Level     0,  Iter    53:    Energy =   0.1400
Level     0,  Iter    54:    Energy =   0.1399
Level     0,  Iter    55:    Energy =   0.1401
Level     0,  Iter    56:    Energy =   0.1400
Level     0,  Iter    57:    Energy =   0.1402
Level     0,  Iter    58:    Energy =   0.1398
Level     0,  Iter    59:    Energy =   0.1403
END OF LEVEL     0    DetJac Range:   0.2194  to   2.5019 
  Avg. Gradient Time  : 0.0088s  34.24% 
  Avg. Gaussian Time  : 0.0130s  50.38% 
  Avg. Iteration Time : 0.0258s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0960
Level     1,  Iter     1:    Energy =   0.1002
Level     1,  Iter     2:    Energy =   0.1034
Level     1,  Iter     3:    Energy =   0.1072
Level     1,  Iter     4:    Energy =   0.1103
Level     1,  Iter     5:    Energy =   0.1127
Level     1,  Iter     6:    Energy =   0.1151
Level     1,  Iter     7:    Energy =   0.1173
Level     1,  Iter     8:    Energy =   0.1191
Level     1,  Iter     9:    Energy =   0.1197
Level     1,  Iter    10:    Energy =   0.1207
Level     1,  Iter    11:    Energy =   0.1208
Level     1,  Iter    12:    Energy =   0.1218
Level     1,  Iter    13:    Energy =   0.1220
Level     1,  Iter    14:    Energy =   0.1227
Level     1,  Iter    15:    Energy =   0.1226
Level     1,  Iter    16:    Energy =   0.1233
Level     1,  Iter    17:    Energy =   0.1233
Level     1,  Iter    18:    Energy =   0.1238
Level     1,  Iter    19:    Energy =   0.1237
Level     1,  Iter    20:    Energy =   0.1242
Level     1,  Iter    21:    Energy =   0.1242
Level     1,  Iter    22:    Energy =   0.1247
Level     1,  Iter    23:    Energy =   0.1245
Level     1,  Iter    24:    Energy =   0.1250
Level     1,  Iter    25:    Energy =   0.1250
Level     1,  Iter    26:    Energy =   0.1253
Level     1,  Iter    27:    Energy =   0.1251
Level     1,  Iter    28:    Energy =   0.1255
Level     1,  Iter    29:    Energy =   0.1254
Level     1,  Iter    30:    Energy =   0.1257
Level     1,  Iter    31:    Energy =   0.1255
Level     1,  Iter    32:    Energy =   0.1259
Level     1,  Iter    33:    Energy =   0.1256
Level     1,  Iter    34:    Energy =   0.1260
Level     1,  Iter    35:    Energy =   0.1258
Level     1,  Iter    36:    Energy =   0.1261
Level     1,  Iter    37:    Energy =   0.1259
Level     1,  Iter    38:    Energy =   0.1262
Level     1,  Iter    39:    Energy =   0.1260
Level     1,  Iter    40:    Energy =   0.1263
Level     1,  Iter    41:    Energy =   0.1261
Level     1,  Iter    42:    Energy =   0.1264
Level     1,  Iter    43:    Energy =   0.1261
Level     1,  Iter    44:    Energy =   0.1265
Level     1,  Iter    45:    Energy =   0.1263
Level     1,  Iter    46:    Energy =   0.1266
Level     1,  Iter    47:    Energy =   0.1263
Level     1,  Iter    48:    Energy =   0.1266
Level     1,  Iter    49:    Energy =   0.1264
Level     1,  Iter    50:    Energy =   0.1267
Level     1,  Iter    51:    Energy =   0.1264
Level     1,  Iter    52:    Energy =   0.1267
Level     1,  Iter    53:    Energy =   0.1265
Level     1,  Iter    54:    Energy =   0.1268
Level     1,  Iter    55:    Energy =   0.1266
Level     1,  Iter    56:    Energy =   0.1269
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1269
Level     1,  Iter    59:    Energy =   0.1267
END OF LEVEL     1    DetJac Range:   0.1376  to   3.1708 
  Avg. Gradient Time  : 0.0499s  32.79% 
  Avg. Gaussian Time  : 0.0825s  54.24% 
  Avg. Iteration Time : 0.1521s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0685
Level     2,  Iter     1:    Energy =   0.0709
Level     2,  Iter     2:    Energy =   0.0728
Level     2,  Iter     3:    Energy =   0.0745
Level     2,  Iter     4:    Energy =   0.0760
Level     2,  Iter     5:    Energy =   0.0776
Level     2,  Iter     6:    Energy =   0.0790
Level     2,  Iter     7:    Energy =   0.0800
Level     2,  Iter     8:    Energy =   0.0807
Level     2,  Iter     9:    Energy =   0.0812
Level     2,  Iter    10:    Energy =   0.0818
Level     2,  Iter    11:    Energy =   0.0826
Level     2,  Iter    12:    Energy =   0.0832
Level     2,  Iter    13:    Energy =   0.0837
Level     2,  Iter    14:    Energy =   0.0842
Level     2,  Iter    15:    Energy =   0.0847
Level     2,  Iter    16:    Energy =   0.0851
Level     2,  Iter    17:    Energy =   0.0855
Level     2,  Iter    18:    Energy =   0.0859
Level     2,  Iter    19:    Energy =   0.0863
END OF LEVEL     2    DetJac Range:   0.0611  to   4.4747 
  Avg. Gradient Time  : 0.3121s  26.53% 
  Avg. Gaussian Time  : 0.7254s  61.65% 
  Avg. Iteration Time : 1.1766s 

real	0m39.633s
user	1m11.656s
sys	0m2.568s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.442308 0.448077
+ echo 'CHUNK 0.442308 0.448077 1'
CHUNK 0.442308 0.448077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.442308 0.448077 1
====================================
         PROGRESS: 0.442308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.409406
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3296.03   GNORM= 358.817
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3355.361     250.428       0.001
   2    4     -3378.421     106.644       1.000
   3    5     -3386.095      86.823       1.000
   4    6     -3397.186     112.658       1.000
   5    7     -3419.487     141.471       1.000
   6    8     -3459.945     211.062       1.000
   7   10     -3468.896     257.222       0.330
   8   11     -3490.759     149.667       1.000
   9   12     -3504.869      73.352       1.000
  10   13     -3508.305      78.511       1.000
  11   14     -3521.738      62.073       1.000
  12   15     -3525.279     123.229       1.000
  13   16     -3536.103      44.247       1.000
  14   17     -3537.607      19.233       1.000
  15   18     -3537.813      29.827       1.000
  16   19     -3538.123      10.994       1.000
  17   20     -3538.288      12.437       1.000
  18   21     -3538.759      20.952       1.000
  19   22     -3538.940      32.582       1.000
  20   23     -3539.276      15.178       1.000
  21   24     -3539.373      21.191       1.000
  22   25     -3539.453      14.232       1.000
  23   26     -3539.548       6.957       1.000
  24   27     -3539.677      13.310       1.000
  25   29     -3539.709      19.648       0.420
  26   31     -3540.418       7.665       5.000
  27   32     -3540.637      28.990       1.000
  28   33     -3540.888      11.684       1.000
  29   34     -3540.956       7.775       1.000
  30   35     -3541.038      11.159       1.000
  31   36     -3541.169      10.064       1.000
  32   38     -3541.267      14.862       0.393
  33   39     -3541.516      25.088       1.000
  34   40     -3541.659      32.103       1.000
  35   41     -3541.869      12.424       1.000
  36   42     -3541.954       8.071       1.000
  37   43     -3542.040       6.944       1.000
  38   44     -3542.089       9.510       1.000
  39   45     -3542.194       8.928       1.000
  40   46     -3542.259       6.674       1.000
  41   47     -3542.287       4.757       1.000
  42   48     -3542.323      13.364       1.000
  43   49     -3542.400       8.626       1.000
  44   51     -3542.420       6.920       0.156
  45   52     -3542.442       4.015       1.000
  46   53     -3542.459       4.141       1.000
  47   55     -3542.470       8.183       0.177
  48   56     -3542.499       7.177       1.000
  49   57     -3542.536       7.502       1.000
  50   59     -3542.560       6.237       0.396
  51   60     -3542.588       9.745       1.000
  52   61     -3542.607       7.013       1.000
Final RAS Transform: 
0.928087 0.0168184 -0.0239229 1.29502 
-0.0186197 0.981562 -0.0117873 -0.0352969 
0.0575939 0.00853533 1.0473 -0.460443 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2512.09   GNORM= 228.769
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2523.954      68.620       0.000
   2    4     -2525.971      53.374       1.000
   3    5     -2528.456      76.959       1.000
   4    6     -2534.139     103.561       1.000
   5    7     -2543.356     108.614       1.000
   6    8     -2551.685     122.236       1.000
   7    9     -2558.941      33.302       1.000
   8   10     -2561.054      53.562       1.000
   9   11     -2563.460      68.553       1.000
  10   12     -2572.921     118.047       1.000
  11   13     -2579.693     139.294       1.000
  12   14     -2584.459      25.861       1.000
  13   15     -2584.946      15.746       1.000
  14   16     -2585.548      13.808       1.000
  15   17     -2588.093      57.369       1.000
  16   18     -2590.378      47.758       1.000
  17   19     -2594.219      26.587       1.000
  18   21     -2594.471      14.886       0.267
  19   22     -2594.595      13.353       1.000
  20   23     -2594.654      22.587       1.000
  21   24     -2594.978       9.809       1.000
  22   26     -2595.053       7.502       0.488
  23   27     -2595.119       7.254       1.000
  24   28     -2595.251      16.302       1.000
  25   29     -2595.533       9.540       1.000
  26   30     -2595.892       7.601       1.000
  27   31     -2596.080       9.465       1.000
  28   32     -2596.268       6.775       1.000
  29   33     -2596.528      15.800       1.000
  30   34     -2596.648      29.100       1.000
  31   35     -2596.817       9.907       1.000
  32   36     -2596.850       6.629       1.000
  33   37     -2596.912       4.234       1.000
  34   38     -2597.002       7.055       1.000
  35   39     -2597.067       5.230       1.000
  36   41     -2597.131       5.930       0.465
  37   43     -2597.157       6.651       0.454
  38   44     -2597.170       4.375       1.000
  39   45     -2597.173       3.845       1.000
  40   46     -2597.208       3.615       1.000
  41   47     -2597.244       5.587       1.000
  42   48     -2597.316       8.460       1.000
  43   49     -2597.362       5.096       1.000
  44   50     -2597.376       3.028       1.000
  45   51     -2597.408       4.558       1.000
  46   52     -2597.414       3.332       1.000
  47   53     -2597.425       2.174       1.000
Final RAS Transform: 
0.94834 0.00745608 -0.024977 0.788972 
-0.032761 0.972971 -0.0400682 -0.0268539 
0.0191728 0.0177223 1.0211 0.155018 
0 0 0 1 

Final RAS Transform: 
0.94834 0.00745608 -0.024977 0.788972 
-0.032761 0.972971 -0.0400682 -0.0268539 
0.0191728 0.0177223 1.0211 0.155018 
0 0 0 1 


real	0m10.754s
user	0m18.796s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.423278
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1033
Level     0,  Iter     1:    Energy =   0.1111
Level     0,  Iter     2:    Energy =   0.1185
Level     0,  Iter     3:    Energy =   0.1239
Level     0,  Iter     4:    Energy =   0.1280
Level     0,  Iter     5:    Energy =   0.1303
Level     0,  Iter     6:    Energy =   0.1322
Level     0,  Iter     7:    Energy =   0.1338
Level     0,  Iter     8:    Energy =   0.1349
Level     0,  Iter     9:    Energy =   0.1355
Level     0,  Iter    10:    Energy =   0.1362
Level     0,  Iter    11:    Energy =   0.1365
Level     0,  Iter    12:    Energy =   0.1370
Level     0,  Iter    13:    Energy =   0.1372
Level     0,  Iter    14:    Energy =   0.1375
Level     0,  Iter    15:    Energy =   0.1377
Level     0,  Iter    16:    Energy =   0.1379
Level     0,  Iter    17:    Energy =   0.1380
Level     0,  Iter    18:    Energy =   0.1382
Level     0,  Iter    19:    Energy =   0.1383
Level     0,  Iter    20:    Energy =   0.1385
Level     0,  Iter    21:    Energy =   0.1385
Level     0,  Iter    22:    Energy =   0.1387
Level     0,  Iter    23:    Energy =   0.1387
Level     0,  Iter    24:    Energy =   0.1388
Level     0,  Iter    25:    Energy =   0.1388
Level     0,  Iter    26:    Energy =   0.1390
Level     0,  Iter    27:    Energy =   0.1390
Level     0,  Iter    28:    Energy =   0.1391
Level     0,  Iter    29:    Energy =   0.1391
Level     0,  Iter    30:    Energy =   0.1393
Level     0,  Iter    31:    Energy =   0.1393
Level     0,  Iter    32:    Energy =   0.1394
Level     0,  Iter    33:    Energy =   0.1394
Level     0,  Iter    34:    Energy =   0.1395
Level     0,  Iter    35:    Energy =   0.1395
Level     0,  Iter    36:    Energy =   0.1396
Level     0,  Iter    37:    Energy =   0.1395
Level     0,  Iter    38:    Energy =   0.1396
Level     0,  Iter    39:    Energy =   0.1396
Level     0,  Iter    40:    Energy =   0.1397
Level     0,  Iter    41:    Energy =   0.1396
Level     0,  Iter    42:    Energy =   0.1397
Level     0,  Iter    43:    Energy =   0.1397
Level     0,  Iter    44:    Energy =   0.1397
Level     0,  Iter    45:    Energy =   0.1397
Level     0,  Iter    46:    Energy =   0.1398
Level     0,  Iter    47:    Energy =   0.1397
Level     0,  Iter    48:    Energy =   0.1398
Level     0,  Iter    49:    Energy =   0.1398
Level     0,  Iter    50:    Energy =   0.1398
Level     0,  Iter    51:    Energy =   0.1398
Level     0,  Iter    52:    Energy =   0.1398
Level     0,  Iter    53:    Energy =   0.1398
Level     0,  Iter    54:    Energy =   0.1398
Level     0,  Iter    55:    Energy =   0.1398
Level     0,  Iter    56:    Energy =   0.1399
Level     0,  Iter    57:    Energy =   0.1398
Level     0,  Iter    58:    Energy =   0.1399
Level     0,  Iter    59:    Energy =   0.1398
END OF LEVEL     0    DetJac Range:   0.2912  to   2.2619 
  Avg. Gradient Time  : 0.0077s  34.62% 
  Avg. Gaussian Time  : 0.0110s  49.74% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0940
Level     1,  Iter     1:    Energy =   0.0979
Level     1,  Iter     2:    Energy =   0.1017
Level     1,  Iter     3:    Energy =   0.1057
Level     1,  Iter     4:    Energy =   0.1083
Level     1,  Iter     5:    Energy =   0.1104
Level     1,  Iter     6:    Energy =   0.1118
Level     1,  Iter     7:    Energy =   0.1129
Level     1,  Iter     8:    Energy =   0.1139
Level     1,  Iter     9:    Energy =   0.1147
Level     1,  Iter    10:    Energy =   0.1155
Level     1,  Iter    11:    Energy =   0.1161
Level     1,  Iter    12:    Energy =   0.1167
Level     1,  Iter    13:    Energy =   0.1173
Level     1,  Iter    14:    Energy =   0.1179
Level     1,  Iter    15:    Energy =   0.1180
Level     1,  Iter    16:    Energy =   0.1180
Level     1,  Iter    17:    Energy =   0.1185
Level     1,  Iter    18:    Energy =   0.1183
Level     1,  Iter    19:    Energy =   0.1188
Level     1,  Iter    20:    Energy =   0.1188
Level     1,  Iter    21:    Energy =   0.1190
Level     1,  Iter    22:    Energy =   0.1189
Level     1,  Iter    23:    Energy =   0.1193
Level     1,  Iter    24:    Energy =   0.1192
Level     1,  Iter    25:    Energy =   0.1196
Level     1,  Iter    26:    Energy =   0.1194
Level     1,  Iter    27:    Energy =   0.1198
Level     1,  Iter    28:    Energy =   0.1197
Level     1,  Iter    29:    Energy =   0.1200
Level     1,  Iter    30:    Energy =   0.1198
Level     1,  Iter    31:    Energy =   0.1202
Level     1,  Iter    32:    Energy =   0.1201
Level     1,  Iter    33:    Energy =   0.1204
Level     1,  Iter    34:    Energy =   0.1201
Level     1,  Iter    35:    Energy =   0.1205
Level     1,  Iter    36:    Energy =   0.1204
Level     1,  Iter    37:    Energy =   0.1206
Level     1,  Iter    38:    Energy =   0.1204
Level     1,  Iter    39:    Energy =   0.1207
Level     1,  Iter    40:    Energy =   0.1206
Level     1,  Iter    41:    Energy =   0.1208
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1209
Level     1,  Iter    44:    Energy =   0.1208
Level     1,  Iter    45:    Energy =   0.1210
Level     1,  Iter    46:    Energy =   0.1208
Level     1,  Iter    47:    Energy =   0.1211
Level     1,  Iter    48:    Energy =   0.1209
Level     1,  Iter    49:    Energy =   0.1212
Level     1,  Iter    50:    Energy =   0.1209
Level     1,  Iter    51:    Energy =   0.1212
Level     1,  Iter    52:    Energy =   0.1211
Level     1,  Iter    53:    Energy =   0.1213
Level     1,  Iter    54:    Energy =   0.1211
Level     1,  Iter    55:    Energy =   0.1214
Level     1,  Iter    56:    Energy =   0.1213
Level     1,  Iter    57:    Energy =   0.1214
Level     1,  Iter    58:    Energy =   0.1212
Level     1,  Iter    59:    Energy =   0.1215
END OF LEVEL     1    DetJac Range:   0.1281  to   3.2471 
  Avg. Gradient Time  : 0.0431s  32.70% 
  Avg. Gaussian Time  : 0.0718s  54.42% 
  Avg. Iteration Time : 0.1319s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0624
Level     2,  Iter     1:    Energy =   0.0651
Level     2,  Iter     2:    Energy =   0.0675
Level     2,  Iter     3:    Energy =   0.0695
Level     2,  Iter     4:    Energy =   0.0714
Level     2,  Iter     5:    Energy =   0.0732
Level     2,  Iter     6:    Energy =   0.0745
Level     2,  Iter     7:    Energy =   0.0755
Level     2,  Iter     8:    Energy =   0.0765
Level     2,  Iter     9:    Energy =   0.0774
Level     2,  Iter    10:    Energy =   0.0783
Level     2,  Iter    11:    Energy =   0.0791
Level     2,  Iter    12:    Energy =   0.0798
Level     2,  Iter    13:    Energy =   0.0804
Level     2,  Iter    14:    Energy =   0.0810
Level     2,  Iter    15:    Energy =   0.0816
Level     2,  Iter    16:    Energy =   0.0820
Level     2,  Iter    17:    Energy =   0.0825
Level     2,  Iter    18:    Energy =   0.0829
Level     2,  Iter    19:    Energy =   0.0833
END OF LEVEL     2    DetJac Range:   0.0508  to   5.1050 
  Avg. Gradient Time  : 0.3066s  27.08% 
  Avg. Gaussian Time  : 0.6874s  60.71% 
  Avg. Iteration Time : 1.1323s 

real	0m36.965s
user	1m6.936s
sys	0m2.184s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448077 0.453846
+ echo 'CHUNK 0.448077 0.453846 1'
CHUNK 0.448077 0.453846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448077 0.453846 1
====================================
         PROGRESS: 0.448077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.634007
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3755.63   GNORM= 445.936
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3830.069     355.765       0.001
   2    4     -3877.908     257.336       1.000
   3    5     -3930.872     151.795       1.000
   4    6     -3951.965     149.455       1.000
   5    7     -4026.603     145.393       1.000
   6    8     -4044.177      57.656       1.000
   7    9     -4051.266     126.966       1.000
   8   10     -4059.807     110.388       1.000
   9   11     -4072.149     110.462       1.000
  10   13     -4081.891      85.134       0.397
  11   14     -4087.737      38.432       1.000
  12   15     -4089.945      29.198       1.000
  13   17     -4090.456      28.584       0.246
  14   18     -4090.869      10.826       1.000
  15   19     -4090.910      17.154       1.000
  16   20     -4091.056       7.815       1.000
  17   21     -4091.192      10.625       1.000
  18   22     -4091.378      17.676       1.000
  19   23     -4091.606      18.564       1.000
  20   25     -4091.764      46.479       0.178
  21   26     -4092.297      28.228       1.000
  22   27     -4092.594      14.929       1.000
  23   28     -4092.747      12.332       1.000
  24   29     -4092.812       9.678       1.000
  25   30     -4092.912       8.047       1.000
  26   31     -4092.961      13.999       1.000
  27   32     -4093.040      10.050       1.000
  28   33     -4093.183      14.694       1.000
  29   35     -4093.388      10.772       0.470
  30   36     -4093.488       6.534       1.000
  31   37     -4093.499      12.962       1.000
  32   38     -4093.543       6.253       1.000
  33   39     -4093.552       4.234       1.000
  34   40     -4093.559       5.179       1.000
  35   41     -4093.564       5.150       1.000
  36   43     -4093.574       3.282       0.078
  37   45     -4093.587       5.126       5.000
  38   46     -4093.596       5.341       1.000
  39   48     -4093.604       7.100       0.191
  40   49     -4093.615       2.627       1.000
  41   51     -4093.623       3.267       0.504
  42   52     -4093.629       2.660       1.000
  43   53     -4093.633       5.710       1.000
  44   54     -4093.640       2.134       1.000
Final RAS Transform: 
0.952633 -0.0011488 -0.0464661 0.768826 
-0.0114822 0.995518 0.0347315 -0.164409 
0.0395341 0.0061985 1.01483 -0.245375 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2793.03   GNORM= 216.016
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2806.909     105.795       0.001
   2    4     -2811.897      59.252       1.000
   3    5     -2815.129      48.434       1.000
   4    6     -2820.869      71.546       1.000
   5    7     -2827.447      70.723       1.000
   6    9     -2830.415      80.673       0.397
   7   10     -2834.254      35.771       1.000
   8   11     -2835.940      37.240       1.000
   9   12     -2836.889      55.018       1.000
  10   13     -2838.701      67.499       1.000
  11   14     -2844.773      69.097       1.000
  12   15     -2847.139      19.114       1.000
  13   16     -2847.519      14.647       1.000
  14   17     -2847.913      29.324       1.000
  15   18     -2848.420      37.569       1.000
  16   19     -2849.688      55.307       1.000
  17   20     -2851.327      26.184       1.000
  18   21     -2851.670      12.432       1.000
  19   22     -2851.787       8.833       1.000
  20   23     -2851.824       6.656       1.000
  21   24     -2851.836       7.255       1.000
  22   25     -2851.928       5.150       1.000
  23   26     -2852.167       8.239       1.000
  24   27     -2852.293       9.920       1.000
  25   28     -2852.516      14.396       1.000
  26   29     -2852.674       9.565       1.000
  27   30     -2852.721      24.699       1.000
  28   31     -2852.868       7.746       1.000
  29   32     -2852.918       4.534       1.000
  30   33     -2852.996       6.001       1.000
  31   34     -2853.123       7.803       1.000
  32   36     -2853.189      12.353       0.512
  33   37     -2853.274       6.098       1.000
  34   39     -2853.335       8.240       0.268
  35   40     -2853.366       5.881       1.000
  36   41     -2853.394       2.488       1.000
  37   42     -2853.403       3.443       1.000
  38   44     -2853.418       3.950       0.176
  39   45     -2853.433       2.639       1.000
  40   46     -2853.438       1.882       1.000
  41   47     -2853.445       1.549       1.000
  42   48     -2853.447       1.710       1.000
  43   49     -2853.451       3.001       1.000
  44   50     -2853.462       3.517       1.000
  45   51     -2853.464       3.604       1.000
  46   53     -2853.467       3.031       0.284
  47   54     -2853.471       3.312       1.000
  48   55     -2853.474       2.026       1.000
  49   57     -2853.480       1.784       0.250
Final RAS Transform: 
0.961876 -0.00563062 -0.0520786 0.334669 
0.00593135 1.00276 0.0278433 -0.137862 
0.0159288 0.012909 1.00736 0.209529 
0 0 0 1 

Final RAS Transform: 
0.961876 -0.00563062 -0.0520786 0.334669 
0.00593135 1.00276 0.0278433 -0.137862 
0.0159288 0.012909 1.00736 0.209529 
0 0 0 1 


real	0m10.078s
user	0m17.680s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.646343
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1179
Level     0,  Iter     1:    Energy =   0.1245
Level     0,  Iter     2:    Energy =   0.1300
Level     0,  Iter     3:    Energy =   0.1335
Level     0,  Iter     4:    Energy =   0.1358
Level     0,  Iter     5:    Energy =   0.1380
Level     0,  Iter     6:    Energy =   0.1393
Level     0,  Iter     7:    Energy =   0.1411
Level     0,  Iter     8:    Energy =   0.1418
Level     0,  Iter     9:    Energy =   0.1424
Level     0,  Iter    10:    Energy =   0.1430
Level     0,  Iter    11:    Energy =   0.1436
Level     0,  Iter    12:    Energy =   0.1440
Level     0,  Iter    13:    Energy =   0.1444
Level     0,  Iter    14:    Energy =   0.1447
Level     0,  Iter    15:    Energy =   0.1448
Level     0,  Iter    16:    Energy =   0.1450
Level     0,  Iter    17:    Energy =   0.1452
Level     0,  Iter    18:    Energy =   0.1455
Level     0,  Iter    19:    Energy =   0.1455
Level     0,  Iter    20:    Energy =   0.1457
Level     0,  Iter    21:    Energy =   0.1458
Level     0,  Iter    22:    Energy =   0.1461
Level     0,  Iter    23:    Energy =   0.1462
Level     0,  Iter    24:    Energy =   0.1464
Level     0,  Iter    25:    Energy =   0.1464
Level     0,  Iter    26:    Energy =   0.1465
Level     0,  Iter    27:    Energy =   0.1466
Level     0,  Iter    28:    Energy =   0.1469
Level     0,  Iter    29:    Energy =   0.1468
Level     0,  Iter    30:    Energy =   0.1470
Level     0,  Iter    31:    Energy =   0.1469
Level     0,  Iter    32:    Energy =   0.1471
Level     0,  Iter    33:    Energy =   0.1471
Level     0,  Iter    34:    Energy =   0.1473
Level     0,  Iter    35:    Energy =   0.1473
Level     0,  Iter    36:    Energy =   0.1475
Level     0,  Iter    37:    Energy =   0.1474
Level     0,  Iter    38:    Energy =   0.1476
Level     0,  Iter    39:    Energy =   0.1475
Level     0,  Iter    40:    Energy =   0.1476
Level     0,  Iter    41:    Energy =   0.1476
Level     0,  Iter    42:    Energy =   0.1477
Level     0,  Iter    43:    Energy =   0.1477
Level     0,  Iter    44:    Energy =   0.1478
Level     0,  Iter    45:    Energy =   0.1478
Level     0,  Iter    46:    Energy =   0.1479
Level     0,  Iter    47:    Energy =   0.1478
Level     0,  Iter    48:    Energy =   0.1479
Level     0,  Iter    49:    Energy =   0.1478
Level     0,  Iter    50:    Energy =   0.1480
Level     0,  Iter    51:    Energy =   0.1479
Level     0,  Iter    52:    Energy =   0.1480
Level     0,  Iter    53:    Energy =   0.1479
Level     0,  Iter    54:    Energy =   0.1480
Level     0,  Iter    55:    Energy =   0.1480
Level     0,  Iter    56:    Energy =   0.1481
Level     0,  Iter    57:    Energy =   0.1480
Level     0,  Iter    58:    Energy =   0.1481
Level     0,  Iter    59:    Energy =   0.1480
END OF LEVEL     0    DetJac Range:   0.3381  to   2.5427 
  Avg. Gradient Time  : 0.0078s  34.87% 
  Avg. Gaussian Time  : 0.0111s  49.59% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0964
Level     1,  Iter     1:    Energy =   0.1011
Level     1,  Iter     2:    Energy =   0.1056
Level     1,  Iter     3:    Energy =   0.1097
Level     1,  Iter     4:    Energy =   0.1127
Level     1,  Iter     5:    Energy =   0.1150
Level     1,  Iter     6:    Energy =   0.1170
Level     1,  Iter     7:    Energy =   0.1189
Level     1,  Iter     8:    Energy =   0.1200
Level     1,  Iter     9:    Energy =   0.1203
Level     1,  Iter    10:    Energy =   0.1211
Level     1,  Iter    11:    Energy =   0.1213
Level     1,  Iter    12:    Energy =   0.1222
Level     1,  Iter    13:    Energy =   0.1221
Level     1,  Iter    14:    Energy =   0.1229
Level     1,  Iter    15:    Energy =   0.1227
Level     1,  Iter    16:    Energy =   0.1234
Level     1,  Iter    17:    Energy =   0.1231
Level     1,  Iter    18:    Energy =   0.1239
Level     1,  Iter    19:    Energy =   0.1236
Level     1,  Iter    20:    Energy =   0.1243
Level     1,  Iter    21:    Energy =   0.1240
Level     1,  Iter    22:    Energy =   0.1246
Level     1,  Iter    23:    Energy =   0.1242
Level     1,  Iter    24:    Energy =   0.1249
Level     1,  Iter    25:    Energy =   0.1245
Level     1,  Iter    26:    Energy =   0.1251
Level     1,  Iter    27:    Energy =   0.1247
Level     1,  Iter    28:    Energy =   0.1254
Level     1,  Iter    29:    Energy =   0.1249
Level     1,  Iter    30:    Energy =   0.1255
Level     1,  Iter    31:    Energy =   0.1251
Level     1,  Iter    32:    Energy =   0.1257
Level     1,  Iter    33:    Energy =   0.1253
Level     1,  Iter    34:    Energy =   0.1259
Level     1,  Iter    35:    Energy =   0.1254
Level     1,  Iter    36:    Energy =   0.1261
Level     1,  Iter    37:    Energy =   0.1256
Level     1,  Iter    38:    Energy =   0.1262
Level     1,  Iter    39:    Energy =   0.1257
Level     1,  Iter    40:    Energy =   0.1264
Level     1,  Iter    41:    Energy =   0.1259
Level     1,  Iter    42:    Energy =   0.1265
Level     1,  Iter    43:    Energy =   0.1260
Level     1,  Iter    44:    Energy =   0.1266
Level     1,  Iter    45:    Energy =   0.1261
Level     1,  Iter    46:    Energy =   0.1267
Level     1,  Iter    47:    Energy =   0.1262
Level     1,  Iter    48:    Energy =   0.1268
Level     1,  Iter    49:    Energy =   0.1263
Level     1,  Iter    50:    Energy =   0.1268
Level     1,  Iter    51:    Energy =   0.1263
Level     1,  Iter    52:    Energy =   0.1269
Level     1,  Iter    53:    Energy =   0.1264
Level     1,  Iter    54:    Energy =   0.1269
Level     1,  Iter    55:    Energy =   0.1264
Level     1,  Iter    56:    Energy =   0.1271
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1271
Level     1,  Iter    59:    Energy =   0.1266
END OF LEVEL     1    DetJac Range:   0.1368  to   3.5879 
  Avg. Gradient Time  : 0.0434s  32.65% 
  Avg. Gaussian Time  : 0.0725s  54.50% 
  Avg. Iteration Time : 0.1330s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0658
Level     2,  Iter     1:    Energy =   0.0681
Level     2,  Iter     2:    Energy =   0.0709
Level     2,  Iter     3:    Energy =   0.0732
Level     2,  Iter     4:    Energy =   0.0750
Level     2,  Iter     5:    Energy =   0.0764
Level     2,  Iter     6:    Energy =   0.0775
Level     2,  Iter     7:    Energy =   0.0785
Level     2,  Iter     8:    Energy =   0.0797
Level     2,  Iter     9:    Energy =   0.0808
Level     2,  Iter    10:    Energy =   0.0819
Level     2,  Iter    11:    Energy =   0.0830
Level     2,  Iter    12:    Energy =   0.0840
Level     2,  Iter    13:    Energy =   0.0847
Level     2,  Iter    14:    Energy =   0.0854
Level     2,  Iter    15:    Energy =   0.0860
Level     2,  Iter    16:    Energy =   0.0865
Level     2,  Iter    17:    Energy =   0.0870
Level     2,  Iter    18:    Energy =   0.0870
Level     2,  Iter    19:    Energy =   0.0873
END OF LEVEL     2    DetJac Range:   0.0792  to   4.4436 
  Avg. Gradient Time  : 0.3047s  26.20% 
  Avg. Gaussian Time  : 0.7214s  62.03% 
  Avg. Iteration Time : 1.1630s 

real	0m37.623s
user	1m8.244s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.453846 0.459615
+ echo 'CHUNK 0.453846 0.459615 1'
CHUNK 0.453846 0.459615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.453846 0.459615 1
====================================
         PROGRESS: 0.453846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.479351
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2731.05   GNORM= 311.396
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2782.886     199.870       0.001
   2    4     -2803.274      95.465       1.000
   3    5     -2812.749      74.798       1.000
   4    6     -2836.895     130.559       1.000
   5    7     -2862.197     217.419       1.000
   6    8     -2904.971     181.295       1.000
   7    9     -2925.076     186.323       1.000
   8   10     -2946.424     182.784       1.000
   9   11     -2964.273      57.223       1.000
  10   12     -2968.630      43.529       1.000
  11   13     -2975.925      64.968       1.000
  12   14     -2983.489      37.644       1.000
  13   15     -2986.942      45.541       1.000
  14   16     -2989.819      29.428       1.000
  15   17     -2993.205      30.893       1.000
  16   18     -2993.647      76.696       1.000
  17   19     -2996.174      10.174       1.000
  18   20     -2996.351       8.410       1.000
  19   21     -2996.507      11.044       1.000
  20   23     -2996.600      13.351       0.297
  21   24     -2996.758      13.099       1.000
  22   25     -2996.961      10.723       1.000
  23   26     -2997.080      30.220       1.000
  24   27     -2997.412       9.068       1.000
  25   28     -2997.481       9.881       1.000
  26   29     -2997.578      11.461       1.000
  27   30     -2997.760       7.573       1.000
  28   32     -2997.899       7.241       0.504
  29   33     -2997.944       4.971       1.000
  30   35     -2997.978       6.827       0.336
  31   36     -2998.008       4.416       1.000
  32   38     -2998.039       7.049       0.310
  33   39     -2998.071       7.176       1.000
  34   40     -2998.155       5.261       1.000
  35   41     -2998.222      14.319       1.000
  36   42     -2998.243      22.716       1.000
  37   43     -2998.374      10.061       1.000
  38   44     -2998.408       3.894       1.000
  39   45     -2998.426       2.638       1.000
  40   47     -2998.443       3.321       0.265
  41   48     -2998.455       2.223       1.000
  42   49     -2998.474       3.899       1.000
  43   50     -2998.493       3.584       1.000
  44   51     -2998.499       7.023       1.000
  45   52     -2998.515       4.104       1.000
  46   54     -2998.545       2.023       0.048
  47   55     -2998.553       3.310       1.000
  48   56     -2998.558       3.192       1.000
  49   58     -2998.559       2.638       0.310
  50   59     -2998.560       3.703       1.000
Final RAS Transform: 
0.922339 0.0523364 0.0130127 2.56477 
-0.0458331 0.983385 0.00170834 -0.0605449 
0.0447801 0.00424888 1.01202 -0.190985 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2226.83   GNORM= 268.882
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2255.178     140.751       0.001
   2    4     -2267.067      96.604       1.000
   3    5     -2275.436      38.815       1.000
   4    6     -2277.319      35.426       1.000
   5    7     -2283.733      70.317       1.000
   6    8     -2290.002      72.794       1.000
   7   10     -2293.062     138.922       0.273
   8   11     -2299.928      75.303       1.000
   9   12     -2304.753      38.967       1.000
  10   13     -2308.503      76.578       1.000
  11   14     -2312.582      87.785       1.000
  12   15     -2332.376      80.793       1.000
  13   17     -2333.394      88.237       0.084
  14   18     -2336.025      36.433       1.000
  15   19     -2336.439      16.502       1.000
  16   20     -2336.531      12.919       1.000
  17   21     -2336.734      13.492       1.000
  18   22     -2337.165      22.178       1.000
  19   23     -2338.401      38.378       1.000
  20   24     -2339.603      28.329       1.000
  21   25     -2339.872      23.163       1.000
  22   26     -2340.195       5.561       1.000
  23   27     -2340.312       5.677       1.000
  24   28     -2340.489      25.239       1.000
  25   29     -2340.822      17.010       1.000
  26   30     -2341.136      25.282       1.000
  27   31     -2341.355      14.653       1.000
  28   32     -2341.684      14.463       1.000
  29   33     -2341.763      19.115       1.000
  30   34     -2341.912      12.299       1.000
  31   35     -2342.170       4.911       1.000
  32   36     -2342.557       5.330       1.000
  33   37     -2342.797      24.667       1.000
  34   38     -2343.036      10.676       1.000
  35   39     -2343.089       4.986       1.000
  36   40     -2343.142       3.867       1.000
  37   41     -2343.209      14.498       1.000
  38   43     -2343.608      10.726       5.000
  39   44     -2343.721       5.159       1.000
  40   45     -2343.781       4.525       1.000
  41   47     -2343.823       6.024       0.278
  42   48     -2343.894      13.322       1.000
  43   49     -2343.963       4.217       1.000
  44   50     -2343.974       3.881       1.000
  45   51     -2344.017       2.577       1.000
  46   52     -2344.034       1.735       1.000
  47   54     -2344.052       2.586       0.331
  48   55     -2344.063       1.426       1.000
  49   57     -2344.066       2.837       0.196
  50   58     -2344.068       1.040       1.000
  51   60     -2344.070       1.096       0.158
Final RAS Transform: 
0.969605 0.040889 0.0140256 1.64912 
-0.0512539 0.972749 -0.0472194 -0.101981 
0.0152223 0.00773562 0.999296 -0.0533713 
0 0 0 1 

Final RAS Transform: 
0.969605 0.040889 0.0140256 1.64912 
-0.0512539 0.972749 -0.0472194 -0.101981 
0.0152223 0.00773562 0.999296 -0.0533713 
0 0 0 1 


real	0m10.803s
user	0m18.760s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.477839
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0866
Level     0,  Iter     1:    Energy =   0.0930
Level     0,  Iter     2:    Energy =   0.0985
Level     0,  Iter     3:    Energy =   0.1013
Level     0,  Iter     4:    Energy =   0.1037
Level     0,  Iter     5:    Energy =   0.1055
Level     0,  Iter     6:    Energy =   0.1069
Level     0,  Iter     7:    Energy =   0.1081
Level     0,  Iter     8:    Energy =   0.1091
Level     0,  Iter     9:    Energy =   0.1099
Level     0,  Iter    10:    Energy =   0.1107
Level     0,  Iter    11:    Energy =   0.1113
Level     0,  Iter    12:    Energy =   0.1119
Level     0,  Iter    13:    Energy =   0.1124
Level     0,  Iter    14:    Energy =   0.1129
Level     0,  Iter    15:    Energy =   0.1132
Level     0,  Iter    16:    Energy =   0.1136
Level     0,  Iter    17:    Energy =   0.1139
Level     0,  Iter    18:    Energy =   0.1143
Level     0,  Iter    19:    Energy =   0.1145
Level     0,  Iter    20:    Energy =   0.1148
Level     0,  Iter    21:    Energy =   0.1150
Level     0,  Iter    22:    Energy =   0.1153
Level     0,  Iter    23:    Energy =   0.1155
Level     0,  Iter    24:    Energy =   0.1157
Level     0,  Iter    25:    Energy =   0.1159
Level     0,  Iter    26:    Energy =   0.1161
Level     0,  Iter    27:    Energy =   0.1162
Level     0,  Iter    28:    Energy =   0.1164
Level     0,  Iter    29:    Energy =   0.1166
Level     0,  Iter    30:    Energy =   0.1167
Level     0,  Iter    31:    Energy =   0.1168
Level     0,  Iter    32:    Energy =   0.1168
Level     0,  Iter    33:    Energy =   0.1169
Level     0,  Iter    34:    Energy =   0.1170
Level     0,  Iter    35:    Energy =   0.1170
Level     0,  Iter    36:    Energy =   0.1171
Level     0,  Iter    37:    Energy =   0.1171
Level     0,  Iter    38:    Energy =   0.1172
Level     0,  Iter    39:    Energy =   0.1172
Level     0,  Iter    40:    Energy =   0.1173
Level     0,  Iter    41:    Energy =   0.1173
Level     0,  Iter    42:    Energy =   0.1174
Level     0,  Iter    43:    Energy =   0.1173
Level     0,  Iter    44:    Energy =   0.1174
Level     0,  Iter    45:    Energy =   0.1173
Level     0,  Iter    46:    Energy =   0.1174
Level     0,  Iter    47:    Energy =   0.1174
Level     0,  Iter    48:    Energy =   0.1175
Level     0,  Iter    49:    Energy =   0.1175
Level     0,  Iter    50:    Energy =   0.1176
Level     0,  Iter    51:    Energy =   0.1175
Level     0,  Iter    52:    Energy =   0.1176
Level     0,  Iter    53:    Energy =   0.1176
Level     0,  Iter    54:    Energy =   0.1177
Level     0,  Iter    55:    Energy =   0.1176
Level     0,  Iter    56:    Energy =   0.1177
Level     0,  Iter    57:    Energy =   0.1177
Level     0,  Iter    58:    Energy =   0.1177
Level     0,  Iter    59:    Energy =   0.1176
END OF LEVEL     0    DetJac Range:   0.2428  to   2.4382 
  Avg. Gradient Time  : 0.0077s  34.77% 
  Avg. Gaussian Time  : 0.0110s  49.62% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0842
Level     1,  Iter     1:    Energy =   0.0875
Level     1,  Iter     2:    Energy =   0.0914
Level     1,  Iter     3:    Energy =   0.0944
Level     1,  Iter     4:    Energy =   0.0969
Level     1,  Iter     5:    Energy =   0.0991
Level     1,  Iter     6:    Energy =   0.1008
Level     1,  Iter     7:    Energy =   0.1022
Level     1,  Iter     8:    Energy =   0.1035
Level     1,  Iter     9:    Energy =   0.1047
Level     1,  Iter    10:    Energy =   0.1055
Level     1,  Iter    11:    Energy =   0.1062
Level     1,  Iter    12:    Energy =   0.1067
Level     1,  Iter    13:    Energy =   0.1073
Level     1,  Iter    14:    Energy =   0.1077
Level     1,  Iter    15:    Energy =   0.1082
Level     1,  Iter    16:    Energy =   0.1088
Level     1,  Iter    17:    Energy =   0.1093
Level     1,  Iter    18:    Energy =   0.1099
Level     1,  Iter    19:    Energy =   0.1105
Level     1,  Iter    20:    Energy =   0.1111
Level     1,  Iter    21:    Energy =   0.1110
Level     1,  Iter    22:    Energy =   0.1115
Level     1,  Iter    23:    Energy =   0.1114
Level     1,  Iter    24:    Energy =   0.1119
Level     1,  Iter    25:    Energy =   0.1118
Level     1,  Iter    26:    Energy =   0.1122
Level     1,  Iter    27:    Energy =   0.1121
Level     1,  Iter    28:    Energy =   0.1125
Level     1,  Iter    29:    Energy =   0.1123
Level     1,  Iter    30:    Energy =   0.1126
Level     1,  Iter    31:    Energy =   0.1125
Level     1,  Iter    32:    Energy =   0.1128
Level     1,  Iter    33:    Energy =   0.1127
Level     1,  Iter    34:    Energy =   0.1130
Level     1,  Iter    35:    Energy =   0.1129
Level     1,  Iter    36:    Energy =   0.1132
Level     1,  Iter    37:    Energy =   0.1131
Level     1,  Iter    38:    Energy =   0.1134
Level     1,  Iter    39:    Energy =   0.1133
Level     1,  Iter    40:    Energy =   0.1135
Level     1,  Iter    41:    Energy =   0.1134
Level     1,  Iter    42:    Energy =   0.1136
Level     1,  Iter    43:    Energy =   0.1136
Level     1,  Iter    44:    Energy =   0.1138
Level     1,  Iter    45:    Energy =   0.1137
Level     1,  Iter    46:    Energy =   0.1139
Level     1,  Iter    47:    Energy =   0.1138
Level     1,  Iter    48:    Energy =   0.1140
Level     1,  Iter    49:    Energy =   0.1138
Level     1,  Iter    50:    Energy =   0.1140
Level     1,  Iter    51:    Energy =   0.1139
Level     1,  Iter    52:    Energy =   0.1141
Level     1,  Iter    53:    Energy =   0.1139
Level     1,  Iter    54:    Energy =   0.1141
Level     1,  Iter    55:    Energy =   0.1139
Level     1,  Iter    56:    Energy =   0.1141
Level     1,  Iter    57:    Energy =   0.1139
Level     1,  Iter    58:    Energy =   0.1141
Level     1,  Iter    59:    Energy =   0.1140
END OF LEVEL     1    DetJac Range:   0.0791  to   3.4113 
  Avg. Gradient Time  : 0.0434s  32.66% 
  Avg. Gaussian Time  : 0.0725s  54.47% 
  Avg. Iteration Time : 0.1330s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0601
Level     2,  Iter     1:    Energy =   0.0626
Level     2,  Iter     2:    Energy =   0.0647
Level     2,  Iter     3:    Energy =   0.0662
Level     2,  Iter     4:    Energy =   0.0674
Level     2,  Iter     5:    Energy =   0.0684
Level     2,  Iter     6:    Energy =   0.0695
Level     2,  Iter     7:    Energy =   0.0707
Level     2,  Iter     8:    Energy =   0.0720
Level     2,  Iter     9:    Energy =   0.0730
Level     2,  Iter    10:    Energy =   0.0739
Level     2,  Iter    11:    Energy =   0.0746
Level     2,  Iter    12:    Energy =   0.0752
Level     2,  Iter    13:    Energy =   0.0758
Level     2,  Iter    14:    Energy =   0.0762
Level     2,  Iter    15:    Energy =   0.0767
Level     2,  Iter    16:    Energy =   0.0771
Level     2,  Iter    17:    Energy =   0.0774
Level     2,  Iter    18:    Energy =   0.0778
Level     2,  Iter    19:    Energy =   0.0781
END OF LEVEL     2    DetJac Range:   0.0448  to   3.8838 
  Avg. Gradient Time  : 0.3099s  27.46% 
  Avg. Gaussian Time  : 0.6813s  60.38% 
  Avg. Iteration Time : 1.1283s 

real	0m36.920s
user	1m6.816s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.459615 0.465385
+ echo 'CHUNK 0.459615 0.465385 1'
CHUNK 0.459615 0.465385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.459615 0.465385 1
====================================
         PROGRESS: 0.459615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.477857
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2753.65   GNORM= 132.819
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2773.092     195.056       0.002
   2    4     -2793.391     144.382       1.000
   3    5     -2830.543     105.881       1.000
   4    6     -2869.183     150.211       1.000
   5    7     -2925.068     171.075       1.000
   6    9     -2958.871     208.700       0.458
   7   10     -2996.772     122.722       1.000
   8   11     -3015.749      73.971       1.000
   9   12     -3025.629      95.403       1.000
  10   13     -3040.519      65.042       1.000
  11   14     -3055.974      51.543       1.000
  12   15     -3060.404      51.213       1.000
  13   16     -3064.391      31.887       1.000
  14   17     -3066.269      28.204       1.000
  15   18     -3067.892      22.203       1.000
  16   19     -3070.635      39.026       1.000
  17   20     -3072.155      29.829       1.000
  18   21     -3073.014      13.430       1.000
  19   22     -3073.503      11.842       1.000
  20   23     -3073.815      14.508       1.000
  21   24     -3074.177      13.328       1.000
  22   25     -3074.456      38.525       1.000
  23   26     -3074.939      14.269       1.000
  24   27     -3075.188       8.094       1.000
  25   28     -3075.324      10.005       1.000
  26   29     -3075.640      12.386       1.000
  27   31     -3075.800      12.263       0.323
  28   32     -3076.010       8.098       1.000
  29   34     -3076.092      14.477       0.371
  30   35     -3076.183      10.137       1.000
  31   37     -3076.235       8.859       0.134
  32   38     -3076.292       5.161       1.000
  33   39     -3076.344       3.761       1.000
  34   40     -3076.398       5.862       1.000
  35   41     -3076.459       8.795       1.000
  36   42     -3076.527       7.834       1.000
  37   43     -3076.572       5.483       1.000
  38   44     -3076.590       6.825       1.000
  39   45     -3076.624       3.062       1.000
  40   46     -3076.627       3.991       1.000
  41   47     -3076.650       3.914       1.000
  42   49     -3076.665       6.341       0.127
  43   51     -3076.666       6.220       0.133
  44   52     -3076.690       4.362       1.000
  45   54     -3076.701       3.077       0.392
  46   55     -3076.705       2.558       1.000
  47   56     -3076.707       5.701       1.000
  48   57     -3076.722       2.782       1.000
  49   58     -3076.734       2.143       1.000
  50   59     -3076.736       2.458       1.000
  51   60     -3076.737       1.712       1.000
Final RAS Transform: 
0.893672 -0.00742958 -0.0534258 1.58409 
-0.0249285 1.00196 0.0188935 0.65675 
0.074526 0.0222353 1.06843 -0.16841 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2250.84   GNORM= 350.008
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2282.039      98.060       0.000
   2    4     -2286.627      71.701       1.000
   3    5     -2290.981      29.636       1.000
   4    6     -2292.207      27.342       1.000
   5    7     -2300.717      66.497       1.000
   6    8     -2308.081      82.196       1.000
   7    9     -2323.813      78.789       1.000
   8   11     -2325.653      62.339       0.180
   9   12     -2327.837      35.055       1.000
  10   13     -2329.390      21.488       1.000
  11   14     -2330.863      28.924       1.000
  12   15     -2334.467      40.075       1.000
  13   16     -2338.409      36.395       1.000
  14   18     -2338.716      55.915       0.067
  15   19     -2340.085      32.449       1.000
  16   20     -2340.855      14.744       1.000
  17   21     -2341.256      18.782       1.000
  18   22     -2342.122      18.335       1.000
  19   23     -2342.356      13.562       1.000
  20   25     -2342.421       4.766       0.285
  21   26     -2342.479       5.482       1.000
  22   27     -2342.529       5.294       1.000
  23   29     -2342.766       8.695       5.000
  24   30     -2342.967      24.648       1.000
  25   31     -2343.189       9.761       1.000
  26   32     -2343.548      12.517       1.000
  27   33     -2343.727      17.242       1.000
  28   34     -2343.803      27.697       1.000
  29   35     -2344.010       7.831       1.000
  30   36     -2344.055       4.522       1.000
  31   37     -2344.105       8.879       1.000
  32   38     -2344.149       9.218       1.000
  33   39     -2344.266       6.967       1.000
  34   41     -2344.281       4.675       0.285
  35   42     -2344.295       2.602       1.000
  36   43     -2344.301       3.320       1.000
  37   44     -2344.321       5.218       1.000
  38   45     -2344.339       4.434       1.000
  39   46     -2344.388       5.770       1.000
  40   48     -2344.389       6.304       0.334
  41   50     -2344.411       8.422       0.461
  42   51     -2344.442       4.219       1.000
  43   52     -2344.454       2.382       1.000
  44   53     -2344.459       3.059       1.000
  45   54     -2344.475       1.800       1.000
  46   55     -2344.478       3.392       1.000
  47   56     -2344.494       3.878       1.000
  48   57     -2344.536       4.940       1.000
  49   58     -2344.541       6.194       1.000
  50   59     -2344.568       3.858       1.000
  51   60     -2344.573       3.357       1.000
  52   61     -2344.584       1.745       1.000
Final RAS Transform: 
0.920257 -0.0192518 -0.0764212 0.735393 
-0.0147174 1.00118 0.000706207 0.4349 
0.0407512 0.0201622 1.06272 0.16162 
0 0 0 1 

Final RAS Transform: 
0.920257 -0.0192518 -0.0764212 0.735393 
-0.0147174 1.00118 0.000706207 0.4349 
0.0407512 0.0201622 1.06272 0.16162 
0 0 0 1 


real	0m10.913s
user	0m19.084s
sys	0m0.532s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.480392
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0887
Level     0,  Iter     1:    Energy =   0.0957
Level     0,  Iter     2:    Energy =   0.1020
Level     0,  Iter     3:    Energy =   0.1064
Level     0,  Iter     4:    Energy =   0.1096
Level     0,  Iter     5:    Energy =   0.1121
Level     0,  Iter     6:    Energy =   0.1143
Level     0,  Iter     7:    Energy =   0.1158
Level     0,  Iter     8:    Energy =   0.1173
Level     0,  Iter     9:    Energy =   0.1183
Level     0,  Iter    10:    Energy =   0.1194
Level     0,  Iter    11:    Energy =   0.1199
Level     0,  Iter    12:    Energy =   0.1207
Level     0,  Iter    13:    Energy =   0.1209
Level     0,  Iter    14:    Energy =   0.1215
Level     0,  Iter    15:    Energy =   0.1216
Level     0,  Iter    16:    Energy =   0.1221
Level     0,  Iter    17:    Energy =   0.1221
Level     0,  Iter    18:    Energy =   0.1225
Level     0,  Iter    19:    Energy =   0.1224
Level     0,  Iter    20:    Energy =   0.1229
Level     0,  Iter    21:    Energy =   0.1229
Level     0,  Iter    22:    Energy =   0.1233
Level     0,  Iter    23:    Energy =   0.1233
Level     0,  Iter    24:    Energy =   0.1237
Level     0,  Iter    25:    Energy =   0.1237
Level     0,  Iter    26:    Energy =   0.1241
Level     0,  Iter    27:    Energy =   0.1240
Level     0,  Iter    28:    Energy =   0.1244
Level     0,  Iter    29:    Energy =   0.1243
Level     0,  Iter    30:    Energy =   0.1246
Level     0,  Iter    31:    Energy =   0.1244
Level     0,  Iter    32:    Energy =   0.1247
Level     0,  Iter    33:    Energy =   0.1246
Level     0,  Iter    34:    Energy =   0.1249
Level     0,  Iter    35:    Energy =   0.1247
Level     0,  Iter    36:    Energy =   0.1250
Level     0,  Iter    37:    Energy =   0.1248
Level     0,  Iter    38:    Energy =   0.1251
Level     0,  Iter    39:    Energy =   0.1250
Level     0,  Iter    40:    Energy =   0.1253
Level     0,  Iter    41:    Energy =   0.1251
Level     0,  Iter    42:    Energy =   0.1254
Level     0,  Iter    43:    Energy =   0.1253
Level     0,  Iter    44:    Energy =   0.1255
Level     0,  Iter    45:    Energy =   0.1254
Level     0,  Iter    46:    Energy =   0.1256
Level     0,  Iter    47:    Energy =   0.1255
Level     0,  Iter    48:    Energy =   0.1257
Level     0,  Iter    49:    Energy =   0.1255
Level     0,  Iter    50:    Energy =   0.1258
Level     0,  Iter    51:    Energy =   0.1256
Level     0,  Iter    52:    Energy =   0.1259
Level     0,  Iter    53:    Energy =   0.1257
Level     0,  Iter    54:    Energy =   0.1259
Level     0,  Iter    55:    Energy =   0.1258
Level     0,  Iter    56:    Energy =   0.1260
Level     0,  Iter    57:    Energy =   0.1258
Level     0,  Iter    58:    Energy =   0.1260
Level     0,  Iter    59:    Energy =   0.1259
END OF LEVEL     0    DetJac Range:   0.2764  to   2.2399 
  Avg. Gradient Time  : 0.0077s  34.73% 
  Avg. Gaussian Time  : 0.0110s  49.67% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0869
Level     1,  Iter     1:    Energy =   0.0907
Level     1,  Iter     2:    Energy =   0.0942
Level     1,  Iter     3:    Energy =   0.0974
Level     1,  Iter     4:    Energy =   0.0996
Level     1,  Iter     5:    Energy =   0.1014
Level     1,  Iter     6:    Energy =   0.1028
Level     1,  Iter     7:    Energy =   0.1041
Level     1,  Iter     8:    Energy =   0.1054
Level     1,  Iter     9:    Energy =   0.1065
Level     1,  Iter    10:    Energy =   0.1076
Level     1,  Iter    11:    Energy =   0.1087
Level     1,  Iter    12:    Energy =   0.1097
Level     1,  Iter    13:    Energy =   0.1106
Level     1,  Iter    14:    Energy =   0.1115
Level     1,  Iter    15:    Energy =   0.1125
Level     1,  Iter    16:    Energy =   0.1133
Level     1,  Iter    17:    Energy =   0.1139
Level     1,  Iter    18:    Energy =   0.1145
Level     1,  Iter    19:    Energy =   0.1151
Level     1,  Iter    20:    Energy =   0.1156
Level     1,  Iter    21:    Energy =   0.1160
Level     1,  Iter    22:    Energy =   0.1158
Level     1,  Iter    23:    Energy =   0.1159
Level     1,  Iter    24:    Energy =   0.1158
Level     1,  Iter    25:    Energy =   0.1156
Level     1,  Iter    26:    Energy =   0.1158
Level     1,  Iter    27:    Energy =   0.1155
Level     1,  Iter    28:    Energy =   0.1158
Level     1,  Iter    29:    Energy =   0.1156
Level     1,  Iter    30:    Energy =   0.1159
Level     1,  Iter    31:    Energy =   0.1157
Level     1,  Iter    32:    Energy =   0.1160
Level     1,  Iter    33:    Energy =   0.1158
Level     1,  Iter    34:    Energy =   0.1162
Level     1,  Iter    35:    Energy =   0.1159
Level     1,  Iter    36:    Energy =   0.1163
Level     1,  Iter    37:    Energy =   0.1161
Level     1,  Iter    38:    Energy =   0.1164
Level     1,  Iter    39:    Energy =   0.1161
Level     1,  Iter    40:    Energy =   0.1164
Level     1,  Iter    41:    Energy =   0.1163
Level     1,  Iter    42:    Energy =   0.1162
Level     1,  Iter    43:    Energy =   0.1163
Level     1,  Iter    44:    Energy =   0.1162
Level     1,  Iter    45:    Energy =   0.1162
Level     1,  Iter    46:    Energy =   0.1163
Level     1,  Iter    47:    Energy =   0.1162
Level     1,  Iter    48:    Energy =   0.1163
Level     1,  Iter    49:    Energy =   0.1163
Level     1,  Iter    50:    Energy =   0.1163
Level     1,  Iter    51:    Energy =   0.1163
Level     1,  Iter    52:    Energy =   0.1164
Level     1,  Iter    53:    Energy =   0.1163
Level     1,  Iter    54:    Energy =   0.1164
Level     1,  Iter    55:    Energy =   0.1163
Level     1,  Iter    56:    Energy =   0.1165
Level     1,  Iter    57:    Energy =   0.1164
Level     1,  Iter    58:    Energy =   0.1166
Level     1,  Iter    59:    Energy =   0.1164
END OF LEVEL     1    DetJac Range:   0.0451  to   4.3109 
  Avg. Gradient Time  : 0.0434s  32.64% 
  Avg. Gaussian Time  : 0.0724s  54.48% 
  Avg. Iteration Time : 0.1329s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0601
Level     2,  Iter     1:    Energy =   0.0621
Level     2,  Iter     2:    Energy =   0.0643
Level     2,  Iter     3:    Energy =   0.0660
Level     2,  Iter     4:    Energy =   0.0674
Level     2,  Iter     5:    Energy =   0.0685
Level     2,  Iter     6:    Energy =   0.0694
Level     2,  Iter     7:    Energy =   0.0702
Level     2,  Iter     8:    Energy =   0.0710
Level     2,  Iter     9:    Energy =   0.0716
Level     2,  Iter    10:    Energy =   0.0722
Level     2,  Iter    11:    Energy =   0.0729
Level     2,  Iter    12:    Energy =   0.0736
Level     2,  Iter    13:    Energy =   0.0744
Level     2,  Iter    14:    Energy =   0.0752
Level     2,  Iter    15:    Energy =   0.0758
Level     2,  Iter    16:    Energy =   0.0763
Level     2,  Iter    17:    Energy =   0.0766
Level     2,  Iter    18:    Energy =   0.0770
Level     2,  Iter    19:    Energy =   0.0773
END OF LEVEL     2    DetJac Range:   0.0513  to   4.5203 
  Avg. Gradient Time  : 0.3071s  25.01% 
  Avg. Gaussian Time  : 0.7836s  63.83% 
  Avg. Iteration Time : 1.2277s 

real	0m38.901s
user	1m10.736s
sys	0m2.316s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465385 0.471154
+ echo 'CHUNK 0.465385 0.471154 1'
CHUNK 0.465385 0.471154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465385 0.471154 1
====================================
         PROGRESS: 0.465385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.693105
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3050.62   GNORM= 228.563
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3072.975     141.723       0.001
   2    4     -3084.720     112.955       1.000
   3    5     -3110.121     164.786       1.000
   4    6     -3135.213     116.217       1.000
   5    7     -3166.046     124.089       1.000
   6    8     -3191.855     167.540       1.000
   7    9     -3203.983     106.344       1.000
   8   10     -3209.856      66.986       1.000
   9   11     -3218.881      65.694       1.000
  10   12     -3232.401      62.185       1.000
  11   13     -3237.202     127.203       1.000
  12   14     -3250.929     103.659       1.000
  13   15     -3254.489      63.353       1.000
  14   16     -3256.477      20.568       1.000
  15   17     -3256.919      17.825       1.000
  16   18     -3257.231      47.524       1.000
  17   19     -3259.730      43.820       1.000
  18   21     -3261.351      21.471       0.371
  19   22     -3263.143      22.499       1.000
  20   23     -3263.996      38.604       1.000
  21   25     -3264.408      18.776       0.350
  22   26     -3264.555      12.784       1.000
  23   27     -3264.672      11.208       1.000
  24   28     -3264.689      22.814       1.000
  25   29     -3264.902      11.817       1.000
  26   30     -3265.049       9.655       1.000
  27   31     -3265.228      13.736       1.000
  28   32     -3265.584      29.456       1.000
  29   33     -3266.336      16.712       1.000
  30   34     -3267.021      18.263       1.000
  31   35     -3267.401      19.771       1.000
  32   36     -3267.695      17.210       1.000
  33   37     -3267.773      25.523       1.000
  34   38     -3268.000      19.815       1.000
  35   39     -3268.198      17.341       1.000
  36   41     -3268.380       8.551       0.106
  37   42     -3268.520       9.935       1.000
  38   43     -3268.766      17.886       1.000
  39   45     -3268.855      15.399       0.395
  40   46     -3268.944      12.293       1.000
  41   47     -3268.976       8.085       1.000
  42   48     -3269.006      15.307       1.000
  43   49     -3269.036       5.209       1.000
  44   50     -3269.058       4.371       1.000
  45   51     -3269.094       6.071       1.000
  46   52     -3269.165       4.407       1.000
  47   53     -3269.193       4.583       1.000
  48   55     -3269.214       3.873       0.436
  49   56     -3269.224       4.501       1.000
  50   58     -3269.230       2.450       0.332
  51   59     -3269.237       1.958       1.000
  52   60     -3269.238       2.017       1.000
  53   61     -3269.240       3.556       1.000
Final RAS Transform: 
0.931981 0.00734937 -0.018684 1.50098 
-0.0213498 0.971496 -0.0346126 -0.319683 
0.059442 0.0221754 1.06123 -0.186602 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2234.57   GNORM= 411.626
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2289.718     104.982       0.001
   2    4     -2295.557      69.685       1.000
   3    5     -2299.628      37.583       1.000
   4    6     -2301.870      37.369       1.000
   5    7     -2306.720      45.905       1.000
   6    8     -2315.529      80.303       1.000
   7    9     -2323.796      99.946       1.000
   8   11     -2327.380      74.347       0.406
   9   12     -2331.092      29.749       1.000
  10   13     -2332.088      21.120       1.000
  11   14     -2332.697      22.691       1.000
  12   15     -2339.123      42.090       1.000
  13   16     -2342.158      44.791       1.000
  14   17     -2343.754      14.419       1.000
  15   18     -2344.017       9.019       1.000
  16   19     -2344.207      10.684       1.000
  17   20     -2344.349      15.928       1.000
  18   21     -2344.619      13.285       1.000
  19   22     -2345.093      10.953       1.000
  20   23     -2345.736      12.244       1.000
  21   24     -2346.092       7.643       1.000
  22   25     -2346.226       5.658       1.000
  23   26     -2346.295       6.439       1.000
  24   27     -2346.345       3.754       1.000
  25   28     -2346.414       6.049       1.000
  26   29     -2346.731      18.140       1.000
  27   30     -2347.088      15.221       1.000
  28   31     -2347.392      20.550       1.000
  29   33     -2347.547      10.946       0.460
  30   34     -2347.586       6.777       1.000
  31   35     -2347.617       5.084       1.000
  32   36     -2347.658       3.779       1.000
  33   37     -2347.726       3.769       1.000
  34   38     -2347.796       3.868       1.000
  35   40     -2347.818       8.298       0.278
  36   41     -2347.848       8.508       1.000
  37   42     -2347.903       6.641       1.000
  38   43     -2347.940       4.495       1.000
  39   44     -2347.967       4.895       1.000
  40   46     -2348.037       2.599       5.000
  41   48     -2348.050       3.089       0.264
  42   49     -2348.058       2.383       1.000
  43   51     -2348.067       1.350       0.131
  44   52     -2348.070       1.095       1.000
  45   53     -2348.074       3.042       1.000
  46   54     -2348.079       2.248       1.000
  47   56     -2348.091       4.008       0.364
  48   57     -2348.093       3.229       1.000
  49   59     -2348.098       2.393       0.226
  50   60     -2348.103       1.585       1.000
  51   61     -2348.104       1.062       1.000
Final RAS Transform: 
0.955408 0.00448267 -0.0141352 0.774924 
-0.0458289 0.971546 -0.0542858 0.104368 
0.0300583 0.025048 1.05675 0.198423 
0 0 0 1 

Final RAS Transform: 
0.955408 0.00448267 -0.0141352 0.774924 
-0.0458289 0.971546 -0.0542858 0.104368 
0.0300583 0.025048 1.05675 0.198423 
0 0 0 1 


real	0m10.111s
user	0m17.712s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.69037
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0937
Level     0,  Iter     1:    Energy =   0.1013
Level     0,  Iter     2:    Energy =   0.1086
Level     0,  Iter     3:    Energy =   0.1142
Level     0,  Iter     4:    Energy =   0.1172
Level     0,  Iter     5:    Energy =   0.1188
Level     0,  Iter     6:    Energy =   0.1208
Level     0,  Iter     7:    Energy =   0.1217
Level     0,  Iter     8:    Energy =   0.1236
Level     0,  Iter     9:    Energy =   0.1241
Level     0,  Iter    10:    Energy =   0.1251
Level     0,  Iter    11:    Energy =   0.1255
Level     0,  Iter    12:    Energy =   0.1264
Level     0,  Iter    13:    Energy =   0.1266
Level     0,  Iter    14:    Energy =   0.1270
Level     0,  Iter    15:    Energy =   0.1272
Level     0,  Iter    16:    Energy =   0.1278
Level     0,  Iter    17:    Energy =   0.1279
Level     0,  Iter    18:    Energy =   0.1285
Level     0,  Iter    19:    Energy =   0.1286
Level     0,  Iter    20:    Energy =   0.1290
Level     0,  Iter    21:    Energy =   0.1291
Level     0,  Iter    22:    Energy =   0.1296
Level     0,  Iter    23:    Energy =   0.1297
Level     0,  Iter    24:    Energy =   0.1300
Level     0,  Iter    25:    Energy =   0.1301
Level     0,  Iter    26:    Energy =   0.1303
Level     0,  Iter    27:    Energy =   0.1303
Level     0,  Iter    28:    Energy =   0.1305
Level     0,  Iter    29:    Energy =   0.1305
Level     0,  Iter    30:    Energy =   0.1307
Level     0,  Iter    31:    Energy =   0.1306
Level     0,  Iter    32:    Energy =   0.1307
Level     0,  Iter    33:    Energy =   0.1307
Level     0,  Iter    34:    Energy =   0.1309
Level     0,  Iter    35:    Energy =   0.1308
Level     0,  Iter    36:    Energy =   0.1310
Level     0,  Iter    37:    Energy =   0.1308
Level     0,  Iter    38:    Energy =   0.1310
Level     0,  Iter    39:    Energy =   0.1309
Level     0,  Iter    40:    Energy =   0.1310
Level     0,  Iter    41:    Energy =   0.1309
Level     0,  Iter    42:    Energy =   0.1310
Level     0,  Iter    43:    Energy =   0.1309
Level     0,  Iter    44:    Energy =   0.1310
Level     0,  Iter    45:    Energy =   0.1308
Level     0,  Iter    46:    Energy =   0.1310
Level     0,  Iter    47:    Energy =   0.1308
Level     0,  Iter    48:    Energy =   0.1310
Level     0,  Iter    49:    Energy =   0.1308
Level     0,  Iter    50:    Energy =   0.1310
Level     0,  Iter    51:    Energy =   0.1308
Level     0,  Iter    52:    Energy =   0.1310
Level     0,  Iter    53:    Energy =   0.1308
Level     0,  Iter    54:    Energy =   0.1310
Level     0,  Iter    55:    Energy =   0.1308
Level     0,  Iter    56:    Energy =   0.1309
Level     0,  Iter    57:    Energy =   0.1308
Level     0,  Iter    58:    Energy =   0.1309
Level     0,  Iter    59:    Energy =   0.1308
END OF LEVEL     0    DetJac Range:   0.2410  to   2.0648 
  Avg. Gradient Time  : 0.0089s  34.41% 
  Avg. Gaussian Time  : 0.0131s  50.40% 
  Avg. Iteration Time : 0.0260s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0853
Level     1,  Iter     1:    Energy =   0.0903
Level     1,  Iter     2:    Energy =   0.0945
Level     1,  Iter     3:    Energy =   0.0971
Level     1,  Iter     4:    Energy =   0.0993
Level     1,  Iter     5:    Energy =   0.1010
Level     1,  Iter     6:    Energy =   0.1026
Level     1,  Iter     7:    Energy =   0.1040
Level     1,  Iter     8:    Energy =   0.1054
Level     1,  Iter     9:    Energy =   0.1069
Level     1,  Iter    10:    Energy =   0.1082
Level     1,  Iter    11:    Energy =   0.1094
Level     1,  Iter    12:    Energy =   0.1107
Level     1,  Iter    13:    Energy =   0.1116
Level     1,  Iter    14:    Energy =   0.1115
Level     1,  Iter    15:    Energy =   0.1119
Level     1,  Iter    16:    Energy =   0.1121
Level     1,  Iter    17:    Energy =   0.1122
Level     1,  Iter    18:    Energy =   0.1126
Level     1,  Iter    19:    Energy =   0.1126
Level     1,  Iter    20:    Energy =   0.1131
Level     1,  Iter    21:    Energy =   0.1131
Level     1,  Iter    22:    Energy =   0.1134
Level     1,  Iter    23:    Energy =   0.1134
Level     1,  Iter    24:    Energy =   0.1137
Level     1,  Iter    25:    Energy =   0.1137
Level     1,  Iter    26:    Energy =   0.1139
Level     1,  Iter    27:    Energy =   0.1140
Level     1,  Iter    28:    Energy =   0.1141
Level     1,  Iter    29:    Energy =   0.1142
Level     1,  Iter    30:    Energy =   0.1144
Level     1,  Iter    31:    Energy =   0.1145
Level     1,  Iter    32:    Energy =   0.1146
Level     1,  Iter    33:    Energy =   0.1146
Level     1,  Iter    34:    Energy =   0.1148
Level     1,  Iter    35:    Energy =   0.1148
Level     1,  Iter    36:    Energy =   0.1150
Level     1,  Iter    37:    Energy =   0.1150
Level     1,  Iter    38:    Energy =   0.1151
Level     1,  Iter    39:    Energy =   0.1151
Level     1,  Iter    40:    Energy =   0.1153
Level     1,  Iter    41:    Energy =   0.1153
Level     1,  Iter    42:    Energy =   0.1155
Level     1,  Iter    43:    Energy =   0.1154
Level     1,  Iter    44:    Energy =   0.1154
Level     1,  Iter    45:    Energy =   0.1154
Level     1,  Iter    46:    Energy =   0.1153
Level     1,  Iter    47:    Energy =   0.1153
Level     1,  Iter    48:    Energy =   0.1153
Level     1,  Iter    49:    Energy =   0.1154
Level     1,  Iter    50:    Energy =   0.1153
Level     1,  Iter    51:    Energy =   0.1153
Level     1,  Iter    52:    Energy =   0.1154
Level     1,  Iter    53:    Energy =   0.1153
Level     1,  Iter    54:    Energy =   0.1154
Level     1,  Iter    55:    Energy =   0.1153
Level     1,  Iter    56:    Energy =   0.1154
Level     1,  Iter    57:    Energy =   0.1153
Level     1,  Iter    58:    Energy =   0.1154
Level     1,  Iter    59:    Energy =   0.1153
END OF LEVEL     1    DetJac Range:   0.1170  to   3.2438 
  Avg. Gradient Time  : 0.0497s  32.75% 
  Avg. Gaussian Time  : 0.0823s  54.26% 
  Avg. Iteration Time : 0.1516s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0582
Level     2,  Iter     1:    Energy =   0.0610
Level     2,  Iter     2:    Energy =   0.0634
Level     2,  Iter     3:    Energy =   0.0654
Level     2,  Iter     4:    Energy =   0.0668
Level     2,  Iter     5:    Energy =   0.0679
Level     2,  Iter     6:    Energy =   0.0690
Level     2,  Iter     7:    Energy =   0.0701
Level     2,  Iter     8:    Energy =   0.0711
Level     2,  Iter     9:    Energy =   0.0721
Level     2,  Iter    10:    Energy =   0.0731
Level     2,  Iter    11:    Energy =   0.0742
Level     2,  Iter    12:    Energy =   0.0753
Level     2,  Iter    13:    Energy =   0.0762
Level     2,  Iter    14:    Energy =   0.0771
Level     2,  Iter    15:    Energy =   0.0779
Level     2,  Iter    16:    Energy =   0.0785
Level     2,  Iter    17:    Energy =   0.0790
Level     2,  Iter    18:    Energy =   0.0794
Level     2,  Iter    19:    Energy =   0.0798
END OF LEVEL     2    DetJac Range:   0.0836  to   4.7767 
  Avg. Gradient Time  : 0.3184s  26.47% 
  Avg. Gaussian Time  : 0.7420s  61.68% 
  Avg. Iteration Time : 1.2030s 

real	0m39.988s
user	1m12.700s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.471154 0.476923
+ echo 'CHUNK 0.471154 0.476923 1'
CHUNK 0.471154 0.476923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.471154 0.476923 1
====================================
         PROGRESS: 0.471154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.601767
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3417.23   GNORM= 423.596
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3495.710     340.656       0.001
   2    4     -3539.245     145.375       1.000
   3    5     -3556.799     119.455       1.000
   4    6     -3583.252     201.089       1.000
   5    7     -3607.877     177.749       1.000
   6    8     -3665.632     211.911       1.000
   7    9     -3688.947      76.161       1.000
   8   10     -3693.947      59.410       1.000
   9   11     -3698.830      50.051       1.000
  10   12     -3709.407      55.614       1.000
  11   13     -3717.625      89.628       1.000
  12   14     -3720.370      38.377       1.000
  13   15     -3720.908      26.383       1.000
  14   17     -3721.249      19.203       0.417
  15   18     -3721.545      17.303       1.000
  16   19     -3723.810      18.597       1.000
  17   21     -3724.944      17.411       0.519
  18   23     -3725.125      13.483       0.414
  19   24     -3725.235      11.715       1.000
  20   25     -3725.345      12.128       1.000
  21   26     -3725.591      11.137       1.000
  22   27     -3725.942      16.031       1.000
  23   28     -3726.725      14.895       1.000
  24   29     -3727.813      25.574       1.000
  25   30     -3728.259      30.627       1.000
  26   31     -3728.469      13.207       1.000
  27   32     -3728.547       8.650       1.000
  28   33     -3728.638      10.717       1.000
  29   34     -3728.815      17.027       1.000
  30   35     -3729.059      13.667       1.000
  31   37     -3729.111      17.681       0.260
  32   39     -3729.170       8.731       0.425
  33   40     -3729.192       5.976       1.000
  34   41     -3729.231       4.122       1.000
  35   42     -3729.256       5.831       1.000
  36   43     -3729.274       8.452       1.000
  37   44     -3729.293       7.769       1.000
  38   46     -3729.308       4.575       0.334
  39   47     -3729.315       3.963       1.000
  40   48     -3729.318       3.293       1.000
  41   49     -3729.319       4.028       1.000
  42   50     -3729.327       1.357       1.000
  43   51     -3729.329       0.959       1.000
  44   52     -3729.333       2.061       1.000
Final RAS Transform: 
0.948743 0.00985115 -0.00982906 0.90532 
0.0463237 1.01531 0.0775995 -0.371296 
0.0188229 -0.00112248 1.00799 0.216899 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2669.42   GNORM= 313.298
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2689.784      65.089       0.000
   2    4     -2691.103      37.934       1.000
   3    5     -2691.913      40.224       1.000
   4    6     -2693.565      44.743       1.000
   5    7     -2696.108      63.499       1.000
   6    8     -2704.926      79.492       1.000
   7    9     -2713.638     108.927       1.000
   8   10     -2722.359      73.606       1.000
   9   11     -2726.244      32.554       1.000
  10   12     -2729.161      54.139       1.000
  11   13     -2732.759      62.629       1.000
  12   14     -2734.559      21.104       1.000
  13   15     -2735.291      24.523       1.000
  14   16     -2736.034      36.333       1.000
  15   17     -2738.567      45.506       1.000
  16   18     -2740.557      41.973       1.000
  17   20     -2741.552      49.414       0.454
  18   22     -2741.953      16.645       0.355
  19   23     -2742.274       8.378       1.000
  20   24     -2742.538      10.752       1.000
  21   25     -2742.818      10.257       1.000
  22   26     -2743.308       9.035       1.000
  23   28     -2743.463      21.211       0.327
  24   29     -2743.757      17.015       1.000
  25   30     -2743.864      28.294       1.000
  26   31     -2744.022       8.577       1.000
  27   32     -2744.081       7.760       1.000
  28   33     -2744.128       6.303       1.000
  29   34     -2744.289      12.020       1.000
  30   36     -2744.889      27.267       5.000
  31   37     -2745.142      12.163       1.000
  32   38     -2745.232       7.767       1.000
  33   39     -2745.342       9.847       1.000
  34   40     -2745.486       9.432       1.000
  35   42     -2745.638      12.819       0.312
  36   43     -2745.694       8.172       1.000
  37   44     -2745.744       6.627       1.000
  38   45     -2745.877      10.509       1.000
  39   46     -2746.037      12.751       1.000
  40   47     -2746.200      17.358       1.000
  41   48     -2746.225       9.572       1.000
  42   49     -2746.268       3.408       1.000
  43   50     -2746.276       2.431       1.000
  44   51     -2746.285       2.947       1.000
  45   52     -2746.301       6.500       1.000
  46   53     -2746.327       2.454       1.000
  47   54     -2746.347       1.803       1.000
  48   56     -2746.352       4.080       0.445
  49   57     -2746.359       2.362       1.000
  50   58     -2746.379       1.703       1.000
  51   59     -2746.388       6.123       1.000
  52   60     -2746.403       1.584       1.000
Final RAS Transform: 
0.964065 0.00742237 -0.00709822 0.60896 
0.00954735 1.01201 0.0372942 0.00301512 
-0.00476315 -0.00158773 0.986947 0.410142 
0 0 0 1 

Final RAS Transform: 
0.964065 0.00742237 -0.00709822 0.60896 
0.00954735 1.01201 0.0372942 0.00301512 
-0.00476315 -0.00158773 0.986947 0.410142 
0 0 0 1 


real	0m10.538s
user	0m18.312s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.608261
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1099
Level     0,  Iter     1:    Energy =   0.1159
Level     0,  Iter     2:    Energy =   0.1215
Level     0,  Iter     3:    Energy =   0.1249
Level     0,  Iter     4:    Energy =   0.1271
Level     0,  Iter     5:    Energy =   0.1290
Level     0,  Iter     6:    Energy =   0.1305
Level     0,  Iter     7:    Energy =   0.1319
Level     0,  Iter     8:    Energy =   0.1329
Level     0,  Iter     9:    Energy =   0.1338
Level     0,  Iter    10:    Energy =   0.1346
Level     0,  Iter    11:    Energy =   0.1352
Level     0,  Iter    12:    Energy =   0.1357
Level     0,  Iter    13:    Energy =   0.1360
Level     0,  Iter    14:    Energy =   0.1364
Level     0,  Iter    15:    Energy =   0.1366
Level     0,  Iter    16:    Energy =   0.1369
Level     0,  Iter    17:    Energy =   0.1370
Level     0,  Iter    18:    Energy =   0.1374
Level     0,  Iter    19:    Energy =   0.1375
Level     0,  Iter    20:    Energy =   0.1378
Level     0,  Iter    21:    Energy =   0.1378
Level     0,  Iter    22:    Energy =   0.1381
Level     0,  Iter    23:    Energy =   0.1382
Level     0,  Iter    24:    Energy =   0.1384
Level     0,  Iter    25:    Energy =   0.1384
Level     0,  Iter    26:    Energy =   0.1386
Level     0,  Iter    27:    Energy =   0.1386
Level     0,  Iter    28:    Energy =   0.1388
Level     0,  Iter    29:    Energy =   0.1388
Level     0,  Iter    30:    Energy =   0.1390
Level     0,  Iter    31:    Energy =   0.1390
Level     0,  Iter    32:    Energy =   0.1392
Level     0,  Iter    33:    Energy =   0.1391
Level     0,  Iter    34:    Energy =   0.1394
Level     0,  Iter    35:    Energy =   0.1393
Level     0,  Iter    36:    Energy =   0.1395
Level     0,  Iter    37:    Energy =   0.1395
Level     0,  Iter    38:    Energy =   0.1396
Level     0,  Iter    39:    Energy =   0.1396
Level     0,  Iter    40:    Energy =   0.1398
Level     0,  Iter    41:    Energy =   0.1398
Level     0,  Iter    42:    Energy =   0.1399
Level     0,  Iter    43:    Energy =   0.1399
Level     0,  Iter    44:    Energy =   0.1401
Level     0,  Iter    45:    Energy =   0.1400
Level     0,  Iter    46:    Energy =   0.1402
Level     0,  Iter    47:    Energy =   0.1401
Level     0,  Iter    48:    Energy =   0.1403
Level     0,  Iter    49:    Energy =   0.1402
Level     0,  Iter    50:    Energy =   0.1404
Level     0,  Iter    51:    Energy =   0.1403
Level     0,  Iter    52:    Energy =   0.1405
Level     0,  Iter    53:    Energy =   0.1404
Level     0,  Iter    54:    Energy =   0.1406
Level     0,  Iter    55:    Energy =   0.1405
Level     0,  Iter    56:    Energy =   0.1406
Level     0,  Iter    57:    Energy =   0.1406
Level     0,  Iter    58:    Energy =   0.1407
Level     0,  Iter    59:    Energy =   0.1406
END OF LEVEL     0    DetJac Range:   0.3308  to   2.0748 
  Avg. Gradient Time  : 0.0087s  34.75% 
  Avg. Gaussian Time  : 0.0125s  49.66% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0948
Level     1,  Iter     1:    Energy =   0.0993
Level     1,  Iter     2:    Energy =   0.1040
Level     1,  Iter     3:    Energy =   0.1077
Level     1,  Iter     4:    Energy =   0.1101
Level     1,  Iter     5:    Energy =   0.1125
Level     1,  Iter     6:    Energy =   0.1148
Level     1,  Iter     7:    Energy =   0.1162
Level     1,  Iter     8:    Energy =   0.1173
Level     1,  Iter     9:    Energy =   0.1184
Level     1,  Iter    10:    Energy =   0.1194
Level     1,  Iter    11:    Energy =   0.1203
Level     1,  Iter    12:    Energy =   0.1205
Level     1,  Iter    13:    Energy =   0.1206
Level     1,  Iter    14:    Energy =   0.1208
Level     1,  Iter    15:    Energy =   0.1211
Level     1,  Iter    16:    Energy =   0.1211
Level     1,  Iter    17:    Energy =   0.1215
Level     1,  Iter    18:    Energy =   0.1214
Level     1,  Iter    19:    Energy =   0.1219
Level     1,  Iter    20:    Energy =   0.1217
Level     1,  Iter    21:    Energy =   0.1220
Level     1,  Iter    22:    Energy =   0.1219
Level     1,  Iter    23:    Energy =   0.1222
Level     1,  Iter    24:    Energy =   0.1221
Level     1,  Iter    25:    Energy =   0.1224
Level     1,  Iter    26:    Energy =   0.1222
Level     1,  Iter    27:    Energy =   0.1226
Level     1,  Iter    28:    Energy =   0.1224
Level     1,  Iter    29:    Energy =   0.1227
Level     1,  Iter    30:    Energy =   0.1226
Level     1,  Iter    31:    Energy =   0.1228
Level     1,  Iter    32:    Energy =   0.1227
Level     1,  Iter    33:    Energy =   0.1230
Level     1,  Iter    34:    Energy =   0.1228
Level     1,  Iter    35:    Energy =   0.1230
Level     1,  Iter    36:    Energy =   0.1228
Level     1,  Iter    37:    Energy =   0.1232
Level     1,  Iter    38:    Energy =   0.1229
Level     1,  Iter    39:    Energy =   0.1233
Level     1,  Iter    40:    Energy =   0.1230
Level     1,  Iter    41:    Energy =   0.1234
Level     1,  Iter    42:    Energy =   0.1231
Level     1,  Iter    43:    Energy =   0.1234
Level     1,  Iter    44:    Energy =   0.1232
Level     1,  Iter    45:    Energy =   0.1235
Level     1,  Iter    46:    Energy =   0.1232
Level     1,  Iter    47:    Energy =   0.1235
Level     1,  Iter    48:    Energy =   0.1233
Level     1,  Iter    49:    Energy =   0.1236
Level     1,  Iter    50:    Energy =   0.1233
Level     1,  Iter    51:    Energy =   0.1237
Level     1,  Iter    52:    Energy =   0.1234
Level     1,  Iter    53:    Energy =   0.1237
Level     1,  Iter    54:    Energy =   0.1235
Level     1,  Iter    55:    Energy =   0.1238
Level     1,  Iter    56:    Energy =   0.1235
Level     1,  Iter    57:    Energy =   0.1238
Level     1,  Iter    58:    Energy =   0.1235
Level     1,  Iter    59:    Energy =   0.1239
END OF LEVEL     1    DetJac Range:   0.1161  to   3.6445 
  Avg. Gradient Time  : 0.0491s  32.60% 
  Avg. Gaussian Time  : 0.0819s  54.40% 
  Avg. Iteration Time : 0.1506s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0626
Level     2,  Iter     1:    Energy =   0.0653
Level     2,  Iter     2:    Energy =   0.0673
Level     2,  Iter     3:    Energy =   0.0695
Level     2,  Iter     4:    Energy =   0.0716
Level     2,  Iter     5:    Energy =   0.0733
Level     2,  Iter     6:    Energy =   0.0749
Level     2,  Iter     7:    Energy =   0.0762
Level     2,  Iter     8:    Energy =   0.0776
Level     2,  Iter     9:    Energy =   0.0787
Level     2,  Iter    10:    Energy =   0.0796
Level     2,  Iter    11:    Energy =   0.0805
Level     2,  Iter    12:    Energy =   0.0813
Level     2,  Iter    13:    Energy =   0.0817
Level     2,  Iter    14:    Energy =   0.0820
Level     2,  Iter    15:    Energy =   0.0822
Level     2,  Iter    16:    Energy =   0.0824
Level     2,  Iter    17:    Energy =   0.0825
Level     2,  Iter    18:    Energy =   0.0826
Level     2,  Iter    19:    Energy =   0.0828
END OF LEVEL     2    DetJac Range:   0.0611  to   4.6761 
  Avg. Gradient Time  : 0.3274s  26.06% 
  Avg. Gaussian Time  : 0.7812s  62.18% 
  Avg. Iteration Time : 1.2564s 

real	0m40.966s
user	1m14.432s
sys	0m2.556s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.476923 0.482692
+ echo 'CHUNK 0.476923 0.482692 1'
CHUNK 0.476923 0.482692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.476923 0.482692 1
====================================
         PROGRESS: 0.476923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.813393
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3783.89   GNORM= 334.602
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3867.229     221.899       0.001
   2    4     -3893.506     189.589       1.000
   3    5     -3911.697     147.582       1.000
   4    6     -3947.577     144.934       1.000
   5    7     -3978.270      80.658       1.000
   6    8     -3991.252      45.543       1.000
   7    9     -4000.898      47.551       1.000
   8   10     -4005.661     146.216       1.000
   9   11     -4010.374     122.552       1.000
  10   12     -4014.456      49.346       1.000
  11   13     -4015.824      31.657       1.000
  12   14     -4016.280      19.002       1.000
  13   15     -4016.892      15.790       1.000
  14   16     -4017.210      15.845       1.000
  15   17     -4017.631      16.337       1.000
  16   18     -4018.269      12.542       1.000
  17   19     -4018.708      15.537       1.000
  18   20     -4018.853      40.773       1.000
  19   21     -4019.320      11.008       1.000
  20   22     -4019.436      16.287       1.000
  21   23     -4019.677      18.796       1.000
  22   24     -4019.971      26.258       1.000
  23   25     -4020.517      11.655       1.000
  24   26     -4020.660       6.235       1.000
  25   27     -4020.688      11.686       1.000
  26   28     -4020.781       6.605       1.000
  27   29     -4020.834       6.153       1.000
  28   30     -4020.901       6.096       1.000
  29   32     -4020.914       8.711       0.272
  30   33     -4020.944       5.709       1.000
  31   34     -4020.970       6.785       1.000
  32   35     -4020.987       7.267       1.000
  33   36     -4020.993       5.714       1.000
  34   37     -4021.020       2.164       1.000
  35   38     -4021.025       2.494       1.000
  36   40     -4021.033       3.087       0.164
  37   42     -4021.039       3.859       0.334
  38   43     -4021.052       3.063       1.000
Final RAS Transform: 
0.97975 0.0150688 -0.0261859 0.470364 
-0.0161114 1.00261 0.0360988 0.173434 
0.0319164 0.0101529 1.02757 0.279404 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2796.95   GNORM= 247.064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2810.534      79.089       0.000
   2    4     -2813.348      69.439       1.000
   3    5     -2819.984      63.303       1.000
   4    6     -2825.672      67.874       1.000
   5    7     -2834.368      75.391       1.000
   6    8     -2839.441      57.886       1.000
   7    9     -2842.391      43.354       1.000
   8   10     -2844.331     167.553       1.000
   9   11     -2851.764      67.037       1.000
  10   12     -2855.091      48.586       1.000
  11   13     -2861.490      60.861       1.000
  12   15     -2862.581      32.424       0.365
  13   16     -2863.446      19.018       1.000
  14   17     -2863.882      12.868       1.000
  15   18     -2864.524      26.175       1.000
  16   19     -2865.639      32.008       1.000
  17   20     -2865.921      68.573       1.000
  18   21     -2866.830      26.879       1.000
  19   22     -2867.067       9.182       1.000
  20   23     -2867.126       5.813       1.000
  21   24     -2867.184       6.374       1.000
  22   25     -2867.292      15.366       1.000
  23   26     -2867.443       8.963       1.000
  24   27     -2867.498       7.770       1.000
  25   28     -2867.529       4.470       1.000
  26   29     -2867.580       9.465       1.000
  27   30     -2867.664       9.065       1.000
  28   31     -2867.958      20.676       1.000
  29   32     -2868.096       5.773       1.000
  30   33     -2868.122       7.508       1.000
  31   34     -2868.200      11.745       1.000
  32   36     -2868.256       4.045       0.460
  33   37     -2868.282       8.514       1.000
  34   38     -2868.291       3.456       1.000
  35   39     -2868.305       2.979       1.000
  36   40     -2868.320       3.464       1.000
  37   41     -2868.335       2.936       1.000
  38   42     -2868.342       7.724       1.000
  39   43     -2868.369       6.392       1.000
  40   44     -2868.402       5.082       1.000
  41   46     -2868.434      10.716       0.358
  42   48     -2868.452       4.878       0.423
  43   49     -2868.465       3.037       1.000
  44   50     -2868.474       2.187       1.000
Final RAS Transform: 
0.988493 0.00079585 -0.0502444 -0.26927 
-0.022192 0.991489 0.00972034 -0.144575 
0.0150939 0.0118475 1.01028 0.468698 
0 0 0 1 

Final RAS Transform: 
0.988493 0.00079585 -0.0502444 -0.26927 
-0.022192 0.991489 0.00972034 -0.144575 
0.0150939 0.0118475 1.01028 0.468698 
0 0 0 1 


real	0m11.182s
user	0m19.628s
sys	0m0.560s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.829901
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1164
Level     0,  Iter     1:    Energy =   0.1246
Level     0,  Iter     2:    Energy =   0.1321
Level     0,  Iter     3:    Energy =   0.1374
Level     0,  Iter     4:    Energy =   0.1407
Level     0,  Iter     5:    Energy =   0.1426
Level     0,  Iter     6:    Energy =   0.1443
Level     0,  Iter     7:    Energy =   0.1454
Level     0,  Iter     8:    Energy =   0.1465
Level     0,  Iter     9:    Energy =   0.1473
Level     0,  Iter    10:    Energy =   0.1480
Level     0,  Iter    11:    Energy =   0.1486
Level     0,  Iter    12:    Energy =   0.1491
Level     0,  Iter    13:    Energy =   0.1495
Level     0,  Iter    14:    Energy =   0.1499
Level     0,  Iter    15:    Energy =   0.1502
Level     0,  Iter    16:    Energy =   0.1504
Level     0,  Iter    17:    Energy =   0.1507
Level     0,  Iter    18:    Energy =   0.1508
Level     0,  Iter    19:    Energy =   0.1511
Level     0,  Iter    20:    Energy =   0.1512
Level     0,  Iter    21:    Energy =   0.1514
Level     0,  Iter    22:    Energy =   0.1514
Level     0,  Iter    23:    Energy =   0.1516
Level     0,  Iter    24:    Energy =   0.1517
Level     0,  Iter    25:    Energy =   0.1518
Level     0,  Iter    26:    Energy =   0.1518
Level     0,  Iter    27:    Energy =   0.1520
Level     0,  Iter    28:    Energy =   0.1520
Level     0,  Iter    29:    Energy =   0.1521
Level     0,  Iter    30:    Energy =   0.1521
Level     0,  Iter    31:    Energy =   0.1522
Level     0,  Iter    32:    Energy =   0.1522
Level     0,  Iter    33:    Energy =   0.1523
Level     0,  Iter    34:    Energy =   0.1523
Level     0,  Iter    35:    Energy =   0.1524
Level     0,  Iter    36:    Energy =   0.1523
Level     0,  Iter    37:    Energy =   0.1525
Level     0,  Iter    38:    Energy =   0.1524
Level     0,  Iter    39:    Energy =   0.1525
Level     0,  Iter    40:    Energy =   0.1525
Level     0,  Iter    41:    Energy =   0.1526
Level     0,  Iter    42:    Energy =   0.1525
Level     0,  Iter    43:    Energy =   0.1526
Level     0,  Iter    44:    Energy =   0.1526
Level     0,  Iter    45:    Energy =   0.1527
Level     0,  Iter    46:    Energy =   0.1526
Level     0,  Iter    47:    Energy =   0.1527
Level     0,  Iter    48:    Energy =   0.1526
Level     0,  Iter    49:    Energy =   0.1527
Level     0,  Iter    50:    Energy =   0.1526
Level     0,  Iter    51:    Energy =   0.1528
Level     0,  Iter    52:    Energy =   0.1527
Level     0,  Iter    53:    Energy =   0.1528
Level     0,  Iter    54:    Energy =   0.1527
Level     0,  Iter    55:    Energy =   0.1528
Level     0,  Iter    56:    Energy =   0.1527
Level     0,  Iter    57:    Energy =   0.1528
Level     0,  Iter    58:    Energy =   0.1527
Level     0,  Iter    59:    Energy =   0.1528
END OF LEVEL     0    DetJac Range:   0.3183  to   1.9438 
  Avg. Gradient Time  : 0.0087s  34.81% 
  Avg. Gaussian Time  : 0.0124s  49.56% 
  Avg. Iteration Time : 0.0250s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1021
Level     1,  Iter     1:    Energy =   0.1069
Level     1,  Iter     2:    Energy =   0.1121
Level     1,  Iter     3:    Energy =   0.1161
Level     1,  Iter     4:    Energy =   0.1192
Level     1,  Iter     5:    Energy =   0.1216
Level     1,  Iter     6:    Energy =   0.1237
Level     1,  Iter     7:    Energy =   0.1254
Level     1,  Iter     8:    Energy =   0.1270
Level     1,  Iter     9:    Energy =   0.1283
Level     1,  Iter    10:    Energy =   0.1295
Level     1,  Iter    11:    Energy =   0.1304
Level     1,  Iter    12:    Energy =   0.1313
Level     1,  Iter    13:    Energy =   0.1316
Level     1,  Iter    14:    Energy =   0.1322
Level     1,  Iter    15:    Energy =   0.1323
Level     1,  Iter    16:    Energy =   0.1330
Level     1,  Iter    17:    Energy =   0.1330
Level     1,  Iter    18:    Energy =   0.1333
Level     1,  Iter    19:    Energy =   0.1334
Level     1,  Iter    20:    Energy =   0.1336
Level     1,  Iter    21:    Energy =   0.1338
Level     1,  Iter    22:    Energy =   0.1338
Level     1,  Iter    23:    Energy =   0.1342
Level     1,  Iter    24:    Energy =   0.1341
Level     1,  Iter    25:    Energy =   0.1345
Level     1,  Iter    26:    Energy =   0.1343
Level     1,  Iter    27:    Energy =   0.1349
Level     1,  Iter    28:    Energy =   0.1347
Level     1,  Iter    29:    Energy =   0.1352
Level     1,  Iter    30:    Energy =   0.1349
Level     1,  Iter    31:    Energy =   0.1354
Level     1,  Iter    32:    Energy =   0.1351
Level     1,  Iter    33:    Energy =   0.1355
Level     1,  Iter    34:    Energy =   0.1352
Level     1,  Iter    35:    Energy =   0.1356
Level     1,  Iter    36:    Energy =   0.1353
Level     1,  Iter    37:    Energy =   0.1357
Level     1,  Iter    38:    Energy =   0.1354
Level     1,  Iter    39:    Energy =   0.1357
Level     1,  Iter    40:    Energy =   0.1355
Level     1,  Iter    41:    Energy =   0.1357
Level     1,  Iter    42:    Energy =   0.1354
Level     1,  Iter    43:    Energy =   0.1359
Level     1,  Iter    44:    Energy =   0.1355
Level     1,  Iter    45:    Energy =   0.1359
Level     1,  Iter    46:    Energy =   0.1356
Level     1,  Iter    47:    Energy =   0.1360
Level     1,  Iter    48:    Energy =   0.1356
Level     1,  Iter    49:    Energy =   0.1360
Level     1,  Iter    50:    Energy =   0.1357
Level     1,  Iter    51:    Energy =   0.1362
Level     1,  Iter    52:    Energy =   0.1357
Level     1,  Iter    53:    Energy =   0.1363
Level     1,  Iter    54:    Energy =   0.1359
Level     1,  Iter    55:    Energy =   0.1365
Level     1,  Iter    56:    Energy =   0.1360
Level     1,  Iter    57:    Energy =   0.1366
Level     1,  Iter    58:    Energy =   0.1361
Level     1,  Iter    59:    Energy =   0.1367
END OF LEVEL     1    DetJac Range:   0.1590  to   3.8309 
  Avg. Gradient Time  : 0.0490s  32.56% 
  Avg. Gaussian Time  : 0.0818s  54.41% 
  Avg. Iteration Time : 0.1504s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0737
Level     2,  Iter     1:    Energy =   0.0762
Level     2,  Iter     2:    Energy =   0.0784
Level     2,  Iter     3:    Energy =   0.0802
Level     2,  Iter     4:    Energy =   0.0817
Level     2,  Iter     5:    Energy =   0.0832
Level     2,  Iter     6:    Energy =   0.0847
Level     2,  Iter     7:    Energy =   0.0858
Level     2,  Iter     8:    Energy =   0.0868
Level     2,  Iter     9:    Energy =   0.0877
Level     2,  Iter    10:    Energy =   0.0886
Level     2,  Iter    11:    Energy =   0.0894
Level     2,  Iter    12:    Energy =   0.0902
Level     2,  Iter    13:    Energy =   0.0910
Level     2,  Iter    14:    Energy =   0.0917
Level     2,  Iter    15:    Energy =   0.0923
Level     2,  Iter    16:    Energy =   0.0928
Level     2,  Iter    17:    Energy =   0.0933
Level     2,  Iter    18:    Energy =   0.0938
Level     2,  Iter    19:    Energy =   0.0942
END OF LEVEL     2    DetJac Range:   0.0811  to   5.5756 
  Avg. Gradient Time  : 0.3134s  27.15% 
  Avg. Gaussian Time  : 0.7020s  60.83% 
  Avg. Iteration Time : 1.1540s 

real	0m39.066s
user	1m10.860s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482692 0.488462
+ echo 'CHUNK 0.482692 0.488462 1'
CHUNK 0.482692 0.488462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482692 0.488462 1
====================================
         PROGRESS: 0.482692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.680361
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2620.69   GNORM= 353.848
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2695.224     194.441       0.001
   2    4     -2723.057     129.841       1.000
   3    5     -2740.333     103.788       1.000
   4    6     -2757.647      83.917       1.000
   5    7     -2760.503     186.083       1.000
   6    8     -2811.732      88.898       1.000
   7    9     -2850.244      63.446       1.000
   8   10     -2882.986     131.593       1.000
   9   11     -2893.145     220.419       1.000
  10   12     -2914.334      85.116       1.000
  11   13     -2925.643      63.373       1.000
  12   14     -2941.726      88.388       1.000
  13   15     -2958.120      97.199       1.000
  14   16     -2966.328     124.291       1.000
  15   17     -2974.904      35.742       1.000
  16   18     -2976.961      25.717       1.000
  17   19     -2979.008      62.658       1.000
  18   20     -2982.639      42.497       1.000
  19   21     -2986.717      29.429       1.000
  20   22     -2987.968      27.186       1.000
  21   23     -2990.297      10.374       1.000
  22   25     -2990.450      12.423       0.321
  23   26     -2990.759      13.153       1.000
  24   27     -2991.139      42.917       1.000
  25   28     -2991.820      26.616       1.000
  26   29     -2992.181      16.132       1.000
  27   30     -2992.532      14.826       1.000
  28   31     -2992.822       9.799       1.000
  29   32     -2993.113      12.722       1.000
  30   33     -2993.546       9.469       1.000
  31   34     -2993.685      20.754       1.000
  32   35     -2993.815      31.113       1.000
  33   36     -2994.071       9.915       1.000
  34   37     -2994.133      12.678       1.000
  35   38     -2994.188       6.339       1.000
  36   40     -2994.205       6.768       0.312
  37   41     -2994.234       5.950       1.000
  38   42     -2994.313       6.379       1.000
  39   43     -2994.335       4.476       1.000
  40   44     -2994.357       3.780       1.000
  41   45     -2994.380       3.164       1.000
  42   46     -2994.416       5.680       1.000
  43   47     -2994.449       3.545       1.000
  44   49     -2994.464       6.136       0.379
  45   50     -2994.488       3.364       1.000
  46   51     -2994.507       3.406       1.000
  47   53     -2994.520       2.976       0.468
Final RAS Transform: 
0.902978 0.0550604 0.0398453 3.07613 
-0.0582157 0.982106 -0.02875 -0.266714 
0.119132 0.0190678 1.05855 -1.14094 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1781.74   GNORM= 157.878
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1792.549      45.471       0.001
   2    5     -1797.237      49.966       5.000
   3    6     -1799.906      39.172       1.000
   4    7     -1804.050      67.806       1.000
   5    8     -1808.063      77.489       1.000
   6    9     -1826.687      69.983       1.000
   7   10     -1839.274      67.858       1.000
   8   11     -1851.867      23.365       1.000
   9   12     -1861.309      64.113       1.000
  10   13     -1873.091      63.595       1.000
  11   14     -1882.580      97.652       1.000
  12   16     -1889.581      42.515       0.516
  13   17     -1893.890      28.336       1.000
  14   18     -1897.139      27.626       1.000
  15   20     -1906.618      74.505       0.401
  16   21     -1912.045      42.777       1.000
  17   22     -1914.890      24.997       1.000
  18   23     -1917.634      18.285       1.000
  19   25     -1919.037      38.782       0.417
  20   26     -1920.890      17.806       1.000
  21   27     -1921.882      13.584       1.000
  22   28     -1922.443      22.464       1.000
  23   29     -1923.421      22.562       1.000
  24   30     -1925.400      30.924       1.000
  25   31     -1926.836      11.508       1.000
  26   32     -1927.293      13.544       1.000
  27   33     -1928.079      15.356       1.000
  28   34     -1929.236      39.557       1.000
  29   35     -1931.048      27.469       1.000
  30   36     -1931.772      15.135       1.000
  31   37     -1932.803      20.260       1.000
  32   38     -1933.396      21.355       1.000
  33   39     -1933.797      11.263       1.000
  34   40     -1934.080       7.082       1.000
  35   41     -1934.164      16.647       1.000
  36   42     -1934.480       8.406       1.000
  37   43     -1934.684      11.260       1.000
  38   44     -1935.125      18.089       1.000
  39   45     -1935.554      22.976       1.000
  40   46     -1935.866      10.843       1.000
  41   47     -1935.993       5.427       1.000
  42   48     -1936.049       7.300       1.000
  43   49     -1936.240       6.490       1.000
  44   51     -1936.354       9.991       0.309
  45   53     -1936.488      21.933       0.210
  46   54     -1936.743      12.614       1.000
  47   55     -1937.120      11.382       1.000
  48   56     -1937.218       4.669       1.000
  49   57     -1937.259       5.867       1.000
  50   59     -1937.305       5.955       0.315
  51   60     -1937.341       4.374       1.000
  52   61     -1937.494       8.862       1.000
Final RAS Transform: 
0.992967 0.0212113 0.0415654 1.05737 
-0.0668443 0.970021 -0.0948995 -0.326211 
0.0361885 0.014943 1.00969 -0.138464 
0 0 0 1 

Final RAS Transform: 
0.992967 0.0212113 0.0415654 1.05737 
-0.0668443 0.970021 -0.0948995 -0.326211 
0.0361885 0.014943 1.00969 -0.138464 
0 0 0 1 


real	0m10.937s
user	0m19.140s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.681645
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0814
Level     0,  Iter     1:    Energy =   0.0886
Level     0,  Iter     2:    Energy =   0.0950
Level     0,  Iter     3:    Energy =   0.1000
Level     0,  Iter     4:    Energy =   0.1042
Level     0,  Iter     5:    Energy =   0.1079
Level     0,  Iter     6:    Energy =   0.1098
Level     0,  Iter     7:    Energy =   0.1108
Level     0,  Iter     8:    Energy =   0.1120
Level     0,  Iter     9:    Energy =   0.1128
Level     0,  Iter    10:    Energy =   0.1136
Level     0,  Iter    11:    Energy =   0.1142
Level     0,  Iter    12:    Energy =   0.1149
Level     0,  Iter    13:    Energy =   0.1154
Level     0,  Iter    14:    Energy =   0.1160
Level     0,  Iter    15:    Energy =   0.1164
Level     0,  Iter    16:    Energy =   0.1169
Level     0,  Iter    17:    Energy =   0.1175
Level     0,  Iter    18:    Energy =   0.1179
Level     0,  Iter    19:    Energy =   0.1183
Level     0,  Iter    20:    Energy =   0.1187
Level     0,  Iter    21:    Energy =   0.1190
Level     0,  Iter    22:    Energy =   0.1193
Level     0,  Iter    23:    Energy =   0.1195
Level     0,  Iter    24:    Energy =   0.1197
Level     0,  Iter    25:    Energy =   0.1200
Level     0,  Iter    26:    Energy =   0.1202
Level     0,  Iter    27:    Energy =   0.1204
Level     0,  Iter    28:    Energy =   0.1206
Level     0,  Iter    29:    Energy =   0.1207
Level     0,  Iter    30:    Energy =   0.1209
Level     0,  Iter    31:    Energy =   0.1211
Level     0,  Iter    32:    Energy =   0.1213
Level     0,  Iter    33:    Energy =   0.1214
Level     0,  Iter    34:    Energy =   0.1215
Level     0,  Iter    35:    Energy =   0.1217
Level     0,  Iter    36:    Energy =   0.1218
Level     0,  Iter    37:    Energy =   0.1219
Level     0,  Iter    38:    Energy =   0.1220
Level     0,  Iter    39:    Energy =   0.1221
Level     0,  Iter    40:    Energy =   0.1223
Level     0,  Iter    41:    Energy =   0.1225
Level     0,  Iter    42:    Energy =   0.1226
Level     0,  Iter    43:    Energy =   0.1228
Level     0,  Iter    44:    Energy =   0.1229
Level     0,  Iter    45:    Energy =   0.1231
Level     0,  Iter    46:    Energy =   0.1232
Level     0,  Iter    47:    Energy =   0.1234
Level     0,  Iter    48:    Energy =   0.1235
Level     0,  Iter    49:    Energy =   0.1237
Level     0,  Iter    50:    Energy =   0.1238
Level     0,  Iter    51:    Energy =   0.1239
Level     0,  Iter    52:    Energy =   0.1240
Level     0,  Iter    53:    Energy =   0.1241
Level     0,  Iter    54:    Energy =   0.1242
Level     0,  Iter    55:    Energy =   0.1242
Level     0,  Iter    56:    Energy =   0.1243
Level     0,  Iter    57:    Energy =   0.1243
Level     0,  Iter    58:    Energy =   0.1243
Level     0,  Iter    59:    Energy =   0.1243
END OF LEVEL     0    DetJac Range:   0.1346  to   2.0994 
  Avg. Gradient Time  : 0.0077s  34.34% 
  Avg. Gaussian Time  : 0.0113s  50.21% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0776
Level     1,  Iter     1:    Energy =   0.0816
Level     1,  Iter     2:    Energy =   0.0854
Level     1,  Iter     3:    Energy =   0.0884
Level     1,  Iter     4:    Energy =   0.0915
Level     1,  Iter     5:    Energy =   0.0943
Level     1,  Iter     6:    Energy =   0.0965
Level     1,  Iter     7:    Energy =   0.0982
Level     1,  Iter     8:    Energy =   0.0989
Level     1,  Iter     9:    Energy =   0.0998
Level     1,  Iter    10:    Energy =   0.1000
Level     1,  Iter    11:    Energy =   0.1008
Level     1,  Iter    12:    Energy =   0.1008
Level     1,  Iter    13:    Energy =   0.1015
Level     1,  Iter    14:    Energy =   0.1015
Level     1,  Iter    15:    Energy =   0.1022
Level     1,  Iter    16:    Energy =   0.1021
Level     1,  Iter    17:    Energy =   0.1029
Level     1,  Iter    18:    Energy =   0.1026
Level     1,  Iter    19:    Energy =   0.1034
Level     1,  Iter    20:    Energy =   0.1032
Level     1,  Iter    21:    Energy =   0.1038
Level     1,  Iter    22:    Energy =   0.1035
Level     1,  Iter    23:    Energy =   0.1041
Level     1,  Iter    24:    Energy =   0.1038
Level     1,  Iter    25:    Energy =   0.1044
Level     1,  Iter    26:    Energy =   0.1041
Level     1,  Iter    27:    Energy =   0.1048
Level     1,  Iter    28:    Energy =   0.1044
Level     1,  Iter    29:    Energy =   0.1050
Level     1,  Iter    30:    Energy =   0.1046
Level     1,  Iter    31:    Energy =   0.1051
Level     1,  Iter    32:    Energy =   0.1047
Level     1,  Iter    33:    Energy =   0.1051
Level     1,  Iter    34:    Energy =   0.1048
Level     1,  Iter    35:    Energy =   0.1052
Level     1,  Iter    36:    Energy =   0.1049
Level     1,  Iter    37:    Energy =   0.1053
Level     1,  Iter    38:    Energy =   0.1050
Level     1,  Iter    39:    Energy =   0.1053
Level     1,  Iter    40:    Energy =   0.1051
Level     1,  Iter    41:    Energy =   0.1054
Level     1,  Iter    42:    Energy =   0.1051
Level     1,  Iter    43:    Energy =   0.1055
Level     1,  Iter    44:    Energy =   0.1052
Level     1,  Iter    45:    Energy =   0.1055
Level     1,  Iter    46:    Energy =   0.1053
Level     1,  Iter    47:    Energy =   0.1056
Level     1,  Iter    48:    Energy =   0.1054
Level     1,  Iter    49:    Energy =   0.1057
Level     1,  Iter    50:    Energy =   0.1054
Level     1,  Iter    51:    Energy =   0.1057
Level     1,  Iter    52:    Energy =   0.1054
Level     1,  Iter    53:    Energy =   0.1058
Level     1,  Iter    54:    Energy =   0.1055
Level     1,  Iter    55:    Energy =   0.1059
Level     1,  Iter    56:    Energy =   0.1056
Level     1,  Iter    57:    Energy =   0.1060
Level     1,  Iter    58:    Energy =   0.1056
Level     1,  Iter    59:    Energy =   0.1061
END OF LEVEL     1    DetJac Range:   0.1064  to   3.3696 
  Avg. Gradient Time  : 0.0443s  33.18% 
  Avg. Gaussian Time  : 0.0722s  54.06% 
  Avg. Iteration Time : 0.1335s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0520
Level     2,  Iter     1:    Energy =   0.0538
Level     2,  Iter     2:    Energy =   0.0559
Level     2,  Iter     3:    Energy =   0.0582
Level     2,  Iter     4:    Energy =   0.0600
Level     2,  Iter     5:    Energy =   0.0615
Level     2,  Iter     6:    Energy =   0.0629
Level     2,  Iter     7:    Energy =   0.0639
Level     2,  Iter     8:    Energy =   0.0649
Level     2,  Iter     9:    Energy =   0.0657
Level     2,  Iter    10:    Energy =   0.0664
Level     2,  Iter    11:    Energy =   0.0670
Level     2,  Iter    12:    Energy =   0.0675
Level     2,  Iter    13:    Energy =   0.0680
Level     2,  Iter    14:    Energy =   0.0685
Level     2,  Iter    15:    Energy =   0.0689
Level     2,  Iter    16:    Energy =   0.0693
Level     2,  Iter    17:    Energy =   0.0696
Level     2,  Iter    18:    Energy =   0.0699
Level     2,  Iter    19:    Energy =   0.0702
END OF LEVEL     2    DetJac Range:   0.0814  to   4.6392 
  Avg. Gradient Time  : 0.3097s  27.34% 
  Avg. Gaussian Time  : 0.6855s  60.51% 
  Avg. Iteration Time : 1.1328s 

real	0m37.033s
user	1m7.020s
sys	0m2.264s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.488462 0.494231
+ echo 'CHUNK 0.488462 0.494231 1'
CHUNK 0.488462 0.494231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.488462 0.494231 1
====================================
         PROGRESS: 0.488462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.447635
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2349.93   GNORM= 262.101
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2471.710     218.017       0.004
   2    3     -2483.747     276.559       1.000
   3    4     -2511.636     104.330       1.000
   4    5     -2523.173      65.180       1.000
   5    6     -2536.718      89.175       1.000
   6    7     -2552.738     126.059       1.000
   7    8     -2587.777     104.363       1.000
   8    9     -2611.285     147.702       1.000
   9   10     -2619.251     102.636       1.000
  10   11     -2623.505      53.129       1.000
  11   12     -2626.890      27.503       1.000
  12   13     -2630.645      36.948       1.000
  13   14     -2639.433      63.048       1.000
  14   15     -2650.063      57.417       1.000
  15   16     -2653.063      86.812       1.000
  16   17     -2656.814      30.781       1.000
  17   19     -2657.192      24.821       0.395
  18   20     -2658.386      17.490       1.000
  19   21     -2659.275      23.006       1.000
  20   22     -2660.083      14.238       1.000
  21   23     -2660.231      19.370       1.000
  22   24     -2660.648      11.382       1.000
  23   25     -2660.922       6.829       1.000
  24   27     -2661.525      25.614       5.000
  25   28     -2661.821      19.993       1.000
  26   29     -2661.972       7.049       1.000
  27   30     -2662.013       5.915       1.000
  28   32     -2662.087       7.226       0.296
  29   33     -2662.145       5.900       1.000
  30   34     -2662.283      10.607       1.000
  31   35     -2662.337      10.137       1.000
  32   36     -2662.421       6.089       1.000
  33   38     -2662.459       4.778       0.460
  34   39     -2662.471       6.369       1.000
  35   40     -2662.487       4.585       1.000
  36   41     -2662.498       5.454       1.000
  37   43     -2662.499       2.504       0.372
  38   44     -2662.501       2.297       1.000
  39   45     -2662.510       4.839       1.000
  40   46     -2662.519       2.061       1.000
  41   49     -2662.557       4.682       1.625
  42   51     -2662.562       4.063       0.379
  43   52     -2662.577       3.660       1.000
  44   53     -2662.585       2.689       1.000
  45   54     -2662.597       5.026       1.000
  46   55     -2662.599       4.656       1.000
  47   56     -2662.611       1.994       1.000
  48   57     -2662.614       4.063       1.000
  49   58     -2662.621       2.676       1.000
Final RAS Transform: 
0.944057 0.020989 0.0341534 1.5486 
0.00244092 1.07328 0.110962 0.955086 
0.043561 -0.0112548 0.987355 -0.254643 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1816.45   GNORM= 80.7674
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1826.164      68.782       0.002
   2    4     -1829.200      54.929       1.000
   3    5     -1832.932      40.718       1.000
   4    6     -1840.334      66.980       1.000
   5    7     -1847.452      41.895       1.000
   6    8     -1862.675      28.485       1.000
   7    9     -1869.539      41.940       1.000
   8   10     -1876.896      34.516       1.000
   9   11     -1882.560      43.655       1.000
  10   12     -1889.714      44.364       1.000
  11   13     -1898.660      49.858       1.000
  12   14     -1903.276      31.078       1.000
  13   15     -1905.013      13.837       1.000
  14   16     -1905.684      22.452       1.000
  15   17     -1905.972      12.812       1.000
  16   18     -1906.215      13.046       1.000
  17   19     -1906.866      28.802       1.000
  18   20     -1907.962      35.398       1.000
  19   21     -1910.218      36.578       1.000
  20   22     -1911.393      15.244       1.000
  21   23     -1911.899      14.024       1.000
  22   24     -1912.277      17.205       1.000
  23   25     -1912.437       5.973       1.000
  24   26     -1912.489       5.103       1.000
  25   27     -1912.549       6.504       1.000
  26   29     -1912.660      11.060       0.473
  27   30     -1912.785      11.069       1.000
  28   31     -1912.895      19.991       1.000
  29   33     -1913.164      13.665       0.288
  30   34     -1913.360       5.647       1.000
  31   35     -1913.441       5.090       1.000
  32   37     -1913.544      10.414       0.201
  33   38     -1913.610       6.896       1.000
  34   39     -1913.678       4.653       1.000
  35   40     -1913.704      10.460       1.000
  36   41     -1913.760       9.292       1.000
  37   42     -1913.845       3.588       1.000
  38   43     -1913.965       4.983       1.000
  39   45     -1914.112       6.809       0.470
  40   46     -1914.133       6.221       1.000
  41   47     -1914.235      10.466       1.000
  42   48     -1914.302       4.957       1.000
  43   49     -1914.332       3.291       1.000
  44   50     -1914.360       1.815       1.000
  45   51     -1914.371       2.974       1.000
  46   52     -1914.402       4.982       1.000
  47   53     -1914.458       2.989       1.000
  48   54     -1914.500       5.880       1.000
  49   55     -1914.532       7.159       1.000
  50   56     -1914.558       4.849       1.000
  51   57     -1914.565       3.927       1.000
  52   58     -1914.575       1.809       1.000
  53   59     -1914.578       2.313       1.000
  54   60     -1914.594       1.956       1.000
  55   61     -1914.608       5.202       1.000
Final RAS Transform: 
0.995444 0.00435553 0.00946038 0.333542 
-0.00942068 1.04381 0.0704931 0.630048 
0.00862491 -0.00915686 0.958206 -0.0300169 
0 0 0 1 

Final RAS Transform: 
0.995444 0.00435553 0.00946038 0.333542 
-0.00942068 1.04381 0.0704931 0.630048 
0.00862491 -0.00915686 0.958206 -0.0300169 
0 0 0 1 


real	0m11.249s
user	0m19.840s
sys	0m0.460s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.616, moving = 0.455306
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0743
Level     0,  Iter     1:    Energy =   0.0799
Level     0,  Iter     2:    Energy =   0.0858
Level     0,  Iter     3:    Energy =   0.0909
Level     0,  Iter     4:    Energy =   0.0955
Level     0,  Iter     5:    Energy =   0.0986
Level     0,  Iter     6:    Energy =   0.1008
Level     0,  Iter     7:    Energy =   0.1028
Level     0,  Iter     8:    Energy =   0.1041
Level     0,  Iter     9:    Energy =   0.1055
Level     0,  Iter    10:    Energy =   0.1064
Level     0,  Iter    11:    Energy =   0.1074
Level     0,  Iter    12:    Energy =   0.1080
Level     0,  Iter    13:    Energy =   0.1086
Level     0,  Iter    14:    Energy =   0.1091
Level     0,  Iter    15:    Energy =   0.1096
Level     0,  Iter    16:    Energy =   0.1100
Level     0,  Iter    17:    Energy =   0.1103
Level     0,  Iter    18:    Energy =   0.1107
Level     0,  Iter    19:    Energy =   0.1109
Level     0,  Iter    20:    Energy =   0.1112
Level     0,  Iter    21:    Energy =   0.1113
Level     0,  Iter    22:    Energy =   0.1116
Level     0,  Iter    23:    Energy =   0.1116
Level     0,  Iter    24:    Energy =   0.1118
Level     0,  Iter    25:    Energy =   0.1119
Level     0,  Iter    26:    Energy =   0.1121
Level     0,  Iter    27:    Energy =   0.1121
Level     0,  Iter    28:    Energy =   0.1123
Level     0,  Iter    29:    Energy =   0.1122
Level     0,  Iter    30:    Energy =   0.1125
Level     0,  Iter    31:    Energy =   0.1123
Level     0,  Iter    32:    Energy =   0.1126
Level     0,  Iter    33:    Energy =   0.1124
Level     0,  Iter    34:    Energy =   0.1127
Level     0,  Iter    35:    Energy =   0.1126
Level     0,  Iter    36:    Energy =   0.1128
Level     0,  Iter    37:    Energy =   0.1127
Level     0,  Iter    38:    Energy =   0.1129
Level     0,  Iter    39:    Energy =   0.1129
Level     0,  Iter    40:    Energy =   0.1131
Level     0,  Iter    41:    Energy =   0.1130
Level     0,  Iter    42:    Energy =   0.1132
Level     0,  Iter    43:    Energy =   0.1131
Level     0,  Iter    44:    Energy =   0.1133
Level     0,  Iter    45:    Energy =   0.1132
Level     0,  Iter    46:    Energy =   0.1134
Level     0,  Iter    47:    Energy =   0.1133
Level     0,  Iter    48:    Energy =   0.1135
Level     0,  Iter    49:    Energy =   0.1134
Level     0,  Iter    50:    Energy =   0.1136
Level     0,  Iter    51:    Energy =   0.1136
Level     0,  Iter    52:    Energy =   0.1138
Level     0,  Iter    53:    Energy =   0.1137
Level     0,  Iter    54:    Energy =   0.1139
Level     0,  Iter    55:    Energy =   0.1138
Level     0,  Iter    56:    Energy =   0.1140
Level     0,  Iter    57:    Energy =   0.1139
Level     0,  Iter    58:    Energy =   0.1141
Level     0,  Iter    59:    Energy =   0.1140
END OF LEVEL     0    DetJac Range:   0.2777  to   2.3568 
  Avg. Gradient Time  : 0.0086s  34.50% 
  Avg. Gaussian Time  : 0.0125s  49.99% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0754
Level     1,  Iter     1:    Energy =   0.0797
Level     1,  Iter     2:    Energy =   0.0835
Level     1,  Iter     3:    Energy =   0.0867
Level     1,  Iter     4:    Energy =   0.0901
Level     1,  Iter     5:    Energy =   0.0926
Level     1,  Iter     6:    Energy =   0.0948
Level     1,  Iter     7:    Energy =   0.0963
Level     1,  Iter     8:    Energy =   0.0975
Level     1,  Iter     9:    Energy =   0.0985
Level     1,  Iter    10:    Energy =   0.0995
Level     1,  Iter    11:    Energy =   0.1003
Level     1,  Iter    12:    Energy =   0.1012
Level     1,  Iter    13:    Energy =   0.1020
Level     1,  Iter    14:    Energy =   0.1029
Level     1,  Iter    15:    Energy =   0.1036
Level     1,  Iter    16:    Energy =   0.1042
Level     1,  Iter    17:    Energy =   0.1048
Level     1,  Iter    18:    Energy =   0.1053
Level     1,  Iter    19:    Energy =   0.1056
Level     1,  Iter    20:    Energy =   0.1059
Level     1,  Iter    21:    Energy =   0.1059
Level     1,  Iter    22:    Energy =   0.1062
Level     1,  Iter    23:    Energy =   0.1064
Level     1,  Iter    24:    Energy =   0.1067
Level     1,  Iter    25:    Energy =   0.1068
Level     1,  Iter    26:    Energy =   0.1070
Level     1,  Iter    27:    Energy =   0.1070
Level     1,  Iter    28:    Energy =   0.1073
Level     1,  Iter    29:    Energy =   0.1073
Level     1,  Iter    30:    Energy =   0.1075
Level     1,  Iter    31:    Energy =   0.1075
Level     1,  Iter    32:    Energy =   0.1077
Level     1,  Iter    33:    Energy =   0.1075
Level     1,  Iter    34:    Energy =   0.1077
Level     1,  Iter    35:    Energy =   0.1077
Level     1,  Iter    36:    Energy =   0.1079
Level     1,  Iter    37:    Energy =   0.1077
Level     1,  Iter    38:    Energy =   0.1079
Level     1,  Iter    39:    Energy =   0.1079
Level     1,  Iter    40:    Energy =   0.1081
Level     1,  Iter    41:    Energy =   0.1079
Level     1,  Iter    42:    Energy =   0.1080
Level     1,  Iter    43:    Energy =   0.1082
Level     1,  Iter    44:    Energy =   0.1080
Level     1,  Iter    45:    Energy =   0.1082
Level     1,  Iter    46:    Energy =   0.1081
Level     1,  Iter    47:    Energy =   0.1083
Level     1,  Iter    48:    Energy =   0.1082
Level     1,  Iter    49:    Energy =   0.1084
Level     1,  Iter    50:    Energy =   0.1083
Level     1,  Iter    51:    Energy =   0.1085
Level     1,  Iter    52:    Energy =   0.1084
Level     1,  Iter    53:    Energy =   0.1085
Level     1,  Iter    54:    Energy =   0.1084
Level     1,  Iter    55:    Energy =   0.1086
Level     1,  Iter    56:    Energy =   0.1085
Level     1,  Iter    57:    Energy =   0.1087
Level     1,  Iter    58:    Energy =   0.1085
Level     1,  Iter    59:    Energy =   0.1087
END OF LEVEL     1    DetJac Range:   0.1063  to   4.1746 
  Avg. Gradient Time  : 0.0491s  32.71% 
  Avg. Gaussian Time  : 0.0816s  54.29% 
  Avg. Iteration Time : 0.1503s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0558
Level     2,  Iter     1:    Energy =   0.0581
Level     2,  Iter     2:    Energy =   0.0602
Level     2,  Iter     3:    Energy =   0.0622
Level     2,  Iter     4:    Energy =   0.0638
Level     2,  Iter     5:    Energy =   0.0653
Level     2,  Iter     6:    Energy =   0.0665
Level     2,  Iter     7:    Energy =   0.0676
Level     2,  Iter     8:    Energy =   0.0685
Level     2,  Iter     9:    Energy =   0.0694
Level     2,  Iter    10:    Energy =   0.0700
Level     2,  Iter    11:    Energy =   0.0706
Level     2,  Iter    12:    Energy =   0.0711
Level     2,  Iter    13:    Energy =   0.0718
Level     2,  Iter    14:    Energy =   0.0725
Level     2,  Iter    15:    Energy =   0.0730
Level     2,  Iter    16:    Energy =   0.0735
Level     2,  Iter    17:    Energy =   0.0740
Level     2,  Iter    18:    Energy =   0.0745
Level     2,  Iter    19:    Energy =   0.0749
END OF LEVEL     2    DetJac Range:   0.0401  to   6.1586 
  Avg. Gradient Time  : 0.3122s  27.09% 
  Avg. Gaussian Time  : 0.7010s  60.85% 
  Avg. Iteration Time : 1.1521s 

real	0m39.058s
user	1m10.580s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.494231 0.5
+ echo 'CHUNK 0.494231 0.5 1'
CHUNK 0.494231 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.494231 0.5 1
====================================
         PROGRESS: 0.494231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 10, 4], [62, 59, 45] (164610 pixels)
Computing mask based on input segmentations
  Skipping 78030 out of 164610 voxels.
.............................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
76:88:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 337791
tc: 16673
mean intensity : sample #  192.387:27066
center location: (34.7212,44.8906,25.3899) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1979
tc: 16673
center location: (25.639,35.9081,15.1468) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2721
tc: 16673
center location: (30.8049,43.3549,26.4711) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6711
tc: 16673
center location: (42.7196,45.4607,25.7776) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 335
tc: 16673
center location: (53.9718,49.9904,32.5535) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3841
tc: 16673
center location: (44.7809,47.4199,30.307) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 495
tc: 16673
center location: (40.9684,52.0267,29.4312) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 5
tc: 16673
center location: (52.0983,39.879,20.1619) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 586
tc: 16673
center location: (30.4207,54.0997,46.1782) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
76:88:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 337791
tc: 16673
center location: (34.7212,44.8906,25.3899) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1979
tc: 16673
center location: (25.639,35.9081,15.1468) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2721
tc: 16673
center location: (30.8049,43.3549,26.4711) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6711
tc: 16673
center location: (42.7196,45.4607,25.7776) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 335
tc: 16673
center location: (53.9718,49.9904,32.5535) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3841
tc: 16673
center location: (44.7809,47.4199,30.307) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 495
tc: 16673
center location: (40.9684,52.0267,29.4312) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 5
tc: 16673
center location: (52.0983,39.879,20.1619) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 586
tc: 16673
center location: (30.4207,54.0997,46.1782) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vf6e5DwW/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vf6e5DwW/sag_seg_%02d.png
++ ls /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/qa.png
+ convert /tmp/ashs.vf6e5DwW/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.vf6e5DwW/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vf6e5DwW/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vf6e5DwW/sag_seg_%02d.png
++ ls /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/qa.png
+ convert /tmp/ashs.vf6e5DwW/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.vf6e5DwW/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.vf6e5DwW/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.vf6e5DwW/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.vf6e5DwW/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.vf6e5DwW/sag_seg_%02d.png
++ ls /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.vf6e5DwW/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.vf6e5DwW/cor_tse_00.png /tmp/ashs.vf6e5DwW/cor_tse_01.png /tmp/ashs.vf6e5DwW/cor_tse_02.png /tmp/ashs.vf6e5DwW/cor_tse_03.png /tmp/ashs.vf6e5DwW/cor_tse_04.png /tmp/ashs.vf6e5DwW/sag_tse_00.png /tmp/ashs.vf6e5DwW/sag_tse_01.png /tmp/ashs.vf6e5DwW/cor_mprage_00.png /tmp/ashs.vf6e5DwW/cor_mprage_01.png /tmp/ashs.vf6e5DwW/cor_mprage_02.png /tmp/ashs.vf6e5DwW/cor_mprage_03.png /tmp/ashs.vf6e5DwW/cor_mprage_04.png /tmp/ashs.vf6e5DwW/sag_mprage_00.png /tmp/ashs.vf6e5DwW/sag_mprage_01.png /tmp/ashs.vf6e5DwW/cor_seg_00.png /tmp/ashs.vf6e5DwW/cor_seg_03.png /tmp/ashs.vf6e5DwW/cor_seg_06.png /tmp/ashs.vf6e5DwW/cor_seg_09.png /tmp/ashs.vf6e5DwW/cor_seg_12.png /tmp/ashs.vf6e5DwW/sag_seg_00.png /tmp/ashs.vf6e5DwW/sag_seg_03.png /tmp/ashs.vf6e5DwW/qa.png
+ convert /tmp/ashs.vf6e5DwW/qa.png -bordercolor Black -border 1x1 /tmp/ashs.vf6e5DwW/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.vf6e5DwW/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 9, 4], [67, 60, 43] (172860 pixels)
Computing mask based on input segmentations
  Skipping 76779 out of 172860 voxels.
......................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
79:86:51
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 330374
tc: 16120
mean intensity : sample #  203.469:26356
center location: (40.125,45.084,24.5407) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1620
tc: 16120
center location: (49.6362,34.6661,14.6414) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2601
tc: 16120
center location: (43.7338,42.9995,24.9842) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6891
tc: 16120
center location: (31.7362,46.248,24.7386) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 281
tc: 16120
center location: (19.338,52.3141,32.7304) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3808
tc: 16120
center location: (28.4629,48.3556,28.7908) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 435
tc: 16120
center location: (31.1197,52.5392,27.8961) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2
tc: 16120
center location: (18.3018,44.2277,28.1045) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 482
tc: 16120
center location: (41.2134,55.9274,43.5301) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
79:86:51
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 330374
tc: 16120
center location: (40.125,45.084,24.5407) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1620
tc: 16120
center location: (49.6362,34.6661,14.6414) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2601
tc: 16120
center location: (43.7338,42.9995,24.9842) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6891
tc: 16120
center location: (31.7362,46.248,24.7386) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 281
tc: 16120
center location: (19.338,52.3141,32.7304) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3808
tc: 16120
center location: (28.4629,48.3556,28.7908) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 435
tc: 16120
center location: (31.1197,52.5392,27.8961) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2
tc: 16120
center location: (18.3018,44.2277,28.1045) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 482
tc: 16120
center location: (41.2134,55.9274,43.5301) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.CAEvSIag/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.CAEvSIag/sag_seg_%02d.png
++ ls /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/qa.png
+ convert /tmp/ashs.CAEvSIag/qa.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.CAEvSIag/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.CAEvSIag/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.CAEvSIag/sag_seg_%02d.png
++ ls /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/qa.png
+ convert /tmp/ashs.CAEvSIag/qa.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.CAEvSIag/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.CAEvSIag/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.CAEvSIag/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.CAEvSIag/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.CAEvSIag/sag_seg_%02d.png
++ ls /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.CAEvSIag/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.CAEvSIag/cor_tse_00.png /tmp/ashs.CAEvSIag/cor_tse_01.png /tmp/ashs.CAEvSIag/cor_tse_02.png /tmp/ashs.CAEvSIag/cor_tse_03.png /tmp/ashs.CAEvSIag/cor_tse_04.png /tmp/ashs.CAEvSIag/sag_tse_00.png /tmp/ashs.CAEvSIag/sag_tse_01.png /tmp/ashs.CAEvSIag/cor_mprage_00.png /tmp/ashs.CAEvSIag/cor_mprage_01.png /tmp/ashs.CAEvSIag/cor_mprage_02.png /tmp/ashs.CAEvSIag/cor_mprage_03.png /tmp/ashs.CAEvSIag/cor_mprage_04.png /tmp/ashs.CAEvSIag/sag_mprage_00.png /tmp/ashs.CAEvSIag/sag_mprage_01.png /tmp/ashs.CAEvSIag/cor_seg_00.png /tmp/ashs.CAEvSIag/cor_seg_03.png /tmp/ashs.CAEvSIag/cor_seg_06.png /tmp/ashs.CAEvSIag/cor_seg_09.png /tmp/ashs.CAEvSIag/cor_seg_12.png /tmp/ashs.CAEvSIag/sag_seg_00.png /tmp/ashs.CAEvSIag/sag_seg_03.png /tmp/ashs.CAEvSIag/qa.png
+ convert /tmp/ashs.CAEvSIag/qa.png -bordercolor Black -border 1x1 /tmp/ashs.CAEvSIag/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.CAEvSIag/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 3 successful
------------------------------------------------
[0m
****************************************
Starting stage 4: Boostrapped ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 4: Boostrapped ROI registration 
to all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2053.34 	 OutFr   0.0000 	 RMSD     2.8782
Iter 002 	 Temp     3.72 	 Delta  1994.58 	 OutFr   0.0000 	 RMSD     2.0793
Iter 003 	 Temp     3.46 	 Delta  1868.07 	 OutFr   0.0000 	 RMSD     2.0796
Iter 004 	 Temp     3.22 	 Delta  1743.74 	 OutFr   0.0000 	 RMSD     2.0630
Iter 005 	 Temp     2.99 	 Delta  1628.40 	 OutFr   0.0000 	 RMSD     2.0451
Iter 006 	 Temp     2.78 	 Delta  1523.59 	 OutFr   0.0000 	 RMSD     2.0284
Iter 007 	 Temp     2.59 	 Delta  1430.09 	 OutFr   0.0000 	 RMSD     2.0129
Iter 008 	 Temp     2.41 	 Delta  1348.42 	 OutFr   0.0000 	 RMSD     2.0003
Iter 009 	 Temp     2.24 	 Delta  1276.05 	 OutFr   0.0000 	 RMSD     1.9901
Iter 010 	 Temp     2.08 	 Delta  1206.97 	 OutFr   0.0000 	 RMSD     1.9813
Iter 011 	 Temp     1.94 	 Delta  1138.33 	 OutFr   0.0000 	 RMSD     1.9741
Iter 012 	 Temp     1.80 	 Delta  1070.44 	 OutFr   0.0000 	 RMSD     1.9684
Iter 013 	 Temp     1.67 	 Delta  1004.46 	 OutFr   0.0000 	 RMSD     1.9637
Iter 014 	 Temp     1.56 	 Delta   941.52 	 OutFr   0.0000 	 RMSD     1.9593
Iter 015 	 Temp     1.45 	 Delta   882.47 	 OutFr   0.0000 	 RMSD     1.9555
Iter 016 	 Temp     1.35 	 Delta   827.10 	 OutFr   0.0052 	 RMSD     1.9520
Iter 017 	 Temp     1.25 	 Delta   773.30 	 OutFr   0.0079 	 RMSD     1.9495
Iter 018 	 Temp     1.16 	 Delta   720.56 	 OutFr   0.0105 	 RMSD     1.9481
Iter 019 	 Temp     1.08 	 Delta   670.27 	 OutFr   0.0183 	 RMSD     1.9471
Iter 020 	 Temp     1.01 	 Delta   624.66 	 OutFr   0.0209 	 RMSD     1.9464
Iter 021 	 Temp     0.94 	 Delta   586.71 	 OutFr   0.0314 	 RMSD     1.9465
Iter 022 	 Temp     0.87 	 Delta   553.30 	 OutFr   0.0419 	 RMSD     1.9469
Iter 023 	 Temp     0.81 	 Delta   519.50 	 OutFr   0.0497 	 RMSD     1.9476
Iter 024 	 Temp     0.75 	 Delta   483.64 	 OutFr   0.0628 	 RMSD     1.9467
Iter 025 	 Temp     0.70 	 Delta   448.18 	 OutFr   0.0733 	 RMSD     1.9436
Iter 026 	 Temp     0.65 	 Delta   416.54 	 OutFr   0.0890 	 RMSD     1.9400
Iter 027 	 Temp     0.61 	 Delta   385.18 	 OutFr   0.1178 	 RMSD     1.9364
Iter 028 	 Temp     0.56 	 Delta   350.87 	 OutFr   0.1361 	 RMSD     1.9336
Iter 029 	 Temp     0.52 	 Delta   315.40 	 OutFr   0.1623 	 RMSD     1.9316
Iter 030 	 Temp     0.49 	 Delta   288.26 	 OutFr   0.2068 	 RMSD     1.9296
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.cNtNTrQ0/mybin.nii.gz
+ vtklevelset /tmp/ashs.cNtNTrQ0/mybin.nii.gz /tmp/ashs.cNtNTrQ0/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.cNtNTrQ0/mymesh.vtk /tmp/ashs.cNtNTrQ0/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2958.77643736   1.07259214
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.cNtNTrQ0/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.4153 to -12.3857
   Y : -20.4545 to 27.9064
   Z : -27.1167 to 0.725018
   Image resolution  : 99 by 169 by 109
   Image box origin  : {-41.4153, -25.4545, -32.1167}
   Image box size    : {34.375, 58.6805, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.4153, 25.4545, -32.1167]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -o /tmp/ashs.cNtNTrQ0/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -o /tmp/ashs.cNtNTrQ0/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.cNtNTrQ0/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 0.5'
CHUNK 0.6 0.605769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 0.5
====================================
         PROGRESS: 0.6               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.cNtNTrQ0/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.cNtNTrQ0/fixed_hw.nii.gz /tmp/ashs.cNtNTrQ0/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.499373, moving = 0.730501
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.36367, 2.35989], [0.972271, 0.964963, 0.963422]
Level     0,  Iter     0:    Energy =   0.0580
Level     0,  Iter     1:    Energy =   0.0656
Level     0,  Iter     2:    Energy =   0.0721
Level     0,  Iter     3:    Energy =   0.0772
Level     0,  Iter     4:    Energy =   0.0813
Level     0,  Iter     5:    Energy =   0.0846
Level     0,  Iter     6:    Energy =   0.0873
Level     0,  Iter     7:    Energy =   0.0890
Level     0,  Iter     8:    Energy =   0.0910
Level     0,  Iter     9:    Energy =   0.0912
Level     0,  Iter    10:    Energy =   0.0922
Level     0,  Iter    11:    Energy =   0.0926
Level     0,  Iter    12:    Energy =   0.0929
Level     0,  Iter    13:    Energy =   0.0934
Level     0,  Iter    14:    Energy =   0.0936
Level     0,  Iter    15:    Energy =   0.0941
Level     0,  Iter    16:    Energy =   0.0941
Level     0,  Iter    17:    Energy =   0.0945
Level     0,  Iter    18:    Energy =   0.0944
Level     0,  Iter    19:    Energy =   0.0948
Level     0,  Iter    20:    Energy =   0.0946
Level     0,  Iter    21:    Energy =   0.0950
Level     0,  Iter    22:    Energy =   0.0948
Level     0,  Iter    23:    Energy =   0.0953
Level     0,  Iter    24:    Energy =   0.0951
Level     0,  Iter    25:    Energy =   0.0956
Level     0,  Iter    26:    Energy =   0.0954
Level     0,  Iter    27:    Energy =   0.0958
Level     0,  Iter    28:    Energy =   0.0955
Level     0,  Iter    29:    Energy =   0.0959
Level     0,  Iter    30:    Energy =   0.0956
Level     0,  Iter    31:    Energy =   0.0960
Level     0,  Iter    32:    Energy =   0.0957
Level     0,  Iter    33:    Energy =   0.0961
Level     0,  Iter    34:    Energy =   0.0958
Level     0,  Iter    35:    Energy =   0.0962
Level     0,  Iter    36:    Energy =   0.0959
Level     0,  Iter    37:    Energy =   0.0963
Level     0,  Iter    38:    Energy =   0.0960
Level     0,  Iter    39:    Energy =   0.0964
Level     0,  Iter    40:    Energy =   0.0961
Level     0,  Iter    41:    Energy =   0.0965
Level     0,  Iter    42:    Energy =   0.0962
Level     0,  Iter    43:    Energy =   0.0965
Level     0,  Iter    44:    Energy =   0.0963
Level     0,  Iter    45:    Energy =   0.0966
Level     0,  Iter    46:    Energy =   0.0964
Level     0,  Iter    47:    Energy =   0.0967
Level     0,  Iter    48:    Energy =   0.0965
Level     0,  Iter    49:    Energy =   0.0968
Level     0,  Iter    50:    Energy =   0.0966
Level     0,  Iter    51:    Energy =   0.0968
Level     0,  Iter    52:    Energy =   0.0966
Level     0,  Iter    53:    Energy =   0.0969
Level     0,  Iter    54:    Energy =   0.0967
Level     0,  Iter    55:    Energy =   0.0969
Level     0,  Iter    56:    Energy =   0.0967
Level     0,  Iter    57:    Energy =   0.0970
Level     0,  Iter    58:    Energy =   0.0967
Level     0,  Iter    59:    Energy =   0.0970
END OF LEVEL     0    DetJac Range:   0.4766  to   2.0446 
  Avg. Gradient Time  : 0.0077s  37.86% 
  Avg. Gaussian Time  : 0.0096s  47.32% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.19574, 1.2014], [0.486136, 0.488158, 0.490469]
Level     1,  Iter     0:    Energy =   0.0642
Level     1,  Iter     1:    Energy =   0.0693
Level     1,  Iter     2:    Energy =   0.0726
Level     1,  Iter     3:    Energy =   0.0754
Level     1,  Iter     4:    Energy =   0.0775
Level     1,  Iter     5:    Energy =   0.0793
Level     1,  Iter     6:    Energy =   0.0810
Level     1,  Iter     7:    Energy =   0.0821
Level     1,  Iter     8:    Energy =   0.0824
Level     1,  Iter     9:    Energy =   0.0825
Level     1,  Iter    10:    Energy =   0.0828
Level     1,  Iter    11:    Energy =   0.0830
Level     1,  Iter    12:    Energy =   0.0832
Level     1,  Iter    13:    Energy =   0.0835
Level     1,  Iter    14:    Energy =   0.0836
Level     1,  Iter    15:    Energy =   0.0839
Level     1,  Iter    16:    Energy =   0.0840
Level     1,  Iter    17:    Energy =   0.0842
Level     1,  Iter    18:    Energy =   0.0844
Level     1,  Iter    19:    Energy =   0.0846
Level     1,  Iter    20:    Energy =   0.0846
Level     1,  Iter    21:    Energy =   0.0848
Level     1,  Iter    22:    Energy =   0.0849
Level     1,  Iter    23:    Energy =   0.0850
Level     1,  Iter    24:    Energy =   0.0850
Level     1,  Iter    25:    Energy =   0.0852
Level     1,  Iter    26:    Energy =   0.0851
Level     1,  Iter    27:    Energy =   0.0853
Level     1,  Iter    28:    Energy =   0.0853
Level     1,  Iter    29:    Energy =   0.0854
Level     1,  Iter    30:    Energy =   0.0854
Level     1,  Iter    31:    Energy =   0.0856
Level     1,  Iter    32:    Energy =   0.0855
Level     1,  Iter    33:    Energy =   0.0857
Level     1,  Iter    34:    Energy =   0.0856
Level     1,  Iter    35:    Energy =   0.0858
Level     1,  Iter    36:    Energy =   0.0857
Level     1,  Iter    37:    Energy =   0.0859
Level     1,  Iter    38:    Energy =   0.0858
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0858
Level     1,  Iter    41:    Energy =   0.0860
Level     1,  Iter    42:    Energy =   0.0858
Level     1,  Iter    43:    Energy =   0.0860
Level     1,  Iter    44:    Energy =   0.0859
Level     1,  Iter    45:    Energy =   0.0861
Level     1,  Iter    46:    Energy =   0.0859
Level     1,  Iter    47:    Energy =   0.0861
Level     1,  Iter    48:    Energy =   0.0860
Level     1,  Iter    49:    Energy =   0.0862
Level     1,  Iter    50:    Energy =   0.0860
Level     1,  Iter    51:    Energy =   0.0862
Level     1,  Iter    52:    Energy =   0.0860
Level     1,  Iter    53:    Energy =   0.0862
Level     1,  Iter    54:    Energy =   0.0861
Level     1,  Iter    55:    Energy =   0.0862
Level     1,  Iter    56:    Energy =   0.0861
Level     1,  Iter    57:    Energy =   0.0863
Level     1,  Iter    58:    Energy =   0.0861
Level     1,  Iter    59:    Energy =   0.0863
END OF LEVEL     1    DetJac Range:   0.2541  to   3.4845 
  Avg. Gradient Time  : 0.0453s  39.81% 
  Avg. Gaussian Time  : 0.0550s  48.36% 
  Avg. Iteration Time : 0.1137s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0493
Level     2,  Iter     2:    Energy =   0.0522
Level     2,  Iter     3:    Energy =   0.0545
Level     2,  Iter     4:    Energy =   0.0563
Level     2,  Iter     5:    Energy =   0.0575
Level     2,  Iter     6:    Energy =   0.0586
Level     2,  Iter     7:    Energy =   0.0598
Level     2,  Iter     8:    Energy =   0.0609
Level     2,  Iter     9:    Energy =   0.0618
Level     2,  Iter    10:    Energy =   0.0625
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0643
Level     2,  Iter    13:    Energy =   0.0650
Level     2,  Iter    14:    Energy =   0.0651
Level     2,  Iter    15:    Energy =   0.0655
Level     2,  Iter    16:    Energy =   0.0653
Level     2,  Iter    17:    Energy =   0.0659
Level     2,  Iter    18:    Energy =   0.0658
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.1108  to   4.3842 
  Avg. Gradient Time  : 0.3174s  37.18% 
  Avg. Gaussian Time  : 0.4451s  52.14% 
  Avg. Iteration Time : 0.8536s 

real	0m28.503s
user	0m50.348s
sys	0m2.920s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 1'
CHUNK 0.6 0.605769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 1
====================================
         PROGRESS: 0.6               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1897.35 	 OutFr   0.0000 	 RMSD     2.3790
Iter 002 	 Temp     3.72 	 Delta  1782.59 	 OutFr   0.0000 	 RMSD     1.9738
Iter 003 	 Temp     3.46 	 Delta  1643.86 	 OutFr   0.0000 	 RMSD     1.9538
Iter 004 	 Temp     3.22 	 Delta  1515.42 	 OutFr   0.0000 	 RMSD     1.9261
Iter 005 	 Temp     2.99 	 Delta  1401.37 	 OutFr   0.0000 	 RMSD     1.9033
Iter 006 	 Temp     2.78 	 Delta  1301.18 	 OutFr   0.0000 	 RMSD     1.8841
Iter 007 	 Temp     2.59 	 Delta  1212.80 	 OutFr   0.0000 	 RMSD     1.8674
Iter 008 	 Temp     2.41 	 Delta  1133.27 	 OutFr   0.0000 	 RMSD     1.8532
Iter 009 	 Temp     2.24 	 Delta  1059.14 	 OutFr   0.0000 	 RMSD     1.8408
Iter 010 	 Temp     2.08 	 Delta   987.68 	 OutFr   0.0000 	 RMSD     1.8307
Iter 011 	 Temp     1.94 	 Delta   918.91 	 OutFr   0.0026 	 RMSD     1.8225
Iter 012 	 Temp     1.80 	 Delta   856.59 	 OutFr   0.0079 	 RMSD     1.8159
Iter 013 	 Temp     1.67 	 Delta   803.35 	 OutFr   0.0079 	 RMSD     1.8108
Iter 014 	 Temp     1.56 	 Delta   756.46 	 OutFr   0.0105 	 RMSD     1.8070
Iter 015 	 Temp     1.45 	 Delta   712.11 	 OutFr   0.0131 	 RMSD     1.8037
Iter 016 	 Temp     1.35 	 Delta   668.79 	 OutFr   0.0157 	 RMSD     1.8016
Iter 017 	 Temp     1.25 	 Delta   627.62 	 OutFr   0.0157 	 RMSD     1.8014
Iter 018 	 Temp     1.16 	 Delta   590.91 	 OutFr   0.0209 	 RMSD     1.8019
Iter 019 	 Temp     1.08 	 Delta   560.55 	 OutFr   0.0340 	 RMSD     1.8022
Iter 020 	 Temp     1.01 	 Delta   536.41 	 OutFr   0.0366 	 RMSD     1.8023
Iter 021 	 Temp     0.94 	 Delta   515.57 	 OutFr   0.0445 	 RMSD     1.8022
Iter 022 	 Temp     0.87 	 Delta   493.44 	 OutFr   0.0445 	 RMSD     1.8019
Iter 023 	 Temp     0.81 	 Delta   466.88 	 OutFr   0.0471 	 RMSD     1.8011
Iter 024 	 Temp     0.75 	 Delta   435.41 	 OutFr   0.0550 	 RMSD     1.8003
Iter 025 	 Temp     0.70 	 Delta   403.09 	 OutFr   0.0812 	 RMSD     1.8002
Iter 026 	 Temp     0.65 	 Delta   376.29 	 OutFr   0.0942 	 RMSD     1.8006
Iter 027 	 Temp     0.61 	 Delta   353.59 	 OutFr   0.1047 	 RMSD     1.8016
Iter 028 	 Temp     0.56 	 Delta   333.26 	 OutFr   0.1309 	 RMSD     1.8025
Iter 029 	 Temp     0.52 	 Delta   314.45 	 OutFr   0.1597 	 RMSD     1.8036
Iter 030 	 Temp     0.49 	 Delta   292.61 	 OutFr   0.1859 	 RMSD     1.8043
Iter 031 	 Temp     0.45 	 Delta   265.67 	 OutFr   0.2120 	 RMSD     1.8045
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.pzYcDmyJ/mybin.nii.gz
+ vtklevelset /tmp/ashs.pzYcDmyJ/mybin.nii.gz /tmp/ashs.pzYcDmyJ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.pzYcDmyJ/mymesh.vtk /tmp/ashs.pzYcDmyJ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2874.21202284   1.04193652
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.pzYcDmyJ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.7083 to -9.01555
   Y : -16.2645 to 29.7071
   Z : -23.5098 to 5.14339
   Image resolution  : 100 by 162 by 111
   Image box origin  : {-38.7083, -21.2645, -28.5098}
   Image box size    : {34.7222, 56.25, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.7083, 21.2645, -28.5098]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -o /tmp/ashs.pzYcDmyJ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -o /tmp/ashs.pzYcDmyJ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.pzYcDmyJ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 0.5'
CHUNK 0.605769 0.611538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 0.5
====================================
         PROGRESS: 0.605769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.pzYcDmyJ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.pzYcDmyJ/fixed_hw.nii.gz /tmp/ashs.pzYcDmyJ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.505294, moving = 0.6964
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.40319], [0.982092, 0.970115, 0.981099]
Level     0,  Iter     0:    Energy =   0.0621
Level     0,  Iter     1:    Energy =   0.0706
Level     0,  Iter     2:    Energy =   0.0767
Level     0,  Iter     3:    Energy =   0.0809
Level     0,  Iter     4:    Energy =   0.0840
Level     0,  Iter     5:    Energy =   0.0864
Level     0,  Iter     6:    Energy =   0.0880
Level     0,  Iter     7:    Energy =   0.0892
Level     0,  Iter     8:    Energy =   0.0898
Level     0,  Iter     9:    Energy =   0.0901
Level     0,  Iter    10:    Energy =   0.0906
Level     0,  Iter    11:    Energy =   0.0908
Level     0,  Iter    12:    Energy =   0.0912
Level     0,  Iter    13:    Energy =   0.0912
Level     0,  Iter    14:    Energy =   0.0914
Level     0,  Iter    15:    Energy =   0.0911
Level     0,  Iter    16:    Energy =   0.0915
Level     0,  Iter    17:    Energy =   0.0915
Level     0,  Iter    18:    Energy =   0.0917
Level     0,  Iter    19:    Energy =   0.0916
Level     0,  Iter    20:    Energy =   0.0916
Level     0,  Iter    21:    Energy =   0.0916
Level     0,  Iter    22:    Energy =   0.0916
Level     0,  Iter    23:    Energy =   0.0918
Level     0,  Iter    24:    Energy =   0.0919
Level     0,  Iter    25:    Energy =   0.0919
Level     0,  Iter    26:    Energy =   0.0918
Level     0,  Iter    27:    Energy =   0.0919
Level     0,  Iter    28:    Energy =   0.0919
Level     0,  Iter    29:    Energy =   0.0920
Level     0,  Iter    30:    Energy =   0.0920
Level     0,  Iter    31:    Energy =   0.0921
Level     0,  Iter    32:    Energy =   0.0920
Level     0,  Iter    33:    Energy =   0.0922
Level     0,  Iter    34:    Energy =   0.0924
Level     0,  Iter    35:    Energy =   0.0923
Level     0,  Iter    36:    Energy =   0.0922
Level     0,  Iter    37:    Energy =   0.0923
Level     0,  Iter    38:    Energy =   0.0924
Level     0,  Iter    39:    Energy =   0.0924
Level     0,  Iter    40:    Energy =   0.0923
Level     0,  Iter    41:    Energy =   0.0925
Level     0,  Iter    42:    Energy =   0.0927
Level     0,  Iter    43:    Energy =   0.0927
Level     0,  Iter    44:    Energy =   0.0926
Level     0,  Iter    45:    Energy =   0.0927
Level     0,  Iter    46:    Energy =   0.0927
Level     0,  Iter    47:    Energy =   0.0927
Level     0,  Iter    48:    Energy =   0.0926
Level     0,  Iter    49:    Energy =   0.0927
Level     0,  Iter    50:    Energy =   0.0928
Level     0,  Iter    51:    Energy =   0.0927
Level     0,  Iter    52:    Energy =   0.0927
Level     0,  Iter    53:    Energy =   0.0927
Level     0,  Iter    54:    Energy =   0.0928
Level     0,  Iter    55:    Energy =   0.0927
Level     0,  Iter    56:    Energy =   0.0927
Level     0,  Iter    57:    Energy =   0.0928
Level     0,  Iter    58:    Energy =   0.0929
Level     0,  Iter    59:    Energy =   0.0928
END OF LEVEL     0    DetJac Range:   0.5155  to   1.9739 
  Avg. Gradient Time  : 0.0073s  37.65% 
  Avg. Gaussian Time  : 0.0092s  47.32% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2016], [0.491046, 0.491046, 0.49055]
Level     1,  Iter     0:    Energy =   0.0667
Level     1,  Iter     1:    Energy =   0.0719
Level     1,  Iter     2:    Energy =   0.0757
Level     1,  Iter     3:    Energy =   0.0785
Level     1,  Iter     4:    Energy =   0.0807
Level     1,  Iter     5:    Energy =   0.0823
Level     1,  Iter     6:    Energy =   0.0834
Level     1,  Iter     7:    Energy =   0.0842
Level     1,  Iter     8:    Energy =   0.0842
Level     1,  Iter     9:    Energy =   0.0851
Level     1,  Iter    10:    Energy =   0.0850
Level     1,  Iter    11:    Energy =   0.0858
Level     1,  Iter    12:    Energy =   0.0857
Level     1,  Iter    13:    Energy =   0.0861
Level     1,  Iter    14:    Energy =   0.0859
Level     1,  Iter    15:    Energy =   0.0865
Level     1,  Iter    16:    Energy =   0.0863
Level     1,  Iter    17:    Energy =   0.0864
Level     1,  Iter    18:    Energy =   0.0863
Level     1,  Iter    19:    Energy =   0.0866
Level     1,  Iter    20:    Energy =   0.0865
Level     1,  Iter    21:    Energy =   0.0869
Level     1,  Iter    22:    Energy =   0.0867
Level     1,  Iter    23:    Energy =   0.0871
Level     1,  Iter    24:    Energy =   0.0869
Level     1,  Iter    25:    Energy =   0.0873
Level     1,  Iter    26:    Energy =   0.0871
Level     1,  Iter    27:    Energy =   0.0875
Level     1,  Iter    28:    Energy =   0.0872
Level     1,  Iter    29:    Energy =   0.0876
Level     1,  Iter    30:    Energy =   0.0873
Level     1,  Iter    31:    Energy =   0.0877
Level     1,  Iter    32:    Energy =   0.0874
Level     1,  Iter    33:    Energy =   0.0878
Level     1,  Iter    34:    Energy =   0.0876
Level     1,  Iter    35:    Energy =   0.0875
Level     1,  Iter    36:    Energy =   0.0873
Level     1,  Iter    37:    Energy =   0.0877
Level     1,  Iter    38:    Energy =   0.0875
Level     1,  Iter    39:    Energy =   0.0877
Level     1,  Iter    40:    Energy =   0.0875
Level     1,  Iter    41:    Energy =   0.0878
Level     1,  Iter    42:    Energy =   0.0875
Level     1,  Iter    43:    Energy =   0.0878
Level     1,  Iter    44:    Energy =   0.0876
Level     1,  Iter    45:    Energy =   0.0877
Level     1,  Iter    46:    Energy =   0.0875
Level     1,  Iter    47:    Energy =   0.0877
Level     1,  Iter    48:    Energy =   0.0875
Level     1,  Iter    49:    Energy =   0.0876
Level     1,  Iter    50:    Energy =   0.0874
Level     1,  Iter    51:    Energy =   0.0876
Level     1,  Iter    52:    Energy =   0.0874
Level     1,  Iter    53:    Energy =   0.0876
Level     1,  Iter    54:    Energy =   0.0874
Level     1,  Iter    55:    Energy =   0.0876
Level     1,  Iter    56:    Energy =   0.0874
Level     1,  Iter    57:    Energy =   0.0876
Level     1,  Iter    58:    Energy =   0.0874
Level     1,  Iter    59:    Energy =   0.0876
END OF LEVEL     1    DetJac Range:   0.3639  to   2.7189 
  Avg. Gradient Time  : 0.0443s  40.03% 
  Avg. Gaussian Time  : 0.0533s  48.10% 
  Avg. Iteration Time : 0.1108s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0479
Level     2,  Iter     1:    Energy =   0.0507
Level     2,  Iter     2:    Energy =   0.0530
Level     2,  Iter     3:    Energy =   0.0550
Level     2,  Iter     4:    Energy =   0.0565
Level     2,  Iter     5:    Energy =   0.0582
Level     2,  Iter     6:    Energy =   0.0600
Level     2,  Iter     7:    Energy =   0.0611
Level     2,  Iter     8:    Energy =   0.0622
Level     2,  Iter     9:    Energy =   0.0631
Level     2,  Iter    10:    Energy =   0.0639
Level     2,  Iter    11:    Energy =   0.0645
Level     2,  Iter    12:    Energy =   0.0649
Level     2,  Iter    13:    Energy =   0.0653
Level     2,  Iter    14:    Energy =   0.0650
Level     2,  Iter    15:    Energy =   0.0656
Level     2,  Iter    16:    Energy =   0.0656
Level     2,  Iter    17:    Energy =   0.0661
Level     2,  Iter    18:    Energy =   0.0657
Level     2,  Iter    19:    Energy =   0.0665
END OF LEVEL     2    DetJac Range:   0.1951  to   4.0863 
  Avg. Gradient Time  : 0.3140s  37.29% 
  Avg. Gaussian Time  : 0.4372s  51.92% 
  Avg. Iteration Time : 0.8421s 

real	0m27.931s
user	0m49.448s
sys	0m2.784s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 1'
CHUNK 0.605769 0.611538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 1
====================================
         PROGRESS: 0.605769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1722.58 	 OutFr   0.0000 	 RMSD     2.6443
Iter 002 	 Temp     3.72 	 Delta  1635.11 	 OutFr   0.0000 	 RMSD     2.2706
Iter 003 	 Temp     3.46 	 Delta  1554.45 	 OutFr   0.0000 	 RMSD     2.2419
Iter 004 	 Temp     3.22 	 Delta  1489.15 	 OutFr   0.0000 	 RMSD     2.2261
Iter 005 	 Temp     2.99 	 Delta  1431.62 	 OutFr   0.0000 	 RMSD     2.2126
Iter 006 	 Temp     2.78 	 Delta  1375.35 	 OutFr   0.0000 	 RMSD     2.2002
Iter 007 	 Temp     2.59 	 Delta  1320.03 	 OutFr   0.0000 	 RMSD     2.1895
Iter 008 	 Temp     2.41 	 Delta  1267.11 	 OutFr   0.0000 	 RMSD     2.1804
Iter 009 	 Temp     2.24 	 Delta  1216.39 	 OutFr   0.0026 	 RMSD     2.1720
Iter 010 	 Temp     2.08 	 Delta  1165.87 	 OutFr   0.0052 	 RMSD     2.1647
Iter 011 	 Temp     1.94 	 Delta  1112.49 	 OutFr   0.0052 	 RMSD     2.1587
Iter 012 	 Temp     1.80 	 Delta  1054.71 	 OutFr   0.0183 	 RMSD     2.1546
Iter 013 	 Temp     1.67 	 Delta   993.89 	 OutFr   0.0236 	 RMSD     2.1521
Iter 014 	 Temp     1.56 	 Delta   931.51 	 OutFr   0.0236 	 RMSD     2.1514
Iter 015 	 Temp     1.45 	 Delta   867.49 	 OutFr   0.0288 	 RMSD     2.1519
Iter 016 	 Temp     1.35 	 Delta   801.95 	 OutFr   0.0419 	 RMSD     2.1521
Iter 017 	 Temp     1.25 	 Delta   737.56 	 OutFr   0.0471 	 RMSD     2.1524
Iter 018 	 Temp     1.16 	 Delta   680.78 	 OutFr   0.0524 	 RMSD     2.1532
Iter 019 	 Temp     1.08 	 Delta   633.07 	 OutFr   0.0654 	 RMSD     2.1549
Iter 020 	 Temp     1.01 	 Delta   588.88 	 OutFr   0.0733 	 RMSD     2.1572
Iter 021 	 Temp     0.94 	 Delta   545.92 	 OutFr   0.0890 	 RMSD     2.1598
Iter 022 	 Temp     0.87 	 Delta   505.84 	 OutFr   0.1021 	 RMSD     2.1632
Iter 023 	 Temp     0.81 	 Delta   468.31 	 OutFr   0.1178 	 RMSD     2.1678
Iter 024 	 Temp     0.75 	 Delta   429.92 	 OutFr   0.1257 	 RMSD     2.1745
Iter 025 	 Temp     0.70 	 Delta   389.81 	 OutFr   0.1387 	 RMSD     2.1832
Iter 026 	 Temp     0.65 	 Delta   350.15 	 OutFr   0.1623 	 RMSD     2.1939
Iter 027 	 Temp     0.61 	 Delta   315.33 	 OutFr   0.1885 	 RMSD     2.2073
Iter 028 	 Temp     0.56 	 Delta   288.82 	 OutFr   0.2068 	 RMSD     2.2222
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.TdED6oYq/mybin.nii.gz
+ vtklevelset /tmp/ashs.TdED6oYq/mybin.nii.gz /tmp/ashs.TdED6oYq/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.TdED6oYq/mymesh.vtk /tmp/ashs.TdED6oYq/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2814.35956493   1.02023928
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.TdED6oYq/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.4869 to -14.8265
   Y : -24.5088 to 19.4341
   Z : -18.4282 to 13.7824
   Image resolution  : 95 by 156 by 121
   Image box origin  : {-42.4869, -29.5088, -23.4282}
   Image box size    : {32.9861, 54.1666, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.4869, 29.5088, -23.4282]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -o /tmp/ashs.TdED6oYq/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -o /tmp/ashs.TdED6oYq/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.TdED6oYq/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 0.5'
CHUNK 0.611538 0.617308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 0.5
====================================
         PROGRESS: 0.611538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.TdED6oYq/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.TdED6oYq/fixed_hw.nii.gz /tmp/ashs.TdED6oYq/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.487826, moving = 0.520603
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.40562, 2.36618], [0.971862, 0.982092, 0.965988]
Level     0,  Iter     0:    Energy =   0.0585
Level     0,  Iter     1:    Energy =   0.0656
Level     0,  Iter     2:    Energy =   0.0726
Level     0,  Iter     3:    Energy =   0.0780
Level     0,  Iter     4:    Energy =   0.0823
Level     0,  Iter     5:    Energy =   0.0854
Level     0,  Iter     6:    Energy =   0.0878
Level     0,  Iter     7:    Energy =   0.0899
Level     0,  Iter     8:    Energy =   0.0914
Level     0,  Iter     9:    Energy =   0.0926
Level     0,  Iter    10:    Energy =   0.0934
Level     0,  Iter    11:    Energy =   0.0938
Level     0,  Iter    12:    Energy =   0.0943
Level     0,  Iter    13:    Energy =   0.0946
Level     0,  Iter    14:    Energy =   0.0948
Level     0,  Iter    15:    Energy =   0.0951
Level     0,  Iter    16:    Energy =   0.0953
Level     0,  Iter    17:    Energy =   0.0956
Level     0,  Iter    18:    Energy =   0.0957
Level     0,  Iter    19:    Energy =   0.0960
Level     0,  Iter    20:    Energy =   0.0960
Level     0,  Iter    21:    Energy =   0.0963
Level     0,  Iter    22:    Energy =   0.0963
Level     0,  Iter    23:    Energy =   0.0965
Level     0,  Iter    24:    Energy =   0.0964
Level     0,  Iter    25:    Energy =   0.0966
Level     0,  Iter    26:    Energy =   0.0965
Level     0,  Iter    27:    Energy =   0.0967
Level     0,  Iter    28:    Energy =   0.0966
Level     0,  Iter    29:    Energy =   0.0967
Level     0,  Iter    30:    Energy =   0.0966
Level     0,  Iter    31:    Energy =   0.0967
Level     0,  Iter    32:    Energy =   0.0965
Level     0,  Iter    33:    Energy =   0.0967
Level     0,  Iter    34:    Energy =   0.0966
Level     0,  Iter    35:    Energy =   0.0968
Level     0,  Iter    36:    Energy =   0.0966
Level     0,  Iter    37:    Energy =   0.0969
Level     0,  Iter    38:    Energy =   0.0968
Level     0,  Iter    39:    Energy =   0.0970
Level     0,  Iter    40:    Energy =   0.0968
Level     0,  Iter    41:    Energy =   0.0970
Level     0,  Iter    42:    Energy =   0.0969
Level     0,  Iter    43:    Energy =   0.0971
Level     0,  Iter    44:    Energy =   0.0970
Level     0,  Iter    45:    Energy =   0.0972
Level     0,  Iter    46:    Energy =   0.0970
Level     0,  Iter    47:    Energy =   0.0972
Level     0,  Iter    48:    Energy =   0.0971
Level     0,  Iter    49:    Energy =   0.0973
Level     0,  Iter    50:    Energy =   0.0971
Level     0,  Iter    51:    Energy =   0.0973
Level     0,  Iter    52:    Energy =   0.0972
Level     0,  Iter    53:    Energy =   0.0974
Level     0,  Iter    54:    Energy =   0.0972
Level     0,  Iter    55:    Energy =   0.0975
Level     0,  Iter    56:    Energy =   0.0973
Level     0,  Iter    57:    Energy =   0.0975
Level     0,  Iter    58:    Energy =   0.0973
Level     0,  Iter    59:    Energy =   0.0976
END OF LEVEL     0    DetJac Range:   0.3705  to   1.7447 
  Avg. Gradient Time  : 0.0077s  37.91% 
  Avg. Gaussian Time  : 0.0095s  46.77% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.20248], [0.485931, 0.491046, 0.490912]
Level     1,  Iter     0:    Energy =   0.0682
Level     1,  Iter     1:    Energy =   0.0725
Level     1,  Iter     2:    Energy =   0.0760
Level     1,  Iter     3:    Energy =   0.0783
Level     1,  Iter     4:    Energy =   0.0805
Level     1,  Iter     5:    Energy =   0.0820
Level     1,  Iter     6:    Energy =   0.0833
Level     1,  Iter     7:    Energy =   0.0844
Level     1,  Iter     8:    Energy =   0.0857
Level     1,  Iter     9:    Energy =   0.0863
Level     1,  Iter    10:    Energy =   0.0871
Level     1,  Iter    11:    Energy =   0.0871
Level     1,  Iter    12:    Energy =   0.0873
Level     1,  Iter    13:    Energy =   0.0872
Level     1,  Iter    14:    Energy =   0.0876
Level     1,  Iter    15:    Energy =   0.0875
Level     1,  Iter    16:    Energy =   0.0878
Level     1,  Iter    17:    Energy =   0.0877
Level     1,  Iter    18:    Energy =   0.0880
Level     1,  Iter    19:    Energy =   0.0879
Level     1,  Iter    20:    Energy =   0.0882
Level     1,  Iter    21:    Energy =   0.0881
Level     1,  Iter    22:    Energy =   0.0883
Level     1,  Iter    23:    Energy =   0.0882
Level     1,  Iter    24:    Energy =   0.0884
Level     1,  Iter    25:    Energy =   0.0883
Level     1,  Iter    26:    Energy =   0.0886
Level     1,  Iter    27:    Energy =   0.0884
Level     1,  Iter    28:    Energy =   0.0887
Level     1,  Iter    29:    Energy =   0.0886
Level     1,  Iter    30:    Energy =   0.0888
Level     1,  Iter    31:    Energy =   0.0887
Level     1,  Iter    32:    Energy =   0.0888
Level     1,  Iter    33:    Energy =   0.0887
Level     1,  Iter    34:    Energy =   0.0889
Level     1,  Iter    35:    Energy =   0.0888
Level     1,  Iter    36:    Energy =   0.0890
Level     1,  Iter    37:    Energy =   0.0889
Level     1,  Iter    38:    Energy =   0.0891
Level     1,  Iter    39:    Energy =   0.0890
Level     1,  Iter    40:    Energy =   0.0892
Level     1,  Iter    41:    Energy =   0.0891
Level     1,  Iter    42:    Energy =   0.0893
Level     1,  Iter    43:    Energy =   0.0892
Level     1,  Iter    44:    Energy =   0.0893
Level     1,  Iter    45:    Energy =   0.0892
Level     1,  Iter    46:    Energy =   0.0894
Level     1,  Iter    47:    Energy =   0.0894
Level     1,  Iter    48:    Energy =   0.0895
Level     1,  Iter    49:    Energy =   0.0894
Level     1,  Iter    50:    Energy =   0.0896
Level     1,  Iter    51:    Energy =   0.0895
Level     1,  Iter    52:    Energy =   0.0896
Level     1,  Iter    53:    Energy =   0.0895
Level     1,  Iter    54:    Energy =   0.0897
Level     1,  Iter    55:    Energy =   0.0896
Level     1,  Iter    56:    Energy =   0.0897
Level     1,  Iter    57:    Energy =   0.0896
Level     1,  Iter    58:    Energy =   0.0898
Level     1,  Iter    59:    Energy =   0.0897
END OF LEVEL     1    DetJac Range:   0.1794  to   2.5662 
  Avg. Gradient Time  : 0.0448s  40.01% 
  Avg. Gaussian Time  : 0.0536s  47.89% 
  Avg. Iteration Time : 0.1120s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0498
Level     2,  Iter     1:    Energy =   0.0522
Level     2,  Iter     2:    Energy =   0.0544
Level     2,  Iter     3:    Energy =   0.0565
Level     2,  Iter     4:    Energy =   0.0581
Level     2,  Iter     5:    Energy =   0.0594
Level     2,  Iter     6:    Energy =   0.0609
Level     2,  Iter     7:    Energy =   0.0621
Level     2,  Iter     8:    Energy =   0.0631
Level     2,  Iter     9:    Energy =   0.0639
Level     2,  Iter    10:    Energy =   0.0646
Level     2,  Iter    11:    Energy =   0.0652
Level     2,  Iter    12:    Energy =   0.0654
Level     2,  Iter    13:    Energy =   0.0657
Level     2,  Iter    14:    Energy =   0.0656
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0661
Level     2,  Iter    17:    Energy =   0.0664
Level     2,  Iter    18:    Energy =   0.0663
Level     2,  Iter    19:    Energy =   0.0667
END OF LEVEL     2    DetJac Range:   0.0751  to   3.6358 
  Avg. Gradient Time  : 0.3162s  37.45% 
  Avg. Gaussian Time  : 0.4380s  51.89% 
  Avg. Iteration Time : 0.8442s 

real	0m28.084s
user	0m49.828s
sys	0m2.672s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 1'
CHUNK 0.611538 0.617308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 1
====================================
         PROGRESS: 0.611538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1626.03 	 OutFr   0.0000 	 RMSD     3.0048
Iter 002 	 Temp     3.72 	 Delta  1482.18 	 OutFr   0.0000 	 RMSD     1.9884
Iter 003 	 Temp     3.46 	 Delta  1353.62 	 OutFr   0.0000 	 RMSD     1.9918
Iter 004 	 Temp     3.22 	 Delta  1233.12 	 OutFr   0.0000 	 RMSD     1.9699
Iter 005 	 Temp     2.99 	 Delta  1127.50 	 OutFr   0.0000 	 RMSD     1.9465
Iter 006 	 Temp     2.78 	 Delta  1037.55 	 OutFr   0.0000 	 RMSD     1.9256
Iter 007 	 Temp     2.59 	 Delta   962.22 	 OutFr   0.0000 	 RMSD     1.9090
Iter 008 	 Temp     2.41 	 Delta   898.50 	 OutFr   0.0026 	 RMSD     1.8960
Iter 009 	 Temp     2.24 	 Delta   841.91 	 OutFr   0.0026 	 RMSD     1.8858
Iter 010 	 Temp     2.08 	 Delta   789.36 	 OutFr   0.0026 	 RMSD     1.8783
Iter 011 	 Temp     1.94 	 Delta   741.09 	 OutFr   0.0026 	 RMSD     1.8726
Iter 012 	 Temp     1.80 	 Delta   698.97 	 OutFr   0.0026 	 RMSD     1.8687
Iter 013 	 Temp     1.67 	 Delta   664.98 	 OutFr   0.0026 	 RMSD     1.8656
Iter 014 	 Temp     1.56 	 Delta   638.69 	 OutFr   0.0026 	 RMSD     1.8629
Iter 015 	 Temp     1.45 	 Delta   616.37 	 OutFr   0.0026 	 RMSD     1.8607
Iter 016 	 Temp     1.35 	 Delta   594.51 	 OutFr   0.0052 	 RMSD     1.8585
Iter 017 	 Temp     1.25 	 Delta   571.61 	 OutFr   0.0052 	 RMSD     1.8565
Iter 018 	 Temp     1.16 	 Delta   546.89 	 OutFr   0.0052 	 RMSD     1.8548
Iter 019 	 Temp     1.08 	 Delta   520.79 	 OutFr   0.0079 	 RMSD     1.8532
Iter 020 	 Temp     1.01 	 Delta   495.97 	 OutFr   0.0131 	 RMSD     1.8521
Iter 021 	 Temp     0.94 	 Delta   474.39 	 OutFr   0.0183 	 RMSD     1.8515
Iter 022 	 Temp     0.87 	 Delta   455.35 	 OutFr   0.0209 	 RMSD     1.8514
Iter 023 	 Temp     0.81 	 Delta   436.80 	 OutFr   0.0262 	 RMSD     1.8514
Iter 024 	 Temp     0.75 	 Delta   417.12 	 OutFr   0.0288 	 RMSD     1.8521
Iter 025 	 Temp     0.70 	 Delta   396.31 	 OutFr   0.0366 	 RMSD     1.8531
Iter 026 	 Temp     0.65 	 Delta   373.37 	 OutFr   0.0524 	 RMSD     1.8550
Iter 027 	 Temp     0.61 	 Delta   349.00 	 OutFr   0.0759 	 RMSD     1.8580
Iter 028 	 Temp     0.56 	 Delta   325.59 	 OutFr   0.0942 	 RMSD     1.8620
Iter 029 	 Temp     0.52 	 Delta   303.17 	 OutFr   0.1126 	 RMSD     1.8666
Iter 030 	 Temp     0.49 	 Delta   280.47 	 OutFr   0.1230 	 RMSD     1.8716
Iter 031 	 Temp     0.45 	 Delta   255.48 	 OutFr   0.1545 	 RMSD     1.8761
Iter 032 	 Temp     0.42 	 Delta   228.25 	 OutFr   0.1832 	 RMSD     1.8814
Iter 033 	 Temp     0.39 	 Delta   201.80 	 OutFr   0.2435 	 RMSD     1.8881
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.dggbmxlN/mybin.nii.gz
+ vtklevelset /tmp/ashs.dggbmxlN/mybin.nii.gz /tmp/ashs.dggbmxlN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.dggbmxlN/mymesh.vtk /tmp/ashs.dggbmxlN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2591.80723695   0.93956138
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.dggbmxlN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.4558 to -10.6885
   Y : -16.4463 to 29.0753
   Z : -31.5464 to -6.40488
   Image resolution  : 95 by 160 by 101
   Image box origin  : {-38.4558, -21.4463, -36.5464}
   Image box size    : {32.9861, 55.5555, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.4558, 21.4463, -36.5464]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -o /tmp/ashs.dggbmxlN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -o /tmp/ashs.dggbmxlN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.dggbmxlN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 0.5'
CHUNK 0.617308 0.623077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 0.5
====================================
         PROGRESS: 0.617308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.dggbmxlN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.dggbmxlN/fixed_hw.nii.gz /tmp/ashs.dggbmxlN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.522361, moving = 0.221091
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.40562, 2.3549], [0.971862, 0.982092, 0.961382]
Level     0,  Iter     0:    Energy =   0.0427
Level     0,  Iter     1:    Energy =   0.0482
Level     0,  Iter     2:    Energy =   0.0532
Level     0,  Iter     3:    Energy =   0.0575
Level     0,  Iter     4:    Energy =   0.0621
Level     0,  Iter     5:    Energy =   0.0654
Level     0,  Iter     6:    Energy =   0.0680
Level     0,  Iter     7:    Energy =   0.0700
Level     0,  Iter     8:    Energy =   0.0719
Level     0,  Iter     9:    Energy =   0.0733
Level     0,  Iter    10:    Energy =   0.0743
Level     0,  Iter    11:    Energy =   0.0753
Level     0,  Iter    12:    Energy =   0.0765
Level     0,  Iter    13:    Energy =   0.0780
Level     0,  Iter    14:    Energy =   0.0792
Level     0,  Iter    15:    Energy =   0.0801
Level     0,  Iter    16:    Energy =   0.0798
Level     0,  Iter    17:    Energy =   0.0805
Level     0,  Iter    18:    Energy =   0.0801
Level     0,  Iter    19:    Energy =   0.0810
Level     0,  Iter    20:    Energy =   0.0805
Level     0,  Iter    21:    Energy =   0.0814
Level     0,  Iter    22:    Energy =   0.0808
Level     0,  Iter    23:    Energy =   0.0816
Level     0,  Iter    24:    Energy =   0.0811
Level     0,  Iter    25:    Energy =   0.0818
Level     0,  Iter    26:    Energy =   0.0814
Level     0,  Iter    27:    Energy =   0.0821
Level     0,  Iter    28:    Energy =   0.0816
Level     0,  Iter    29:    Energy =   0.0823
Level     0,  Iter    30:    Energy =   0.0817
Level     0,  Iter    31:    Energy =   0.0825
Level     0,  Iter    32:    Energy =   0.0818
Level     0,  Iter    33:    Energy =   0.0827
Level     0,  Iter    34:    Energy =   0.0820
Level     0,  Iter    35:    Energy =   0.0828
Level     0,  Iter    36:    Energy =   0.0821
Level     0,  Iter    37:    Energy =   0.0830
Level     0,  Iter    38:    Energy =   0.0823
Level     0,  Iter    39:    Energy =   0.0831
Level     0,  Iter    40:    Energy =   0.0825
Level     0,  Iter    41:    Energy =   0.0833
Level     0,  Iter    42:    Energy =   0.0826
Level     0,  Iter    43:    Energy =   0.0833
Level     0,  Iter    44:    Energy =   0.0828
Level     0,  Iter    45:    Energy =   0.0835
Level     0,  Iter    46:    Energy =   0.0828
Level     0,  Iter    47:    Energy =   0.0836
Level     0,  Iter    48:    Energy =   0.0828
Level     0,  Iter    49:    Energy =   0.0837
Level     0,  Iter    50:    Energy =   0.0828
Level     0,  Iter    51:    Energy =   0.0836
Level     0,  Iter    52:    Energy =   0.0830
Level     0,  Iter    53:    Energy =   0.0837
Level     0,  Iter    54:    Energy =   0.0829
Level     0,  Iter    55:    Energy =   0.0837
Level     0,  Iter    56:    Energy =   0.0829
Level     0,  Iter    57:    Energy =   0.0837
Level     0,  Iter    58:    Energy =   0.0829
Level     0,  Iter    59:    Energy =   0.0837
END OF LEVEL     0    DetJac Range:   0.3397  to   2.5609 
  Avg. Gradient Time  : 0.0068s  37.72% 
  Avg. Gaussian Time  : 0.0084s  46.99% 
  Avg. Iteration Time : 0.0179s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.20054], [0.485931, 0.491046, 0.490116]
Level     1,  Iter     0:    Energy =   0.0547
Level     1,  Iter     1:    Energy =   0.0598
Level     1,  Iter     2:    Energy =   0.0633
Level     1,  Iter     3:    Energy =   0.0660
Level     1,  Iter     4:    Energy =   0.0679
Level     1,  Iter     5:    Energy =   0.0696
Level     1,  Iter     6:    Energy =   0.0714
Level     1,  Iter     7:    Energy =   0.0729
Level     1,  Iter     8:    Energy =   0.0744
Level     1,  Iter     9:    Energy =   0.0755
Level     1,  Iter    10:    Energy =   0.0759
Level     1,  Iter    11:    Energy =   0.0762
Level     1,  Iter    12:    Energy =   0.0763
Level     1,  Iter    13:    Energy =   0.0767
Level     1,  Iter    14:    Energy =   0.0769
Level     1,  Iter    15:    Energy =   0.0773
Level     1,  Iter    16:    Energy =   0.0774
Level     1,  Iter    17:    Energy =   0.0776
Level     1,  Iter    18:    Energy =   0.0777
Level     1,  Iter    19:    Energy =   0.0779
Level     1,  Iter    20:    Energy =   0.0780
Level     1,  Iter    21:    Energy =   0.0781
Level     1,  Iter    22:    Energy =   0.0782
Level     1,  Iter    23:    Energy =   0.0783
Level     1,  Iter    24:    Energy =   0.0783
Level     1,  Iter    25:    Energy =   0.0784
Level     1,  Iter    26:    Energy =   0.0784
Level     1,  Iter    27:    Energy =   0.0785
Level     1,  Iter    28:    Energy =   0.0785
Level     1,  Iter    29:    Energy =   0.0786
Level     1,  Iter    30:    Energy =   0.0786
Level     1,  Iter    31:    Energy =   0.0787
Level     1,  Iter    32:    Energy =   0.0787
Level     1,  Iter    33:    Energy =   0.0788
Level     1,  Iter    34:    Energy =   0.0788
Level     1,  Iter    35:    Energy =   0.0789
Level     1,  Iter    36:    Energy =   0.0788
Level     1,  Iter    37:    Energy =   0.0791
Level     1,  Iter    38:    Energy =   0.0789
Level     1,  Iter    39:    Energy =   0.0792
Level     1,  Iter    40:    Energy =   0.0790
Level     1,  Iter    41:    Energy =   0.0792
Level     1,  Iter    42:    Energy =   0.0790
Level     1,  Iter    43:    Energy =   0.0793
Level     1,  Iter    44:    Energy =   0.0791
Level     1,  Iter    45:    Energy =   0.0793
Level     1,  Iter    46:    Energy =   0.0791
Level     1,  Iter    47:    Energy =   0.0794
Level     1,  Iter    48:    Energy =   0.0792
Level     1,  Iter    49:    Energy =   0.0795
Level     1,  Iter    50:    Energy =   0.0793
Level     1,  Iter    51:    Energy =   0.0795
Level     1,  Iter    52:    Energy =   0.0793
Level     1,  Iter    53:    Energy =   0.0795
Level     1,  Iter    54:    Energy =   0.0793
Level     1,  Iter    55:    Energy =   0.0796
Level     1,  Iter    56:    Energy =   0.0793
Level     1,  Iter    57:    Energy =   0.0797
Level     1,  Iter    58:    Energy =   0.0794
Level     1,  Iter    59:    Energy =   0.0797
END OF LEVEL     1    DetJac Range:   0.2013  to   3.4234 
  Avg. Gradient Time  : 0.0385s  40.29% 
  Avg. Gaussian Time  : 0.0455s  47.68% 
  Avg. Iteration Time : 0.0955s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0418
Level     2,  Iter     1:    Energy =   0.0440
Level     2,  Iter     2:    Energy =   0.0462
Level     2,  Iter     3:    Energy =   0.0481
Level     2,  Iter     4:    Energy =   0.0495
Level     2,  Iter     5:    Energy =   0.0506
Level     2,  Iter     6:    Energy =   0.0517
Level     2,  Iter     7:    Energy =   0.0529
Level     2,  Iter     8:    Energy =   0.0538
Level     2,  Iter     9:    Energy =   0.0548
Level     2,  Iter    10:    Energy =   0.0557
Level     2,  Iter    11:    Energy =   0.0563
Level     2,  Iter    12:    Energy =   0.0569
Level     2,  Iter    13:    Energy =   0.0574
Level     2,  Iter    14:    Energy =   0.0578
Level     2,  Iter    15:    Energy =   0.0582
Level     2,  Iter    16:    Energy =   0.0585
Level     2,  Iter    17:    Energy =   0.0588
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0595
END OF LEVEL     2    DetJac Range:   0.1313  to   4.7762 
  Avg. Gradient Time  : 0.2530s  37.81% 
  Avg. Gaussian Time  : 0.3458s  51.68% 
  Avg. Iteration Time : 0.6691s 

real	0m22.871s
user	0m40.292s
sys	0m2.312s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 1'
CHUNK 0.617308 0.623077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 1
====================================
         PROGRESS: 0.617308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1380.44 	 OutFr   0.0000 	 RMSD     2.3299
Iter 002 	 Temp     3.72 	 Delta  1371.10 	 OutFr   0.0000 	 RMSD     1.8943
Iter 003 	 Temp     3.46 	 Delta  1290.66 	 OutFr   0.0000 	 RMSD     1.9108
Iter 004 	 Temp     3.22 	 Delta  1196.95 	 OutFr   0.0000 	 RMSD     1.8804
Iter 005 	 Temp     2.99 	 Delta  1103.92 	 OutFr   0.0000 	 RMSD     1.8473
Iter 006 	 Temp     2.78 	 Delta  1015.31 	 OutFr   0.0000 	 RMSD     1.8182
Iter 007 	 Temp     2.59 	 Delta   932.64 	 OutFr   0.0000 	 RMSD     1.7939
Iter 008 	 Temp     2.41 	 Delta   856.57 	 OutFr   0.0000 	 RMSD     1.7739
Iter 009 	 Temp     2.24 	 Delta   787.09 	 OutFr   0.0000 	 RMSD     1.7585
Iter 010 	 Temp     2.08 	 Delta   724.40 	 OutFr   0.0000 	 RMSD     1.7462
Iter 011 	 Temp     1.94 	 Delta   669.61 	 OutFr   0.0000 	 RMSD     1.7364
Iter 012 	 Temp     1.80 	 Delta   625.34 	 OutFr   0.0052 	 RMSD     1.7291
Iter 013 	 Temp     1.67 	 Delta   592.42 	 OutFr   0.0052 	 RMSD     1.7241
Iter 014 	 Temp     1.56 	 Delta   568.08 	 OutFr   0.0052 	 RMSD     1.7210
Iter 015 	 Temp     1.45 	 Delta   547.56 	 OutFr   0.0079 	 RMSD     1.7195
Iter 016 	 Temp     1.35 	 Delta   528.40 	 OutFr   0.0157 	 RMSD     1.7191
Iter 017 	 Temp     1.25 	 Delta   511.09 	 OutFr   0.0157 	 RMSD     1.7193
Iter 018 	 Temp     1.16 	 Delta   494.82 	 OutFr   0.0157 	 RMSD     1.7198
Iter 019 	 Temp     1.08 	 Delta   478.77 	 OutFr   0.0157 	 RMSD     1.7205
Iter 020 	 Temp     1.01 	 Delta   462.76 	 OutFr   0.0183 	 RMSD     1.7211
Iter 021 	 Temp     0.94 	 Delta   446.74 	 OutFr   0.0183 	 RMSD     1.7217
Iter 022 	 Temp     0.87 	 Delta   430.48 	 OutFr   0.0236 	 RMSD     1.7218
Iter 023 	 Temp     0.81 	 Delta   413.83 	 OutFr   0.0262 	 RMSD     1.7218
Iter 024 	 Temp     0.75 	 Delta   396.88 	 OutFr   0.0288 	 RMSD     1.7217
Iter 025 	 Temp     0.70 	 Delta   380.20 	 OutFr   0.0340 	 RMSD     1.7213
Iter 026 	 Temp     0.65 	 Delta   363.74 	 OutFr   0.0393 	 RMSD     1.7215
Iter 027 	 Temp     0.61 	 Delta   345.89 	 OutFr   0.0576 	 RMSD     1.7235
Iter 028 	 Temp     0.56 	 Delta   325.75 	 OutFr   0.0890 	 RMSD     1.7277
Iter 029 	 Temp     0.52 	 Delta   302.56 	 OutFr   0.1047 	 RMSD     1.7328
Iter 030 	 Temp     0.49 	 Delta   281.94 	 OutFr   0.1178 	 RMSD     1.7391
Iter 031 	 Temp     0.45 	 Delta   260.06 	 OutFr   0.1414 	 RMSD     1.7465
Iter 032 	 Temp     0.42 	 Delta   234.52 	 OutFr   0.1780 	 RMSD     1.7529
Iter 033 	 Temp     0.39 	 Delta   207.52 	 OutFr   0.2225 	 RMSD     1.7593
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.q47xWyhg/mybin.nii.gz
+ vtklevelset /tmp/ashs.q47xWyhg/mybin.nii.gz /tmp/ashs.q47xWyhg/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.q47xWyhg/mymesh.vtk /tmp/ashs.q47xWyhg/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2560.27866163   0.92813189
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.q47xWyhg/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.2464 to -9.09754
   Y : -15.1645 to 30.1815
   Z : -27.5277 to 0.226781
   Image resolution  : 93 by 160 by 108
   Image box origin  : {-36.2464, -20.1645, -32.5277}
   Image box size    : {32.2916, 55.5555, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.2464, 20.1645, -32.5277]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -o /tmp/ashs.q47xWyhg/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -o /tmp/ashs.q47xWyhg/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.q47xWyhg/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 0.5'
CHUNK 0.623077 0.628846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 0.5
====================================
         PROGRESS: 0.623077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.q47xWyhg/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.q47xWyhg/fixed_hw.nii.gz /tmp/ashs.q47xWyhg/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.51289, moving = 0.612192
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.40562, 2.42484], [0.951402, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0601
Level     0,  Iter     1:    Energy =   0.0679
Level     0,  Iter     2:    Energy =   0.0744
Level     0,  Iter     3:    Energy =   0.0784
Level     0,  Iter     4:    Energy =   0.0824
Level     0,  Iter     5:    Energy =   0.0850
Level     0,  Iter     6:    Energy =   0.0872
Level     0,  Iter     7:    Energy =   0.0889
Level     0,  Iter     8:    Energy =   0.0906
Level     0,  Iter     9:    Energy =   0.0920
Level     0,  Iter    10:    Energy =   0.0929
Level     0,  Iter    11:    Energy =   0.0935
Level     0,  Iter    12:    Energy =   0.0938
Level     0,  Iter    13:    Energy =   0.0940
Level     0,  Iter    14:    Energy =   0.0940
Level     0,  Iter    15:    Energy =   0.0941
Level     0,  Iter    16:    Energy =   0.0941
Level     0,  Iter    17:    Energy =   0.0942
Level     0,  Iter    18:    Energy =   0.0942
Level     0,  Iter    19:    Energy =   0.0944
Level     0,  Iter    20:    Energy =   0.0944
Level     0,  Iter    21:    Energy =   0.0946
Level     0,  Iter    22:    Energy =   0.0945
Level     0,  Iter    23:    Energy =   0.0947
Level     0,  Iter    24:    Energy =   0.0948
Level     0,  Iter    25:    Energy =   0.0949
Level     0,  Iter    26:    Energy =   0.0949
Level     0,  Iter    27:    Energy =   0.0950
Level     0,  Iter    28:    Energy =   0.0951
Level     0,  Iter    29:    Energy =   0.0952
Level     0,  Iter    30:    Energy =   0.0954
Level     0,  Iter    31:    Energy =   0.0954
Level     0,  Iter    32:    Energy =   0.0953
Level     0,  Iter    33:    Energy =   0.0953
Level     0,  Iter    34:    Energy =   0.0953
Level     0,  Iter    35:    Energy =   0.0954
Level     0,  Iter    36:    Energy =   0.0955
Level     0,  Iter    37:    Energy =   0.0955
Level     0,  Iter    38:    Energy =   0.0955
Level     0,  Iter    39:    Energy =   0.0955
Level     0,  Iter    40:    Energy =   0.0955
Level     0,  Iter    41:    Energy =   0.0956
Level     0,  Iter    42:    Energy =   0.0956
Level     0,  Iter    43:    Energy =   0.0957
Level     0,  Iter    44:    Energy =   0.0956
Level     0,  Iter    45:    Energy =   0.0956
Level     0,  Iter    46:    Energy =   0.0956
Level     0,  Iter    47:    Energy =   0.0956
Level     0,  Iter    48:    Energy =   0.0956
Level     0,  Iter    49:    Energy =   0.0956
Level     0,  Iter    50:    Energy =   0.0955
Level     0,  Iter    51:    Energy =   0.0956
Level     0,  Iter    52:    Energy =   0.0955
Level     0,  Iter    53:    Energy =   0.0956
Level     0,  Iter    54:    Energy =   0.0955
Level     0,  Iter    55:    Energy =   0.0956
Level     0,  Iter    56:    Energy =   0.0955
Level     0,  Iter    57:    Energy =   0.0956
Level     0,  Iter    58:    Energy =   0.0954
Level     0,  Iter    59:    Energy =   0.0956
END OF LEVEL     0    DetJac Range:   0.2628  to   2.4564 
  Avg. Gradient Time  : 0.0070s  37.60% 
  Avg. Gaussian Time  : 0.0088s  47.30% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.21242], [0.485822, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0673
Level     1,  Iter     1:    Energy =   0.0716
Level     1,  Iter     2:    Energy =   0.0747
Level     1,  Iter     3:    Energy =   0.0774
Level     1,  Iter     4:    Energy =   0.0797
Level     1,  Iter     5:    Energy =   0.0815
Level     1,  Iter     6:    Energy =   0.0833
Level     1,  Iter     7:    Energy =   0.0848
Level     1,  Iter     8:    Energy =   0.0859
Level     1,  Iter     9:    Energy =   0.0870
Level     1,  Iter    10:    Energy =   0.0879
Level     1,  Iter    11:    Energy =   0.0885
Level     1,  Iter    12:    Energy =   0.0887
Level     1,  Iter    13:    Energy =   0.0889
Level     1,  Iter    14:    Energy =   0.0890
Level     1,  Iter    15:    Energy =   0.0892
Level     1,  Iter    16:    Energy =   0.0892
Level     1,  Iter    17:    Energy =   0.0895
Level     1,  Iter    18:    Energy =   0.0894
Level     1,  Iter    19:    Energy =   0.0898
Level     1,  Iter    20:    Energy =   0.0898
Level     1,  Iter    21:    Energy =   0.0902
Level     1,  Iter    22:    Energy =   0.0900
Level     1,  Iter    23:    Energy =   0.0904
Level     1,  Iter    24:    Energy =   0.0903
Level     1,  Iter    25:    Energy =   0.0906
Level     1,  Iter    26:    Energy =   0.0905
Level     1,  Iter    27:    Energy =   0.0908
Level     1,  Iter    28:    Energy =   0.0906
Level     1,  Iter    29:    Energy =   0.0909
Level     1,  Iter    30:    Energy =   0.0908
Level     1,  Iter    31:    Energy =   0.0910
Level     1,  Iter    32:    Energy =   0.0909
Level     1,  Iter    33:    Energy =   0.0911
Level     1,  Iter    34:    Energy =   0.0910
Level     1,  Iter    35:    Energy =   0.0912
Level     1,  Iter    36:    Energy =   0.0910
Level     1,  Iter    37:    Energy =   0.0913
Level     1,  Iter    38:    Energy =   0.0911
Level     1,  Iter    39:    Energy =   0.0913
Level     1,  Iter    40:    Energy =   0.0911
Level     1,  Iter    41:    Energy =   0.0913
Level     1,  Iter    42:    Energy =   0.0912
Level     1,  Iter    43:    Energy =   0.0914
Level     1,  Iter    44:    Energy =   0.0912
Level     1,  Iter    45:    Energy =   0.0914
Level     1,  Iter    46:    Energy =   0.0913
Level     1,  Iter    47:    Energy =   0.0915
Level     1,  Iter    48:    Energy =   0.0913
Level     1,  Iter    49:    Energy =   0.0915
Level     1,  Iter    50:    Energy =   0.0914
Level     1,  Iter    51:    Energy =   0.0915
Level     1,  Iter    52:    Energy =   0.0914
Level     1,  Iter    53:    Energy =   0.0915
Level     1,  Iter    54:    Energy =   0.0914
Level     1,  Iter    55:    Energy =   0.0916
Level     1,  Iter    56:    Energy =   0.0914
Level     1,  Iter    57:    Energy =   0.0916
Level     1,  Iter    58:    Energy =   0.0915
Level     1,  Iter    59:    Energy =   0.0916
END OF LEVEL     1    DetJac Range:   0.2602  to   2.9293 
  Avg. Gradient Time  : 0.0398s  40.16% 
  Avg. Gaussian Time  : 0.0474s  47.73% 
  Avg. Iteration Time : 0.0992s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0495
Level     2,  Iter     1:    Energy =   0.0520
Level     2,  Iter     2:    Energy =   0.0543
Level     2,  Iter     3:    Energy =   0.0560
Level     2,  Iter     4:    Energy =   0.0575
Level     2,  Iter     5:    Energy =   0.0587
Level     2,  Iter     6:    Energy =   0.0598
Level     2,  Iter     7:    Energy =   0.0607
Level     2,  Iter     8:    Energy =   0.0615
Level     2,  Iter     9:    Energy =   0.0622
Level     2,  Iter    10:    Energy =   0.0629
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0640
Level     2,  Iter    13:    Energy =   0.0644
Level     2,  Iter    14:    Energy =   0.0648
Level     2,  Iter    15:    Energy =   0.0652
Level     2,  Iter    16:    Energy =   0.0655
Level     2,  Iter    17:    Energy =   0.0656
Level     2,  Iter    18:    Energy =   0.0655
Level     2,  Iter    19:    Energy =   0.0657
END OF LEVEL     2    DetJac Range:   0.1188  to   4.7266 
  Avg. Gradient Time  : 0.2834s  37.35% 
  Avg. Gaussian Time  : 0.3931s  51.80% 
  Avg. Iteration Time : 0.7588s 

real	0m25.219s
user	0m44.428s
sys	0m2.708s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 1'
CHUNK 0.623077 0.628846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 1
====================================
         PROGRESS: 0.623077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2146.77 	 OutFr   0.0000 	 RMSD     2.6725
Iter 002 	 Temp     3.72 	 Delta  2008.55 	 OutFr   0.0000 	 RMSD     2.1970
Iter 003 	 Temp     3.46 	 Delta  1897.79 	 OutFr   0.0000 	 RMSD     2.1582
Iter 004 	 Temp     3.22 	 Delta  1791.65 	 OutFr   0.0000 	 RMSD     2.1329
Iter 005 	 Temp     2.99 	 Delta  1693.87 	 OutFr   0.0000 	 RMSD     2.1131
Iter 006 	 Temp     2.78 	 Delta  1604.81 	 OutFr   0.0000 	 RMSD     2.0975
Iter 007 	 Temp     2.59 	 Delta  1522.09 	 OutFr   0.0000 	 RMSD     2.0851
Iter 008 	 Temp     2.41 	 Delta  1439.74 	 OutFr   0.0000 	 RMSD     2.0752
Iter 009 	 Temp     2.24 	 Delta  1353.14 	 OutFr   0.0000 	 RMSD     2.0668
Iter 010 	 Temp     2.08 	 Delta  1269.26 	 OutFr   0.0000 	 RMSD     2.0602
Iter 011 	 Temp     1.94 	 Delta  1197.58 	 OutFr   0.0026 	 RMSD     2.0554
Iter 012 	 Temp     1.80 	 Delta  1135.09 	 OutFr   0.0079 	 RMSD     2.0527
Iter 013 	 Temp     1.67 	 Delta  1075.77 	 OutFr   0.0079 	 RMSD     2.0515
Iter 014 	 Temp     1.56 	 Delta  1016.37 	 OutFr   0.0105 	 RMSD     2.0511
Iter 015 	 Temp     1.45 	 Delta   956.09 	 OutFr   0.0157 	 RMSD     2.0507
Iter 016 	 Temp     1.35 	 Delta   896.52 	 OutFr   0.0183 	 RMSD     2.0504
Iter 017 	 Temp     1.25 	 Delta   840.55 	 OutFr   0.0288 	 RMSD     2.0499
Iter 018 	 Temp     1.16 	 Delta   789.41 	 OutFr   0.0288 	 RMSD     2.0490
Iter 019 	 Temp     1.08 	 Delta   741.49 	 OutFr   0.0366 	 RMSD     2.0480
Iter 020 	 Temp     1.01 	 Delta   695.33 	 OutFr   0.0419 	 RMSD     2.0467
Iter 021 	 Temp     0.94 	 Delta   650.62 	 OutFr   0.0524 	 RMSD     2.0447
Iter 022 	 Temp     0.87 	 Delta   607.19 	 OutFr   0.0550 	 RMSD     2.0428
Iter 023 	 Temp     0.81 	 Delta   565.71 	 OutFr   0.0707 	 RMSD     2.0410
Iter 024 	 Temp     0.75 	 Delta   526.12 	 OutFr   0.0785 	 RMSD     2.0395
Iter 025 	 Temp     0.70 	 Delta   487.75 	 OutFr   0.0969 	 RMSD     2.0384
Iter 026 	 Temp     0.65 	 Delta   449.94 	 OutFr   0.1178 	 RMSD     2.0377
Iter 027 	 Temp     0.61 	 Delta   412.17 	 OutFr   0.1335 	 RMSD     2.0376
Iter 028 	 Temp     0.56 	 Delta   374.80 	 OutFr   0.1492 	 RMSD     2.0371
Iter 029 	 Temp     0.52 	 Delta   338.68 	 OutFr   0.1806 	 RMSD     2.0368
Iter 030 	 Temp     0.49 	 Delta   304.34 	 OutFr   0.2094 	 RMSD     2.0364
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sXyf3DHY/mybin.nii.gz
+ vtklevelset /tmp/ashs.sXyf3DHY/mybin.nii.gz /tmp/ashs.sXyf3DHY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sXyf3DHY/mymesh.vtk /tmp/ashs.sXyf3DHY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2859.63233328   1.03665121
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sXyf3DHY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.0499 to -9.6431
   Y : -14.9668 to 32.7083
   Z : -13.7675 to 17.4549
   Image resolution  : 94 by 167 by 118
   Image box origin  : {-37.0499, -19.9668, -18.7675}
   Image box size    : {32.6389, 57.9861, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.0499, 19.9668, -18.7675]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -o /tmp/ashs.sXyf3DHY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -o /tmp/ashs.sXyf3DHY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sXyf3DHY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 0.5'
CHUNK 0.628846 0.634615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 0.5
====================================
         PROGRESS: 0.628846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sXyf3DHY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sXyf3DHY/fixed_hw.nii.gz /tmp/ashs.sXyf3DHY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.523412, moving = 0.665516
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.39131, 2.38443], [0.961632, 0.976246, 0.973439]
Level     0,  Iter     0:    Energy =   0.0302
Level     0,  Iter     1:    Energy =   0.0365
Level     0,  Iter     2:    Energy =   0.0420
Level     0,  Iter     3:    Energy =   0.0473
Level     0,  Iter     4:    Energy =   0.0512
Level     0,  Iter     5:    Energy =   0.0547
Level     0,  Iter     6:    Energy =   0.0583
Level     0,  Iter     7:    Energy =   0.0608
Level     0,  Iter     8:    Energy =   0.0629
Level     0,  Iter     9:    Energy =   0.0644
Level     0,  Iter    10:    Energy =   0.0660
Level     0,  Iter    11:    Energy =   0.0677
Level     0,  Iter    12:    Energy =   0.0700
Level     0,  Iter    13:    Energy =   0.0722
Level     0,  Iter    14:    Energy =   0.0728
Level     0,  Iter    15:    Energy =   0.0731
Level     0,  Iter    16:    Energy =   0.0733
Level     0,  Iter    17:    Energy =   0.0736
Level     0,  Iter    18:    Energy =   0.0738
Level     0,  Iter    19:    Energy =   0.0740
Level     0,  Iter    20:    Energy =   0.0743
Level     0,  Iter    21:    Energy =   0.0745
Level     0,  Iter    22:    Energy =   0.0748
Level     0,  Iter    23:    Energy =   0.0749
Level     0,  Iter    24:    Energy =   0.0753
Level     0,  Iter    25:    Energy =   0.0753
Level     0,  Iter    26:    Energy =   0.0757
Level     0,  Iter    27:    Energy =   0.0757
Level     0,  Iter    28:    Energy =   0.0760
Level     0,  Iter    29:    Energy =   0.0760
Level     0,  Iter    30:    Energy =   0.0763
Level     0,  Iter    31:    Energy =   0.0762
Level     0,  Iter    32:    Energy =   0.0766
Level     0,  Iter    33:    Energy =   0.0767
Level     0,  Iter    34:    Energy =   0.0770
Level     0,  Iter    35:    Energy =   0.0772
Level     0,  Iter    36:    Energy =   0.0775
Level     0,  Iter    37:    Energy =   0.0775
Level     0,  Iter    38:    Energy =   0.0779
Level     0,  Iter    39:    Energy =   0.0778
Level     0,  Iter    40:    Energy =   0.0780
Level     0,  Iter    41:    Energy =   0.0777
Level     0,  Iter    42:    Energy =   0.0780
Level     0,  Iter    43:    Energy =   0.0777
Level     0,  Iter    44:    Energy =   0.0779
Level     0,  Iter    45:    Energy =   0.0777
Level     0,  Iter    46:    Energy =   0.0780
Level     0,  Iter    47:    Energy =   0.0778
Level     0,  Iter    48:    Energy =   0.0781
Level     0,  Iter    49:    Energy =   0.0780
Level     0,  Iter    50:    Energy =   0.0784
Level     0,  Iter    51:    Energy =   0.0783
Level     0,  Iter    52:    Energy =   0.0786
Level     0,  Iter    53:    Energy =   0.0785
Level     0,  Iter    54:    Energy =   0.0788
Level     0,  Iter    55:    Energy =   0.0787
Level     0,  Iter    56:    Energy =   0.0788
Level     0,  Iter    57:    Energy =   0.0788
Level     0,  Iter    58:    Energy =   0.0790
Level     0,  Iter    59:    Energy =   0.0789
END OF LEVEL     0    DetJac Range:   0.4114  to   3.0026 
  Avg. Gradient Time  : 0.0079s  38.30% 
  Avg. Gaussian Time  : 0.0096s  46.60% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19565, 1.21242], [0.491046, 0.488123, 0.494969]
Level     1,  Iter     0:    Energy =   0.0517
Level     1,  Iter     1:    Energy =   0.0555
Level     1,  Iter     2:    Energy =   0.0585
Level     1,  Iter     3:    Energy =   0.0609
Level     1,  Iter     4:    Energy =   0.0631
Level     1,  Iter     5:    Energy =   0.0651
Level     1,  Iter     6:    Energy =   0.0668
Level     1,  Iter     7:    Energy =   0.0682
Level     1,  Iter     8:    Energy =   0.0697
Level     1,  Iter     9:    Energy =   0.0711
Level     1,  Iter    10:    Energy =   0.0722
Level     1,  Iter    11:    Energy =   0.0732
Level     1,  Iter    12:    Energy =   0.0730
Level     1,  Iter    13:    Energy =   0.0737
Level     1,  Iter    14:    Energy =   0.0738
Level     1,  Iter    15:    Energy =   0.0740
Level     1,  Iter    16:    Energy =   0.0739
Level     1,  Iter    17:    Energy =   0.0743
Level     1,  Iter    18:    Energy =   0.0742
Level     1,  Iter    19:    Energy =   0.0746
Level     1,  Iter    20:    Energy =   0.0745
Level     1,  Iter    21:    Energy =   0.0748
Level     1,  Iter    22:    Energy =   0.0748
Level     1,  Iter    23:    Energy =   0.0750
Level     1,  Iter    24:    Energy =   0.0750
Level     1,  Iter    25:    Energy =   0.0751
Level     1,  Iter    26:    Energy =   0.0751
Level     1,  Iter    27:    Energy =   0.0751
Level     1,  Iter    28:    Energy =   0.0752
Level     1,  Iter    29:    Energy =   0.0752
Level     1,  Iter    30:    Energy =   0.0754
Level     1,  Iter    31:    Energy =   0.0753
Level     1,  Iter    32:    Energy =   0.0755
Level     1,  Iter    33:    Energy =   0.0755
Level     1,  Iter    34:    Energy =   0.0756
Level     1,  Iter    35:    Energy =   0.0756
Level     1,  Iter    36:    Energy =   0.0757
Level     1,  Iter    37:    Energy =   0.0757
Level     1,  Iter    38:    Energy =   0.0759
Level     1,  Iter    39:    Energy =   0.0758
Level     1,  Iter    40:    Energy =   0.0760
Level     1,  Iter    41:    Energy =   0.0759
Level     1,  Iter    42:    Energy =   0.0760
Level     1,  Iter    43:    Energy =   0.0760
Level     1,  Iter    44:    Energy =   0.0761
Level     1,  Iter    45:    Energy =   0.0760
Level     1,  Iter    46:    Energy =   0.0761
Level     1,  Iter    47:    Energy =   0.0761
Level     1,  Iter    48:    Energy =   0.0762
Level     1,  Iter    49:    Energy =   0.0762
Level     1,  Iter    50:    Energy =   0.0763
Level     1,  Iter    51:    Energy =   0.0762
Level     1,  Iter    52:    Energy =   0.0763
Level     1,  Iter    53:    Energy =   0.0763
Level     1,  Iter    54:    Energy =   0.0764
Level     1,  Iter    55:    Energy =   0.0763
Level     1,  Iter    56:    Energy =   0.0765
Level     1,  Iter    57:    Energy =   0.0764
Level     1,  Iter    58:    Energy =   0.0766
Level     1,  Iter    59:    Energy =   0.0764
END OF LEVEL     1    DetJac Range:   0.2296  to   4.1184 
  Avg. Gradient Time  : 0.0452s  39.97% 
  Avg. Gaussian Time  : 0.0544s  48.10% 
  Avg. Iteration Time : 0.1131s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0399
Level     2,  Iter     1:    Energy =   0.0426
Level     2,  Iter     2:    Energy =   0.0447
Level     2,  Iter     3:    Energy =   0.0461
Level     2,  Iter     4:    Energy =   0.0472
Level     2,  Iter     5:    Energy =   0.0482
Level     2,  Iter     6:    Energy =   0.0492
Level     2,  Iter     7:    Energy =   0.0503
Level     2,  Iter     8:    Energy =   0.0514
Level     2,  Iter     9:    Energy =   0.0524
Level     2,  Iter    10:    Energy =   0.0534
Level     2,  Iter    11:    Energy =   0.0543
Level     2,  Iter    12:    Energy =   0.0551
Level     2,  Iter    13:    Energy =   0.0559
Level     2,  Iter    14:    Energy =   0.0565
Level     2,  Iter    15:    Energy =   0.0569
Level     2,  Iter    16:    Energy =   0.0572
Level     2,  Iter    17:    Energy =   0.0575
Level     2,  Iter    18:    Energy =   0.0577
Level     2,  Iter    19:    Energy =   0.0580
END OF LEVEL     2    DetJac Range:   0.0661  to   6.4514 
  Avg. Gradient Time  : 0.3294s  37.53% 
  Avg. Gaussian Time  : 0.4536s  51.70% 
  Avg. Iteration Time : 0.8775s 

real	0m29.025s
user	0m51.328s
sys	0m2.940s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 1'
CHUNK 0.628846 0.634615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 1
====================================
         PROGRESS: 0.628846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1260.89 	 OutFr   0.0000 	 RMSD     2.1677
Iter 002 	 Temp     3.72 	 Delta  1268.70 	 OutFr   0.0000 	 RMSD     1.8156
Iter 003 	 Temp     3.46 	 Delta  1181.83 	 OutFr   0.0000 	 RMSD     1.8562
Iter 004 	 Temp     3.22 	 Delta  1089.42 	 OutFr   0.0000 	 RMSD     1.8339
Iter 005 	 Temp     2.99 	 Delta  1002.91 	 OutFr   0.0000 	 RMSD     1.8042
Iter 006 	 Temp     2.78 	 Delta   924.72 	 OutFr   0.0000 	 RMSD     1.7757
Iter 007 	 Temp     2.59 	 Delta   856.37 	 OutFr   0.0000 	 RMSD     1.7509
Iter 008 	 Temp     2.41 	 Delta   798.66 	 OutFr   0.0000 	 RMSD     1.7304
Iter 009 	 Temp     2.24 	 Delta   751.31 	 OutFr   0.0000 	 RMSD     1.7140
Iter 010 	 Temp     2.08 	 Delta   712.77 	 OutFr   0.0000 	 RMSD     1.6999
Iter 011 	 Temp     1.94 	 Delta   680.68 	 OutFr   0.0000 	 RMSD     1.6882
Iter 012 	 Temp     1.80 	 Delta   652.64 	 OutFr   0.0000 	 RMSD     1.6781
Iter 013 	 Temp     1.67 	 Delta   626.40 	 OutFr   0.0026 	 RMSD     1.6698
Iter 014 	 Temp     1.56 	 Delta   599.82 	 OutFr   0.0026 	 RMSD     1.6620
Iter 015 	 Temp     1.45 	 Delta   572.36 	 OutFr   0.0026 	 RMSD     1.6550
Iter 016 	 Temp     1.35 	 Delta   546.14 	 OutFr   0.0052 	 RMSD     1.6489
Iter 017 	 Temp     1.25 	 Delta   522.03 	 OutFr   0.0052 	 RMSD     1.6433
Iter 018 	 Temp     1.16 	 Delta   498.36 	 OutFr   0.0079 	 RMSD     1.6382
Iter 019 	 Temp     1.08 	 Delta   474.23 	 OutFr   0.0105 	 RMSD     1.6335
Iter 020 	 Temp     1.01 	 Delta   449.15 	 OutFr   0.0209 	 RMSD     1.6291
Iter 021 	 Temp     0.94 	 Delta   423.07 	 OutFr   0.0209 	 RMSD     1.6254
Iter 022 	 Temp     0.87 	 Delta   397.18 	 OutFr   0.0366 	 RMSD     1.6222
Iter 023 	 Temp     0.81 	 Delta   373.10 	 OutFr   0.0471 	 RMSD     1.6198
Iter 024 	 Temp     0.75 	 Delta   351.78 	 OutFr   0.0576 	 RMSD     1.6182
Iter 025 	 Temp     0.70 	 Delta   333.31 	 OutFr   0.0759 	 RMSD     1.6169
Iter 026 	 Temp     0.65 	 Delta   316.69 	 OutFr   0.0812 	 RMSD     1.6156
Iter 027 	 Temp     0.61 	 Delta   299.28 	 OutFr   0.0942 	 RMSD     1.6143
Iter 028 	 Temp     0.56 	 Delta   280.44 	 OutFr   0.0995 	 RMSD     1.6127
Iter 029 	 Temp     0.52 	 Delta   261.96 	 OutFr   0.1126 	 RMSD     1.6119
Iter 030 	 Temp     0.49 	 Delta   245.50 	 OutFr   0.1283 	 RMSD     1.6118
Iter 031 	 Temp     0.45 	 Delta   228.08 	 OutFr   0.1623 	 RMSD     1.6121
Iter 032 	 Temp     0.42 	 Delta   209.03 	 OutFr   0.1832 	 RMSD     1.6132
Iter 033 	 Temp     0.39 	 Delta   189.17 	 OutFr   0.2173 	 RMSD     1.6152
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ucQC7mH2/mybin.nii.gz
+ vtklevelset /tmp/ashs.ucQC7mH2/mybin.nii.gz /tmp/ashs.ucQC7mH2/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ucQC7mH2/mymesh.vtk /tmp/ashs.ucQC7mH2/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2596.10005140   0.94111758
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ucQC7mH2/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.6174 to -13.7758
   Y : -14.2267 to 30.696
   Z : -25.4612 to 3.81525
   Image resolution  : 89 by 159 by 113
   Image box origin  : {-39.6174, -19.2267, -30.4612}
   Image box size    : {30.9028, 55.2083, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.6174, 19.2267, -30.4612]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -o /tmp/ashs.ucQC7mH2/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -o /tmp/ashs.ucQC7mH2/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ucQC7mH2/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 0.5'
CHUNK 0.634615 0.640385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 0.5
====================================
         PROGRESS: 0.634615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ucQC7mH2/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ucQC7mH2/fixed_hw.nii.gz /tmp/ashs.ucQC7mH2/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.495913, moving = 0.508361
LEVEL 1 of 3
  Smoothing sigmas: [2.32718, 2.39059, 2.36213], [0.950067, 0.975954, 0.964336]
Level     0,  Iter     0:    Energy =   0.0497
Level     0,  Iter     1:    Energy =   0.0578
Level     0,  Iter     2:    Energy =   0.0648
Level     0,  Iter     3:    Energy =   0.0688
Level     0,  Iter     4:    Energy =   0.0723
Level     0,  Iter     5:    Energy =   0.0748
Level     0,  Iter     6:    Energy =   0.0767
Level     0,  Iter     7:    Energy =   0.0785
Level     0,  Iter     8:    Energy =   0.0801
Level     0,  Iter     9:    Energy =   0.0821
Level     0,  Iter    10:    Energy =   0.0833
Level     0,  Iter    11:    Energy =   0.0847
Level     0,  Iter    12:    Energy =   0.0856
Level     0,  Iter    13:    Energy =   0.0868
Level     0,  Iter    14:    Energy =   0.0874
Level     0,  Iter    15:    Energy =   0.0884
Level     0,  Iter    16:    Energy =   0.0884
Level     0,  Iter    17:    Energy =   0.0888
Level     0,  Iter    18:    Energy =   0.0884
Level     0,  Iter    19:    Energy =   0.0889
Level     0,  Iter    20:    Energy =   0.0888
Level     0,  Iter    21:    Energy =   0.0893
Level     0,  Iter    22:    Energy =   0.0889
Level     0,  Iter    23:    Energy =   0.0894
Level     0,  Iter    24:    Energy =   0.0892
Level     0,  Iter    25:    Energy =   0.0897
Level     0,  Iter    26:    Energy =   0.0895
Level     0,  Iter    27:    Energy =   0.0899
Level     0,  Iter    28:    Energy =   0.0896
Level     0,  Iter    29:    Energy =   0.0901
Level     0,  Iter    30:    Energy =   0.0898
Level     0,  Iter    31:    Energy =   0.0903
Level     0,  Iter    32:    Energy =   0.0899
Level     0,  Iter    33:    Energy =   0.0903
Level     0,  Iter    34:    Energy =   0.0900
Level     0,  Iter    35:    Energy =   0.0904
Level     0,  Iter    36:    Energy =   0.0901
Level     0,  Iter    37:    Energy =   0.0905
Level     0,  Iter    38:    Energy =   0.0901
Level     0,  Iter    39:    Energy =   0.0905
Level     0,  Iter    40:    Energy =   0.0902
Level     0,  Iter    41:    Energy =   0.0907
Level     0,  Iter    42:    Energy =   0.0902
Level     0,  Iter    43:    Energy =   0.0906
Level     0,  Iter    44:    Energy =   0.0902
Level     0,  Iter    45:    Energy =   0.0906
Level     0,  Iter    46:    Energy =   0.0901
Level     0,  Iter    47:    Energy =   0.0905
Level     0,  Iter    48:    Energy =   0.0903
Level     0,  Iter    49:    Energy =   0.0907
Level     0,  Iter    50:    Energy =   0.0901
Level     0,  Iter    51:    Energy =   0.0906
Level     0,  Iter    52:    Energy =   0.0903
Level     0,  Iter    53:    Energy =   0.0907
Level     0,  Iter    54:    Energy =   0.0902
Level     0,  Iter    55:    Energy =   0.0906
Level     0,  Iter    56:    Energy =   0.0904
Level     0,  Iter    57:    Energy =   0.0908
Level     0,  Iter    58:    Energy =   0.0902
Level     0,  Iter    59:    Energy =   0.0907
END OF LEVEL     0    DetJac Range:   0.2314  to   2.0863 
  Avg. Gradient Time  : 0.0073s  37.56% 
  Avg. Gaussian Time  : 0.0092s  47.21% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.18945, 1.19529, 1.20179], [0.48559, 0.487977, 0.490627]
Level     1,  Iter     0:    Energy =   0.0588
Level     1,  Iter     1:    Energy =   0.0633
Level     1,  Iter     2:    Energy =   0.0668
Level     1,  Iter     3:    Energy =   0.0699
Level     1,  Iter     4:    Energy =   0.0727
Level     1,  Iter     5:    Energy =   0.0746
Level     1,  Iter     6:    Energy =   0.0763
Level     1,  Iter     7:    Energy =   0.0779
Level     1,  Iter     8:    Energy =   0.0793
Level     1,  Iter     9:    Energy =   0.0799
Level     1,  Iter    10:    Energy =   0.0804
Level     1,  Iter    11:    Energy =   0.0810
Level     1,  Iter    12:    Energy =   0.0815
Level     1,  Iter    13:    Energy =   0.0823
Level     1,  Iter    14:    Energy =   0.0829
Level     1,  Iter    15:    Energy =   0.0828
Level     1,  Iter    16:    Energy =   0.0831
Level     1,  Iter    17:    Energy =   0.0832
Level     1,  Iter    18:    Energy =   0.0831
Level     1,  Iter    19:    Energy =   0.0834
Level     1,  Iter    20:    Energy =   0.0835
Level     1,  Iter    21:    Energy =   0.0837
Level     1,  Iter    22:    Energy =   0.0838
Level     1,  Iter    23:    Energy =   0.0841
Level     1,  Iter    24:    Energy =   0.0840
Level     1,  Iter    25:    Energy =   0.0844
Level     1,  Iter    26:    Energy =   0.0842
Level     1,  Iter    27:    Energy =   0.0846
Level     1,  Iter    28:    Energy =   0.0845
Level     1,  Iter    29:    Energy =   0.0848
Level     1,  Iter    30:    Energy =   0.0846
Level     1,  Iter    31:    Energy =   0.0850
Level     1,  Iter    32:    Energy =   0.0848
Level     1,  Iter    33:    Energy =   0.0852
Level     1,  Iter    34:    Energy =   0.0849
Level     1,  Iter    35:    Energy =   0.0853
Level     1,  Iter    36:    Energy =   0.0850
Level     1,  Iter    37:    Energy =   0.0854
Level     1,  Iter    38:    Energy =   0.0851
Level     1,  Iter    39:    Energy =   0.0856
Level     1,  Iter    40:    Energy =   0.0853
Level     1,  Iter    41:    Energy =   0.0858
Level     1,  Iter    42:    Energy =   0.0855
Level     1,  Iter    43:    Energy =   0.0859
Level     1,  Iter    44:    Energy =   0.0856
Level     1,  Iter    45:    Energy =   0.0859
Level     1,  Iter    46:    Energy =   0.0857
Level     1,  Iter    47:    Energy =   0.0861
Level     1,  Iter    48:    Energy =   0.0858
Level     1,  Iter    49:    Energy =   0.0861
Level     1,  Iter    50:    Energy =   0.0858
Level     1,  Iter    51:    Energy =   0.0862
Level     1,  Iter    52:    Energy =   0.0859
Level     1,  Iter    53:    Energy =   0.0863
Level     1,  Iter    54:    Energy =   0.0860
Level     1,  Iter    55:    Energy =   0.0864
Level     1,  Iter    56:    Energy =   0.0861
Level     1,  Iter    57:    Energy =   0.0865
Level     1,  Iter    58:    Energy =   0.0861
Level     1,  Iter    59:    Energy =   0.0866
END OF LEVEL     1    DetJac Range:   0.2063  to   3.2358 
  Avg. Gradient Time  : 0.0418s  40.68% 
  Avg. Gaussian Time  : 0.0485s  47.28% 
  Avg. Iteration Time : 0.1026s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0472
Level     2,  Iter     1:    Energy =   0.0502
Level     2,  Iter     2:    Energy =   0.0525
Level     2,  Iter     3:    Energy =   0.0545
Level     2,  Iter     4:    Energy =   0.0563
Level     2,  Iter     5:    Energy =   0.0577
Level     2,  Iter     6:    Energy =   0.0588
Level     2,  Iter     7:    Energy =   0.0598
Level     2,  Iter     8:    Energy =   0.0607
Level     2,  Iter     9:    Energy =   0.0614
Level     2,  Iter    10:    Energy =   0.0622
Level     2,  Iter    11:    Energy =   0.0630
Level     2,  Iter    12:    Energy =   0.0633
Level     2,  Iter    13:    Energy =   0.0635
Level     2,  Iter    14:    Energy =   0.0638
Level     2,  Iter    15:    Energy =   0.0641
Level     2,  Iter    16:    Energy =   0.0645
Level     2,  Iter    17:    Energy =   0.0651
Level     2,  Iter    18:    Energy =   0.0657
Level     2,  Iter    19:    Energy =   0.0663
END OF LEVEL     2    DetJac Range:   0.1052  to   4.5539 
  Avg. Gradient Time  : 0.2879s  37.92% 
  Avg. Gaussian Time  : 0.3899s  51.36% 
  Avg. Iteration Time : 0.7593s 

real	0m25.552s
user	0m44.900s
sys	0m2.684s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 1'
CHUNK 0.634615 0.640385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 1
====================================
         PROGRESS: 0.634615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2432.45 	 OutFr   0.0000 	 RMSD     2.9175
Iter 002 	 Temp     3.72 	 Delta  2210.14 	 OutFr   0.0000 	 RMSD     2.5696
Iter 003 	 Temp     3.46 	 Delta  1940.91 	 OutFr   0.0000 	 RMSD     2.5632
Iter 004 	 Temp     3.22 	 Delta  1724.49 	 OutFr   0.0026 	 RMSD     2.5342
Iter 005 	 Temp     2.99 	 Delta  1588.84 	 OutFr   0.0079 	 RMSD     2.5091
Iter 006 	 Temp     2.78 	 Delta  1496.17 	 OutFr   0.0079 	 RMSD     2.4891
Iter 007 	 Temp     2.59 	 Delta  1419.37 	 OutFr   0.0079 	 RMSD     2.4730
Iter 008 	 Temp     2.41 	 Delta  1351.63 	 OutFr   0.0079 	 RMSD     2.4595
Iter 009 	 Temp     2.24 	 Delta  1289.07 	 OutFr   0.0079 	 RMSD     2.4476
Iter 010 	 Temp     2.08 	 Delta  1227.81 	 OutFr   0.0079 	 RMSD     2.4379
Iter 011 	 Temp     1.94 	 Delta  1164.56 	 OutFr   0.0079 	 RMSD     2.4295
Iter 012 	 Temp     1.80 	 Delta  1097.03 	 OutFr   0.0079 	 RMSD     2.4217
Iter 013 	 Temp     1.67 	 Delta  1024.41 	 OutFr   0.0105 	 RMSD     2.4150
Iter 014 	 Temp     1.56 	 Delta   948.05 	 OutFr   0.0105 	 RMSD     2.4090
Iter 015 	 Temp     1.45 	 Delta   870.04 	 OutFr   0.0183 	 RMSD     2.4041
Iter 016 	 Temp     1.35 	 Delta   793.49 	 OutFr   0.0209 	 RMSD     2.3995
Iter 017 	 Temp     1.25 	 Delta   723.47 	 OutFr   0.0236 	 RMSD     2.3947
Iter 018 	 Temp     1.16 	 Delta   667.02 	 OutFr   0.0262 	 RMSD     2.3906
Iter 019 	 Temp     1.08 	 Delta   624.13 	 OutFr   0.0366 	 RMSD     2.3876
Iter 020 	 Temp     1.01 	 Delta   585.76 	 OutFr   0.0471 	 RMSD     2.3852
Iter 021 	 Temp     0.94 	 Delta   548.19 	 OutFr   0.0576 	 RMSD     2.3821
Iter 022 	 Temp     0.87 	 Delta   510.83 	 OutFr   0.0733 	 RMSD     2.3786
Iter 023 	 Temp     0.81 	 Delta   473.03 	 OutFr   0.0838 	 RMSD     2.3756
Iter 024 	 Temp     0.75 	 Delta   436.79 	 OutFr   0.0995 	 RMSD     2.3728
Iter 025 	 Temp     0.70 	 Delta   403.67 	 OutFr   0.1257 	 RMSD     2.3710
Iter 026 	 Temp     0.65 	 Delta   370.95 	 OutFr   0.1440 	 RMSD     2.3696
Iter 027 	 Temp     0.61 	 Delta   335.74 	 OutFr   0.1623 	 RMSD     2.3686
Iter 028 	 Temp     0.56 	 Delta   301.29 	 OutFr   0.1885 	 RMSD     2.3678
Iter 029 	 Temp     0.52 	 Delta   271.53 	 OutFr   0.2094 	 RMSD     2.3674
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ElRxIZc9/mybin.nii.gz
+ vtklevelset /tmp/ashs.ElRxIZc9/mybin.nii.gz /tmp/ashs.ElRxIZc9/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ElRxIZc9/mymesh.vtk /tmp/ashs.ElRxIZc9/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2763.18964229   1.00168957
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ElRxIZc9/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.4761 to -12.9848
   Y : -20.0476 to 23.8394
   Z : -21.8783 to 10.8064
   Image resolution  : 94 by 156 by 122
   Image box origin  : {-40.4761, -25.0476, -26.8783}
   Image box size    : {32.6389, 54.1666, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.4761, 25.0476, -26.8783]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -o /tmp/ashs.ElRxIZc9/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -o /tmp/ashs.ElRxIZc9/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ElRxIZc9/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 0.5'
CHUNK 0.640385 0.646154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 0.5
====================================
         PROGRESS: 0.640385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ElRxIZc9/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ElRxIZc9/fixed_hw.nii.gz /tmp/ashs.ElRxIZc9/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.491693, moving = 0.386853
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.40562, 2.38573], [0.961632, 0.982092, 0.973971]
Level     0,  Iter     0:    Energy =   0.0552
Level     0,  Iter     1:    Energy =   0.0620
Level     0,  Iter     2:    Energy =   0.0665
Level     0,  Iter     3:    Energy =   0.0698
Level     0,  Iter     4:    Energy =   0.0726
Level     0,  Iter     5:    Energy =   0.0742
Level     0,  Iter     6:    Energy =   0.0753
Level     0,  Iter     7:    Energy =   0.0762
Level     0,  Iter     8:    Energy =   0.0767
Level     0,  Iter     9:    Energy =   0.0772
Level     0,  Iter    10:    Energy =   0.0776
Level     0,  Iter    11:    Energy =   0.0781
Level     0,  Iter    12:    Energy =   0.0784
Level     0,  Iter    13:    Energy =   0.0787
Level     0,  Iter    14:    Energy =   0.0790
Level     0,  Iter    15:    Energy =   0.0792
Level     0,  Iter    16:    Energy =   0.0792
Level     0,  Iter    17:    Energy =   0.0794
Level     0,  Iter    18:    Energy =   0.0793
Level     0,  Iter    19:    Energy =   0.0795
Level     0,  Iter    20:    Energy =   0.0794
Level     0,  Iter    21:    Energy =   0.0796
Level     0,  Iter    22:    Energy =   0.0795
Level     0,  Iter    23:    Energy =   0.0797
Level     0,  Iter    24:    Energy =   0.0796
Level     0,  Iter    25:    Energy =   0.0798
Level     0,  Iter    26:    Energy =   0.0797
Level     0,  Iter    27:    Energy =   0.0799
Level     0,  Iter    28:    Energy =   0.0798
Level     0,  Iter    29:    Energy =   0.0800
Level     0,  Iter    30:    Energy =   0.0798
Level     0,  Iter    31:    Energy =   0.0800
Level     0,  Iter    32:    Energy =   0.0799
Level     0,  Iter    33:    Energy =   0.0801
Level     0,  Iter    34:    Energy =   0.0799
Level     0,  Iter    35:    Energy =   0.0801
Level     0,  Iter    36:    Energy =   0.0799
Level     0,  Iter    37:    Energy =   0.0802
Level     0,  Iter    38:    Energy =   0.0799
Level     0,  Iter    39:    Energy =   0.0802
Level     0,  Iter    40:    Energy =   0.0800
Level     0,  Iter    41:    Energy =   0.0802
Level     0,  Iter    42:    Energy =   0.0800
Level     0,  Iter    43:    Energy =   0.0802
Level     0,  Iter    44:    Energy =   0.0800
Level     0,  Iter    45:    Energy =   0.0802
Level     0,  Iter    46:    Energy =   0.0800
Level     0,  Iter    47:    Energy =   0.0803
Level     0,  Iter    48:    Energy =   0.0801
Level     0,  Iter    49:    Energy =   0.0803
Level     0,  Iter    50:    Energy =   0.0801
Level     0,  Iter    51:    Energy =   0.0803
Level     0,  Iter    52:    Energy =   0.0801
Level     0,  Iter    53:    Energy =   0.0803
Level     0,  Iter    54:    Energy =   0.0801
Level     0,  Iter    55:    Energy =   0.0804
Level     0,  Iter    56:    Energy =   0.0801
Level     0,  Iter    57:    Energy =   0.0804
Level     0,  Iter    58:    Energy =   0.0802
Level     0,  Iter    59:    Energy =   0.0805
END OF LEVEL     0    DetJac Range:   0.2497  to   2.0661 
  Avg. Gradient Time  : 0.0078s  37.70% 
  Avg. Gaussian Time  : 0.0098s  47.08% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0624
Level     1,  Iter     1:    Energy =   0.0663
Level     1,  Iter     2:    Energy =   0.0696
Level     1,  Iter     3:    Energy =   0.0728
Level     1,  Iter     4:    Energy =   0.0745
Level     1,  Iter     5:    Energy =   0.0765
Level     1,  Iter     6:    Energy =   0.0784
Level     1,  Iter     7:    Energy =   0.0798
Level     1,  Iter     8:    Energy =   0.0808
Level     1,  Iter     9:    Energy =   0.0815
Level     1,  Iter    10:    Energy =   0.0822
Level     1,  Iter    11:    Energy =   0.0827
Level     1,  Iter    12:    Energy =   0.0829
Level     1,  Iter    13:    Energy =   0.0829
Level     1,  Iter    14:    Energy =   0.0832
Level     1,  Iter    15:    Energy =   0.0832
Level     1,  Iter    16:    Energy =   0.0834
Level     1,  Iter    17:    Energy =   0.0835
Level     1,  Iter    18:    Energy =   0.0837
Level     1,  Iter    19:    Energy =   0.0837
Level     1,  Iter    20:    Energy =   0.0838
Level     1,  Iter    21:    Energy =   0.0839
Level     1,  Iter    22:    Energy =   0.0840
Level     1,  Iter    23:    Energy =   0.0840
Level     1,  Iter    24:    Energy =   0.0842
Level     1,  Iter    25:    Energy =   0.0842
Level     1,  Iter    26:    Energy =   0.0843
Level     1,  Iter    27:    Energy =   0.0843
Level     1,  Iter    28:    Energy =   0.0845
Level     1,  Iter    29:    Energy =   0.0845
Level     1,  Iter    30:    Energy =   0.0846
Level     1,  Iter    31:    Energy =   0.0846
Level     1,  Iter    32:    Energy =   0.0847
Level     1,  Iter    33:    Energy =   0.0847
Level     1,  Iter    34:    Energy =   0.0848
Level     1,  Iter    35:    Energy =   0.0848
Level     1,  Iter    36:    Energy =   0.0849
Level     1,  Iter    37:    Energy =   0.0849
Level     1,  Iter    38:    Energy =   0.0850
Level     1,  Iter    39:    Energy =   0.0850
Level     1,  Iter    40:    Energy =   0.0851
Level     1,  Iter    41:    Energy =   0.0850
Level     1,  Iter    42:    Energy =   0.0851
Level     1,  Iter    43:    Energy =   0.0851
Level     1,  Iter    44:    Energy =   0.0852
Level     1,  Iter    45:    Energy =   0.0852
Level     1,  Iter    46:    Energy =   0.0852
Level     1,  Iter    47:    Energy =   0.0852
Level     1,  Iter    48:    Energy =   0.0853
Level     1,  Iter    49:    Energy =   0.0852
Level     1,  Iter    50:    Energy =   0.0853
Level     1,  Iter    51:    Energy =   0.0853
Level     1,  Iter    52:    Energy =   0.0853
Level     1,  Iter    53:    Energy =   0.0853
Level     1,  Iter    54:    Energy =   0.0854
Level     1,  Iter    55:    Energy =   0.0853
Level     1,  Iter    56:    Energy =   0.0854
Level     1,  Iter    57:    Energy =   0.0853
Level     1,  Iter    58:    Energy =   0.0854
Level     1,  Iter    59:    Energy =   0.0853
END OF LEVEL     1    DetJac Range:   0.1508  to   2.6342 
  Avg. Gradient Time  : 0.0448s  39.90% 
  Avg. Gaussian Time  : 0.0540s  48.10% 
  Avg. Iteration Time : 0.1124s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0479
Level     2,  Iter     1:    Energy =   0.0502
Level     2,  Iter     2:    Energy =   0.0525
Level     2,  Iter     3:    Energy =   0.0543
Level     2,  Iter     4:    Energy =   0.0559
Level     2,  Iter     5:    Energy =   0.0571
Level     2,  Iter     6:    Energy =   0.0583
Level     2,  Iter     7:    Energy =   0.0595
Level     2,  Iter     8:    Energy =   0.0605
Level     2,  Iter     9:    Energy =   0.0613
Level     2,  Iter    10:    Energy =   0.0621
Level     2,  Iter    11:    Energy =   0.0628
Level     2,  Iter    12:    Energy =   0.0635
Level     2,  Iter    13:    Energy =   0.0641
Level     2,  Iter    14:    Energy =   0.0645
Level     2,  Iter    15:    Energy =   0.0644
Level     2,  Iter    16:    Energy =   0.0646
Level     2,  Iter    17:    Energy =   0.0647
Level     2,  Iter    18:    Energy =   0.0647
Level     2,  Iter    19:    Energy =   0.0648
END OF LEVEL     2    DetJac Range:   0.0999  to   3.1085 
  Avg. Gradient Time  : 0.3113s  37.09% 
  Avg. Gaussian Time  : 0.4385s  52.25% 
  Avg. Iteration Time : 0.8392s 

real	0m28.008s
user	0m49.412s
sys	0m2.916s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 1'
CHUNK 0.640385 0.646154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 1
====================================
         PROGRESS: 0.640385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2068.33 	 OutFr   0.0000 	 RMSD     2.5473
Iter 002 	 Temp     3.72 	 Delta  2037.96 	 OutFr   0.0000 	 RMSD     2.4265
Iter 003 	 Temp     3.46 	 Delta  1930.14 	 OutFr   0.0000 	 RMSD     2.4039
Iter 004 	 Temp     3.22 	 Delta  1814.35 	 OutFr   0.0000 	 RMSD     2.3755
Iter 005 	 Temp     2.99 	 Delta  1701.97 	 OutFr   0.0000 	 RMSD     2.3496
Iter 006 	 Temp     2.78 	 Delta  1595.63 	 OutFr   0.0000 	 RMSD     2.3298
Iter 007 	 Temp     2.59 	 Delta  1495.72 	 OutFr   0.0000 	 RMSD     2.3154
Iter 008 	 Temp     2.41 	 Delta  1402.85 	 OutFr   0.0026 	 RMSD     2.3052
Iter 009 	 Temp     2.24 	 Delta  1318.29 	 OutFr   0.0026 	 RMSD     2.2988
Iter 010 	 Temp     2.08 	 Delta  1242.98 	 OutFr   0.0026 	 RMSD     2.2948
Iter 011 	 Temp     1.94 	 Delta  1174.22 	 OutFr   0.0052 	 RMSD     2.2922
Iter 012 	 Temp     1.80 	 Delta  1106.45 	 OutFr   0.0079 	 RMSD     2.2905
Iter 013 	 Temp     1.67 	 Delta  1038.42 	 OutFr   0.0157 	 RMSD     2.2890
Iter 014 	 Temp     1.56 	 Delta   972.41 	 OutFr   0.0209 	 RMSD     2.2871
Iter 015 	 Temp     1.45 	 Delta   910.93 	 OutFr   0.0236 	 RMSD     2.2854
Iter 016 	 Temp     1.35 	 Delta   856.19 	 OutFr   0.0236 	 RMSD     2.2838
Iter 017 	 Temp     1.25 	 Delta   808.44 	 OutFr   0.0262 	 RMSD     2.2824
Iter 018 	 Temp     1.16 	 Delta   763.34 	 OutFr   0.0340 	 RMSD     2.2806
Iter 019 	 Temp     1.08 	 Delta   718.31 	 OutFr   0.0393 	 RMSD     2.2793
Iter 020 	 Temp     1.01 	 Delta   671.03 	 OutFr   0.0497 	 RMSD     2.2789
Iter 021 	 Temp     0.94 	 Delta   619.28 	 OutFr   0.0681 	 RMSD     2.2793
Iter 022 	 Temp     0.87 	 Delta   563.93 	 OutFr   0.0916 	 RMSD     2.2810
Iter 023 	 Temp     0.81 	 Delta   509.32 	 OutFr   0.1099 	 RMSD     2.2837
Iter 024 	 Temp     0.75 	 Delta   461.25 	 OutFr   0.1387 	 RMSD     2.2883
Iter 025 	 Temp     0.70 	 Delta   417.70 	 OutFr   0.1623 	 RMSD     2.2945
Iter 026 	 Temp     0.65 	 Delta   375.56 	 OutFr   0.1911 	 RMSD     2.3020
Iter 027 	 Temp     0.61 	 Delta   339.43 	 OutFr   0.2173 	 RMSD     2.3099
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.JckYQcYq/mybin.nii.gz
+ vtklevelset /tmp/ashs.JckYQcYq/mybin.nii.gz /tmp/ashs.JckYQcYq/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.JckYQcYq/mymesh.vtk /tmp/ashs.JckYQcYq/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2780.72399964   1.00804598
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.JckYQcYq/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.145 to -10.6712
   Y : -21.6649 to 23.2535
   Z : -26.2142 to 4.83306
   Image resolution  : 94 by 159 by 118
   Image box origin  : {-38.145, -26.6649, -31.2142}
   Image box size    : {32.6389, 55.2083, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.145, 26.6649, -31.2142]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -o /tmp/ashs.JckYQcYq/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -o /tmp/ashs.JckYQcYq/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.JckYQcYq/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 0.5'
CHUNK 0.646154 0.651923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 0.5
====================================
         PROGRESS: 0.646154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.JckYQcYq/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.JckYQcYq/fixed_hw.nii.gz /tmp/ashs.JckYQcYq/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.484677, moving = 0.398903
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.39059, 2.38443], [0.961632, 0.975954, 0.973439]
Level     0,  Iter     0:    Energy =   0.0373
Level     0,  Iter     1:    Energy =   0.0418
Level     0,  Iter     2:    Energy =   0.0462
Level     0,  Iter     3:    Energy =   0.0503
Level     0,  Iter     4:    Energy =   0.0543
Level     0,  Iter     5:    Energy =   0.0577
Level     0,  Iter     6:    Energy =   0.0607
Level     0,  Iter     7:    Energy =   0.0631
Level     0,  Iter     8:    Energy =   0.0646
Level     0,  Iter     9:    Energy =   0.0659
Level     0,  Iter    10:    Energy =   0.0667
Level     0,  Iter    11:    Energy =   0.0673
Level     0,  Iter    12:    Energy =   0.0677
Level     0,  Iter    13:    Energy =   0.0677
Level     0,  Iter    14:    Energy =   0.0682
Level     0,  Iter    15:    Energy =   0.0680
Level     0,  Iter    16:    Energy =   0.0683
Level     0,  Iter    17:    Energy =   0.0682
Level     0,  Iter    18:    Energy =   0.0684
Level     0,  Iter    19:    Energy =   0.0684
Level     0,  Iter    20:    Energy =   0.0686
Level     0,  Iter    21:    Energy =   0.0687
Level     0,  Iter    22:    Energy =   0.0688
Level     0,  Iter    23:    Energy =   0.0688
Level     0,  Iter    24:    Energy =   0.0690
Level     0,  Iter    25:    Energy =   0.0689
Level     0,  Iter    26:    Energy =   0.0690
Level     0,  Iter    27:    Energy =   0.0691
Level     0,  Iter    28:    Energy =   0.0691
Level     0,  Iter    29:    Energy =   0.0692
Level     0,  Iter    30:    Energy =   0.0693
Level     0,  Iter    31:    Energy =   0.0693
Level     0,  Iter    32:    Energy =   0.0694
Level     0,  Iter    33:    Energy =   0.0694
Level     0,  Iter    34:    Energy =   0.0695
Level     0,  Iter    35:    Energy =   0.0695
Level     0,  Iter    36:    Energy =   0.0696
Level     0,  Iter    37:    Energy =   0.0695
Level     0,  Iter    38:    Energy =   0.0696
Level     0,  Iter    39:    Energy =   0.0696
Level     0,  Iter    40:    Energy =   0.0697
Level     0,  Iter    41:    Energy =   0.0696
Level     0,  Iter    42:    Energy =   0.0697
Level     0,  Iter    43:    Energy =   0.0696
Level     0,  Iter    44:    Energy =   0.0698
Level     0,  Iter    45:    Energy =   0.0697
Level     0,  Iter    46:    Energy =   0.0698
Level     0,  Iter    47:    Energy =   0.0697
Level     0,  Iter    48:    Energy =   0.0698
Level     0,  Iter    49:    Energy =   0.0697
Level     0,  Iter    50:    Energy =   0.0699
Level     0,  Iter    51:    Energy =   0.0698
Level     0,  Iter    52:    Energy =   0.0699
Level     0,  Iter    53:    Energy =   0.0698
Level     0,  Iter    54:    Energy =   0.0699
Level     0,  Iter    55:    Energy =   0.0698
Level     0,  Iter    56:    Energy =   0.0699
Level     0,  Iter    57:    Energy =   0.0699
Level     0,  Iter    58:    Energy =   0.0700
Level     0,  Iter    59:    Energy =   0.0699
END OF LEVEL     0    DetJac Range:   0.2185  to   2.4377 
  Avg. Gradient Time  : 0.0076s  37.64% 
  Avg. Gaussian Time  : 0.0094s  47.02% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19529, 1.21242], [0.491046, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0506
Level     1,  Iter     1:    Energy =   0.0545
Level     1,  Iter     2:    Energy =   0.0576
Level     1,  Iter     3:    Energy =   0.0595
Level     1,  Iter     4:    Energy =   0.0609
Level     1,  Iter     5:    Energy =   0.0620
Level     1,  Iter     6:    Energy =   0.0628
Level     1,  Iter     7:    Energy =   0.0636
Level     1,  Iter     8:    Energy =   0.0642
Level     1,  Iter     9:    Energy =   0.0649
Level     1,  Iter    10:    Energy =   0.0656
Level     1,  Iter    11:    Energy =   0.0664
Level     1,  Iter    12:    Energy =   0.0672
Level     1,  Iter    13:    Energy =   0.0680
Level     1,  Iter    14:    Energy =   0.0687
Level     1,  Iter    15:    Energy =   0.0695
Level     1,  Iter    16:    Energy =   0.0702
Level     1,  Iter    17:    Energy =   0.0707
Level     1,  Iter    18:    Energy =   0.0707
Level     1,  Iter    19:    Energy =   0.0711
Level     1,  Iter    20:    Energy =   0.0710
Level     1,  Iter    21:    Energy =   0.0714
Level     1,  Iter    22:    Energy =   0.0715
Level     1,  Iter    23:    Energy =   0.0717
Level     1,  Iter    24:    Energy =   0.0716
Level     1,  Iter    25:    Energy =   0.0720
Level     1,  Iter    26:    Energy =   0.0719
Level     1,  Iter    27:    Energy =   0.0720
Level     1,  Iter    28:    Energy =   0.0719
Level     1,  Iter    29:    Energy =   0.0721
Level     1,  Iter    30:    Energy =   0.0720
Level     1,  Iter    31:    Energy =   0.0722
Level     1,  Iter    32:    Energy =   0.0721
Level     1,  Iter    33:    Energy =   0.0723
Level     1,  Iter    34:    Energy =   0.0722
Level     1,  Iter    35:    Energy =   0.0725
Level     1,  Iter    36:    Energy =   0.0723
Level     1,  Iter    37:    Energy =   0.0726
Level     1,  Iter    38:    Energy =   0.0724
Level     1,  Iter    39:    Energy =   0.0727
Level     1,  Iter    40:    Energy =   0.0725
Level     1,  Iter    41:    Energy =   0.0727
Level     1,  Iter    42:    Energy =   0.0726
Level     1,  Iter    43:    Energy =   0.0727
Level     1,  Iter    44:    Energy =   0.0726
Level     1,  Iter    45:    Energy =   0.0727
Level     1,  Iter    46:    Energy =   0.0726
Level     1,  Iter    47:    Energy =   0.0728
Level     1,  Iter    48:    Energy =   0.0726
Level     1,  Iter    49:    Energy =   0.0729
Level     1,  Iter    50:    Energy =   0.0727
Level     1,  Iter    51:    Energy =   0.0730
Level     1,  Iter    52:    Energy =   0.0728
Level     1,  Iter    53:    Energy =   0.0730
Level     1,  Iter    54:    Energy =   0.0728
Level     1,  Iter    55:    Energy =   0.0730
Level     1,  Iter    56:    Energy =   0.0728
Level     1,  Iter    57:    Energy =   0.0731
Level     1,  Iter    58:    Energy =   0.0729
Level     1,  Iter    59:    Energy =   0.0731
END OF LEVEL     1    DetJac Range:   0.1111  to   3.5772 
  Avg. Gradient Time  : 0.0444s  40.38% 
  Avg. Gaussian Time  : 0.0524s  47.60% 
  Avg. Iteration Time : 0.1101s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0378
Level     2,  Iter     1:    Energy =   0.0402
Level     2,  Iter     2:    Energy =   0.0419
Level     2,  Iter     3:    Energy =   0.0430
Level     2,  Iter     4:    Energy =   0.0440
Level     2,  Iter     5:    Energy =   0.0449
Level     2,  Iter     6:    Energy =   0.0457
Level     2,  Iter     7:    Energy =   0.0469
Level     2,  Iter     8:    Energy =   0.0484
Level     2,  Iter     9:    Energy =   0.0496
Level     2,  Iter    10:    Energy =   0.0507
Level     2,  Iter    11:    Energy =   0.0517
Level     2,  Iter    12:    Energy =   0.0525
Level     2,  Iter    13:    Energy =   0.0533
Level     2,  Iter    14:    Energy =   0.0540
Level     2,  Iter    15:    Energy =   0.0546
Level     2,  Iter    16:    Energy =   0.0551
Level     2,  Iter    17:    Energy =   0.0556
Level     2,  Iter    18:    Energy =   0.0560
Level     2,  Iter    19:    Energy =   0.0564
END OF LEVEL     2    DetJac Range:   0.0349  to   5.2012 
  Avg. Gradient Time  : 0.3119s  36.35% 
  Avg. Gaussian Time  : 0.4567s  53.23% 
  Avg. Iteration Time : 0.8580s 

real	0m28.321s
user	0m50.188s
sys	0m2.736s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 1'
CHUNK 0.646154 0.651923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 1
====================================
         PROGRESS: 0.646154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2421.27 	 OutFr   0.0000 	 RMSD     2.6715
Iter 002 	 Temp     3.72 	 Delta  2348.84 	 OutFr   0.0000 	 RMSD     2.1027
Iter 003 	 Temp     3.46 	 Delta  2281.38 	 OutFr   0.0000 	 RMSD     2.1301
Iter 004 	 Temp     3.22 	 Delta  2178.23 	 OutFr   0.0000 	 RMSD     2.1248
Iter 005 	 Temp     2.99 	 Delta  2058.59 	 OutFr   0.0000 	 RMSD     2.1086
Iter 006 	 Temp     2.78 	 Delta  1932.16 	 OutFr   0.0000 	 RMSD     2.0896
Iter 007 	 Temp     2.59 	 Delta  1803.13 	 OutFr   0.0000 	 RMSD     2.0704
Iter 008 	 Temp     2.41 	 Delta  1672.27 	 OutFr   0.0000 	 RMSD     2.0510
Iter 009 	 Temp     2.24 	 Delta  1539.03 	 OutFr   0.0026 	 RMSD     2.0308
Iter 010 	 Temp     2.08 	 Delta  1404.59 	 OutFr   0.0026 	 RMSD     2.0115
Iter 011 	 Temp     1.94 	 Delta  1273.22 	 OutFr   0.0026 	 RMSD     1.9947
Iter 012 	 Temp     1.80 	 Delta  1150.38 	 OutFr   0.0026 	 RMSD     1.9779
Iter 013 	 Temp     1.67 	 Delta  1039.15 	 OutFr   0.0079 	 RMSD     1.9653
Iter 014 	 Temp     1.56 	 Delta   939.31 	 OutFr   0.0079 	 RMSD     1.9556
Iter 015 	 Temp     1.45 	 Delta   851.13 	 OutFr   0.0105 	 RMSD     1.9481
Iter 016 	 Temp     1.35 	 Delta   776.63 	 OutFr   0.0131 	 RMSD     1.9432
Iter 017 	 Temp     1.25 	 Delta   714.88 	 OutFr   0.0236 	 RMSD     1.9403
Iter 018 	 Temp     1.16 	 Delta   661.18 	 OutFr   0.0262 	 RMSD     1.9392
Iter 019 	 Temp     1.08 	 Delta   616.30 	 OutFr   0.0340 	 RMSD     1.9408
Iter 020 	 Temp     1.01 	 Delta   580.25 	 OutFr   0.0366 	 RMSD     1.9438
Iter 021 	 Temp     0.94 	 Delta   548.16 	 OutFr   0.0471 	 RMSD     1.9464
Iter 022 	 Temp     0.87 	 Delta   516.95 	 OutFr   0.0707 	 RMSD     1.9472
Iter 023 	 Temp     0.81 	 Delta   485.18 	 OutFr   0.0759 	 RMSD     1.9467
Iter 024 	 Temp     0.75 	 Delta   454.07 	 OutFr   0.0916 	 RMSD     1.9456
Iter 025 	 Temp     0.70 	 Delta   425.61 	 OutFr   0.1047 	 RMSD     1.9439
Iter 026 	 Temp     0.65 	 Delta   400.23 	 OutFr   0.1073 	 RMSD     1.9417
Iter 027 	 Temp     0.61 	 Delta   375.47 	 OutFr   0.1309 	 RMSD     1.9391
Iter 028 	 Temp     0.56 	 Delta   348.77 	 OutFr   0.1518 	 RMSD     1.9367
Iter 029 	 Temp     0.52 	 Delta   318.88 	 OutFr   0.1675 	 RMSD     1.9350
Iter 030 	 Temp     0.49 	 Delta   287.23 	 OutFr   0.1937 	 RMSD     1.9339
Iter 031 	 Temp     0.45 	 Delta   255.99 	 OutFr   0.2199 	 RMSD     1.9333
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.YpSLXd8Q/mybin.nii.gz
+ vtklevelset /tmp/ashs.YpSLXd8Q/mybin.nii.gz /tmp/ashs.YpSLXd8Q/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.YpSLXd8Q/mymesh.vtk /tmp/ashs.YpSLXd8Q/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2892.85022268   1.04869309
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.YpSLXd8Q/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3408 to -9.18699
   Y : -16.4317 to 31.4844
   Z : -22.7005 to 6.96104
   Image resolution  : 96 by 167 by 114
   Image box origin  : {-37.3408, -21.4317, -27.7005}
   Image box size    : {33.3333, 57.9861, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3408, 21.4317, -27.7005]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -o /tmp/ashs.YpSLXd8Q/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -o /tmp/ashs.YpSLXd8Q/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.YpSLXd8Q/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 0.5'
CHUNK 0.651923 0.657692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 0.5
====================================
         PROGRESS: 0.651923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.YpSLXd8Q/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.YpSLXd8Q/fixed_hw.nii.gz /tmp/ashs.YpSLXd8Q/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.514159, moving = 0.696617
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.39131, 2.38304], [0.982092, 0.976246, 0.97287]
Level     0,  Iter     0:    Energy =   0.0485
Level     0,  Iter     1:    Energy =   0.0554
Level     0,  Iter     2:    Energy =   0.0620
Level     0,  Iter     3:    Energy =   0.0672
Level     0,  Iter     4:    Energy =   0.0709
Level     0,  Iter     5:    Energy =   0.0740
Level     0,  Iter     6:    Energy =   0.0763
Level     0,  Iter     7:    Energy =   0.0786
Level     0,  Iter     8:    Energy =   0.0810
Level     0,  Iter     9:    Energy =   0.0828
Level     0,  Iter    10:    Energy =   0.0846
Level     0,  Iter    11:    Energy =   0.0854
Level     0,  Iter    12:    Energy =   0.0867
Level     0,  Iter    13:    Energy =   0.0869
Level     0,  Iter    14:    Energy =   0.0878
Level     0,  Iter    15:    Energy =   0.0875
Level     0,  Iter    16:    Energy =   0.0881
Level     0,  Iter    17:    Energy =   0.0880
Level     0,  Iter    18:    Energy =   0.0887
Level     0,  Iter    19:    Energy =   0.0886
Level     0,  Iter    20:    Energy =   0.0890
Level     0,  Iter    21:    Energy =   0.0890
Level     0,  Iter    22:    Energy =   0.0894
Level     0,  Iter    23:    Energy =   0.0892
Level     0,  Iter    24:    Energy =   0.0896
Level     0,  Iter    25:    Energy =   0.0894
Level     0,  Iter    26:    Energy =   0.0898
Level     0,  Iter    27:    Energy =   0.0896
Level     0,  Iter    28:    Energy =   0.0900
Level     0,  Iter    29:    Energy =   0.0899
Level     0,  Iter    30:    Energy =   0.0902
Level     0,  Iter    31:    Energy =   0.0901
Level     0,  Iter    32:    Energy =   0.0904
Level     0,  Iter    33:    Energy =   0.0902
Level     0,  Iter    34:    Energy =   0.0906
Level     0,  Iter    35:    Energy =   0.0904
Level     0,  Iter    36:    Energy =   0.0907
Level     0,  Iter    37:    Energy =   0.0904
Level     0,  Iter    38:    Energy =   0.0907
Level     0,  Iter    39:    Energy =   0.0905
Level     0,  Iter    40:    Energy =   0.0908
Level     0,  Iter    41:    Energy =   0.0906
Level     0,  Iter    42:    Energy =   0.0909
Level     0,  Iter    43:    Energy =   0.0906
Level     0,  Iter    44:    Energy =   0.0910
Level     0,  Iter    45:    Energy =   0.0907
Level     0,  Iter    46:    Energy =   0.0910
Level     0,  Iter    47:    Energy =   0.0908
Level     0,  Iter    48:    Energy =   0.0911
Level     0,  Iter    49:    Energy =   0.0908
Level     0,  Iter    50:    Energy =   0.0912
Level     0,  Iter    51:    Energy =   0.0909
Level     0,  Iter    52:    Energy =   0.0914
Level     0,  Iter    53:    Energy =   0.0910
Level     0,  Iter    54:    Energy =   0.0915
Level     0,  Iter    55:    Energy =   0.0911
Level     0,  Iter    56:    Energy =   0.0916
Level     0,  Iter    57:    Energy =   0.0912
Level     0,  Iter    58:    Energy =   0.0917
Level     0,  Iter    59:    Energy =   0.0913
END OF LEVEL     0    DetJac Range:   0.4074  to   2.1042 
  Avg. Gradient Time  : 0.0078s  38.16% 
  Avg. Gaussian Time  : 0.0095s  46.76% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19565, 1.21242], [0.491046, 0.488123, 0.494969]
Level     1,  Iter     0:    Energy =   0.0597
Level     1,  Iter     1:    Energy =   0.0641
Level     1,  Iter     2:    Energy =   0.0679
Level     1,  Iter     3:    Energy =   0.0712
Level     1,  Iter     4:    Energy =   0.0732
Level     1,  Iter     5:    Energy =   0.0748
Level     1,  Iter     6:    Energy =   0.0767
Level     1,  Iter     7:    Energy =   0.0780
Level     1,  Iter     8:    Energy =   0.0792
Level     1,  Iter     9:    Energy =   0.0802
Level     1,  Iter    10:    Energy =   0.0809
Level     1,  Iter    11:    Energy =   0.0817
Level     1,  Iter    12:    Energy =   0.0821
Level     1,  Iter    13:    Energy =   0.0823
Level     1,  Iter    14:    Energy =   0.0824
Level     1,  Iter    15:    Energy =   0.0830
Level     1,  Iter    16:    Energy =   0.0828
Level     1,  Iter    17:    Energy =   0.0834
Level     1,  Iter    18:    Energy =   0.0834
Level     1,  Iter    19:    Energy =   0.0837
Level     1,  Iter    20:    Energy =   0.0835
Level     1,  Iter    21:    Energy =   0.0840
Level     1,  Iter    22:    Energy =   0.0839
Level     1,  Iter    23:    Energy =   0.0841
Level     1,  Iter    24:    Energy =   0.0839
Level     1,  Iter    25:    Energy =   0.0843
Level     1,  Iter    26:    Energy =   0.0842
Level     1,  Iter    27:    Energy =   0.0844
Level     1,  Iter    28:    Energy =   0.0843
Level     1,  Iter    29:    Energy =   0.0847
Level     1,  Iter    30:    Energy =   0.0846
Level     1,  Iter    31:    Energy =   0.0849
Level     1,  Iter    32:    Energy =   0.0847
Level     1,  Iter    33:    Energy =   0.0851
Level     1,  Iter    34:    Energy =   0.0848
Level     1,  Iter    35:    Energy =   0.0853
Level     1,  Iter    36:    Energy =   0.0851
Level     1,  Iter    37:    Energy =   0.0853
Level     1,  Iter    38:    Energy =   0.0850
Level     1,  Iter    39:    Energy =   0.0856
Level     1,  Iter    40:    Energy =   0.0853
Level     1,  Iter    41:    Energy =   0.0857
Level     1,  Iter    42:    Energy =   0.0854
Level     1,  Iter    43:    Energy =   0.0859
Level     1,  Iter    44:    Energy =   0.0856
Level     1,  Iter    45:    Energy =   0.0859
Level     1,  Iter    46:    Energy =   0.0856
Level     1,  Iter    47:    Energy =   0.0860
Level     1,  Iter    48:    Energy =   0.0857
Level     1,  Iter    49:    Energy =   0.0860
Level     1,  Iter    50:    Energy =   0.0857
Level     1,  Iter    51:    Energy =   0.0861
Level     1,  Iter    52:    Energy =   0.0858
Level     1,  Iter    53:    Energy =   0.0861
Level     1,  Iter    54:    Energy =   0.0858
Level     1,  Iter    55:    Energy =   0.0862
Level     1,  Iter    56:    Energy =   0.0859
Level     1,  Iter    57:    Energy =   0.0862
Level     1,  Iter    58:    Energy =   0.0858
Level     1,  Iter    59:    Energy =   0.0864
END OF LEVEL     1    DetJac Range:   0.1491  to   2.9443 
  Avg. Gradient Time  : 0.0460s  40.42% 
  Avg. Gaussian Time  : 0.0543s  47.64% 
  Avg. Iteration Time : 0.1139s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0442
Level     2,  Iter     1:    Energy =   0.0469
Level     2,  Iter     2:    Energy =   0.0492
Level     2,  Iter     3:    Energy =   0.0514
Level     2,  Iter     4:    Energy =   0.0535
Level     2,  Iter     5:    Energy =   0.0551
Level     2,  Iter     6:    Energy =   0.0565
Level     2,  Iter     7:    Energy =   0.0575
Level     2,  Iter     8:    Energy =   0.0584
Level     2,  Iter     9:    Energy =   0.0594
Level     2,  Iter    10:    Energy =   0.0600
Level     2,  Iter    11:    Energy =   0.0605
Level     2,  Iter    12:    Energy =   0.0610
Level     2,  Iter    13:    Energy =   0.0615
Level     2,  Iter    14:    Energy =   0.0622
Level     2,  Iter    15:    Energy =   0.0628
Level     2,  Iter    16:    Energy =   0.0634
Level     2,  Iter    17:    Energy =   0.0638
Level     2,  Iter    18:    Energy =   0.0641
Level     2,  Iter    19:    Energy =   0.0644
END OF LEVEL     2    DetJac Range:   0.0948  to   4.5628 
  Avg. Gradient Time  : 0.3240s  37.54% 
  Avg. Gaussian Time  : 0.4459s  51.67% 
  Avg. Iteration Time : 0.8631s 

real	0m28.735s
user	0m50.544s
sys	0m2.908s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 1'
CHUNK 0.651923 0.657692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 1
====================================
         PROGRESS: 0.651923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1974.28 	 OutFr   0.0000 	 RMSD     2.5300
Iter 002 	 Temp     3.72 	 Delta  1892.77 	 OutFr   0.0000 	 RMSD     2.1775
Iter 003 	 Temp     3.46 	 Delta  1787.36 	 OutFr   0.0000 	 RMSD     2.1406
Iter 004 	 Temp     3.22 	 Delta  1708.18 	 OutFr   0.0000 	 RMSD     2.1091
Iter 005 	 Temp     2.99 	 Delta  1636.32 	 OutFr   0.0000 	 RMSD     2.0883
Iter 006 	 Temp     2.78 	 Delta  1563.85 	 OutFr   0.0000 	 RMSD     2.0724
Iter 007 	 Temp     2.59 	 Delta  1488.21 	 OutFr   0.0000 	 RMSD     2.0608
Iter 008 	 Temp     2.41 	 Delta  1407.89 	 OutFr   0.0026 	 RMSD     2.0510
Iter 009 	 Temp     2.24 	 Delta  1323.06 	 OutFr   0.0052 	 RMSD     2.0424
Iter 010 	 Temp     2.08 	 Delta  1235.79 	 OutFr   0.0079 	 RMSD     2.0346
Iter 011 	 Temp     1.94 	 Delta  1149.69 	 OutFr   0.0079 	 RMSD     2.0277
Iter 012 	 Temp     1.80 	 Delta  1068.73 	 OutFr   0.0105 	 RMSD     2.0213
Iter 013 	 Temp     1.67 	 Delta   995.80 	 OutFr   0.0105 	 RMSD     2.0148
Iter 014 	 Temp     1.56 	 Delta   931.96 	 OutFr   0.0105 	 RMSD     2.0090
Iter 015 	 Temp     1.45 	 Delta   876.15 	 OutFr   0.0157 	 RMSD     2.0038
Iter 016 	 Temp     1.35 	 Delta   825.25 	 OutFr   0.0209 	 RMSD     1.9988
Iter 017 	 Temp     1.25 	 Delta   776.15 	 OutFr   0.0236 	 RMSD     1.9946
Iter 018 	 Temp     1.16 	 Delta   726.60 	 OutFr   0.0393 	 RMSD     1.9907
Iter 019 	 Temp     1.08 	 Delta   675.41 	 OutFr   0.0576 	 RMSD     1.9865
Iter 020 	 Temp     1.01 	 Delta   624.51 	 OutFr   0.0707 	 RMSD     1.9832
Iter 021 	 Temp     0.94 	 Delta   576.90 	 OutFr   0.0785 	 RMSD     1.9794
Iter 022 	 Temp     0.87 	 Delta   533.72 	 OutFr   0.0969 	 RMSD     1.9775
Iter 023 	 Temp     0.81 	 Delta   491.43 	 OutFr   0.1047 	 RMSD     1.9785
Iter 024 	 Temp     0.75 	 Delta   451.25 	 OutFr   0.1126 	 RMSD     1.9809
Iter 025 	 Temp     0.70 	 Delta   421.19 	 OutFr   0.1178 	 RMSD     1.9834
Iter 026 	 Temp     0.65 	 Delta   395.06 	 OutFr   0.1387 	 RMSD     1.9857
Iter 027 	 Temp     0.61 	 Delta   368.64 	 OutFr   0.1518 	 RMSD     1.9879
Iter 028 	 Temp     0.56 	 Delta   341.15 	 OutFr   0.1623 	 RMSD     1.9902
Iter 029 	 Temp     0.52 	 Delta   313.40 	 OutFr   0.1963 	 RMSD     1.9926
Iter 030 	 Temp     0.49 	 Delta   284.12 	 OutFr   0.2277 	 RMSD     1.9952
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.tUsz40hs/mybin.nii.gz
+ vtklevelset /tmp/ashs.tUsz40hs/mybin.nii.gz /tmp/ashs.tUsz40hs/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.tUsz40hs/mymesh.vtk /tmp/ashs.tUsz40hs/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2904.66934561   1.05297767
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.tUsz40hs/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.2526 to -11.1345
   Y : -18.6672 to 26.5613
   Z : -16.648 to 16.2239
   Image resolution  : 96 by 160 by 123
   Image box origin  : {-39.2526, -23.6672, -21.648}
   Image box size    : {33.3333, 55.5555, 43.0495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.2526, 23.6672, -21.648]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -o /tmp/ashs.tUsz40hs/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -o /tmp/ashs.tUsz40hs/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.tUsz40hs/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 0.5'
CHUNK 0.657692 0.663462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 0.5
====================================
         PROGRESS: 0.657692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.tUsz40hs/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.tUsz40hs/fixed_hw.nii.gz /tmp/ashs.tUsz40hs/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.486731, moving = 0.446388
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40529], [0.982092, 0.982092, 0.981955]
Level     0,  Iter     0:    Energy =   0.0595
Level     0,  Iter     1:    Energy =   0.0664
Level     0,  Iter     2:    Energy =   0.0735
Level     0,  Iter     3:    Energy =   0.0787
Level     0,  Iter     4:    Energy =   0.0830
Level     0,  Iter     5:    Energy =   0.0863
Level     0,  Iter     6:    Energy =   0.0888
Level     0,  Iter     7:    Energy =   0.0909
Level     0,  Iter     8:    Energy =   0.0925
Level     0,  Iter     9:    Energy =   0.0935
Level     0,  Iter    10:    Energy =   0.0945
Level     0,  Iter    11:    Energy =   0.0944
Level     0,  Iter    12:    Energy =   0.0949
Level     0,  Iter    13:    Energy =   0.0950
Level     0,  Iter    14:    Energy =   0.0954
Level     0,  Iter    15:    Energy =   0.0954
Level     0,  Iter    16:    Energy =   0.0957
Level     0,  Iter    17:    Energy =   0.0957
Level     0,  Iter    18:    Energy =   0.0959
Level     0,  Iter    19:    Energy =   0.0958
Level     0,  Iter    20:    Energy =   0.0960
Level     0,  Iter    21:    Energy =   0.0960
Level     0,  Iter    22:    Energy =   0.0962
Level     0,  Iter    23:    Energy =   0.0961
Level     0,  Iter    24:    Energy =   0.0963
Level     0,  Iter    25:    Energy =   0.0962
Level     0,  Iter    26:    Energy =   0.0964
Level     0,  Iter    27:    Energy =   0.0963
Level     0,  Iter    28:    Energy =   0.0964
Level     0,  Iter    29:    Energy =   0.0963
Level     0,  Iter    30:    Energy =   0.0965
Level     0,  Iter    31:    Energy =   0.0964
Level     0,  Iter    32:    Energy =   0.0965
Level     0,  Iter    33:    Energy =   0.0964
Level     0,  Iter    34:    Energy =   0.0966
Level     0,  Iter    35:    Energy =   0.0965
Level     0,  Iter    36:    Energy =   0.0966
Level     0,  Iter    37:    Energy =   0.0966
Level     0,  Iter    38:    Energy =   0.0967
Level     0,  Iter    39:    Energy =   0.0966
Level     0,  Iter    40:    Energy =   0.0967
Level     0,  Iter    41:    Energy =   0.0966
Level     0,  Iter    42:    Energy =   0.0968
Level     0,  Iter    43:    Energy =   0.0967
Level     0,  Iter    44:    Energy =   0.0968
Level     0,  Iter    45:    Energy =   0.0967
Level     0,  Iter    46:    Energy =   0.0968
Level     0,  Iter    47:    Energy =   0.0967
Level     0,  Iter    48:    Energy =   0.0968
Level     0,  Iter    49:    Energy =   0.0967
Level     0,  Iter    50:    Energy =   0.0968
Level     0,  Iter    51:    Energy =   0.0967
Level     0,  Iter    52:    Energy =   0.0968
Level     0,  Iter    53:    Energy =   0.0967
Level     0,  Iter    54:    Energy =   0.0968
Level     0,  Iter    55:    Energy =   0.0967
Level     0,  Iter    56:    Energy =   0.0968
Level     0,  Iter    57:    Energy =   0.0967
Level     0,  Iter    58:    Energy =   0.0968
Level     0,  Iter    59:    Energy =   0.0967
END OF LEVEL     0    DetJac Range:   0.3595  to   1.9538 
  Avg. Gradient Time  : 0.0080s  37.76% 
  Avg. Gaussian Time  : 0.0100s  47.19% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20264], [0.491046, 0.491046, 0.490977]
Level     1,  Iter     0:    Energy =   0.0669
Level     1,  Iter     1:    Energy =   0.0708
Level     1,  Iter     2:    Energy =   0.0741
Level     1,  Iter     3:    Energy =   0.0769
Level     1,  Iter     4:    Energy =   0.0792
Level     1,  Iter     5:    Energy =   0.0809
Level     1,  Iter     6:    Energy =   0.0820
Level     1,  Iter     7:    Energy =   0.0832
Level     1,  Iter     8:    Energy =   0.0846
Level     1,  Iter     9:    Energy =   0.0858
Level     1,  Iter    10:    Energy =   0.0868
Level     1,  Iter    11:    Energy =   0.0873
Level     1,  Iter    12:    Energy =   0.0871
Level     1,  Iter    13:    Energy =   0.0877
Level     1,  Iter    14:    Energy =   0.0874
Level     1,  Iter    15:    Energy =   0.0879
Level     1,  Iter    16:    Energy =   0.0878
Level     1,  Iter    17:    Energy =   0.0880
Level     1,  Iter    18:    Energy =   0.0878
Level     1,  Iter    19:    Energy =   0.0885
Level     1,  Iter    20:    Energy =   0.0882
Level     1,  Iter    21:    Energy =   0.0889
Level     1,  Iter    22:    Energy =   0.0886
Level     1,  Iter    23:    Energy =   0.0891
Level     1,  Iter    24:    Energy =   0.0889
Level     1,  Iter    25:    Energy =   0.0890
Level     1,  Iter    26:    Energy =   0.0887
Level     1,  Iter    27:    Energy =   0.0893
Level     1,  Iter    28:    Energy =   0.0890
Level     1,  Iter    29:    Energy =   0.0894
Level     1,  Iter    30:    Energy =   0.0891
Level     1,  Iter    31:    Energy =   0.0893
Level     1,  Iter    32:    Energy =   0.0891
Level     1,  Iter    33:    Energy =   0.0893
Level     1,  Iter    34:    Energy =   0.0891
Level     1,  Iter    35:    Energy =   0.0892
Level     1,  Iter    36:    Energy =   0.0890
Level     1,  Iter    37:    Energy =   0.0892
Level     1,  Iter    38:    Energy =   0.0890
Level     1,  Iter    39:    Energy =   0.0893
Level     1,  Iter    40:    Energy =   0.0891
Level     1,  Iter    41:    Energy =   0.0893
Level     1,  Iter    42:    Energy =   0.0891
Level     1,  Iter    43:    Energy =   0.0893
Level     1,  Iter    44:    Energy =   0.0891
Level     1,  Iter    45:    Energy =   0.0894
Level     1,  Iter    46:    Energy =   0.0892
Level     1,  Iter    47:    Energy =   0.0894
Level     1,  Iter    48:    Energy =   0.0892
Level     1,  Iter    49:    Energy =   0.0894
Level     1,  Iter    50:    Energy =   0.0892
Level     1,  Iter    51:    Energy =   0.0895
Level     1,  Iter    52:    Energy =   0.0893
Level     1,  Iter    53:    Energy =   0.0897
Level     1,  Iter    54:    Energy =   0.0895
Level     1,  Iter    55:    Energy =   0.0896
Level     1,  Iter    56:    Energy =   0.0894
Level     1,  Iter    57:    Energy =   0.0896
Level     1,  Iter    58:    Energy =   0.0894
Level     1,  Iter    59:    Energy =   0.0896
END OF LEVEL     1    DetJac Range:   0.2647  to   2.6045 
  Avg. Gradient Time  : 0.0481s  39.85% 
  Avg. Gaussian Time  : 0.0574s  47.60% 
  Avg. Iteration Time : 0.1206s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0475
Level     2,  Iter     1:    Energy =   0.0499
Level     2,  Iter     2:    Energy =   0.0527
Level     2,  Iter     3:    Energy =   0.0547
Level     2,  Iter     4:    Energy =   0.0564
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0594
Level     2,  Iter     7:    Energy =   0.0608
Level     2,  Iter     8:    Energy =   0.0616
Level     2,  Iter     9:    Energy =   0.0622
Level     2,  Iter    10:    Energy =   0.0626
Level     2,  Iter    11:    Energy =   0.0632
Level     2,  Iter    12:    Energy =   0.0638
Level     2,  Iter    13:    Energy =   0.0643
Level     2,  Iter    14:    Energy =   0.0647
Level     2,  Iter    15:    Energy =   0.0652
Level     2,  Iter    16:    Energy =   0.0657
Level     2,  Iter    17:    Energy =   0.0657
Level     2,  Iter    18:    Energy =   0.0660
Level     2,  Iter    19:    Energy =   0.0658
END OF LEVEL     2    DetJac Range:   0.1304  to   5.0599 
  Avg. Gradient Time  : 0.3397s  36.64% 
  Avg. Gaussian Time  : 0.4907s  52.94% 
  Avg. Iteration Time : 0.9269s 

real	0m30.668s
user	0m54.184s
sys	0m3.036s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 1'
CHUNK 0.657692 0.663462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 1
====================================
         PROGRESS: 0.657692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2142.51 	 OutFr   0.0000 	 RMSD     2.4864
Iter 002 	 Temp     3.72 	 Delta  1979.41 	 OutFr   0.0000 	 RMSD     2.4290
Iter 003 	 Temp     3.46 	 Delta  1816.44 	 OutFr   0.0000 	 RMSD     2.4241
Iter 004 	 Temp     3.22 	 Delta  1672.46 	 OutFr   0.0000 	 RMSD     2.4001
Iter 005 	 Temp     2.99 	 Delta  1548.75 	 OutFr   0.0000 	 RMSD     2.3773
Iter 006 	 Temp     2.78 	 Delta  1441.38 	 OutFr   0.0000 	 RMSD     2.3593
Iter 007 	 Temp     2.59 	 Delta  1344.75 	 OutFr   0.0000 	 RMSD     2.3452
Iter 008 	 Temp     2.41 	 Delta  1256.03 	 OutFr   0.0000 	 RMSD     2.3344
Iter 009 	 Temp     2.24 	 Delta  1175.84 	 OutFr   0.0000 	 RMSD     2.3266
Iter 010 	 Temp     2.08 	 Delta  1105.37 	 OutFr   0.0000 	 RMSD     2.3205
Iter 011 	 Temp     1.94 	 Delta  1044.94 	 OutFr   0.0000 	 RMSD     2.3157
Iter 012 	 Temp     1.80 	 Delta   992.30 	 OutFr   0.0000 	 RMSD     2.3118
Iter 013 	 Temp     1.67 	 Delta   943.91 	 OutFr   0.0026 	 RMSD     2.3082
Iter 014 	 Temp     1.56 	 Delta   897.57 	 OutFr   0.0026 	 RMSD     2.3046
Iter 015 	 Temp     1.45 	 Delta   852.45 	 OutFr   0.0052 	 RMSD     2.3016
Iter 016 	 Temp     1.35 	 Delta   808.15 	 OutFr   0.0079 	 RMSD     2.2990
Iter 017 	 Temp     1.25 	 Delta   763.73 	 OutFr   0.0105 	 RMSD     2.2966
Iter 018 	 Temp     1.16 	 Delta   717.70 	 OutFr   0.0131 	 RMSD     2.2943
Iter 019 	 Temp     1.08 	 Delta   669.99 	 OutFr   0.0157 	 RMSD     2.2921
Iter 020 	 Temp     1.01 	 Delta   621.72 	 OutFr   0.0262 	 RMSD     2.2896
Iter 021 	 Temp     0.94 	 Delta   573.09 	 OutFr   0.0419 	 RMSD     2.2865
Iter 022 	 Temp     0.87 	 Delta   522.16 	 OutFr   0.0602 	 RMSD     2.2836
Iter 023 	 Temp     0.81 	 Delta   470.15 	 OutFr   0.0812 	 RMSD     2.2824
Iter 024 	 Temp     0.75 	 Delta   424.76 	 OutFr   0.1047 	 RMSD     2.2824
Iter 025 	 Temp     0.70 	 Delta   389.62 	 OutFr   0.1204 	 RMSD     2.2831
Iter 026 	 Temp     0.65 	 Delta   359.70 	 OutFr   0.1361 	 RMSD     2.2846
Iter 027 	 Temp     0.61 	 Delta   331.14 	 OutFr   0.1571 	 RMSD     2.2850
Iter 028 	 Temp     0.56 	 Delta   302.83 	 OutFr   0.1780 	 RMSD     2.2846
Iter 029 	 Temp     0.52 	 Delta   277.36 	 OutFr   0.2042 	 RMSD     2.2831
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.anfZ3OGZ/mybin.nii.gz
+ vtklevelset /tmp/ashs.anfZ3OGZ/mybin.nii.gz /tmp/ashs.anfZ3OGZ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.anfZ3OGZ/mymesh.vtk /tmp/ashs.anfZ3OGZ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2833.92327199   1.02733136
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.anfZ3OGZ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.8819 to -11.4876
   Y : -21.814 to 24.9534
   Z : -23.2433 to 6.95873
   Image resolution  : 97 by 164 by 115
   Image box origin  : {-39.8819, -26.814, -28.2433}
   Image box size    : {33.6805, 56.9444, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.8819, 26.814, -28.2433]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -o /tmp/ashs.anfZ3OGZ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -o /tmp/ashs.anfZ3OGZ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.anfZ3OGZ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 0.5'
CHUNK 0.663462 0.669231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 0.5
====================================
         PROGRESS: 0.663462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.anfZ3OGZ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.anfZ3OGZ/fixed_hw.nii.gz /tmp/ashs.anfZ3OGZ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.502963, moving = 0.431282
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.40394], [0.952629, 0.982092, 0.981404]
Level     0,  Iter     0:    Energy =   0.0593
Level     0,  Iter     1:    Energy =   0.0651
Level     0,  Iter     2:    Energy =   0.0692
Level     0,  Iter     3:    Energy =   0.0728
Level     0,  Iter     4:    Energy =   0.0757
Level     0,  Iter     5:    Energy =   0.0779
Level     0,  Iter     6:    Energy =   0.0795
Level     0,  Iter     7:    Energy =   0.0806
Level     0,  Iter     8:    Energy =   0.0814
Level     0,  Iter     9:    Energy =   0.0820
Level     0,  Iter    10:    Energy =   0.0827
Level     0,  Iter    11:    Energy =   0.0830
Level     0,  Iter    12:    Energy =   0.0835
Level     0,  Iter    13:    Energy =   0.0837
Level     0,  Iter    14:    Energy =   0.0841
Level     0,  Iter    15:    Energy =   0.0841
Level     0,  Iter    16:    Energy =   0.0844
Level     0,  Iter    17:    Energy =   0.0846
Level     0,  Iter    18:    Energy =   0.0848
Level     0,  Iter    19:    Energy =   0.0848
Level     0,  Iter    20:    Energy =   0.0850
Level     0,  Iter    21:    Energy =   0.0851
Level     0,  Iter    22:    Energy =   0.0852
Level     0,  Iter    23:    Energy =   0.0851
Level     0,  Iter    24:    Energy =   0.0854
Level     0,  Iter    25:    Energy =   0.0856
Level     0,  Iter    26:    Energy =   0.0857
Level     0,  Iter    27:    Energy =   0.0856
Level     0,  Iter    28:    Energy =   0.0858
Level     0,  Iter    29:    Energy =   0.0858
Level     0,  Iter    30:    Energy =   0.0860
Level     0,  Iter    31:    Energy =   0.0858
Level     0,  Iter    32:    Energy =   0.0861
Level     0,  Iter    33:    Energy =   0.0861
Level     0,  Iter    34:    Energy =   0.0862
Level     0,  Iter    35:    Energy =   0.0860
Level     0,  Iter    36:    Energy =   0.0863
Level     0,  Iter    37:    Energy =   0.0861
Level     0,  Iter    38:    Energy =   0.0863
Level     0,  Iter    39:    Energy =   0.0860
Level     0,  Iter    40:    Energy =   0.0864
Level     0,  Iter    41:    Energy =   0.0864
Level     0,  Iter    42:    Energy =   0.0865
Level     0,  Iter    43:    Energy =   0.0862
Level     0,  Iter    44:    Energy =   0.0865
Level     0,  Iter    45:    Energy =   0.0863
Level     0,  Iter    46:    Energy =   0.0865
Level     0,  Iter    47:    Energy =   0.0861
Level     0,  Iter    48:    Energy =   0.0866
Level     0,  Iter    49:    Energy =   0.0865
Level     0,  Iter    50:    Energy =   0.0866
Level     0,  Iter    51:    Energy =   0.0862
Level     0,  Iter    52:    Energy =   0.0867
Level     0,  Iter    53:    Energy =   0.0865
Level     0,  Iter    54:    Energy =   0.0867
Level     0,  Iter    55:    Energy =   0.0864
Level     0,  Iter    56:    Energy =   0.0868
Level     0,  Iter    57:    Energy =   0.0867
Level     0,  Iter    58:    Energy =   0.0868
Level     0,  Iter    59:    Energy =   0.0865
END OF LEVEL     0    DetJac Range:   0.2890  to   2.2675 
  Avg. Gradient Time  : 0.0069s  37.06% 
  Avg. Gaussian Time  : 0.0090s  48.07% 
  Avg. Iteration Time : 0.0187s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.20197], [0.486035, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0596
Level     1,  Iter     1:    Energy =   0.0634
Level     1,  Iter     2:    Energy =   0.0665
Level     1,  Iter     3:    Energy =   0.0690
Level     1,  Iter     4:    Energy =   0.0708
Level     1,  Iter     5:    Energy =   0.0722
Level     1,  Iter     6:    Energy =   0.0736
Level     1,  Iter     7:    Energy =   0.0749
Level     1,  Iter     8:    Energy =   0.0760
Level     1,  Iter     9:    Energy =   0.0765
Level     1,  Iter    10:    Energy =   0.0772
Level     1,  Iter    11:    Energy =   0.0775
Level     1,  Iter    12:    Energy =   0.0781
Level     1,  Iter    13:    Energy =   0.0783
Level     1,  Iter    14:    Energy =   0.0788
Level     1,  Iter    15:    Energy =   0.0789
Level     1,  Iter    16:    Energy =   0.0795
Level     1,  Iter    17:    Energy =   0.0794
Level     1,  Iter    18:    Energy =   0.0799
Level     1,  Iter    19:    Energy =   0.0799
Level     1,  Iter    20:    Energy =   0.0801
Level     1,  Iter    21:    Energy =   0.0801
Level     1,  Iter    22:    Energy =   0.0804
Level     1,  Iter    23:    Energy =   0.0803
Level     1,  Iter    24:    Energy =   0.0807
Level     1,  Iter    25:    Energy =   0.0806
Level     1,  Iter    26:    Energy =   0.0809
Level     1,  Iter    27:    Energy =   0.0809
Level     1,  Iter    28:    Energy =   0.0809
Level     1,  Iter    29:    Energy =   0.0808
Level     1,  Iter    30:    Energy =   0.0811
Level     1,  Iter    31:    Energy =   0.0810
Level     1,  Iter    32:    Energy =   0.0812
Level     1,  Iter    33:    Energy =   0.0811
Level     1,  Iter    34:    Energy =   0.0814
Level     1,  Iter    35:    Energy =   0.0812
Level     1,  Iter    36:    Energy =   0.0814
Level     1,  Iter    37:    Energy =   0.0812
Level     1,  Iter    38:    Energy =   0.0814
Level     1,  Iter    39:    Energy =   0.0813
Level     1,  Iter    40:    Energy =   0.0815
Level     1,  Iter    41:    Energy =   0.0813
Level     1,  Iter    42:    Energy =   0.0815
Level     1,  Iter    43:    Energy =   0.0814
Level     1,  Iter    44:    Energy =   0.0817
Level     1,  Iter    45:    Energy =   0.0815
Level     1,  Iter    46:    Energy =   0.0816
Level     1,  Iter    47:    Energy =   0.0815
Level     1,  Iter    48:    Energy =   0.0817
Level     1,  Iter    49:    Energy =   0.0816
Level     1,  Iter    50:    Energy =   0.0818
Level     1,  Iter    51:    Energy =   0.0817
Level     1,  Iter    52:    Energy =   0.0818
Level     1,  Iter    53:    Energy =   0.0817
Level     1,  Iter    54:    Energy =   0.0820
Level     1,  Iter    55:    Energy =   0.0819
Level     1,  Iter    56:    Energy =   0.0820
Level     1,  Iter    57:    Energy =   0.0819
Level     1,  Iter    58:    Energy =   0.0821
Level     1,  Iter    59:    Energy =   0.0820
END OF LEVEL     1    DetJac Range:   0.1133  to   2.7673 
  Avg. Gradient Time  : 0.0419s  40.51% 
  Avg. Gaussian Time  : 0.0496s  47.90% 
  Avg. Iteration Time : 0.1035s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0440
Level     2,  Iter     1:    Energy =   0.0462
Level     2,  Iter     2:    Energy =   0.0483
Level     2,  Iter     3:    Energy =   0.0497
Level     2,  Iter     4:    Energy =   0.0508
Level     2,  Iter     5:    Energy =   0.0519
Level     2,  Iter     6:    Energy =   0.0529
Level     2,  Iter     7:    Energy =   0.0539
Level     2,  Iter     8:    Energy =   0.0549
Level     2,  Iter     9:    Energy =   0.0559
Level     2,  Iter    10:    Energy =   0.0567
Level     2,  Iter    11:    Energy =   0.0576
Level     2,  Iter    12:    Energy =   0.0583
Level     2,  Iter    13:    Energy =   0.0589
Level     2,  Iter    14:    Energy =   0.0594
Level     2,  Iter    15:    Energy =   0.0596
Level     2,  Iter    16:    Energy =   0.0599
Level     2,  Iter    17:    Energy =   0.0602
Level     2,  Iter    18:    Energy =   0.0604
Level     2,  Iter    19:    Energy =   0.0606
END OF LEVEL     2    DetJac Range:   0.0532  to   3.7434 
  Avg. Gradient Time  : 0.2905s  37.63% 
  Avg. Gaussian Time  : 0.3997s  51.76% 
  Avg. Iteration Time : 0.7721s 

real	0m25.749s
user	0m45.332s
sys	0m2.572s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 1'
CHUNK 0.663462 0.669231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 1
====================================
         PROGRESS: 0.663462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2005.50 	 OutFr   0.0000 	 RMSD     3.1440
Iter 002 	 Temp     3.72 	 Delta  1855.31 	 OutFr   0.0000 	 RMSD     2.5176
Iter 003 	 Temp     3.46 	 Delta  1720.76 	 OutFr   0.0000 	 RMSD     2.4925
Iter 004 	 Temp     3.22 	 Delta  1602.37 	 OutFr   0.0026 	 RMSD     2.4652
Iter 005 	 Temp     2.99 	 Delta  1497.42 	 OutFr   0.0052 	 RMSD     2.4430
Iter 006 	 Temp     2.78 	 Delta  1403.63 	 OutFr   0.0052 	 RMSD     2.4249
Iter 007 	 Temp     2.59 	 Delta  1317.43 	 OutFr   0.0079 	 RMSD     2.4095
Iter 008 	 Temp     2.41 	 Delta  1236.03 	 OutFr   0.0079 	 RMSD     2.3961
Iter 009 	 Temp     2.24 	 Delta  1158.88 	 OutFr   0.0079 	 RMSD     2.3825
Iter 010 	 Temp     2.08 	 Delta  1086.65 	 OutFr   0.0183 	 RMSD     2.3694
Iter 011 	 Temp     1.94 	 Delta  1019.55 	 OutFr   0.0209 	 RMSD     2.3565
Iter 012 	 Temp     1.80 	 Delta   956.62 	 OutFr   0.0288 	 RMSD     2.3457
Iter 013 	 Temp     1.67 	 Delta   896.27 	 OutFr   0.0314 	 RMSD     2.3372
Iter 014 	 Temp     1.56 	 Delta   837.81 	 OutFr   0.0340 	 RMSD     2.3312
Iter 015 	 Temp     1.45 	 Delta   781.03 	 OutFr   0.0419 	 RMSD     2.3264
Iter 016 	 Temp     1.35 	 Delta   726.31 	 OutFr   0.0524 	 RMSD     2.3232
Iter 017 	 Temp     1.25 	 Delta   674.84 	 OutFr   0.0733 	 RMSD     2.3206
Iter 018 	 Temp     1.16 	 Delta   627.18 	 OutFr   0.0864 	 RMSD     2.3186
Iter 019 	 Temp     1.08 	 Delta   581.84 	 OutFr   0.0942 	 RMSD     2.3177
Iter 020 	 Temp     1.01 	 Delta   537.06 	 OutFr   0.0995 	 RMSD     2.3179
Iter 021 	 Temp     0.94 	 Delta   494.62 	 OutFr   0.1230 	 RMSD     2.3188
Iter 022 	 Temp     0.87 	 Delta   457.99 	 OutFr   0.1361 	 RMSD     2.3206
Iter 023 	 Temp     0.81 	 Delta   426.39 	 OutFr   0.1387 	 RMSD     2.3227
Iter 024 	 Temp     0.75 	 Delta   396.21 	 OutFr   0.1545 	 RMSD     2.3254
Iter 025 	 Temp     0.70 	 Delta   365.62 	 OutFr   0.1754 	 RMSD     2.3290
Iter 026 	 Temp     0.65 	 Delta   334.09 	 OutFr   0.1911 	 RMSD     2.3341
Iter 027 	 Temp     0.61 	 Delta   302.28 	 OutFr   0.2147 	 RMSD     2.3410
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.rPjzsR9w/mybin.nii.gz
+ vtklevelset /tmp/ashs.rPjzsR9w/mybin.nii.gz /tmp/ashs.rPjzsR9w/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.rPjzsR9w/mymesh.vtk /tmp/ashs.rPjzsR9w/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2725.64265268   0.98807833
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.rPjzsR9w/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.4312 to -8.28642
   Y : -18.1729 to 25.4135
   Z : -30.1305 to 2.34828
   Image resolution  : 96 by 155 by 122
   Image box origin  : {-36.4312, -23.1729, -35.1305}
   Image box size    : {33.3333, 53.8194, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.4312, 23.1729, -35.1305]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -o /tmp/ashs.rPjzsR9w/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -o /tmp/ashs.rPjzsR9w/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.rPjzsR9w/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 0.5'
CHUNK 0.669231 0.675 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 0.5
====================================
         PROGRESS: 0.669231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.rPjzsR9w/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.rPjzsR9w/fixed_hw.nii.gz /tmp/ashs.rPjzsR9w/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.504869, moving = 0.791005
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.3902, 2.38573], [0.982092, 0.975797, 0.973971]
Level     0,  Iter     0:    Energy =   0.0553
Level     0,  Iter     1:    Energy =   0.0614
Level     0,  Iter     2:    Energy =   0.0682
Level     0,  Iter     3:    Energy =   0.0742
Level     0,  Iter     4:    Energy =   0.0779
Level     0,  Iter     5:    Energy =   0.0807
Level     0,  Iter     6:    Energy =   0.0828
Level     0,  Iter     7:    Energy =   0.0841
Level     0,  Iter     8:    Energy =   0.0855
Level     0,  Iter     9:    Energy =   0.0858
Level     0,  Iter    10:    Energy =   0.0867
Level     0,  Iter    11:    Energy =   0.0871
Level     0,  Iter    12:    Energy =   0.0874
Level     0,  Iter    13:    Energy =   0.0876
Level     0,  Iter    14:    Energy =   0.0879
Level     0,  Iter    15:    Energy =   0.0886
Level     0,  Iter    16:    Energy =   0.0885
Level     0,  Iter    17:    Energy =   0.0893
Level     0,  Iter    18:    Energy =   0.0890
Level     0,  Iter    19:    Energy =   0.0896
Level     0,  Iter    20:    Energy =   0.0894
Level     0,  Iter    21:    Energy =   0.0901
Level     0,  Iter    22:    Energy =   0.0898
Level     0,  Iter    23:    Energy =   0.0903
Level     0,  Iter    24:    Energy =   0.0901
Level     0,  Iter    25:    Energy =   0.0907
Level     0,  Iter    26:    Energy =   0.0904
Level     0,  Iter    27:    Energy =   0.0908
Level     0,  Iter    28:    Energy =   0.0906
Level     0,  Iter    29:    Energy =   0.0911
Level     0,  Iter    30:    Energy =   0.0908
Level     0,  Iter    31:    Energy =   0.0912
Level     0,  Iter    32:    Energy =   0.0909
Level     0,  Iter    33:    Energy =   0.0914
Level     0,  Iter    34:    Energy =   0.0911
Level     0,  Iter    35:    Energy =   0.0914
Level     0,  Iter    36:    Energy =   0.0912
Level     0,  Iter    37:    Energy =   0.0915
Level     0,  Iter    38:    Energy =   0.0913
Level     0,  Iter    39:    Energy =   0.0916
Level     0,  Iter    40:    Energy =   0.0914
Level     0,  Iter    41:    Energy =   0.0918
Level     0,  Iter    42:    Energy =   0.0914
Level     0,  Iter    43:    Energy =   0.0918
Level     0,  Iter    44:    Energy =   0.0914
Level     0,  Iter    45:    Energy =   0.0918
Level     0,  Iter    46:    Energy =   0.0915
Level     0,  Iter    47:    Energy =   0.0920
Level     0,  Iter    48:    Energy =   0.0917
Level     0,  Iter    49:    Energy =   0.0920
Level     0,  Iter    50:    Energy =   0.0918
Level     0,  Iter    51:    Energy =   0.0923
Level     0,  Iter    52:    Energy =   0.0918
Level     0,  Iter    53:    Energy =   0.0922
Level     0,  Iter    54:    Energy =   0.0917
Level     0,  Iter    55:    Energy =   0.0921
Level     0,  Iter    56:    Energy =   0.0919
Level     0,  Iter    57:    Energy =   0.0923
Level     0,  Iter    58:    Energy =   0.0921
Level     0,  Iter    59:    Energy =   0.0925
END OF LEVEL     0    DetJac Range:   0.4452  to   2.2083 
  Avg. Gradient Time  : 0.0078s  37.91% 
  Avg. Gaussian Time  : 0.0096s  46.75% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1951, 1.21242], [0.491046, 0.487898, 0.494969]
Level     1,  Iter     0:    Energy =   0.0618
Level     1,  Iter     1:    Energy =   0.0664
Level     1,  Iter     2:    Energy =   0.0700
Level     1,  Iter     3:    Energy =   0.0730
Level     1,  Iter     4:    Energy =   0.0759
Level     1,  Iter     5:    Energy =   0.0778
Level     1,  Iter     6:    Energy =   0.0795
Level     1,  Iter     7:    Energy =   0.0811
Level     1,  Iter     8:    Energy =   0.0822
Level     1,  Iter     9:    Energy =   0.0824
Level     1,  Iter    10:    Energy =   0.0830
Level     1,  Iter    11:    Energy =   0.0831
Level     1,  Iter    12:    Energy =   0.0834
Level     1,  Iter    13:    Energy =   0.0835
Level     1,  Iter    14:    Energy =   0.0838
Level     1,  Iter    15:    Energy =   0.0838
Level     1,  Iter    16:    Energy =   0.0841
Level     1,  Iter    17:    Energy =   0.0841
Level     1,  Iter    18:    Energy =   0.0845
Level     1,  Iter    19:    Energy =   0.0843
Level     1,  Iter    20:    Energy =   0.0847
Level     1,  Iter    21:    Energy =   0.0846
Level     1,  Iter    22:    Energy =   0.0849
Level     1,  Iter    23:    Energy =   0.0848
Level     1,  Iter    24:    Energy =   0.0850
Level     1,  Iter    25:    Energy =   0.0848
Level     1,  Iter    26:    Energy =   0.0851
Level     1,  Iter    27:    Energy =   0.0849
Level     1,  Iter    28:    Energy =   0.0852
Level     1,  Iter    29:    Energy =   0.0850
Level     1,  Iter    30:    Energy =   0.0853
Level     1,  Iter    31:    Energy =   0.0851
Level     1,  Iter    32:    Energy =   0.0854
Level     1,  Iter    33:    Energy =   0.0852
Level     1,  Iter    34:    Energy =   0.0854
Level     1,  Iter    35:    Energy =   0.0852
Level     1,  Iter    36:    Energy =   0.0855
Level     1,  Iter    37:    Energy =   0.0853
Level     1,  Iter    38:    Energy =   0.0855
Level     1,  Iter    39:    Energy =   0.0853
Level     1,  Iter    40:    Energy =   0.0856
Level     1,  Iter    41:    Energy =   0.0853
Level     1,  Iter    42:    Energy =   0.0857
Level     1,  Iter    43:    Energy =   0.0855
Level     1,  Iter    44:    Energy =   0.0858
Level     1,  Iter    45:    Energy =   0.0855
Level     1,  Iter    46:    Energy =   0.0858
Level     1,  Iter    47:    Energy =   0.0856
Level     1,  Iter    48:    Energy =   0.0859
Level     1,  Iter    49:    Energy =   0.0857
Level     1,  Iter    50:    Energy =   0.0859
Level     1,  Iter    51:    Energy =   0.0857
Level     1,  Iter    52:    Energy =   0.0859
Level     1,  Iter    53:    Energy =   0.0857
Level     1,  Iter    54:    Energy =   0.0859
Level     1,  Iter    55:    Energy =   0.0858
Level     1,  Iter    56:    Energy =   0.0860
Level     1,  Iter    57:    Energy =   0.0858
Level     1,  Iter    58:    Energy =   0.0860
Level     1,  Iter    59:    Energy =   0.0859
END OF LEVEL     1    DetJac Range:   0.2308  to   2.8614 
  Avg. Gradient Time  : 0.0452s  39.84% 
  Avg. Gaussian Time  : 0.0543s  47.84% 
  Avg. Iteration Time : 0.1134s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0472
Level     2,  Iter     1:    Energy =   0.0497
Level     2,  Iter     2:    Energy =   0.0520
Level     2,  Iter     3:    Energy =   0.0537
Level     2,  Iter     4:    Energy =   0.0551
Level     2,  Iter     5:    Energy =   0.0563
Level     2,  Iter     6:    Energy =   0.0575
Level     2,  Iter     7:    Energy =   0.0587
Level     2,  Iter     8:    Energy =   0.0597
Level     2,  Iter     9:    Energy =   0.0606
Level     2,  Iter    10:    Energy =   0.0613
Level     2,  Iter    11:    Energy =   0.0621
Level     2,  Iter    12:    Energy =   0.0628
Level     2,  Iter    13:    Energy =   0.0632
Level     2,  Iter    14:    Energy =   0.0633
Level     2,  Iter    15:    Energy =   0.0636
Level     2,  Iter    16:    Energy =   0.0636
Level     2,  Iter    17:    Energy =   0.0637
Level     2,  Iter    18:    Energy =   0.0637
Level     2,  Iter    19:    Energy =   0.0637
END OF LEVEL     2    DetJac Range:   0.1497  to   4.6219 
  Avg. Gradient Time  : 0.3159s  37.40% 
  Avg. Gaussian Time  : 0.4379s  51.83% 
  Avg. Iteration Time : 0.8449s 

real	0m28.273s
user	0m50.060s
sys	0m2.788s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 1'
CHUNK 0.669231 0.675 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 1
====================================
         PROGRESS: 0.669231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1531.82 	 OutFr   0.0000 	 RMSD     2.5769
Iter 002 	 Temp     3.72 	 Delta  1375.17 	 OutFr   0.0000 	 RMSD     2.0321
Iter 003 	 Temp     3.46 	 Delta  1269.18 	 OutFr   0.0000 	 RMSD     2.0629
Iter 004 	 Temp     3.22 	 Delta  1182.01 	 OutFr   0.0000 	 RMSD     2.0477
Iter 005 	 Temp     2.99 	 Delta  1106.59 	 OutFr   0.0000 	 RMSD     2.0243
Iter 006 	 Temp     2.78 	 Delta  1040.53 	 OutFr   0.0000 	 RMSD     2.0020
Iter 007 	 Temp     2.59 	 Delta   982.21 	 OutFr   0.0026 	 RMSD     1.9832
Iter 008 	 Temp     2.41 	 Delta   929.30 	 OutFr   0.0026 	 RMSD     1.9678
Iter 009 	 Temp     2.24 	 Delta   878.66 	 OutFr   0.0052 	 RMSD     1.9547
Iter 010 	 Temp     2.08 	 Delta   829.22 	 OutFr   0.0079 	 RMSD     1.9435
Iter 011 	 Temp     1.94 	 Delta   784.67 	 OutFr   0.0079 	 RMSD     1.9347
Iter 012 	 Temp     1.80 	 Delta   747.80 	 OutFr   0.0105 	 RMSD     1.9278
Iter 013 	 Temp     1.67 	 Delta   714.67 	 OutFr   0.0131 	 RMSD     1.9233
Iter 014 	 Temp     1.56 	 Delta   682.43 	 OutFr   0.0183 	 RMSD     1.9203
Iter 015 	 Temp     1.45 	 Delta   655.18 	 OutFr   0.0209 	 RMSD     1.9179
Iter 016 	 Temp     1.35 	 Delta   634.75 	 OutFr   0.0209 	 RMSD     1.9164
Iter 017 	 Temp     1.25 	 Delta   616.96 	 OutFr   0.0236 	 RMSD     1.9153
Iter 018 	 Temp     1.16 	 Delta   598.03 	 OutFr   0.0314 	 RMSD     1.9146
Iter 019 	 Temp     1.08 	 Delta   575.54 	 OutFr   0.0393 	 RMSD     1.9142
Iter 020 	 Temp     1.01 	 Delta   548.73 	 OutFr   0.0445 	 RMSD     1.9141
Iter 021 	 Temp     0.94 	 Delta   519.13 	 OutFr   0.0602 	 RMSD     1.9140
Iter 022 	 Temp     0.87 	 Delta   489.11 	 OutFr   0.0681 	 RMSD     1.9139
Iter 023 	 Temp     0.81 	 Delta   460.23 	 OutFr   0.0733 	 RMSD     1.9138
Iter 024 	 Temp     0.75 	 Delta   432.50 	 OutFr   0.0838 	 RMSD     1.9136
Iter 025 	 Temp     0.70 	 Delta   405.23 	 OutFr   0.1021 	 RMSD     1.9138
Iter 026 	 Temp     0.65 	 Delta   377.91 	 OutFr   0.1099 	 RMSD     1.9144
Iter 027 	 Temp     0.61 	 Delta   350.23 	 OutFr   0.1335 	 RMSD     1.9150
Iter 028 	 Temp     0.56 	 Delta   322.85 	 OutFr   0.1649 	 RMSD     1.9155
Iter 029 	 Temp     0.52 	 Delta   295.19 	 OutFr   0.1963 	 RMSD     1.9157
Iter 030 	 Temp     0.49 	 Delta   267.77 	 OutFr   0.2173 	 RMSD     1.9158
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.zRZTB5cy/mybin.nii.gz
+ vtklevelset /tmp/ashs.zRZTB5cy/mybin.nii.gz /tmp/ashs.zRZTB5cy/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.zRZTB5cy/mymesh.vtk /tmp/ashs.zRZTB5cy/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2587.87272853   0.93813507
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.zRZTB5cy/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.8845 to -10.6424
   Y : -17.2974 to 28.2536
   Z : -29.4129 to -0.352794
   Image resolution  : 90 by 160 by 112
   Image box origin  : {-36.8845, -22.2974, -34.4129}
   Image box size    : {31.25, 55.5555, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.8845, 22.2974, -34.4129]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -o /tmp/ashs.zRZTB5cy/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -o /tmp/ashs.zRZTB5cy/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.zRZTB5cy/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 0.5'
CHUNK 0.675 0.680769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 0.5
====================================
         PROGRESS: 0.675               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.zRZTB5cy/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.zRZTB5cy/fixed_hw.nii.gz /tmp/ashs.zRZTB5cy/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.504579, moving = 0.655475
LEVEL 1 of 3
  Smoothing sigmas: [2.35333, 2.40562, 2.42484], [0.960742, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0376
Level     0,  Iter     1:    Energy =   0.0440
Level     0,  Iter     2:    Energy =   0.0499
Level     0,  Iter     3:    Energy =   0.0545
Level     0,  Iter     4:    Energy =   0.0583
Level     0,  Iter     5:    Energy =   0.0623
Level     0,  Iter     6:    Energy =   0.0652
Level     0,  Iter     7:    Energy =   0.0676
Level     0,  Iter     8:    Energy =   0.0692
Level     0,  Iter     9:    Energy =   0.0703
Level     0,  Iter    10:    Energy =   0.0709
Level     0,  Iter    11:    Energy =   0.0728
Level     0,  Iter    12:    Energy =   0.0737
Level     0,  Iter    13:    Energy =   0.0739
Level     0,  Iter    14:    Energy =   0.0745
Level     0,  Iter    15:    Energy =   0.0749
Level     0,  Iter    16:    Energy =   0.0754
Level     0,  Iter    17:    Energy =   0.0755
Level     0,  Iter    18:    Energy =   0.0761
Level     0,  Iter    19:    Energy =   0.0761
Level     0,  Iter    20:    Energy =   0.0767
Level     0,  Iter    21:    Energy =   0.0767
Level     0,  Iter    22:    Energy =   0.0772
Level     0,  Iter    23:    Energy =   0.0770
Level     0,  Iter    24:    Energy =   0.0774
Level     0,  Iter    25:    Energy =   0.0773
Level     0,  Iter    26:    Energy =   0.0776
Level     0,  Iter    27:    Energy =   0.0775
Level     0,  Iter    28:    Energy =   0.0778
Level     0,  Iter    29:    Energy =   0.0777
Level     0,  Iter    30:    Energy =   0.0780
Level     0,  Iter    31:    Energy =   0.0779
Level     0,  Iter    32:    Energy =   0.0782
Level     0,  Iter    33:    Energy =   0.0780
Level     0,  Iter    34:    Energy =   0.0783
Level     0,  Iter    35:    Energy =   0.0781
Level     0,  Iter    36:    Energy =   0.0784
Level     0,  Iter    37:    Energy =   0.0782
Level     0,  Iter    38:    Energy =   0.0785
Level     0,  Iter    39:    Energy =   0.0784
Level     0,  Iter    40:    Energy =   0.0785
Level     0,  Iter    41:    Energy =   0.0785
Level     0,  Iter    42:    Energy =   0.0787
Level     0,  Iter    43:    Energy =   0.0786
Level     0,  Iter    44:    Energy =   0.0788
Level     0,  Iter    45:    Energy =   0.0787
Level     0,  Iter    46:    Energy =   0.0789
Level     0,  Iter    47:    Energy =   0.0788
Level     0,  Iter    48:    Energy =   0.0790
Level     0,  Iter    49:    Energy =   0.0789
Level     0,  Iter    50:    Energy =   0.0790
Level     0,  Iter    51:    Energy =   0.0790
Level     0,  Iter    52:    Energy =   0.0791
Level     0,  Iter    53:    Energy =   0.0790
Level     0,  Iter    54:    Energy =   0.0791
Level     0,  Iter    55:    Energy =   0.0791
Level     0,  Iter    56:    Energy =   0.0792
Level     0,  Iter    57:    Energy =   0.0792
Level     0,  Iter    58:    Energy =   0.0793
Level     0,  Iter    59:    Energy =   0.0793
END OF LEVEL     0    DetJac Range:   0.2957  to   2.1075 
  Avg. Gradient Time  : 0.0070s  37.81% 
  Avg. Gaussian Time  : 0.0086s  47.02% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0521
Level     1,  Iter     1:    Energy =   0.0562
Level     1,  Iter     2:    Energy =   0.0596
Level     1,  Iter     3:    Energy =   0.0627
Level     1,  Iter     4:    Energy =   0.0656
Level     1,  Iter     5:    Energy =   0.0676
Level     1,  Iter     6:    Energy =   0.0697
Level     1,  Iter     7:    Energy =   0.0714
Level     1,  Iter     8:    Energy =   0.0726
Level     1,  Iter     9:    Energy =   0.0736
Level     1,  Iter    10:    Energy =   0.0743
Level     1,  Iter    11:    Energy =   0.0750
Level     1,  Iter    12:    Energy =   0.0751
Level     1,  Iter    13:    Energy =   0.0756
Level     1,  Iter    14:    Energy =   0.0760
Level     1,  Iter    15:    Energy =   0.0761
Level     1,  Iter    16:    Energy =   0.0762
Level     1,  Iter    17:    Energy =   0.0764
Level     1,  Iter    18:    Energy =   0.0766
Level     1,  Iter    19:    Energy =   0.0768
Level     1,  Iter    20:    Energy =   0.0768
Level     1,  Iter    21:    Energy =   0.0768
Level     1,  Iter    22:    Energy =   0.0771
Level     1,  Iter    23:    Energy =   0.0772
Level     1,  Iter    24:    Energy =   0.0771
Level     1,  Iter    25:    Energy =   0.0772
Level     1,  Iter    26:    Energy =   0.0774
Level     1,  Iter    27:    Energy =   0.0773
Level     1,  Iter    28:    Energy =   0.0775
Level     1,  Iter    29:    Energy =   0.0775
Level     1,  Iter    30:    Energy =   0.0774
Level     1,  Iter    31:    Energy =   0.0776
Level     1,  Iter    32:    Energy =   0.0776
Level     1,  Iter    33:    Energy =   0.0776
Level     1,  Iter    34:    Energy =   0.0777
Level     1,  Iter    35:    Energy =   0.0777
Level     1,  Iter    36:    Energy =   0.0778
Level     1,  Iter    37:    Energy =   0.0778
Level     1,  Iter    38:    Energy =   0.0778
Level     1,  Iter    39:    Energy =   0.0779
Level     1,  Iter    40:    Energy =   0.0778
Level     1,  Iter    41:    Energy =   0.0779
Level     1,  Iter    42:    Energy =   0.0778
Level     1,  Iter    43:    Energy =   0.0780
Level     1,  Iter    44:    Energy =   0.0778
Level     1,  Iter    45:    Energy =   0.0781
Level     1,  Iter    46:    Energy =   0.0779
Level     1,  Iter    47:    Energy =   0.0780
Level     1,  Iter    48:    Energy =   0.0779
Level     1,  Iter    49:    Energy =   0.0780
Level     1,  Iter    50:    Energy =   0.0779
Level     1,  Iter    51:    Energy =   0.0781
Level     1,  Iter    52:    Energy =   0.0779
Level     1,  Iter    53:    Energy =   0.0781
Level     1,  Iter    54:    Energy =   0.0780
Level     1,  Iter    55:    Energy =   0.0781
Level     1,  Iter    56:    Energy =   0.0780
Level     1,  Iter    57:    Energy =   0.0782
Level     1,  Iter    58:    Energy =   0.0780
Level     1,  Iter    59:    Energy =   0.0782
END OF LEVEL     1    DetJac Range:   0.1285  to   3.4895 
  Avg. Gradient Time  : 0.0410s  40.53% 
  Avg. Gaussian Time  : 0.0479s  47.40% 
  Avg. Iteration Time : 0.1011s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0389
Level     2,  Iter     1:    Energy =   0.0413
Level     2,  Iter     2:    Energy =   0.0436
Level     2,  Iter     3:    Energy =   0.0456
Level     2,  Iter     4:    Energy =   0.0470
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0489
Level     2,  Iter     7:    Energy =   0.0497
Level     2,  Iter     8:    Energy =   0.0504
Level     2,  Iter     9:    Energy =   0.0510
Level     2,  Iter    10:    Energy =   0.0516
Level     2,  Iter    11:    Energy =   0.0521
Level     2,  Iter    12:    Energy =   0.0525
Level     2,  Iter    13:    Energy =   0.0529
Level     2,  Iter    14:    Energy =   0.0533
Level     2,  Iter    15:    Energy =   0.0537
Level     2,  Iter    16:    Energy =   0.0540
Level     2,  Iter    17:    Energy =   0.0543
Level     2,  Iter    18:    Energy =   0.0546
Level     2,  Iter    19:    Energy =   0.0548
END OF LEVEL     2    DetJac Range:   0.0993  to   3.9932 
  Avg. Gradient Time  : 0.2881s  37.64% 
  Avg. Gaussian Time  : 0.3950s  51.61% 
  Avg. Iteration Time : 0.7653s 

real	0m25.432s
user	0m44.944s
sys	0m2.500s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 1'
CHUNK 0.675 0.680769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 1
====================================
         PROGRESS: 0.675               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1954.56 	 OutFr   0.0000 	 RMSD     2.5372
Iter 002 	 Temp     3.72 	 Delta  1818.71 	 OutFr   0.0000 	 RMSD     2.1499
Iter 003 	 Temp     3.46 	 Delta  1685.61 	 OutFr   0.0000 	 RMSD     2.1540
Iter 004 	 Temp     3.22 	 Delta  1574.79 	 OutFr   0.0000 	 RMSD     2.1327
Iter 005 	 Temp     2.99 	 Delta  1477.10 	 OutFr   0.0026 	 RMSD     2.1142
Iter 006 	 Temp     2.78 	 Delta  1387.81 	 OutFr   0.0079 	 RMSD     2.0993
Iter 007 	 Temp     2.59 	 Delta  1306.04 	 OutFr   0.0079 	 RMSD     2.0862
Iter 008 	 Temp     2.41 	 Delta  1231.56 	 OutFr   0.0131 	 RMSD     2.0742
Iter 009 	 Temp     2.24 	 Delta  1162.56 	 OutFr   0.0131 	 RMSD     2.0632
Iter 010 	 Temp     2.08 	 Delta  1097.38 	 OutFr   0.0157 	 RMSD     2.0528
Iter 011 	 Temp     1.94 	 Delta  1035.07 	 OutFr   0.0183 	 RMSD     2.0430
Iter 012 	 Temp     1.80 	 Delta   974.25 	 OutFr   0.0209 	 RMSD     2.0336
Iter 013 	 Temp     1.67 	 Delta   913.13 	 OutFr   0.0262 	 RMSD     2.0246
Iter 014 	 Temp     1.56 	 Delta   850.77 	 OutFr   0.0314 	 RMSD     2.0169
Iter 015 	 Temp     1.45 	 Delta   788.12 	 OutFr   0.0340 	 RMSD     2.0098
Iter 016 	 Temp     1.35 	 Delta   728.15 	 OutFr   0.0366 	 RMSD     2.0029
Iter 017 	 Temp     1.25 	 Delta   673.94 	 OutFr   0.0445 	 RMSD     1.9958
Iter 018 	 Temp     1.16 	 Delta   626.06 	 OutFr   0.0497 	 RMSD     1.9890
Iter 019 	 Temp     1.08 	 Delta   582.83 	 OutFr   0.0524 	 RMSD     1.9832
Iter 020 	 Temp     1.01 	 Delta   542.07 	 OutFr   0.0707 	 RMSD     1.9793
Iter 021 	 Temp     0.94 	 Delta   502.03 	 OutFr   0.0785 	 RMSD     1.9757
Iter 022 	 Temp     0.87 	 Delta   462.30 	 OutFr   0.0969 	 RMSD     1.9735
Iter 023 	 Temp     0.81 	 Delta   424.15 	 OutFr   0.1204 	 RMSD     1.9716
Iter 024 	 Temp     0.75 	 Delta   388.15 	 OutFr   0.1387 	 RMSD     1.9696
Iter 025 	 Temp     0.70 	 Delta   355.45 	 OutFr   0.1545 	 RMSD     1.9684
Iter 026 	 Temp     0.65 	 Delta   326.74 	 OutFr   0.1702 	 RMSD     1.9678
Iter 027 	 Temp     0.61 	 Delta   303.32 	 OutFr   0.1859 	 RMSD     1.9657
Iter 028 	 Temp     0.56 	 Delta   284.62 	 OutFr   0.2094 	 RMSD     1.9658
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.RdVWWAkg/mybin.nii.gz
+ vtklevelset /tmp/ashs.RdVWWAkg/mybin.nii.gz /tmp/ashs.RdVWWAkg/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.RdVWWAkg/mymesh.vtk /tmp/ashs.RdVWWAkg/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2799.19018311   1.01474020
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.RdVWWAkg/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.0689 to -10.1926
   Y : -20.3283 to 24.0975
   Z : -28.8248 to 2.8724
   Image resolution  : 98 by 157 by 120
   Image box origin  : {-39.0689, -25.3283, -33.8248}
   Image box size    : {34.0278, 54.5139, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.0689, 25.3283, -33.8248]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -o /tmp/ashs.RdVWWAkg/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -o /tmp/ashs.RdVWWAkg/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.RdVWWAkg/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 0.5'
CHUNK 0.680769 0.686538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 0.5
====================================
         PROGRESS: 0.680769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.RdVWWAkg/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.RdVWWAkg/fixed_hw.nii.gz /tmp/ashs.RdVWWAkg/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.497702, moving = 0.523486
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.36052, 2.42484], [0.96245, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0355
Level     0,  Iter     1:    Energy =   0.0400
Level     0,  Iter     2:    Energy =   0.0443
Level     0,  Iter     3:    Energy =   0.0487
Level     0,  Iter     4:    Energy =   0.0519
Level     0,  Iter     5:    Energy =   0.0542
Level     0,  Iter     6:    Energy =   0.0558
Level     0,  Iter     7:    Energy =   0.0573
Level     0,  Iter     8:    Energy =   0.0587
Level     0,  Iter     9:    Energy =   0.0603
Level     0,  Iter    10:    Energy =   0.0613
Level     0,  Iter    11:    Energy =   0.0624
Level     0,  Iter    12:    Energy =   0.0633
Level     0,  Iter    13:    Energy =   0.0636
Level     0,  Iter    14:    Energy =   0.0632
Level     0,  Iter    15:    Energy =   0.0636
Level     0,  Iter    16:    Energy =   0.0639
Level     0,  Iter    17:    Energy =   0.0641
Level     0,  Iter    18:    Energy =   0.0641
Level     0,  Iter    19:    Energy =   0.0643
Level     0,  Iter    20:    Energy =   0.0650
Level     0,  Iter    21:    Energy =   0.0654
Level     0,  Iter    22:    Energy =   0.0651
Level     0,  Iter    23:    Energy =   0.0652
Level     0,  Iter    24:    Energy =   0.0657
Level     0,  Iter    25:    Energy =   0.0659
Level     0,  Iter    26:    Energy =   0.0657
Level     0,  Iter    27:    Energy =   0.0658
Level     0,  Iter    28:    Energy =   0.0664
Level     0,  Iter    29:    Energy =   0.0669
Level     0,  Iter    30:    Energy =   0.0664
Level     0,  Iter    31:    Energy =   0.0664
Level     0,  Iter    32:    Energy =   0.0668
Level     0,  Iter    33:    Energy =   0.0669
Level     0,  Iter    34:    Energy =   0.0667
Level     0,  Iter    35:    Energy =   0.0667
Level     0,  Iter    36:    Energy =   0.0672
Level     0,  Iter    37:    Energy =   0.0673
Level     0,  Iter    38:    Energy =   0.0670
Level     0,  Iter    39:    Energy =   0.0670
Level     0,  Iter    40:    Energy =   0.0674
Level     0,  Iter    41:    Energy =   0.0676
Level     0,  Iter    42:    Energy =   0.0671
Level     0,  Iter    43:    Energy =   0.0673
Level     0,  Iter    44:    Energy =   0.0670
Level     0,  Iter    45:    Energy =   0.0672
Level     0,  Iter    46:    Energy =   0.0670
Level     0,  Iter    47:    Energy =   0.0671
Level     0,  Iter    48:    Energy =   0.0670
Level     0,  Iter    49:    Energy =   0.0671
Level     0,  Iter    50:    Energy =   0.0671
Level     0,  Iter    51:    Energy =   0.0672
Level     0,  Iter    52:    Energy =   0.0671
Level     0,  Iter    53:    Energy =   0.0671
Level     0,  Iter    54:    Energy =   0.0671
Level     0,  Iter    55:    Energy =   0.0671
Level     0,  Iter    56:    Energy =   0.0670
Level     0,  Iter    57:    Energy =   0.0671
Level     0,  Iter    58:    Energy =   0.0671
Level     0,  Iter    59:    Energy =   0.0672
END OF LEVEL     0    DetJac Range:   0.2059  to   2.1485 
  Avg. Gradient Time  : 0.0068s  37.62% 
  Avg. Gaussian Time  : 0.0086s  47.16% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.21242], [0.491046, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0454
Level     1,  Iter     1:    Energy =   0.0492
Level     1,  Iter     2:    Energy =   0.0527
Level     1,  Iter     3:    Energy =   0.0554
Level     1,  Iter     4:    Energy =   0.0578
Level     1,  Iter     5:    Energy =   0.0598
Level     1,  Iter     6:    Energy =   0.0613
Level     1,  Iter     7:    Energy =   0.0628
Level     1,  Iter     8:    Energy =   0.0645
Level     1,  Iter     9:    Energy =   0.0658
Level     1,  Iter    10:    Energy =   0.0669
Level     1,  Iter    11:    Energy =   0.0678
Level     1,  Iter    12:    Energy =   0.0682
Level     1,  Iter    13:    Energy =   0.0684
Level     1,  Iter    14:    Energy =   0.0686
Level     1,  Iter    15:    Energy =   0.0689
Level     1,  Iter    16:    Energy =   0.0690
Level     1,  Iter    17:    Energy =   0.0692
Level     1,  Iter    18:    Energy =   0.0694
Level     1,  Iter    19:    Energy =   0.0695
Level     1,  Iter    20:    Energy =   0.0696
Level     1,  Iter    21:    Energy =   0.0698
Level     1,  Iter    22:    Energy =   0.0698
Level     1,  Iter    23:    Energy =   0.0700
Level     1,  Iter    24:    Energy =   0.0700
Level     1,  Iter    25:    Energy =   0.0701
Level     1,  Iter    26:    Energy =   0.0702
Level     1,  Iter    27:    Energy =   0.0703
Level     1,  Iter    28:    Energy =   0.0703
Level     1,  Iter    29:    Energy =   0.0705
Level     1,  Iter    30:    Energy =   0.0705
Level     1,  Iter    31:    Energy =   0.0706
Level     1,  Iter    32:    Energy =   0.0706
Level     1,  Iter    33:    Energy =   0.0706
Level     1,  Iter    34:    Energy =   0.0706
Level     1,  Iter    35:    Energy =   0.0707
Level     1,  Iter    36:    Energy =   0.0707
Level     1,  Iter    37:    Energy =   0.0707
Level     1,  Iter    38:    Energy =   0.0707
Level     1,  Iter    39:    Energy =   0.0708
Level     1,  Iter    40:    Energy =   0.0708
Level     1,  Iter    41:    Energy =   0.0708
Level     1,  Iter    42:    Energy =   0.0708
Level     1,  Iter    43:    Energy =   0.0709
Level     1,  Iter    44:    Energy =   0.0709
Level     1,  Iter    45:    Energy =   0.0710
Level     1,  Iter    46:    Energy =   0.0709
Level     1,  Iter    47:    Energy =   0.0711
Level     1,  Iter    48:    Energy =   0.0710
Level     1,  Iter    49:    Energy =   0.0712
Level     1,  Iter    50:    Energy =   0.0711
Level     1,  Iter    51:    Energy =   0.0712
Level     1,  Iter    52:    Energy =   0.0712
Level     1,  Iter    53:    Energy =   0.0713
Level     1,  Iter    54:    Energy =   0.0713
Level     1,  Iter    55:    Energy =   0.0714
Level     1,  Iter    56:    Energy =   0.0713
Level     1,  Iter    57:    Energy =   0.0715
Level     1,  Iter    58:    Energy =   0.0714
Level     1,  Iter    59:    Energy =   0.0715
END OF LEVEL     1    DetJac Range:   0.1149  to   3.1996 
  Avg. Gradient Time  : 0.0411s  40.39% 
  Avg. Gaussian Time  : 0.0485s  47.69% 
  Avg. Iteration Time : 0.1018s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0371
Level     2,  Iter     1:    Energy =   0.0396
Level     2,  Iter     2:    Energy =   0.0418
Level     2,  Iter     3:    Energy =   0.0434
Level     2,  Iter     4:    Energy =   0.0449
Level     2,  Iter     5:    Energy =   0.0461
Level     2,  Iter     6:    Energy =   0.0471
Level     2,  Iter     7:    Energy =   0.0479
Level     2,  Iter     8:    Energy =   0.0487
Level     2,  Iter     9:    Energy =   0.0494
Level     2,  Iter    10:    Energy =   0.0500
Level     2,  Iter    11:    Energy =   0.0506
Level     2,  Iter    12:    Energy =   0.0510
Level     2,  Iter    13:    Energy =   0.0514
Level     2,  Iter    14:    Energy =   0.0517
Level     2,  Iter    15:    Energy =   0.0520
Level     2,  Iter    16:    Energy =   0.0522
Level     2,  Iter    17:    Energy =   0.0525
Level     2,  Iter    18:    Energy =   0.0528
Level     2,  Iter    19:    Energy =   0.0530
END OF LEVEL     2    DetJac Range:   0.0678  to   4.8191 
  Avg. Gradient Time  : 0.2894s  37.55% 
  Avg. Gaussian Time  : 0.4000s  51.89% 
  Avg. Iteration Time : 0.7708s 

real	0m25.632s
user	0m45.260s
sys	0m2.704s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 1'
CHUNK 0.680769 0.686538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 1
====================================
         PROGRESS: 0.680769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2602.41 	 OutFr   0.0000 	 RMSD     2.8208
Iter 002 	 Temp     3.72 	 Delta  2468.80 	 OutFr   0.0000 	 RMSD     2.5088
Iter 003 	 Temp     3.46 	 Delta  2376.35 	 OutFr   0.0000 	 RMSD     2.4815
Iter 004 	 Temp     3.22 	 Delta  2246.58 	 OutFr   0.0000 	 RMSD     2.4536
Iter 005 	 Temp     2.99 	 Delta  2088.94 	 OutFr   0.0000 	 RMSD     2.4203
Iter 006 	 Temp     2.78 	 Delta  1937.31 	 OutFr   0.0000 	 RMSD     2.3836
Iter 007 	 Temp     2.59 	 Delta  1800.87 	 OutFr   0.0026 	 RMSD     2.3465
Iter 008 	 Temp     2.41 	 Delta  1655.76 	 OutFr   0.0026 	 RMSD     2.3114
Iter 009 	 Temp     2.24 	 Delta  1511.22 	 OutFr   0.0052 	 RMSD     2.2827
Iter 010 	 Temp     2.08 	 Delta  1377.99 	 OutFr   0.0052 	 RMSD     2.2580
Iter 011 	 Temp     1.94 	 Delta  1261.27 	 OutFr   0.0079 	 RMSD     2.2376
Iter 012 	 Temp     1.80 	 Delta  1158.34 	 OutFr   0.0131 	 RMSD     2.2216
Iter 013 	 Temp     1.67 	 Delta  1065.05 	 OutFr   0.0131 	 RMSD     2.2086
Iter 014 	 Temp     1.56 	 Delta   979.41 	 OutFr   0.0131 	 RMSD     2.1992
Iter 015 	 Temp     1.45 	 Delta   901.17 	 OutFr   0.0209 	 RMSD     2.1936
Iter 016 	 Temp     1.35 	 Delta   831.88 	 OutFr   0.0288 	 RMSD     2.1914
Iter 017 	 Temp     1.25 	 Delta   772.65 	 OutFr   0.0340 	 RMSD     2.1909
Iter 018 	 Temp     1.16 	 Delta   720.38 	 OutFr   0.0340 	 RMSD     2.1924
Iter 019 	 Temp     1.08 	 Delta   671.41 	 OutFr   0.0393 	 RMSD     2.1957
Iter 020 	 Temp     1.01 	 Delta   624.40 	 OutFr   0.0445 	 RMSD     2.2004
Iter 021 	 Temp     0.94 	 Delta   578.56 	 OutFr   0.0524 	 RMSD     2.2051
Iter 022 	 Temp     0.87 	 Delta   532.71 	 OutFr   0.0602 	 RMSD     2.2089
Iter 023 	 Temp     0.81 	 Delta   486.01 	 OutFr   0.0759 	 RMSD     2.2123
Iter 024 	 Temp     0.75 	 Delta   442.39 	 OutFr   0.0969 	 RMSD     2.2155
Iter 025 	 Temp     0.70 	 Delta   408.38 	 OutFr   0.1152 	 RMSD     2.2198
Iter 026 	 Temp     0.65 	 Delta   386.29 	 OutFr   0.1309 	 RMSD     2.2251
Iter 027 	 Temp     0.61 	 Delta   365.60 	 OutFr   0.1440 	 RMSD     2.2322
Iter 028 	 Temp     0.56 	 Delta   343.04 	 OutFr   0.1597 	 RMSD     2.2408
Iter 029 	 Temp     0.52 	 Delta   321.17 	 OutFr   0.1780 	 RMSD     2.2515
Iter 030 	 Temp     0.49 	 Delta   293.17 	 OutFr   0.1990 	 RMSD     2.2598
Iter 031 	 Temp     0.45 	 Delta   261.30 	 OutFr   0.2461 	 RMSD     2.2652
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.XP2hPNaX/mybin.nii.gz
+ vtklevelset /tmp/ashs.XP2hPNaX/mybin.nii.gz /tmp/ashs.XP2hPNaX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.XP2hPNaX/mymesh.vtk /tmp/ashs.XP2hPNaX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2901.22138160   1.05172774
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.XP2hPNaX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.9329 to -10.1784
   Y : -22.7256 to 21.5403
   Z : -24.5195 to 5.77944
   Image resolution  : 101 by 157 by 116
   Image box origin  : {-39.9329, -27.7256, -29.5195}
   Image box size    : {35.0694, 54.5139, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.9329, 27.7256, -29.5195]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -o /tmp/ashs.XP2hPNaX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -o /tmp/ashs.XP2hPNaX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.XP2hPNaX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 0.5'
CHUNK 0.686538 0.692308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 0.5
====================================
         PROGRESS: 0.686538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.XP2hPNaX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.XP2hPNaX/fixed_hw.nii.gz /tmp/ashs.XP2hPNaX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.497996, moving = 0.720782
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36052, 2.42484], [0.953763, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0624
Level     0,  Iter     1:    Energy =   0.0700
Level     0,  Iter     2:    Energy =   0.0763
Level     0,  Iter     3:    Energy =   0.0802
Level     0,  Iter     4:    Energy =   0.0838
Level     0,  Iter     5:    Energy =   0.0869
Level     0,  Iter     6:    Energy =   0.0891
Level     0,  Iter     7:    Energy =   0.0904
Level     0,  Iter     8:    Energy =   0.0910
Level     0,  Iter     9:    Energy =   0.0915
Level     0,  Iter    10:    Energy =   0.0920
Level     0,  Iter    11:    Energy =   0.0923
Level     0,  Iter    12:    Energy =   0.0925
Level     0,  Iter    13:    Energy =   0.0929
Level     0,  Iter    14:    Energy =   0.0930
Level     0,  Iter    15:    Energy =   0.0934
Level     0,  Iter    16:    Energy =   0.0934
Level     0,  Iter    17:    Energy =   0.0938
Level     0,  Iter    18:    Energy =   0.0938
Level     0,  Iter    19:    Energy =   0.0939
Level     0,  Iter    20:    Energy =   0.0938
Level     0,  Iter    21:    Energy =   0.0941
Level     0,  Iter    22:    Energy =   0.0940
Level     0,  Iter    23:    Energy =   0.0943
Level     0,  Iter    24:    Energy =   0.0941
Level     0,  Iter    25:    Energy =   0.0944
Level     0,  Iter    26:    Energy =   0.0941
Level     0,  Iter    27:    Energy =   0.0944
Level     0,  Iter    28:    Energy =   0.0943
Level     0,  Iter    29:    Energy =   0.0945
Level     0,  Iter    30:    Energy =   0.0944
Level     0,  Iter    31:    Energy =   0.0946
Level     0,  Iter    32:    Energy =   0.0944
Level     0,  Iter    33:    Energy =   0.0947
Level     0,  Iter    34:    Energy =   0.0945
Level     0,  Iter    35:    Energy =   0.0948
Level     0,  Iter    36:    Energy =   0.0946
Level     0,  Iter    37:    Energy =   0.0949
Level     0,  Iter    38:    Energy =   0.0948
Level     0,  Iter    39:    Energy =   0.0949
Level     0,  Iter    40:    Energy =   0.0947
Level     0,  Iter    41:    Energy =   0.0950
Level     0,  Iter    42:    Energy =   0.0949
Level     0,  Iter    43:    Energy =   0.0950
Level     0,  Iter    44:    Energy =   0.0948
Level     0,  Iter    45:    Energy =   0.0950
Level     0,  Iter    46:    Energy =   0.0948
Level     0,  Iter    47:    Energy =   0.0950
Level     0,  Iter    48:    Energy =   0.0949
Level     0,  Iter    49:    Energy =   0.0951
Level     0,  Iter    50:    Energy =   0.0950
Level     0,  Iter    51:    Energy =   0.0951
Level     0,  Iter    52:    Energy =   0.0949
Level     0,  Iter    53:    Energy =   0.0951
Level     0,  Iter    54:    Energy =   0.0950
Level     0,  Iter    55:    Energy =   0.0952
Level     0,  Iter    56:    Energy =   0.0951
Level     0,  Iter    57:    Energy =   0.0953
Level     0,  Iter    58:    Energy =   0.0951
Level     0,  Iter    59:    Energy =   0.0953
END OF LEVEL     0    DetJac Range:   0.4665  to   1.7863 
  Avg. Gradient Time  : 0.0077s  37.67% 
  Avg. Gaussian Time  : 0.0097s  47.29% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1952, 1.21242], [0.486232, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0674
Level     1,  Iter     1:    Energy =   0.0716
Level     1,  Iter     2:    Energy =   0.0756
Level     1,  Iter     3:    Energy =   0.0782
Level     1,  Iter     4:    Energy =   0.0804
Level     1,  Iter     5:    Energy =   0.0819
Level     1,  Iter     6:    Energy =   0.0833
Level     1,  Iter     7:    Energy =   0.0846
Level     1,  Iter     8:    Energy =   0.0855
Level     1,  Iter     9:    Energy =   0.0857
Level     1,  Iter    10:    Energy =   0.0860
Level     1,  Iter    11:    Energy =   0.0861
Level     1,  Iter    12:    Energy =   0.0862
Level     1,  Iter    13:    Energy =   0.0864
Level     1,  Iter    14:    Energy =   0.0864
Level     1,  Iter    15:    Energy =   0.0866
Level     1,  Iter    16:    Energy =   0.0866
Level     1,  Iter    17:    Energy =   0.0868
Level     1,  Iter    18:    Energy =   0.0868
Level     1,  Iter    19:    Energy =   0.0870
Level     1,  Iter    20:    Energy =   0.0869
Level     1,  Iter    21:    Energy =   0.0871
Level     1,  Iter    22:    Energy =   0.0870
Level     1,  Iter    23:    Energy =   0.0873
Level     1,  Iter    24:    Energy =   0.0872
Level     1,  Iter    25:    Energy =   0.0874
Level     1,  Iter    26:    Energy =   0.0873
Level     1,  Iter    27:    Energy =   0.0876
Level     1,  Iter    28:    Energy =   0.0874
Level     1,  Iter    29:    Energy =   0.0877
Level     1,  Iter    30:    Energy =   0.0876
Level     1,  Iter    31:    Energy =   0.0878
Level     1,  Iter    32:    Energy =   0.0876
Level     1,  Iter    33:    Energy =   0.0878
Level     1,  Iter    34:    Energy =   0.0877
Level     1,  Iter    35:    Energy =   0.0879
Level     1,  Iter    36:    Energy =   0.0878
Level     1,  Iter    37:    Energy =   0.0880
Level     1,  Iter    38:    Energy =   0.0878
Level     1,  Iter    39:    Energy =   0.0880
Level     1,  Iter    40:    Energy =   0.0879
Level     1,  Iter    41:    Energy =   0.0881
Level     1,  Iter    42:    Energy =   0.0879
Level     1,  Iter    43:    Energy =   0.0881
Level     1,  Iter    44:    Energy =   0.0880
Level     1,  Iter    45:    Energy =   0.0882
Level     1,  Iter    46:    Energy =   0.0880
Level     1,  Iter    47:    Energy =   0.0882
Level     1,  Iter    48:    Energy =   0.0881
Level     1,  Iter    49:    Energy =   0.0882
Level     1,  Iter    50:    Energy =   0.0881
Level     1,  Iter    51:    Energy =   0.0883
Level     1,  Iter    52:    Energy =   0.0881
Level     1,  Iter    53:    Energy =   0.0883
Level     1,  Iter    54:    Energy =   0.0882
Level     1,  Iter    55:    Energy =   0.0883
Level     1,  Iter    56:    Energy =   0.0882
Level     1,  Iter    57:    Energy =   0.0883
Level     1,  Iter    58:    Energy =   0.0882
Level     1,  Iter    59:    Energy =   0.0883
END OF LEVEL     1    DetJac Range:   0.2089  to   2.2201 
  Avg. Gradient Time  : 0.0462s  39.78% 
  Avg. Gaussian Time  : 0.0560s  48.29% 
  Avg. Iteration Time : 0.1160s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0487
Level     2,  Iter     1:    Energy =   0.0517
Level     2,  Iter     2:    Energy =   0.0540
Level     2,  Iter     3:    Energy =   0.0560
Level     2,  Iter     4:    Energy =   0.0577
Level     2,  Iter     5:    Energy =   0.0592
Level     2,  Iter     6:    Energy =   0.0604
Level     2,  Iter     7:    Energy =   0.0614
Level     2,  Iter     8:    Energy =   0.0624
Level     2,  Iter     9:    Energy =   0.0632
Level     2,  Iter    10:    Energy =   0.0639
Level     2,  Iter    11:    Energy =   0.0643
Level     2,  Iter    12:    Energy =   0.0647
Level     2,  Iter    13:    Energy =   0.0650
Level     2,  Iter    14:    Energy =   0.0653
Level     2,  Iter    15:    Energy =   0.0656
Level     2,  Iter    16:    Energy =   0.0659
Level     2,  Iter    17:    Energy =   0.0661
Level     2,  Iter    18:    Energy =   0.0664
Level     2,  Iter    19:    Energy =   0.0664
END OF LEVEL     2    DetJac Range:   0.1104  to   3.7408 
  Avg. Gradient Time  : 0.3215s  37.28% 
  Avg. Gaussian Time  : 0.4473s  51.87% 
  Avg. Iteration Time : 0.8623s 

real	0m28.825s
user	0m50.720s
sys	0m2.992s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 1'
CHUNK 0.686538 0.692308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 1
====================================
         PROGRESS: 0.686538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1851.18 	 OutFr   0.0000 	 RMSD     2.5087
Iter 002 	 Temp     3.72 	 Delta  1810.60 	 OutFr   0.0000 	 RMSD     2.0572
Iter 003 	 Temp     3.46 	 Delta  1709.72 	 OutFr   0.0000 	 RMSD     2.0374
Iter 004 	 Temp     3.22 	 Delta  1608.53 	 OutFr   0.0000 	 RMSD     2.0132
Iter 005 	 Temp     2.99 	 Delta  1512.79 	 OutFr   0.0000 	 RMSD     1.9908
Iter 006 	 Temp     2.78 	 Delta  1424.64 	 OutFr   0.0000 	 RMSD     1.9721
Iter 007 	 Temp     2.59 	 Delta  1346.31 	 OutFr   0.0000 	 RMSD     1.9568
Iter 008 	 Temp     2.41 	 Delta  1276.92 	 OutFr   0.0000 	 RMSD     1.9447
Iter 009 	 Temp     2.24 	 Delta  1210.67 	 OutFr   0.0000 	 RMSD     1.9354
Iter 010 	 Temp     2.08 	 Delta  1141.61 	 OutFr   0.0026 	 RMSD     1.9286
Iter 011 	 Temp     1.94 	 Delta  1068.41 	 OutFr   0.0026 	 RMSD     1.9239
Iter 012 	 Temp     1.80 	 Delta   997.08 	 OutFr   0.0079 	 RMSD     1.9211
Iter 013 	 Temp     1.67 	 Delta   935.38 	 OutFr   0.0105 	 RMSD     1.9205
Iter 014 	 Temp     1.56 	 Delta   881.80 	 OutFr   0.0105 	 RMSD     1.9211
Iter 015 	 Temp     1.45 	 Delta   830.53 	 OutFr   0.0105 	 RMSD     1.9224
Iter 016 	 Temp     1.35 	 Delta   779.21 	 OutFr   0.0157 	 RMSD     1.9238
Iter 017 	 Temp     1.25 	 Delta   728.18 	 OutFr   0.0183 	 RMSD     1.9248
Iter 018 	 Temp     1.16 	 Delta   677.90 	 OutFr   0.0209 	 RMSD     1.9250
Iter 019 	 Temp     1.08 	 Delta   629.18 	 OutFr   0.0236 	 RMSD     1.9243
Iter 020 	 Temp     1.01 	 Delta   584.87 	 OutFr   0.0340 	 RMSD     1.9233
Iter 021 	 Temp     0.94 	 Delta   546.24 	 OutFr   0.0419 	 RMSD     1.9224
Iter 022 	 Temp     0.87 	 Delta   511.58 	 OutFr   0.0524 	 RMSD     1.9222
Iter 023 	 Temp     0.81 	 Delta   476.99 	 OutFr   0.0576 	 RMSD     1.9228
Iter 024 	 Temp     0.75 	 Delta   442.11 	 OutFr   0.0759 	 RMSD     1.9237
Iter 025 	 Temp     0.70 	 Delta   409.45 	 OutFr   0.0969 	 RMSD     1.9257
Iter 026 	 Temp     0.65 	 Delta   378.20 	 OutFr   0.1073 	 RMSD     1.9278
Iter 027 	 Temp     0.61 	 Delta   345.34 	 OutFr   0.1361 	 RMSD     1.9293
Iter 028 	 Temp     0.56 	 Delta   310.29 	 OutFr   0.1649 	 RMSD     1.9300
Iter 029 	 Temp     0.52 	 Delta   276.49 	 OutFr   0.1990 	 RMSD     1.9299
Iter 030 	 Temp     0.49 	 Delta   246.53 	 OutFr   0.2277 	 RMSD     1.9298
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.LkoZDM2b/mybin.nii.gz
+ vtklevelset /tmp/ashs.LkoZDM2b/mybin.nii.gz /tmp/ashs.LkoZDM2b/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.LkoZDM2b/mymesh.vtk /tmp/ashs.LkoZDM2b/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2609.70318169   0.94604887
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.LkoZDM2b/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3226 to -11.1904
   Y : -16.4379 to 27.3971
   Z : -36.2166 to -4.2817
   Image resolution  : 90 by 156 by 120
   Image box origin  : {-37.3226, -21.4379, -41.2166}
   Image box size    : {31.25, 54.1666, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3226, 21.4379, -41.2166]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -o /tmp/ashs.LkoZDM2b/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -o /tmp/ashs.LkoZDM2b/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.LkoZDM2b/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 0.5'
CHUNK 0.692308 0.698077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 0.5
====================================
         PROGRESS: 0.692308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.LkoZDM2b/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.LkoZDM2b/fixed_hw.nii.gz /tmp/ashs.LkoZDM2b/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.492288, moving = 0.649456
LEVEL 1 of 3
  Smoothing sigmas: [2.35333, 2.40562, 2.42484], [0.960742, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0398
Level     0,  Iter     1:    Energy =   0.0452
Level     0,  Iter     2:    Energy =   0.0496
Level     0,  Iter     3:    Energy =   0.0534
Level     0,  Iter     4:    Energy =   0.0565
Level     0,  Iter     5:    Energy =   0.0591
Level     0,  Iter     6:    Energy =   0.0617
Level     0,  Iter     7:    Energy =   0.0644
Level     0,  Iter     8:    Energy =   0.0670
Level     0,  Iter     9:    Energy =   0.0693
Level     0,  Iter    10:    Energy =   0.0712
Level     0,  Iter    11:    Energy =   0.0726
Level     0,  Iter    12:    Energy =   0.0735
Level     0,  Iter    13:    Energy =   0.0741
Level     0,  Iter    14:    Energy =   0.0748
Level     0,  Iter    15:    Energy =   0.0753
Level     0,  Iter    16:    Energy =   0.0758
Level     0,  Iter    17:    Energy =   0.0764
Level     0,  Iter    18:    Energy =   0.0769
Level     0,  Iter    19:    Energy =   0.0775
Level     0,  Iter    20:    Energy =   0.0779
Level     0,  Iter    21:    Energy =   0.0781
Level     0,  Iter    22:    Energy =   0.0784
Level     0,  Iter    23:    Energy =   0.0782
Level     0,  Iter    24:    Energy =   0.0785
Level     0,  Iter    25:    Energy =   0.0786
Level     0,  Iter    26:    Energy =   0.0788
Level     0,  Iter    27:    Energy =   0.0788
Level     0,  Iter    28:    Energy =   0.0789
Level     0,  Iter    29:    Energy =   0.0790
Level     0,  Iter    30:    Energy =   0.0790
Level     0,  Iter    31:    Energy =   0.0790
Level     0,  Iter    32:    Energy =   0.0791
Level     0,  Iter    33:    Energy =   0.0791
Level     0,  Iter    34:    Energy =   0.0792
Level     0,  Iter    35:    Energy =   0.0792
Level     0,  Iter    36:    Energy =   0.0793
Level     0,  Iter    37:    Energy =   0.0793
Level     0,  Iter    38:    Energy =   0.0793
Level     0,  Iter    39:    Energy =   0.0794
Level     0,  Iter    40:    Energy =   0.0794
Level     0,  Iter    41:    Energy =   0.0794
Level     0,  Iter    42:    Energy =   0.0794
Level     0,  Iter    43:    Energy =   0.0795
Level     0,  Iter    44:    Energy =   0.0795
Level     0,  Iter    45:    Energy =   0.0795
Level     0,  Iter    46:    Energy =   0.0796
Level     0,  Iter    47:    Energy =   0.0796
Level     0,  Iter    48:    Energy =   0.0796
Level     0,  Iter    49:    Energy =   0.0796
Level     0,  Iter    50:    Energy =   0.0796
Level     0,  Iter    51:    Energy =   0.0796
Level     0,  Iter    52:    Energy =   0.0796
Level     0,  Iter    53:    Energy =   0.0796
Level     0,  Iter    54:    Energy =   0.0797
Level     0,  Iter    55:    Energy =   0.0797
Level     0,  Iter    56:    Energy =   0.0797
Level     0,  Iter    57:    Energy =   0.0797
Level     0,  Iter    58:    Energy =   0.0797
Level     0,  Iter    59:    Energy =   0.0797
END OF LEVEL     0    DetJac Range:   0.4171  to   2.0191 
  Avg. Gradient Time  : 0.0073s  37.58% 
  Avg. Gaussian Time  : 0.0091s  47.01% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0563
Level     1,  Iter     1:    Energy =   0.0616
Level     1,  Iter     2:    Energy =   0.0656
Level     1,  Iter     3:    Energy =   0.0684
Level     1,  Iter     4:    Energy =   0.0708
Level     1,  Iter     5:    Energy =   0.0727
Level     1,  Iter     6:    Energy =   0.0742
Level     1,  Iter     7:    Energy =   0.0754
Level     1,  Iter     8:    Energy =   0.0765
Level     1,  Iter     9:    Energy =   0.0774
Level     1,  Iter    10:    Energy =   0.0784
Level     1,  Iter    11:    Energy =   0.0792
Level     1,  Iter    12:    Energy =   0.0800
Level     1,  Iter    13:    Energy =   0.0807
Level     1,  Iter    14:    Energy =   0.0805
Level     1,  Iter    15:    Energy =   0.0810
Level     1,  Iter    16:    Energy =   0.0812
Level     1,  Iter    17:    Energy =   0.0814
Level     1,  Iter    18:    Energy =   0.0814
Level     1,  Iter    19:    Energy =   0.0813
Level     1,  Iter    20:    Energy =   0.0812
Level     1,  Iter    21:    Energy =   0.0811
Level     1,  Iter    22:    Energy =   0.0810
Level     1,  Iter    23:    Energy =   0.0810
Level     1,  Iter    24:    Energy =   0.0810
Level     1,  Iter    25:    Energy =   0.0810
Level     1,  Iter    26:    Energy =   0.0810
Level     1,  Iter    27:    Energy =   0.0810
Level     1,  Iter    28:    Energy =   0.0811
Level     1,  Iter    29:    Energy =   0.0812
Level     1,  Iter    30:    Energy =   0.0814
Level     1,  Iter    31:    Energy =   0.0816
Level     1,  Iter    32:    Energy =   0.0819
Level     1,  Iter    33:    Energy =   0.0820
Level     1,  Iter    34:    Energy =   0.0823
Level     1,  Iter    35:    Energy =   0.0826
Level     1,  Iter    36:    Energy =   0.0829
Level     1,  Iter    37:    Energy =   0.0831
Level     1,  Iter    38:    Energy =   0.0835
Level     1,  Iter    39:    Energy =   0.0838
Level     1,  Iter    40:    Energy =   0.0842
Level     1,  Iter    41:    Energy =   0.0842
Level     1,  Iter    42:    Energy =   0.0845
Level     1,  Iter    43:    Energy =   0.0842
Level     1,  Iter    44:    Energy =   0.0845
Level     1,  Iter    45:    Energy =   0.0845
Level     1,  Iter    46:    Energy =   0.0847
Level     1,  Iter    47:    Energy =   0.0845
Level     1,  Iter    48:    Energy =   0.0847
Level     1,  Iter    49:    Energy =   0.0847
Level     1,  Iter    50:    Energy =   0.0846
Level     1,  Iter    51:    Energy =   0.0846
Level     1,  Iter    52:    Energy =   0.0846
Level     1,  Iter    53:    Energy =   0.0846
Level     1,  Iter    54:    Energy =   0.0846
Level     1,  Iter    55:    Energy =   0.0847
Level     1,  Iter    56:    Energy =   0.0847
Level     1,  Iter    57:    Energy =   0.0847
Level     1,  Iter    58:    Energy =   0.0847
Level     1,  Iter    59:    Energy =   0.0847
END OF LEVEL     1    DetJac Range:   0.0464  to   3.4359 
  Avg. Gradient Time  : 0.0420s  39.96% 
  Avg. Gaussian Time  : 0.0505s  47.97% 
  Avg. Iteration Time : 0.1052s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0511
Level     2,  Iter     3:    Energy =   0.0526
Level     2,  Iter     4:    Energy =   0.0537
Level     2,  Iter     5:    Energy =   0.0545
Level     2,  Iter     6:    Energy =   0.0552
Level     2,  Iter     7:    Energy =   0.0557
Level     2,  Iter     8:    Energy =   0.0562
Level     2,  Iter     9:    Energy =   0.0566
Level     2,  Iter    10:    Energy =   0.0569
Level     2,  Iter    11:    Energy =   0.0572
Level     2,  Iter    12:    Energy =   0.0575
Level     2,  Iter    13:    Energy =   0.0578
Level     2,  Iter    14:    Energy =   0.0580
Level     2,  Iter    15:    Energy =   0.0583
Level     2,  Iter    16:    Energy =   0.0585
Level     2,  Iter    17:    Energy =   0.0587
Level     2,  Iter    18:    Energy =   0.0589
Level     2,  Iter    19:    Energy =   0.0591
END OF LEVEL     2    DetJac Range:   0.0279  to   3.6934 
  Avg. Gradient Time  : 0.3004s  37.29% 
  Avg. Gaussian Time  : 0.4196s  52.09% 
  Avg. Iteration Time : 0.8056s 

real	0m26.847s
user	0m47.524s
sys	0m2.672s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 1'
CHUNK 0.692308 0.698077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 1
====================================
         PROGRESS: 0.692308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1966.27 	 OutFr   0.0079 	 RMSD     3.3785
Iter 002 	 Temp     3.72 	 Delta  1890.35 	 OutFr   0.0079 	 RMSD     2.4100
Iter 003 	 Temp     3.46 	 Delta  1762.40 	 OutFr   0.0079 	 RMSD     2.3974
Iter 004 	 Temp     3.22 	 Delta  1639.49 	 OutFr   0.0079 	 RMSD     2.3778
Iter 005 	 Temp     2.99 	 Delta  1529.40 	 OutFr   0.0079 	 RMSD     2.3621
Iter 006 	 Temp     2.78 	 Delta  1432.70 	 OutFr   0.0079 	 RMSD     2.3508
Iter 007 	 Temp     2.59 	 Delta  1348.50 	 OutFr   0.0079 	 RMSD     2.3426
Iter 008 	 Temp     2.41 	 Delta  1274.87 	 OutFr   0.0079 	 RMSD     2.3366
Iter 009 	 Temp     2.24 	 Delta  1209.03 	 OutFr   0.0079 	 RMSD     2.3327
Iter 010 	 Temp     2.08 	 Delta  1147.82 	 OutFr   0.0079 	 RMSD     2.3302
Iter 011 	 Temp     1.94 	 Delta  1088.87 	 OutFr   0.0105 	 RMSD     2.3292
Iter 012 	 Temp     1.80 	 Delta  1031.87 	 OutFr   0.0131 	 RMSD     2.3290
Iter 013 	 Temp     1.67 	 Delta   978.45 	 OutFr   0.0131 	 RMSD     2.3297
Iter 014 	 Temp     1.56 	 Delta   929.78 	 OutFr   0.0157 	 RMSD     2.3309
Iter 015 	 Temp     1.45 	 Delta   884.33 	 OutFr   0.0183 	 RMSD     2.3323
Iter 016 	 Temp     1.35 	 Delta   839.34 	 OutFr   0.0183 	 RMSD     2.3336
Iter 017 	 Temp     1.25 	 Delta   792.76 	 OutFr   0.0236 	 RMSD     2.3346
Iter 018 	 Temp     1.16 	 Delta   743.52 	 OutFr   0.0262 	 RMSD     2.3352
Iter 019 	 Temp     1.08 	 Delta   692.08 	 OutFr   0.0288 	 RMSD     2.3351
Iter 020 	 Temp     1.01 	 Delta   640.26 	 OutFr   0.0288 	 RMSD     2.3340
Iter 021 	 Temp     0.94 	 Delta   589.54 	 OutFr   0.0314 	 RMSD     2.3323
Iter 022 	 Temp     0.87 	 Delta   540.98 	 OutFr   0.0550 	 RMSD     2.3306
Iter 023 	 Temp     0.81 	 Delta   496.99 	 OutFr   0.0628 	 RMSD     2.3305
Iter 024 	 Temp     0.75 	 Delta   457.36 	 OutFr   0.0785 	 RMSD     2.3334
Iter 025 	 Temp     0.70 	 Delta   420.69 	 OutFr   0.1021 	 RMSD     2.3384
Iter 026 	 Temp     0.65 	 Delta   385.16 	 OutFr   0.1099 	 RMSD     2.3443
Iter 027 	 Temp     0.61 	 Delta   354.82 	 OutFr   0.1309 	 RMSD     2.3508
Iter 028 	 Temp     0.56 	 Delta   326.26 	 OutFr   0.1545 	 RMSD     2.3562
Iter 029 	 Temp     0.52 	 Delta   297.26 	 OutFr   0.1937 	 RMSD     2.3600
Iter 030 	 Temp     0.49 	 Delta   269.46 	 OutFr   0.2173 	 RMSD     2.3636
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.cFenDrGK/mybin.nii.gz
+ vtklevelset /tmp/ashs.cFenDrGK/mybin.nii.gz /tmp/ashs.cFenDrGK/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.cFenDrGK/mymesh.vtk /tmp/ashs.cFenDrGK/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2770.27331170   1.00425748
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.cFenDrGK/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.9137 to -12.628
   Y : -20.7463 to 26.9973
   Z : -23.3461 to 4.15683
   Image resolution  : 93 by 167 by 108
   Image box origin  : {-39.9137, -25.7463, -28.3461}
   Image box size    : {32.2916, 57.9861, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.9137, 25.7463, -28.3461]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -o /tmp/ashs.cFenDrGK/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -o /tmp/ashs.cFenDrGK/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.cFenDrGK/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 0.5'
CHUNK 0.698077 0.703846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 0.5
====================================
         PROGRESS: 0.698077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.cFenDrGK/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.cFenDrGK/fixed_hw.nii.gz /tmp/ashs.cFenDrGK/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.490283, moving = 0.398923
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.39131, 2.42484], [0.951402, 0.976246, 0.989938]
Level     0,  Iter     0:    Energy =   0.0541
Level     0,  Iter     1:    Energy =   0.0622
Level     0,  Iter     2:    Energy =   0.0681
Level     0,  Iter     3:    Energy =   0.0726
Level     0,  Iter     4:    Energy =   0.0764
Level     0,  Iter     5:    Energy =   0.0792
Level     0,  Iter     6:    Energy =   0.0821
Level     0,  Iter     7:    Energy =   0.0847
Level     0,  Iter     8:    Energy =   0.0867
Level     0,  Iter     9:    Energy =   0.0884
Level     0,  Iter    10:    Energy =   0.0890
Level     0,  Iter    11:    Energy =   0.0895
Level     0,  Iter    12:    Energy =   0.0897
Level     0,  Iter    13:    Energy =   0.0900
Level     0,  Iter    14:    Energy =   0.0902
Level     0,  Iter    15:    Energy =   0.0905
Level     0,  Iter    16:    Energy =   0.0908
Level     0,  Iter    17:    Energy =   0.0911
Level     0,  Iter    18:    Energy =   0.0913
Level     0,  Iter    19:    Energy =   0.0915
Level     0,  Iter    20:    Energy =   0.0915
Level     0,  Iter    21:    Energy =   0.0919
Level     0,  Iter    22:    Energy =   0.0922
Level     0,  Iter    23:    Energy =   0.0922
Level     0,  Iter    24:    Energy =   0.0919
Level     0,  Iter    25:    Energy =   0.0919
Level     0,  Iter    26:    Energy =   0.0921
Level     0,  Iter    27:    Energy =   0.0923
Level     0,  Iter    28:    Energy =   0.0923
Level     0,  Iter    29:    Energy =   0.0926
Level     0,  Iter    30:    Energy =   0.0927
Level     0,  Iter    31:    Energy =   0.0929
Level     0,  Iter    32:    Energy =   0.0926
Level     0,  Iter    33:    Energy =   0.0927
Level     0,  Iter    34:    Energy =   0.0928
Level     0,  Iter    35:    Energy =   0.0928
Level     0,  Iter    36:    Energy =   0.0925
Level     0,  Iter    37:    Energy =   0.0926
Level     0,  Iter    38:    Energy =   0.0927
Level     0,  Iter    39:    Energy =   0.0929
Level     0,  Iter    40:    Energy =   0.0927
Level     0,  Iter    41:    Energy =   0.0929
Level     0,  Iter    42:    Energy =   0.0930
Level     0,  Iter    43:    Energy =   0.0929
Level     0,  Iter    44:    Energy =   0.0927
Level     0,  Iter    45:    Energy =   0.0927
Level     0,  Iter    46:    Energy =   0.0927
Level     0,  Iter    47:    Energy =   0.0928
Level     0,  Iter    48:    Energy =   0.0929
Level     0,  Iter    49:    Energy =   0.0929
Level     0,  Iter    50:    Energy =   0.0928
Level     0,  Iter    51:    Energy =   0.0929
Level     0,  Iter    52:    Energy =   0.0929
Level     0,  Iter    53:    Energy =   0.0930
Level     0,  Iter    54:    Energy =   0.0929
Level     0,  Iter    55:    Energy =   0.0930
Level     0,  Iter    56:    Energy =   0.0931
Level     0,  Iter    57:    Energy =   0.0930
Level     0,  Iter    58:    Energy =   0.0927
Level     0,  Iter    59:    Energy =   0.0927
END OF LEVEL     0    DetJac Range:   0.2397  to   1.8792 
  Avg. Gradient Time  : 0.0074s  38.00% 
  Avg. Gaussian Time  : 0.0092s  47.15% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.19565, 1.21242], [0.485822, 0.488123, 0.494969]
Level     1,  Iter     0:    Energy =   0.0637
Level     1,  Iter     1:    Energy =   0.0672
Level     1,  Iter     2:    Energy =   0.0700
Level     1,  Iter     3:    Energy =   0.0726
Level     1,  Iter     4:    Energy =   0.0746
Level     1,  Iter     5:    Energy =   0.0763
Level     1,  Iter     6:    Energy =   0.0778
Level     1,  Iter     7:    Energy =   0.0792
Level     1,  Iter     8:    Energy =   0.0804
Level     1,  Iter     9:    Energy =   0.0814
Level     1,  Iter    10:    Energy =   0.0821
Level     1,  Iter    11:    Energy =   0.0823
Level     1,  Iter    12:    Energy =   0.0824
Level     1,  Iter    13:    Energy =   0.0827
Level     1,  Iter    14:    Energy =   0.0828
Level     1,  Iter    15:    Energy =   0.0831
Level     1,  Iter    16:    Energy =   0.0831
Level     1,  Iter    17:    Energy =   0.0834
Level     1,  Iter    18:    Energy =   0.0834
Level     1,  Iter    19:    Energy =   0.0837
Level     1,  Iter    20:    Energy =   0.0837
Level     1,  Iter    21:    Energy =   0.0839
Level     1,  Iter    22:    Energy =   0.0839
Level     1,  Iter    23:    Energy =   0.0841
Level     1,  Iter    24:    Energy =   0.0842
Level     1,  Iter    25:    Energy =   0.0843
Level     1,  Iter    26:    Energy =   0.0843
Level     1,  Iter    27:    Energy =   0.0845
Level     1,  Iter    28:    Energy =   0.0845
Level     1,  Iter    29:    Energy =   0.0846
Level     1,  Iter    30:    Energy =   0.0846
Level     1,  Iter    31:    Energy =   0.0848
Level     1,  Iter    32:    Energy =   0.0848
Level     1,  Iter    33:    Energy =   0.0849
Level     1,  Iter    34:    Energy =   0.0849
Level     1,  Iter    35:    Energy =   0.0850
Level     1,  Iter    36:    Energy =   0.0850
Level     1,  Iter    37:    Energy =   0.0850
Level     1,  Iter    38:    Energy =   0.0851
Level     1,  Iter    39:    Energy =   0.0851
Level     1,  Iter    40:    Energy =   0.0851
Level     1,  Iter    41:    Energy =   0.0852
Level     1,  Iter    42:    Energy =   0.0852
Level     1,  Iter    43:    Energy =   0.0853
Level     1,  Iter    44:    Energy =   0.0853
Level     1,  Iter    45:    Energy =   0.0853
Level     1,  Iter    46:    Energy =   0.0853
Level     1,  Iter    47:    Energy =   0.0854
Level     1,  Iter    48:    Energy =   0.0854
Level     1,  Iter    49:    Energy =   0.0854
Level     1,  Iter    50:    Energy =   0.0854
Level     1,  Iter    51:    Energy =   0.0855
Level     1,  Iter    52:    Energy =   0.0855
Level     1,  Iter    53:    Energy =   0.0855
Level     1,  Iter    54:    Energy =   0.0855
Level     1,  Iter    55:    Energy =   0.0855
Level     1,  Iter    56:    Energy =   0.0855
Level     1,  Iter    57:    Energy =   0.0856
Level     1,  Iter    58:    Energy =   0.0855
Level     1,  Iter    59:    Energy =   0.0856
END OF LEVEL     1    DetJac Range:   0.0645  to   2.8134 
  Avg. Gradient Time  : 0.0425s  40.01% 
  Avg. Gaussian Time  : 0.0509s  47.97% 
  Avg. Iteration Time : 0.1061s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0448
Level     2,  Iter     1:    Energy =   0.0474
Level     2,  Iter     2:    Energy =   0.0498
Level     2,  Iter     3:    Energy =   0.0517
Level     2,  Iter     4:    Energy =   0.0532
Level     2,  Iter     5:    Energy =   0.0544
Level     2,  Iter     6:    Energy =   0.0554
Level     2,  Iter     7:    Energy =   0.0564
Level     2,  Iter     8:    Energy =   0.0572
Level     2,  Iter     9:    Energy =   0.0580
Level     2,  Iter    10:    Energy =   0.0587
Level     2,  Iter    11:    Energy =   0.0594
Level     2,  Iter    12:    Energy =   0.0599
Level     2,  Iter    13:    Energy =   0.0601
Level     2,  Iter    14:    Energy =   0.0602
Level     2,  Iter    15:    Energy =   0.0605
Level     2,  Iter    16:    Energy =   0.0608
Level     2,  Iter    17:    Energy =   0.0612
Level     2,  Iter    18:    Energy =   0.0614
Level     2,  Iter    19:    Energy =   0.0617
END OF LEVEL     2    DetJac Range:   0.0377  to   3.8217 
  Avg. Gradient Time  : 0.2992s  37.31% 
  Avg. Gaussian Time  : 0.4181s  52.13% 
  Avg. Iteration Time : 0.8020s 

real	0m26.725s
user	0m47.360s
sys	0m2.636s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 1'
CHUNK 0.698077 0.703846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 1
====================================
         PROGRESS: 0.698077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1788.19 	 OutFr   0.0000 	 RMSD     2.6238
Iter 002 	 Temp     3.72 	 Delta  1666.14 	 OutFr   0.0000 	 RMSD     2.2011
Iter 003 	 Temp     3.46 	 Delta  1577.34 	 OutFr   0.0000 	 RMSD     2.1904
Iter 004 	 Temp     3.22 	 Delta  1497.18 	 OutFr   0.0000 	 RMSD     2.1652
Iter 005 	 Temp     2.99 	 Delta  1424.09 	 OutFr   0.0026 	 RMSD     2.1419
Iter 006 	 Temp     2.78 	 Delta  1357.20 	 OutFr   0.0052 	 RMSD     2.1218
Iter 007 	 Temp     2.59 	 Delta  1296.90 	 OutFr   0.0079 	 RMSD     2.1047
Iter 008 	 Temp     2.41 	 Delta  1244.89 	 OutFr   0.0079 	 RMSD     2.0913
Iter 009 	 Temp     2.24 	 Delta  1201.43 	 OutFr   0.0079 	 RMSD     2.0810
Iter 010 	 Temp     2.08 	 Delta  1164.52 	 OutFr   0.0105 	 RMSD     2.0723
Iter 011 	 Temp     1.94 	 Delta  1130.56 	 OutFr   0.0131 	 RMSD     2.0651
Iter 012 	 Temp     1.80 	 Delta  1095.50 	 OutFr   0.0183 	 RMSD     2.0590
Iter 013 	 Temp     1.67 	 Delta  1056.22 	 OutFr   0.0183 	 RMSD     2.0534
Iter 014 	 Temp     1.56 	 Delta  1011.40 	 OutFr   0.0183 	 RMSD     2.0487
Iter 015 	 Temp     1.45 	 Delta   961.68 	 OutFr   0.0183 	 RMSD     2.0443
Iter 016 	 Temp     1.35 	 Delta   907.57 	 OutFr   0.0236 	 RMSD     2.0398
Iter 017 	 Temp     1.25 	 Delta   847.52 	 OutFr   0.0236 	 RMSD     2.0352
Iter 018 	 Temp     1.16 	 Delta   782.58 	 OutFr   0.0236 	 RMSD     2.0308
Iter 019 	 Temp     1.08 	 Delta   718.36 	 OutFr   0.0262 	 RMSD     2.0271
Iter 020 	 Temp     1.01 	 Delta   661.40 	 OutFr   0.0340 	 RMSD     2.0233
Iter 021 	 Temp     0.94 	 Delta   612.64 	 OutFr   0.0366 	 RMSD     2.0203
Iter 022 	 Temp     0.87 	 Delta   567.90 	 OutFr   0.0524 	 RMSD     2.0181
Iter 023 	 Temp     0.81 	 Delta   523.70 	 OutFr   0.0654 	 RMSD     2.0167
Iter 024 	 Temp     0.75 	 Delta   478.93 	 OutFr   0.0812 	 RMSD     2.0159
Iter 025 	 Temp     0.70 	 Delta   437.01 	 OutFr   0.0969 	 RMSD     2.0160
Iter 026 	 Temp     0.65 	 Delta   402.39 	 OutFr   0.1204 	 RMSD     2.0170
Iter 027 	 Temp     0.61 	 Delta   374.10 	 OutFr   0.1492 	 RMSD     2.0180
Iter 028 	 Temp     0.56 	 Delta   348.14 	 OutFr   0.1545 	 RMSD     2.0185
Iter 029 	 Temp     0.52 	 Delta   322.17 	 OutFr   0.1859 	 RMSD     2.0194
Iter 030 	 Temp     0.49 	 Delta   293.23 	 OutFr   0.1990 	 RMSD     2.0208
Iter 031 	 Temp     0.45 	 Delta   259.22 	 OutFr   0.2330 	 RMSD     2.0223
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.oe74YVRs/mybin.nii.gz
+ vtklevelset /tmp/ashs.oe74YVRs/mybin.nii.gz /tmp/ashs.oe74YVRs/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.oe74YVRs/mymesh.vtk /tmp/ashs.oe74YVRs/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2760.14983064   1.00058760
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.oe74YVRs/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.4655 to -10.6659
   Y : -24.1451 to 20.0517
   Z : -8.3523 to 19.3051
   Image resolution  : 101 by 157 by 108
   Image box origin  : {-40.4655, -29.1451, -13.3523}
   Image box size    : {35.0694, 54.5139, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.4655, 29.1451, -13.3523]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -o /tmp/ashs.oe74YVRs/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -o /tmp/ashs.oe74YVRs/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.oe74YVRs/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 0.5'
CHUNK 0.703846 0.709615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 0.5
====================================
         PROGRESS: 0.703846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.oe74YVRs/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.oe74YVRs/fixed_hw.nii.gz /tmp/ashs.oe74YVRs/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.508581, moving = 0.581418
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36052, 2.42484], [0.953763, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0562
Level     0,  Iter     1:    Energy =   0.0632
Level     0,  Iter     2:    Energy =   0.0710
Level     0,  Iter     3:    Energy =   0.0769
Level     0,  Iter     4:    Energy =   0.0815
Level     0,  Iter     5:    Energy =   0.0849
Level     0,  Iter     6:    Energy =   0.0871
Level     0,  Iter     7:    Energy =   0.0892
Level     0,  Iter     8:    Energy =   0.0903
Level     0,  Iter     9:    Energy =   0.0911
Level     0,  Iter    10:    Energy =   0.0916
Level     0,  Iter    11:    Energy =   0.0921
Level     0,  Iter    12:    Energy =   0.0924
Level     0,  Iter    13:    Energy =   0.0927
Level     0,  Iter    14:    Energy =   0.0929
Level     0,  Iter    15:    Energy =   0.0931
Level     0,  Iter    16:    Energy =   0.0933
Level     0,  Iter    17:    Energy =   0.0935
Level     0,  Iter    18:    Energy =   0.0936
Level     0,  Iter    19:    Energy =   0.0938
Level     0,  Iter    20:    Energy =   0.0938
Level     0,  Iter    21:    Energy =   0.0940
Level     0,  Iter    22:    Energy =   0.0940
Level     0,  Iter    23:    Energy =   0.0943
Level     0,  Iter    24:    Energy =   0.0942
Level     0,  Iter    25:    Energy =   0.0945
Level     0,  Iter    26:    Energy =   0.0945
Level     0,  Iter    27:    Energy =   0.0947
Level     0,  Iter    28:    Energy =   0.0946
Level     0,  Iter    29:    Energy =   0.0948
Level     0,  Iter    30:    Energy =   0.0947
Level     0,  Iter    31:    Energy =   0.0949
Level     0,  Iter    32:    Energy =   0.0948
Level     0,  Iter    33:    Energy =   0.0950
Level     0,  Iter    34:    Energy =   0.0949
Level     0,  Iter    35:    Energy =   0.0952
Level     0,  Iter    36:    Energy =   0.0950
Level     0,  Iter    37:    Energy =   0.0953
Level     0,  Iter    38:    Energy =   0.0952
Level     0,  Iter    39:    Energy =   0.0953
Level     0,  Iter    40:    Energy =   0.0952
Level     0,  Iter    41:    Energy =   0.0954
Level     0,  Iter    42:    Energy =   0.0952
Level     0,  Iter    43:    Energy =   0.0954
Level     0,  Iter    44:    Energy =   0.0951
Level     0,  Iter    45:    Energy =   0.0954
Level     0,  Iter    46:    Energy =   0.0953
Level     0,  Iter    47:    Energy =   0.0955
Level     0,  Iter    48:    Energy =   0.0953
Level     0,  Iter    49:    Energy =   0.0955
Level     0,  Iter    50:    Energy =   0.0953
Level     0,  Iter    51:    Energy =   0.0955
Level     0,  Iter    52:    Energy =   0.0954
Level     0,  Iter    53:    Energy =   0.0955
Level     0,  Iter    54:    Energy =   0.0953
Level     0,  Iter    55:    Energy =   0.0956
Level     0,  Iter    56:    Energy =   0.0954
Level     0,  Iter    57:    Energy =   0.0956
Level     0,  Iter    58:    Energy =   0.0954
Level     0,  Iter    59:    Energy =   0.0956
END OF LEVEL     0    DetJac Range:   0.4385  to   2.0428 
  Avg. Gradient Time  : 0.0073s  37.40% 
  Avg. Gaussian Time  : 0.0093s  47.74% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1952, 1.21242], [0.486232, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0646
Level     1,  Iter     1:    Energy =   0.0693
Level     1,  Iter     2:    Energy =   0.0733
Level     1,  Iter     3:    Energy =   0.0761
Level     1,  Iter     4:    Energy =   0.0784
Level     1,  Iter     5:    Energy =   0.0803
Level     1,  Iter     6:    Energy =   0.0818
Level     1,  Iter     7:    Energy =   0.0833
Level     1,  Iter     8:    Energy =   0.0845
Level     1,  Iter     9:    Energy =   0.0854
Level     1,  Iter    10:    Energy =   0.0858
Level     1,  Iter    11:    Energy =   0.0861
Level     1,  Iter    12:    Energy =   0.0861
Level     1,  Iter    13:    Energy =   0.0869
Level     1,  Iter    14:    Energy =   0.0869
Level     1,  Iter    15:    Energy =   0.0872
Level     1,  Iter    16:    Energy =   0.0871
Level     1,  Iter    17:    Energy =   0.0877
Level     1,  Iter    18:    Energy =   0.0876
Level     1,  Iter    19:    Energy =   0.0881
Level     1,  Iter    20:    Energy =   0.0879
Level     1,  Iter    21:    Energy =   0.0884
Level     1,  Iter    22:    Energy =   0.0882
Level     1,  Iter    23:    Energy =   0.0887
Level     1,  Iter    24:    Energy =   0.0885
Level     1,  Iter    25:    Energy =   0.0887
Level     1,  Iter    26:    Energy =   0.0884
Level     1,  Iter    27:    Energy =   0.0889
Level     1,  Iter    28:    Energy =   0.0888
Level     1,  Iter    29:    Energy =   0.0888
Level     1,  Iter    30:    Energy =   0.0885
Level     1,  Iter    31:    Energy =   0.0889
Level     1,  Iter    32:    Energy =   0.0887
Level     1,  Iter    33:    Energy =   0.0888
Level     1,  Iter    34:    Energy =   0.0886
Level     1,  Iter    35:    Energy =   0.0887
Level     1,  Iter    36:    Energy =   0.0886
Level     1,  Iter    37:    Energy =   0.0885
Level     1,  Iter    38:    Energy =   0.0885
Level     1,  Iter    39:    Energy =   0.0884
Level     1,  Iter    40:    Energy =   0.0884
Level     1,  Iter    41:    Energy =   0.0884
Level     1,  Iter    42:    Energy =   0.0884
Level     1,  Iter    43:    Energy =   0.0883
Level     1,  Iter    44:    Energy =   0.0884
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0883
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0884
Level     1,  Iter    49:    Energy =   0.0884
Level     1,  Iter    50:    Energy =   0.0884
Level     1,  Iter    51:    Energy =   0.0884
Level     1,  Iter    52:    Energy =   0.0884
Level     1,  Iter    53:    Energy =   0.0884
Level     1,  Iter    54:    Energy =   0.0884
Level     1,  Iter    55:    Energy =   0.0884
Level     1,  Iter    56:    Energy =   0.0884
Level     1,  Iter    57:    Energy =   0.0884
Level     1,  Iter    58:    Energy =   0.0884
Level     1,  Iter    59:    Energy =   0.0884
END OF LEVEL     1    DetJac Range:   0.1841  to   2.9163 
  Avg. Gradient Time  : 0.0427s  39.66% 
  Avg. Gaussian Time  : 0.0521s  48.40% 
  Avg. Iteration Time : 0.1076s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0476
Level     2,  Iter     1:    Energy =   0.0501
Level     2,  Iter     2:    Energy =   0.0521
Level     2,  Iter     3:    Energy =   0.0543
Level     2,  Iter     4:    Energy =   0.0558
Level     2,  Iter     5:    Energy =   0.0575
Level     2,  Iter     6:    Energy =   0.0589
Level     2,  Iter     7:    Energy =   0.0601
Level     2,  Iter     8:    Energy =   0.0612
Level     2,  Iter     9:    Energy =   0.0622
Level     2,  Iter    10:    Energy =   0.0630
Level     2,  Iter    11:    Energy =   0.0636
Level     2,  Iter    12:    Energy =   0.0643
Level     2,  Iter    13:    Energy =   0.0648
Level     2,  Iter    14:    Energy =   0.0654
Level     2,  Iter    15:    Energy =   0.0657
Level     2,  Iter    16:    Energy =   0.0658
Level     2,  Iter    17:    Energy =   0.0659
Level     2,  Iter    18:    Energy =   0.0662
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.1441  to   5.8064 
  Avg. Gradient Time  : 0.2990s  37.44% 
  Avg. Gaussian Time  : 0.4133s  51.74% 
  Avg. Iteration Time : 0.7987s 

real	0m26.820s
user	0m47.376s
sys	0m2.656s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 1'
CHUNK 0.703846 0.709615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 1
====================================
         PROGRESS: 0.703846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2018.23 	 OutFr   0.0000 	 RMSD     3.3001
Iter 002 	 Temp     3.72 	 Delta  1818.09 	 OutFr   0.0000 	 RMSD     2.6394
Iter 003 	 Temp     3.46 	 Delta  1686.31 	 OutFr   0.0079 	 RMSD     2.5573
Iter 004 	 Temp     3.22 	 Delta  1584.99 	 OutFr   0.0079 	 RMSD     2.5168
Iter 005 	 Temp     2.99 	 Delta  1498.88 	 OutFr   0.0131 	 RMSD     2.4946
Iter 006 	 Temp     2.78 	 Delta  1419.39 	 OutFr   0.0131 	 RMSD     2.4824
Iter 007 	 Temp     2.59 	 Delta  1342.09 	 OutFr   0.0157 	 RMSD     2.4741
Iter 008 	 Temp     2.41 	 Delta  1266.39 	 OutFr   0.0209 	 RMSD     2.4676
Iter 009 	 Temp     2.24 	 Delta  1194.58 	 OutFr   0.0262 	 RMSD     2.4604
Iter 010 	 Temp     2.08 	 Delta  1126.91 	 OutFr   0.0314 	 RMSD     2.4523
Iter 011 	 Temp     1.94 	 Delta  1061.80 	 OutFr   0.0393 	 RMSD     2.4440
Iter 012 	 Temp     1.80 	 Delta   999.19 	 OutFr   0.0419 	 RMSD     2.4359
Iter 013 	 Temp     1.67 	 Delta   939.69 	 OutFr   0.0419 	 RMSD     2.4278
Iter 014 	 Temp     1.56 	 Delta   883.08 	 OutFr   0.0497 	 RMSD     2.4204
Iter 015 	 Temp     1.45 	 Delta   828.75 	 OutFr   0.0550 	 RMSD     2.4140
Iter 016 	 Temp     1.35 	 Delta   776.43 	 OutFr   0.0733 	 RMSD     2.4089
Iter 017 	 Temp     1.25 	 Delta   724.86 	 OutFr   0.0759 	 RMSD     2.4047
Iter 018 	 Temp     1.16 	 Delta   674.52 	 OutFr   0.0812 	 RMSD     2.4004
Iter 019 	 Temp     1.08 	 Delta   627.63 	 OutFr   0.0864 	 RMSD     2.3954
Iter 020 	 Temp     1.01 	 Delta   585.32 	 OutFr   0.0969 	 RMSD     2.3901
Iter 021 	 Temp     0.94 	 Delta   547.01 	 OutFr   0.1152 	 RMSD     2.3848
Iter 022 	 Temp     0.87 	 Delta   512.90 	 OutFr   0.1257 	 RMSD     2.3806
Iter 023 	 Temp     0.81 	 Delta   480.24 	 OutFr   0.1335 	 RMSD     2.3775
Iter 024 	 Temp     0.75 	 Delta   445.33 	 OutFr   0.1466 	 RMSD     2.3764
Iter 025 	 Temp     0.70 	 Delta   408.26 	 OutFr   0.1649 	 RMSD     2.3783
Iter 026 	 Temp     0.65 	 Delta   376.16 	 OutFr   0.1780 	 RMSD     2.3819
Iter 027 	 Temp     0.61 	 Delta   343.76 	 OutFr   0.2147 	 RMSD     2.3848
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.z6vSFSMi/mybin.nii.gz
+ vtklevelset /tmp/ashs.z6vSFSMi/mybin.nii.gz /tmp/ashs.z6vSFSMi/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.z6vSFSMi/mymesh.vtk /tmp/ashs.z6vSFSMi/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 3005.22353971   1.08942977
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.z6vSFSMi/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.9238 to -11.3499
   Y : -19.8496 to 25.8873
   Z : -21.6383 to 10.3179
   Image resolution  : 100 by 161 by 120
   Image box origin  : {-40.9238, -24.8496, -26.6383}
   Image box size    : {34.7222, 55.9027, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.9238, 24.8496, -26.6383]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -o /tmp/ashs.z6vSFSMi/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -o /tmp/ashs.z6vSFSMi/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.z6vSFSMi/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 0.5'
CHUNK 0.709615 0.715385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 0.5
====================================
         PROGRESS: 0.709615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.z6vSFSMi/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.z6vSFSMi/fixed_hw.nii.gz /tmp/ashs.z6vSFSMi/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.498105, moving = 0.4433
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36162, 2.42484], [0.982092, 0.964127, 0.989938]
Level     0,  Iter     0:    Energy =   0.0431
Level     0,  Iter     1:    Energy =   0.0501
Level     0,  Iter     2:    Energy =   0.0560
Level     0,  Iter     3:    Energy =   0.0616
Level     0,  Iter     4:    Energy =   0.0656
Level     0,  Iter     5:    Energy =   0.0687
Level     0,  Iter     6:    Energy =   0.0716
Level     0,  Iter     7:    Energy =   0.0741
Level     0,  Iter     8:    Energy =   0.0760
Level     0,  Iter     9:    Energy =   0.0761
Level     0,  Iter    10:    Energy =   0.0767
Level     0,  Iter    11:    Energy =   0.0771
Level     0,  Iter    12:    Energy =   0.0778
Level     0,  Iter    13:    Energy =   0.0784
Level     0,  Iter    14:    Energy =   0.0789
Level     0,  Iter    15:    Energy =   0.0787
Level     0,  Iter    16:    Energy =   0.0792
Level     0,  Iter    17:    Energy =   0.0795
Level     0,  Iter    18:    Energy =   0.0799
Level     0,  Iter    19:    Energy =   0.0795
Level     0,  Iter    20:    Energy =   0.0799
Level     0,  Iter    21:    Energy =   0.0800
Level     0,  Iter    22:    Energy =   0.0804
Level     0,  Iter    23:    Energy =   0.0802
Level     0,  Iter    24:    Energy =   0.0807
Level     0,  Iter    25:    Energy =   0.0805
Level     0,  Iter    26:    Energy =   0.0809
Level     0,  Iter    27:    Energy =   0.0806
Level     0,  Iter    28:    Energy =   0.0810
Level     0,  Iter    29:    Energy =   0.0807
Level     0,  Iter    30:    Energy =   0.0811
Level     0,  Iter    31:    Energy =   0.0810
Level     0,  Iter    32:    Energy =   0.0814
Level     0,  Iter    33:    Energy =   0.0810
Level     0,  Iter    34:    Energy =   0.0815
Level     0,  Iter    35:    Energy =   0.0815
Level     0,  Iter    36:    Energy =   0.0818
Level     0,  Iter    37:    Energy =   0.0814
Level     0,  Iter    38:    Energy =   0.0819
Level     0,  Iter    39:    Energy =   0.0820
Level     0,  Iter    40:    Energy =   0.0822
Level     0,  Iter    41:    Energy =   0.0817
Level     0,  Iter    42:    Energy =   0.0820
Level     0,  Iter    43:    Energy =   0.0819
Level     0,  Iter    44:    Energy =   0.0823
Level     0,  Iter    45:    Energy =   0.0821
Level     0,  Iter    46:    Energy =   0.0825
Level     0,  Iter    47:    Energy =   0.0824
Level     0,  Iter    48:    Energy =   0.0827
Level     0,  Iter    49:    Energy =   0.0825
Level     0,  Iter    50:    Energy =   0.0828
Level     0,  Iter    51:    Energy =   0.0826
Level     0,  Iter    52:    Energy =   0.0830
Level     0,  Iter    53:    Energy =   0.0827
Level     0,  Iter    54:    Energy =   0.0830
Level     0,  Iter    55:    Energy =   0.0827
Level     0,  Iter    56:    Energy =   0.0830
Level     0,  Iter    57:    Energy =   0.0828
Level     0,  Iter    58:    Energy =   0.0831
Level     0,  Iter    59:    Energy =   0.0829
END OF LEVEL     0    DetJac Range:   0.2403  to   2.1794 
  Avg. Gradient Time  : 0.0081s  37.42% 
  Avg. Gaussian Time  : 0.0103s  47.65% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.21242], [0.491046, 0.488015, 0.494969]
Level     1,  Iter     0:    Energy =   0.0570
Level     1,  Iter     1:    Energy =   0.0610
Level     1,  Iter     2:    Energy =   0.0643
Level     1,  Iter     3:    Energy =   0.0669
Level     1,  Iter     4:    Energy =   0.0689
Level     1,  Iter     5:    Energy =   0.0709
Level     1,  Iter     6:    Energy =   0.0725
Level     1,  Iter     7:    Energy =   0.0741
Level     1,  Iter     8:    Energy =   0.0755
Level     1,  Iter     9:    Energy =   0.0765
Level     1,  Iter    10:    Energy =   0.0772
Level     1,  Iter    11:    Energy =   0.0774
Level     1,  Iter    12:    Energy =   0.0779
Level     1,  Iter    13:    Energy =   0.0781
Level     1,  Iter    14:    Energy =   0.0784
Level     1,  Iter    15:    Energy =   0.0786
Level     1,  Iter    16:    Energy =   0.0787
Level     1,  Iter    17:    Energy =   0.0790
Level     1,  Iter    18:    Energy =   0.0790
Level     1,  Iter    19:    Energy =   0.0792
Level     1,  Iter    20:    Energy =   0.0793
Level     1,  Iter    21:    Energy =   0.0794
Level     1,  Iter    22:    Energy =   0.0794
Level     1,  Iter    23:    Energy =   0.0797
Level     1,  Iter    24:    Energy =   0.0796
Level     1,  Iter    25:    Energy =   0.0798
Level     1,  Iter    26:    Energy =   0.0798
Level     1,  Iter    27:    Energy =   0.0799
Level     1,  Iter    28:    Energy =   0.0798
Level     1,  Iter    29:    Energy =   0.0800
Level     1,  Iter    30:    Energy =   0.0800
Level     1,  Iter    31:    Energy =   0.0800
Level     1,  Iter    32:    Energy =   0.0800
Level     1,  Iter    33:    Energy =   0.0800
Level     1,  Iter    34:    Energy =   0.0801
Level     1,  Iter    35:    Energy =   0.0801
Level     1,  Iter    36:    Energy =   0.0802
Level     1,  Iter    37:    Energy =   0.0801
Level     1,  Iter    38:    Energy =   0.0802
Level     1,  Iter    39:    Energy =   0.0802
Level     1,  Iter    40:    Energy =   0.0803
Level     1,  Iter    41:    Energy =   0.0802
Level     1,  Iter    42:    Energy =   0.0803
Level     1,  Iter    43:    Energy =   0.0802
Level     1,  Iter    44:    Energy =   0.0804
Level     1,  Iter    45:    Energy =   0.0803
Level     1,  Iter    46:    Energy =   0.0804
Level     1,  Iter    47:    Energy =   0.0803
Level     1,  Iter    48:    Energy =   0.0804
Level     1,  Iter    49:    Energy =   0.0804
Level     1,  Iter    50:    Energy =   0.0804
Level     1,  Iter    51:    Energy =   0.0803
Level     1,  Iter    52:    Energy =   0.0804
Level     1,  Iter    53:    Energy =   0.0804
Level     1,  Iter    54:    Energy =   0.0805
Level     1,  Iter    55:    Energy =   0.0804
Level     1,  Iter    56:    Energy =   0.0805
Level     1,  Iter    57:    Energy =   0.0804
Level     1,  Iter    58:    Energy =   0.0805
Level     1,  Iter    59:    Energy =   0.0805
END OF LEVEL     1    DetJac Range:   0.2158  to   3.1297 
  Avg. Gradient Time  : 0.0475s  39.62% 
  Avg. Gaussian Time  : 0.0580s  48.33% 
  Avg. Iteration Time : 0.1199s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0429
Level     2,  Iter     1:    Energy =   0.0455
Level     2,  Iter     2:    Energy =   0.0474
Level     2,  Iter     3:    Energy =   0.0491
Level     2,  Iter     4:    Energy =   0.0506
Level     2,  Iter     5:    Energy =   0.0520
Level     2,  Iter     6:    Energy =   0.0530
Level     2,  Iter     7:    Energy =   0.0540
Level     2,  Iter     8:    Energy =   0.0549
Level     2,  Iter     9:    Energy =   0.0553
Level     2,  Iter    10:    Energy =   0.0559
Level     2,  Iter    11:    Energy =   0.0567
Level     2,  Iter    12:    Energy =   0.0574
Level     2,  Iter    13:    Energy =   0.0582
Level     2,  Iter    14:    Energy =   0.0589
Level     2,  Iter    15:    Energy =   0.0596
Level     2,  Iter    16:    Energy =   0.0604
Level     2,  Iter    17:    Energy =   0.0611
Level     2,  Iter    18:    Energy =   0.0617
Level     2,  Iter    19:    Energy =   0.0623
END OF LEVEL     2    DetJac Range:   0.1194  to   5.5599 
  Avg. Gradient Time  : 0.3351s  36.60% 
  Avg. Gaussian Time  : 0.4837s  52.84% 
  Avg. Iteration Time : 0.9155s 

real	0m30.426s
user	0m53.952s
sys	0m2.984s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 1'
CHUNK 0.709615 0.715385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 1
====================================
         PROGRESS: 0.709615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2537.51 	 OutFr   0.0079 	 RMSD     3.1491
Iter 002 	 Temp     3.72 	 Delta  2556.26 	 OutFr   0.0000 	 RMSD     2.4041
Iter 003 	 Temp     3.46 	 Delta  2525.31 	 OutFr   0.0000 	 RMSD     2.4150
Iter 004 	 Temp     3.22 	 Delta  2464.13 	 OutFr   0.0000 	 RMSD     2.4105
Iter 005 	 Temp     2.99 	 Delta  2383.08 	 OutFr   0.0000 	 RMSD     2.3973
Iter 006 	 Temp     2.78 	 Delta  2287.49 	 OutFr   0.0000 	 RMSD     2.3813
Iter 007 	 Temp     2.59 	 Delta  2179.00 	 OutFr   0.0000 	 RMSD     2.3651
Iter 008 	 Temp     2.41 	 Delta  2057.91 	 OutFr   0.0000 	 RMSD     2.3492
Iter 009 	 Temp     2.24 	 Delta  1924.72 	 OutFr   0.0000 	 RMSD     2.3346
Iter 010 	 Temp     2.08 	 Delta  1781.14 	 OutFr   0.0052 	 RMSD     2.3204
Iter 011 	 Temp     1.94 	 Delta  1630.83 	 OutFr   0.0052 	 RMSD     2.3076
Iter 012 	 Temp     1.80 	 Delta  1479.95 	 OutFr   0.0079 	 RMSD     2.2949
Iter 013 	 Temp     1.67 	 Delta  1335.90 	 OutFr   0.0105 	 RMSD     2.2843
Iter 014 	 Temp     1.56 	 Delta  1204.00 	 OutFr   0.0131 	 RMSD     2.2763
Iter 015 	 Temp     1.45 	 Delta  1087.63 	 OutFr   0.0157 	 RMSD     2.2719
Iter 016 	 Temp     1.35 	 Delta   990.77 	 OutFr   0.0209 	 RMSD     2.2700
Iter 017 	 Temp     1.25 	 Delta   911.83 	 OutFr   0.0445 	 RMSD     2.2687
Iter 018 	 Temp     1.16 	 Delta   843.64 	 OutFr   0.0497 	 RMSD     2.2672
Iter 019 	 Temp     1.08 	 Delta   780.08 	 OutFr   0.0550 	 RMSD     2.2672
Iter 020 	 Temp     1.01 	 Delta   714.92 	 OutFr   0.0707 	 RMSD     2.2684
Iter 021 	 Temp     0.94 	 Delta   646.70 	 OutFr   0.0969 	 RMSD     2.2705
Iter 022 	 Temp     0.87 	 Delta   577.44 	 OutFr   0.1257 	 RMSD     2.2751
Iter 023 	 Temp     0.81 	 Delta   507.01 	 OutFr   0.1466 	 RMSD     2.2821
Iter 024 	 Temp     0.75 	 Delta   446.67 	 OutFr   0.1728 	 RMSD     2.2936
Iter 025 	 Temp     0.70 	 Delta   403.45 	 OutFr   0.1859 	 RMSD     2.3075
Iter 026 	 Temp     0.65 	 Delta   367.49 	 OutFr   0.1963 	 RMSD     2.3196
Iter 027 	 Temp     0.61 	 Delta   336.35 	 OutFr   0.2225 	 RMSD     2.3305
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.YiU8kOYd/mybin.nii.gz
+ vtklevelset /tmp/ashs.YiU8kOYd/mybin.nii.gz /tmp/ashs.YiU8kOYd/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.YiU8kOYd/mymesh.vtk /tmp/ashs.YiU8kOYd/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2933.37204615   1.06338274
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.YiU8kOYd/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.7187 to -6.52271
   Y : -19.4887 to 26.1541
   Z : -20.8406 to 12.8394
   Image resolution  : 99 by 161 by 125
   Image box origin  : {-35.7187, -24.4887, -25.8406}
   Image box size    : {34.375, 55.9027, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.7187, 24.4887, -25.8406]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -o /tmp/ashs.YiU8kOYd/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -o /tmp/ashs.YiU8kOYd/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.YiU8kOYd/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 0.5'
CHUNK 0.715385 0.721154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 0.5
====================================
         PROGRESS: 0.715385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.YiU8kOYd/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.YiU8kOYd/fixed_hw.nii.gz /tmp/ashs.YiU8kOYd/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.535183, moving = 0.460593
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.36162, 2.36801], [0.972271, 0.964127, 0.966737]
Level     0,  Iter     0:    Energy =   0.0338
Level     0,  Iter     1:    Energy =   0.0380
Level     0,  Iter     2:    Energy =   0.0422
Level     0,  Iter     3:    Energy =   0.0467
Level     0,  Iter     4:    Energy =   0.0503
Level     0,  Iter     5:    Energy =   0.0536
Level     0,  Iter     6:    Energy =   0.0564
Level     0,  Iter     7:    Energy =   0.0581
Level     0,  Iter     8:    Energy =   0.0597
Level     0,  Iter     9:    Energy =   0.0616
Level     0,  Iter    10:    Energy =   0.0634
Level     0,  Iter    11:    Energy =   0.0649
Level     0,  Iter    12:    Energy =   0.0666
Level     0,  Iter    13:    Energy =   0.0682
Level     0,  Iter    14:    Energy =   0.0690
Level     0,  Iter    15:    Energy =   0.0695
Level     0,  Iter    16:    Energy =   0.0696
Level     0,  Iter    17:    Energy =   0.0700
Level     0,  Iter    18:    Energy =   0.0700
Level     0,  Iter    19:    Energy =   0.0703
Level     0,  Iter    20:    Energy =   0.0708
Level     0,  Iter    21:    Energy =   0.0710
Level     0,  Iter    22:    Energy =   0.0713
Level     0,  Iter    23:    Energy =   0.0714
Level     0,  Iter    24:    Energy =   0.0723
Level     0,  Iter    25:    Energy =   0.0723
Level     0,  Iter    26:    Energy =   0.0723
Level     0,  Iter    27:    Energy =   0.0724
Level     0,  Iter    28:    Energy =   0.0728
Level     0,  Iter    29:    Energy =   0.0728
Level     0,  Iter    30:    Energy =   0.0728
Level     0,  Iter    31:    Energy =   0.0728
Level     0,  Iter    32:    Energy =   0.0730
Level     0,  Iter    33:    Energy =   0.0730
Level     0,  Iter    34:    Energy =   0.0731
Level     0,  Iter    35:    Energy =   0.0731
Level     0,  Iter    36:    Energy =   0.0731
Level     0,  Iter    37:    Energy =   0.0732
Level     0,  Iter    38:    Energy =   0.0732
Level     0,  Iter    39:    Energy =   0.0732
Level     0,  Iter    40:    Energy =   0.0734
Level     0,  Iter    41:    Energy =   0.0734
Level     0,  Iter    42:    Energy =   0.0733
Level     0,  Iter    43:    Energy =   0.0735
Level     0,  Iter    44:    Energy =   0.0738
Level     0,  Iter    45:    Energy =   0.0738
Level     0,  Iter    46:    Energy =   0.0737
Level     0,  Iter    47:    Energy =   0.0737
Level     0,  Iter    48:    Energy =   0.0741
Level     0,  Iter    49:    Energy =   0.0741
Level     0,  Iter    50:    Energy =   0.0738
Level     0,  Iter    51:    Energy =   0.0738
Level     0,  Iter    52:    Energy =   0.0740
Level     0,  Iter    53:    Energy =   0.0740
Level     0,  Iter    54:    Energy =   0.0739
Level     0,  Iter    55:    Energy =   0.0739
Level     0,  Iter    56:    Energy =   0.0743
Level     0,  Iter    57:    Energy =   0.0745
Level     0,  Iter    58:    Energy =   0.0740
Level     0,  Iter    59:    Energy =   0.0741
END OF LEVEL     0    DetJac Range:   0.1186  to   2.3541 
  Avg. Gradient Time  : 0.0086s  37.88% 
  Avg. Gaussian Time  : 0.0108s  47.30% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.19539, 1.2028], [0.486136, 0.488015, 0.491041]
Level     1,  Iter     0:    Energy =   0.0466
Level     1,  Iter     1:    Energy =   0.0497
Level     1,  Iter     2:    Energy =   0.0520
Level     1,  Iter     3:    Energy =   0.0543
Level     1,  Iter     4:    Energy =   0.0568
Level     1,  Iter     5:    Energy =   0.0594
Level     1,  Iter     6:    Energy =   0.0614
Level     1,  Iter     7:    Energy =   0.0632
Level     1,  Iter     8:    Energy =   0.0646
Level     1,  Iter     9:    Energy =   0.0654
Level     1,  Iter    10:    Energy =   0.0659
Level     1,  Iter    11:    Energy =   0.0667
Level     1,  Iter    12:    Energy =   0.0678
Level     1,  Iter    13:    Energy =   0.0683
Level     1,  Iter    14:    Energy =   0.0686
Level     1,  Iter    15:    Energy =   0.0686
Level     1,  Iter    16:    Energy =   0.0690
Level     1,  Iter    17:    Energy =   0.0691
Level     1,  Iter    18:    Energy =   0.0694
Level     1,  Iter    19:    Energy =   0.0694
Level     1,  Iter    20:    Energy =   0.0697
Level     1,  Iter    21:    Energy =   0.0697
Level     1,  Iter    22:    Energy =   0.0700
Level     1,  Iter    23:    Energy =   0.0700
Level     1,  Iter    24:    Energy =   0.0702
Level     1,  Iter    25:    Energy =   0.0702
Level     1,  Iter    26:    Energy =   0.0704
Level     1,  Iter    27:    Energy =   0.0704
Level     1,  Iter    28:    Energy =   0.0706
Level     1,  Iter    29:    Energy =   0.0706
Level     1,  Iter    30:    Energy =   0.0708
Level     1,  Iter    31:    Energy =   0.0706
Level     1,  Iter    32:    Energy =   0.0710
Level     1,  Iter    33:    Energy =   0.0707
Level     1,  Iter    34:    Energy =   0.0714
Level     1,  Iter    35:    Energy =   0.0711
Level     1,  Iter    36:    Energy =   0.0716
Level     1,  Iter    37:    Energy =   0.0713
Level     1,  Iter    38:    Energy =   0.0718
Level     1,  Iter    39:    Energy =   0.0714
Level     1,  Iter    40:    Energy =   0.0719
Level     1,  Iter    41:    Energy =   0.0715
Level     1,  Iter    42:    Energy =   0.0718
Level     1,  Iter    43:    Energy =   0.0716
Level     1,  Iter    44:    Energy =   0.0718
Level     1,  Iter    45:    Energy =   0.0715
Level     1,  Iter    46:    Energy =   0.0719
Level     1,  Iter    47:    Energy =   0.0716
Level     1,  Iter    48:    Energy =   0.0719
Level     1,  Iter    49:    Energy =   0.0717
Level     1,  Iter    50:    Energy =   0.0719
Level     1,  Iter    51:    Energy =   0.0717
Level     1,  Iter    52:    Energy =   0.0720
Level     1,  Iter    53:    Energy =   0.0717
Level     1,  Iter    54:    Energy =   0.0721
Level     1,  Iter    55:    Energy =   0.0719
Level     1,  Iter    56:    Energy =   0.0720
Level     1,  Iter    57:    Energy =   0.0719
Level     1,  Iter    58:    Energy =   0.0719
Level     1,  Iter    59:    Energy =   0.0719
END OF LEVEL     1    DetJac Range:   0.0930  to   3.0223 
  Avg. Gradient Time  : 0.0507s  39.73% 
  Avg. Gaussian Time  : 0.0615s  48.18% 
  Avg. Iteration Time : 0.1277s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0393
Level     2,  Iter     1:    Energy =   0.0418
Level     2,  Iter     2:    Energy =   0.0440
Level     2,  Iter     3:    Energy =   0.0460
Level     2,  Iter     4:    Energy =   0.0478
Level     2,  Iter     5:    Energy =   0.0492
Level     2,  Iter     6:    Energy =   0.0502
Level     2,  Iter     7:    Energy =   0.0510
Level     2,  Iter     8:    Energy =   0.0518
Level     2,  Iter     9:    Energy =   0.0525
Level     2,  Iter    10:    Energy =   0.0531
Level     2,  Iter    11:    Energy =   0.0537
Level     2,  Iter    12:    Energy =   0.0541
Level     2,  Iter    13:    Energy =   0.0546
Level     2,  Iter    14:    Energy =   0.0549
Level     2,  Iter    15:    Energy =   0.0553
Level     2,  Iter    16:    Energy =   0.0558
Level     2,  Iter    17:    Energy =   0.0561
Level     2,  Iter    18:    Energy =   0.0564
Level     2,  Iter    19:    Energy =   0.0567
END OF LEVEL     2    DetJac Range:   0.0465  to   4.0620 
  Avg. Gradient Time  : 0.3534s  37.46% 
  Avg. Gaussian Time  : 0.4899s  51.94% 
  Avg. Iteration Time : 0.9433s 

real	0m31.583s
user	0m55.656s
sys	0m3.160s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 1'
CHUNK 0.715385 0.721154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 1
====================================
         PROGRESS: 0.715385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1733.51 	 OutFr   0.0000 	 RMSD     3.0892
Iter 002 	 Temp     3.72 	 Delta  1709.83 	 OutFr   0.0000 	 RMSD     1.9672
Iter 003 	 Temp     3.46 	 Delta  1605.04 	 OutFr   0.0000 	 RMSD     1.9471
Iter 004 	 Temp     3.22 	 Delta  1502.27 	 OutFr   0.0000 	 RMSD     1.9155
Iter 005 	 Temp     2.99 	 Delta  1408.92 	 OutFr   0.0000 	 RMSD     1.8879
Iter 006 	 Temp     2.78 	 Delta  1325.84 	 OutFr   0.0000 	 RMSD     1.8665
Iter 007 	 Temp     2.59 	 Delta  1252.27 	 OutFr   0.0000 	 RMSD     1.8496
Iter 008 	 Temp     2.41 	 Delta  1186.38 	 OutFr   0.0000 	 RMSD     1.8360
Iter 009 	 Temp     2.24 	 Delta  1125.96 	 OutFr   0.0000 	 RMSD     1.8251
Iter 010 	 Temp     2.08 	 Delta  1069.04 	 OutFr   0.0000 	 RMSD     1.8155
Iter 011 	 Temp     1.94 	 Delta  1014.04 	 OutFr   0.0026 	 RMSD     1.8079
Iter 012 	 Temp     1.80 	 Delta   959.74 	 OutFr   0.0052 	 RMSD     1.8016
Iter 013 	 Temp     1.67 	 Delta   905.89 	 OutFr   0.0052 	 RMSD     1.7968
Iter 014 	 Temp     1.56 	 Delta   853.99 	 OutFr   0.0105 	 RMSD     1.7933
Iter 015 	 Temp     1.45 	 Delta   805.03 	 OutFr   0.0105 	 RMSD     1.7908
Iter 016 	 Temp     1.35 	 Delta   757.89 	 OutFr   0.0183 	 RMSD     1.7892
Iter 017 	 Temp     1.25 	 Delta   710.88 	 OutFr   0.0183 	 RMSD     1.7881
Iter 018 	 Temp     1.16 	 Delta   663.82 	 OutFr   0.0236 	 RMSD     1.7870
Iter 019 	 Temp     1.08 	 Delta   617.07 	 OutFr   0.0288 	 RMSD     1.7859
Iter 020 	 Temp     1.01 	 Delta   571.55 	 OutFr   0.0288 	 RMSD     1.7848
Iter 021 	 Temp     0.94 	 Delta   529.23 	 OutFr   0.0314 	 RMSD     1.7840
Iter 022 	 Temp     0.87 	 Delta   490.30 	 OutFr   0.0445 	 RMSD     1.7840
Iter 023 	 Temp     0.81 	 Delta   450.70 	 OutFr   0.0576 	 RMSD     1.7839
Iter 024 	 Temp     0.75 	 Delta   411.35 	 OutFr   0.0654 	 RMSD     1.7839
Iter 025 	 Temp     0.70 	 Delta   383.01 	 OutFr   0.0707 	 RMSD     1.7857
Iter 026 	 Temp     0.65 	 Delta   356.12 	 OutFr   0.0838 	 RMSD     1.7890
Iter 027 	 Temp     0.61 	 Delta   328.96 	 OutFr   0.1073 	 RMSD     1.7916
Iter 028 	 Temp     0.56 	 Delta   301.78 	 OutFr   0.1361 	 RMSD     1.7938
Iter 029 	 Temp     0.52 	 Delta   274.39 	 OutFr   0.1545 	 RMSD     1.7965
Iter 030 	 Temp     0.49 	 Delta   250.62 	 OutFr   0.2016 	 RMSD     1.7998
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.EQw7XMvF/mybin.nii.gz
+ vtklevelset /tmp/ashs.EQw7XMvF/mybin.nii.gz /tmp/ashs.EQw7XMvF/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.EQw7XMvF/mymesh.vtk /tmp/ashs.EQw7XMvF/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2687.96331008   0.97441911
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.EQw7XMvF/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3152 to -9.4649
   Y : -22.5124 to 24.2325
   Z : -41.1003 to -14.5868
   Image resolution  : 95 by 164 by 105
   Image box origin  : {-37.3152, -27.5124, -46.1003}
   Image box size    : {32.9861, 56.9444, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3152, 27.5124, -46.1003]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -o /tmp/ashs.EQw7XMvF/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -o /tmp/ashs.EQw7XMvF/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.EQw7XMvF/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 0.5'
CHUNK 0.721154 0.726923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 0.5
====================================
         PROGRESS: 0.721154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.EQw7XMvF/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.EQw7XMvF/fixed_hw.nii.gz /tmp/ashs.EQw7XMvF/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.491601, moving = 0.666761
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.40562, 2.35749], [0.971862, 0.982092, 0.96244]
Level     0,  Iter     0:    Energy =   0.0379
Level     0,  Iter     1:    Energy =   0.0432
Level     0,  Iter     2:    Energy =   0.0485
Level     0,  Iter     3:    Energy =   0.0538
Level     0,  Iter     4:    Energy =   0.0581
Level     0,  Iter     5:    Energy =   0.0616
Level     0,  Iter     6:    Energy =   0.0640
Level     0,  Iter     7:    Energy =   0.0664
Level     0,  Iter     8:    Energy =   0.0683
Level     0,  Iter     9:    Energy =   0.0704
Level     0,  Iter    10:    Energy =   0.0716
Level     0,  Iter    11:    Energy =   0.0725
Level     0,  Iter    12:    Energy =   0.0729
Level     0,  Iter    13:    Energy =   0.0742
Level     0,  Iter    14:    Energy =   0.0745
Level     0,  Iter    15:    Energy =   0.0757
Level     0,  Iter    16:    Energy =   0.0758
Level     0,  Iter    17:    Energy =   0.0767
Level     0,  Iter    18:    Energy =   0.0767
Level     0,  Iter    19:    Energy =   0.0776
Level     0,  Iter    20:    Energy =   0.0774
Level     0,  Iter    21:    Energy =   0.0779
Level     0,  Iter    22:    Energy =   0.0778
Level     0,  Iter    23:    Energy =   0.0786
Level     0,  Iter    24:    Energy =   0.0784
Level     0,  Iter    25:    Energy =   0.0787
Level     0,  Iter    26:    Energy =   0.0787
Level     0,  Iter    27:    Energy =   0.0793
Level     0,  Iter    28:    Energy =   0.0790
Level     0,  Iter    29:    Energy =   0.0792
Level     0,  Iter    30:    Energy =   0.0789
Level     0,  Iter    31:    Energy =   0.0795
Level     0,  Iter    32:    Energy =   0.0792
Level     0,  Iter    33:    Energy =   0.0796
Level     0,  Iter    34:    Energy =   0.0795
Level     0,  Iter    35:    Energy =   0.0803
Level     0,  Iter    36:    Energy =   0.0800
Level     0,  Iter    37:    Energy =   0.0800
Level     0,  Iter    38:    Energy =   0.0798
Level     0,  Iter    39:    Energy =   0.0804
Level     0,  Iter    40:    Energy =   0.0801
Level     0,  Iter    41:    Energy =   0.0804
Level     0,  Iter    42:    Energy =   0.0803
Level     0,  Iter    43:    Energy =   0.0809
Level     0,  Iter    44:    Energy =   0.0806
Level     0,  Iter    45:    Energy =   0.0804
Level     0,  Iter    46:    Energy =   0.0804
Level     0,  Iter    47:    Energy =   0.0805
Level     0,  Iter    48:    Energy =   0.0803
Level     0,  Iter    49:    Energy =   0.0804
Level     0,  Iter    50:    Energy =   0.0804
Level     0,  Iter    51:    Energy =   0.0804
Level     0,  Iter    52:    Energy =   0.0803
Level     0,  Iter    53:    Energy =   0.0803
Level     0,  Iter    54:    Energy =   0.0803
Level     0,  Iter    55:    Energy =   0.0805
Level     0,  Iter    56:    Energy =   0.0804
Level     0,  Iter    57:    Energy =   0.0804
Level     0,  Iter    58:    Energy =   0.0804
Level     0,  Iter    59:    Energy =   0.0804
END OF LEVEL     0    DetJac Range:   0.3537  to   2.3619 
  Avg. Gradient Time  : 0.0074s  37.75% 
  Avg. Gaussian Time  : 0.0093s  47.66% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.20098], [0.485931, 0.491046, 0.4903]
Level     1,  Iter     0:    Energy =   0.0514
Level     1,  Iter     1:    Energy =   0.0551
Level     1,  Iter     2:    Energy =   0.0584
Level     1,  Iter     3:    Energy =   0.0613
Level     1,  Iter     4:    Energy =   0.0634
Level     1,  Iter     5:    Energy =   0.0651
Level     1,  Iter     6:    Energy =   0.0665
Level     1,  Iter     7:    Energy =   0.0682
Level     1,  Iter     8:    Energy =   0.0693
Level     1,  Iter     9:    Energy =   0.0700
Level     1,  Iter    10:    Energy =   0.0703
Level     1,  Iter    11:    Energy =   0.0709
Level     1,  Iter    12:    Energy =   0.0712
Level     1,  Iter    13:    Energy =   0.0715
Level     1,  Iter    14:    Energy =   0.0717
Level     1,  Iter    15:    Energy =   0.0720
Level     1,  Iter    16:    Energy =   0.0721
Level     1,  Iter    17:    Energy =   0.0724
Level     1,  Iter    18:    Energy =   0.0724
Level     1,  Iter    19:    Energy =   0.0727
Level     1,  Iter    20:    Energy =   0.0727
Level     1,  Iter    21:    Energy =   0.0729
Level     1,  Iter    22:    Energy =   0.0729
Level     1,  Iter    23:    Energy =   0.0733
Level     1,  Iter    24:    Energy =   0.0733
Level     1,  Iter    25:    Energy =   0.0734
Level     1,  Iter    26:    Energy =   0.0733
Level     1,  Iter    27:    Energy =   0.0737
Level     1,  Iter    28:    Energy =   0.0736
Level     1,  Iter    29:    Energy =   0.0740
Level     1,  Iter    30:    Energy =   0.0739
Level     1,  Iter    31:    Energy =   0.0742
Level     1,  Iter    32:    Energy =   0.0741
Level     1,  Iter    33:    Energy =   0.0745
Level     1,  Iter    34:    Energy =   0.0744
Level     1,  Iter    35:    Energy =   0.0746
Level     1,  Iter    36:    Energy =   0.0745
Level     1,  Iter    37:    Energy =   0.0747
Level     1,  Iter    38:    Energy =   0.0746
Level     1,  Iter    39:    Energy =   0.0748
Level     1,  Iter    40:    Energy =   0.0746
Level     1,  Iter    41:    Energy =   0.0748
Level     1,  Iter    42:    Energy =   0.0746
Level     1,  Iter    43:    Energy =   0.0747
Level     1,  Iter    44:    Energy =   0.0746
Level     1,  Iter    45:    Energy =   0.0747
Level     1,  Iter    46:    Energy =   0.0746
Level     1,  Iter    47:    Energy =   0.0746
Level     1,  Iter    48:    Energy =   0.0745
Level     1,  Iter    49:    Energy =   0.0746
Level     1,  Iter    50:    Energy =   0.0745
Level     1,  Iter    51:    Energy =   0.0746
Level     1,  Iter    52:    Energy =   0.0745
Level     1,  Iter    53:    Energy =   0.0746
Level     1,  Iter    54:    Energy =   0.0745
Level     1,  Iter    55:    Energy =   0.0746
Level     1,  Iter    56:    Energy =   0.0745
Level     1,  Iter    57:    Energy =   0.0747
Level     1,  Iter    58:    Energy =   0.0745
Level     1,  Iter    59:    Energy =   0.0747
END OF LEVEL     1    DetJac Range:   0.1824  to   3.3303 
  Avg. Gradient Time  : 0.0417s  40.08% 
  Avg. Gaussian Time  : 0.0498s  47.84% 
  Avg. Iteration Time : 0.1040s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0401
Level     2,  Iter     1:    Energy =   0.0423
Level     2,  Iter     2:    Energy =   0.0445
Level     2,  Iter     3:    Energy =   0.0464
Level     2,  Iter     4:    Energy =   0.0478
Level     2,  Iter     5:    Energy =   0.0488
Level     2,  Iter     6:    Energy =   0.0496
Level     2,  Iter     7:    Energy =   0.0504
Level     2,  Iter     8:    Energy =   0.0513
Level     2,  Iter     9:    Energy =   0.0520
Level     2,  Iter    10:    Energy =   0.0526
Level     2,  Iter    11:    Energy =   0.0532
Level     2,  Iter    12:    Energy =   0.0538
Level     2,  Iter    13:    Energy =   0.0543
Level     2,  Iter    14:    Energy =   0.0548
Level     2,  Iter    15:    Energy =   0.0553
Level     2,  Iter    16:    Energy =   0.0557
Level     2,  Iter    17:    Energy =   0.0561
Level     2,  Iter    18:    Energy =   0.0565
Level     2,  Iter    19:    Energy =   0.0568
END OF LEVEL     2    DetJac Range:   0.1026  to   5.0665 
  Avg. Gradient Time  : 0.2890s  37.16% 
  Avg. Gaussian Time  : 0.4055s  52.14% 
  Avg. Iteration Time : 0.7778s 

real	0m26.021s
user	0m45.704s
sys	0m2.636s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 1'
CHUNK 0.721154 0.726923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 1
====================================
         PROGRESS: 0.721154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1578.51 	 OutFr   0.0000 	 RMSD     2.0178
Iter 002 	 Temp     3.72 	 Delta  1549.29 	 OutFr   0.0000 	 RMSD     1.9140
Iter 003 	 Temp     3.46 	 Delta  1443.38 	 OutFr   0.0000 	 RMSD     1.9297
Iter 004 	 Temp     3.22 	 Delta  1340.37 	 OutFr   0.0000 	 RMSD     1.9024
Iter 005 	 Temp     2.99 	 Delta  1252.01 	 OutFr   0.0000 	 RMSD     1.8744
Iter 006 	 Temp     2.78 	 Delta  1175.70 	 OutFr   0.0000 	 RMSD     1.8509
Iter 007 	 Temp     2.59 	 Delta  1104.00 	 OutFr   0.0000 	 RMSD     1.8313
Iter 008 	 Temp     2.41 	 Delta  1036.94 	 OutFr   0.0000 	 RMSD     1.8159
Iter 009 	 Temp     2.24 	 Delta   976.11 	 OutFr   0.0000 	 RMSD     1.8035
Iter 010 	 Temp     2.08 	 Delta   921.86 	 OutFr   0.0026 	 RMSD     1.7935
Iter 011 	 Temp     1.94 	 Delta   874.01 	 OutFr   0.0026 	 RMSD     1.7856
Iter 012 	 Temp     1.80 	 Delta   831.99 	 OutFr   0.0026 	 RMSD     1.7799
Iter 013 	 Temp     1.67 	 Delta   794.92 	 OutFr   0.0079 	 RMSD     1.7756
Iter 014 	 Temp     1.56 	 Delta   761.66 	 OutFr   0.0105 	 RMSD     1.7715
Iter 015 	 Temp     1.45 	 Delta   730.85 	 OutFr   0.0131 	 RMSD     1.7681
Iter 016 	 Temp     1.35 	 Delta   700.05 	 OutFr   0.0131 	 RMSD     1.7647
Iter 017 	 Temp     1.25 	 Delta   666.85 	 OutFr   0.0157 	 RMSD     1.7615
Iter 018 	 Temp     1.16 	 Delta   631.44 	 OutFr   0.0183 	 RMSD     1.7583
Iter 019 	 Temp     1.08 	 Delta   594.43 	 OutFr   0.0209 	 RMSD     1.7546
Iter 020 	 Temp     1.01 	 Delta   555.78 	 OutFr   0.0262 	 RMSD     1.7506
Iter 021 	 Temp     0.94 	 Delta   517.76 	 OutFr   0.0340 	 RMSD     1.7462
Iter 022 	 Temp     0.87 	 Delta   483.11 	 OutFr   0.0366 	 RMSD     1.7417
Iter 023 	 Temp     0.81 	 Delta   453.22 	 OutFr   0.0393 	 RMSD     1.7367
Iter 024 	 Temp     0.75 	 Delta   428.88 	 OutFr   0.0471 	 RMSD     1.7313
Iter 025 	 Temp     0.70 	 Delta   407.63 	 OutFr   0.0550 	 RMSD     1.7264
Iter 026 	 Temp     0.65 	 Delta   387.84 	 OutFr   0.0707 	 RMSD     1.7221
Iter 027 	 Temp     0.61 	 Delta   367.47 	 OutFr   0.0707 	 RMSD     1.7187
Iter 028 	 Temp     0.56 	 Delta   344.78 	 OutFr   0.0890 	 RMSD     1.7162
Iter 029 	 Temp     0.52 	 Delta   320.82 	 OutFr   0.1099 	 RMSD     1.7144
Iter 030 	 Temp     0.49 	 Delta   295.71 	 OutFr   0.1257 	 RMSD     1.7126
Iter 031 	 Temp     0.45 	 Delta   269.24 	 OutFr   0.1623 	 RMSD     1.7112
Iter 032 	 Temp     0.42 	 Delta   243.22 	 OutFr   0.1885 	 RMSD     1.7102
Iter 033 	 Temp     0.39 	 Delta   218.00 	 OutFr   0.2356 	 RMSD     1.7095
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.l1nCpujn/mybin.nii.gz
+ vtklevelset /tmp/ashs.l1nCpujn/mybin.nii.gz /tmp/ashs.l1nCpujn/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.l1nCpujn/mymesh.vtk /tmp/ashs.l1nCpujn/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2679.63065000   0.97139842
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.l1nCpujn/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.8812 to -11.7537
   Y : -16.3755 to 28.4103
   Z : -31.1815 to -1.24432
   Image resolution  : 93 by 158 by 115
   Image box origin  : {-38.8812, -21.3755, -36.1815}
   Image box size    : {32.2916, 54.8611, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.8812, 21.3755, -36.1815]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -o /tmp/ashs.l1nCpujn/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -o /tmp/ashs.l1nCpujn/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.l1nCpujn/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 0.5'
CHUNK 0.726923 0.732692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 0.5
====================================
         PROGRESS: 0.726923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.l1nCpujn/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.l1nCpujn/fixed_hw.nii.gz /tmp/ashs.l1nCpujn/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.510768, moving = 0.565977
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37555, 2.40394], [0.951402, 0.969816, 0.981404]
Level     0,  Iter     0:    Energy =   0.0502
Level     0,  Iter     1:    Energy =   0.0565
Level     0,  Iter     2:    Energy =   0.0621
Level     0,  Iter     3:    Energy =   0.0671
Level     0,  Iter     4:    Energy =   0.0708
Level     0,  Iter     5:    Energy =   0.0734
Level     0,  Iter     6:    Energy =   0.0755
Level     0,  Iter     7:    Energy =   0.0773
Level     0,  Iter     8:    Energy =   0.0790
Level     0,  Iter     9:    Energy =   0.0802
Level     0,  Iter    10:    Energy =   0.0811
Level     0,  Iter    11:    Energy =   0.0819
Level     0,  Iter    12:    Energy =   0.0825
Level     0,  Iter    13:    Energy =   0.0832
Level     0,  Iter    14:    Energy =   0.0838
Level     0,  Iter    15:    Energy =   0.0844
Level     0,  Iter    16:    Energy =   0.0849
Level     0,  Iter    17:    Energy =   0.0852
Level     0,  Iter    18:    Energy =   0.0854
Level     0,  Iter    19:    Energy =   0.0854
Level     0,  Iter    20:    Energy =   0.0854
Level     0,  Iter    21:    Energy =   0.0858
Level     0,  Iter    22:    Energy =   0.0859
Level     0,  Iter    23:    Energy =   0.0859
Level     0,  Iter    24:    Energy =   0.0859
Level     0,  Iter    25:    Energy =   0.0863
Level     0,  Iter    26:    Energy =   0.0863
Level     0,  Iter    27:    Energy =   0.0863
Level     0,  Iter    28:    Energy =   0.0862
Level     0,  Iter    29:    Energy =   0.0866
Level     0,  Iter    30:    Energy =   0.0865
Level     0,  Iter    31:    Energy =   0.0864
Level     0,  Iter    32:    Energy =   0.0863
Level     0,  Iter    33:    Energy =   0.0866
Level     0,  Iter    34:    Energy =   0.0865
Level     0,  Iter    35:    Energy =   0.0865
Level     0,  Iter    36:    Energy =   0.0865
Level     0,  Iter    37:    Energy =   0.0868
Level     0,  Iter    38:    Energy =   0.0868
Level     0,  Iter    39:    Energy =   0.0867
Level     0,  Iter    40:    Energy =   0.0866
Level     0,  Iter    41:    Energy =   0.0869
Level     0,  Iter    42:    Energy =   0.0868
Level     0,  Iter    43:    Energy =   0.0868
Level     0,  Iter    44:    Energy =   0.0867
Level     0,  Iter    45:    Energy =   0.0870
Level     0,  Iter    46:    Energy =   0.0869
Level     0,  Iter    47:    Energy =   0.0868
Level     0,  Iter    48:    Energy =   0.0867
Level     0,  Iter    49:    Energy =   0.0870
Level     0,  Iter    50:    Energy =   0.0870
Level     0,  Iter    51:    Energy =   0.0869
Level     0,  Iter    52:    Energy =   0.0868
Level     0,  Iter    53:    Energy =   0.0871
Level     0,  Iter    54:    Energy =   0.0870
Level     0,  Iter    55:    Energy =   0.0870
Level     0,  Iter    56:    Energy =   0.0869
Level     0,  Iter    57:    Energy =   0.0871
Level     0,  Iter    58:    Energy =   0.0870
Level     0,  Iter    59:    Energy =   0.0870
END OF LEVEL     0    DetJac Range:   0.2353  to   2.0638 
  Avg. Gradient Time  : 0.0075s  37.59% 
  Avg. Gaussian Time  : 0.0095s  47.20% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.20197], [0.485822, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0581
Level     1,  Iter     1:    Energy =   0.0629
Level     1,  Iter     2:    Energy =   0.0665
Level     1,  Iter     3:    Energy =   0.0690
Level     1,  Iter     4:    Energy =   0.0715
Level     1,  Iter     5:    Energy =   0.0733
Level     1,  Iter     6:    Energy =   0.0746
Level     1,  Iter     7:    Energy =   0.0754
Level     1,  Iter     8:    Energy =   0.0759
Level     1,  Iter     9:    Energy =   0.0766
Level     1,  Iter    10:    Energy =   0.0776
Level     1,  Iter    11:    Energy =   0.0786
Level     1,  Iter    12:    Energy =   0.0795
Level     1,  Iter    13:    Energy =   0.0798
Level     1,  Iter    14:    Energy =   0.0798
Level     1,  Iter    15:    Energy =   0.0803
Level     1,  Iter    16:    Energy =   0.0805
Level     1,  Iter    17:    Energy =   0.0806
Level     1,  Iter    18:    Energy =   0.0806
Level     1,  Iter    19:    Energy =   0.0810
Level     1,  Iter    20:    Energy =   0.0810
Level     1,  Iter    21:    Energy =   0.0813
Level     1,  Iter    22:    Energy =   0.0813
Level     1,  Iter    23:    Energy =   0.0815
Level     1,  Iter    24:    Energy =   0.0815
Level     1,  Iter    25:    Energy =   0.0817
Level     1,  Iter    26:    Energy =   0.0816
Level     1,  Iter    27:    Energy =   0.0821
Level     1,  Iter    28:    Energy =   0.0820
Level     1,  Iter    29:    Energy =   0.0825
Level     1,  Iter    30:    Energy =   0.0823
Level     1,  Iter    31:    Energy =   0.0827
Level     1,  Iter    32:    Energy =   0.0825
Level     1,  Iter    33:    Energy =   0.0827
Level     1,  Iter    34:    Energy =   0.0826
Level     1,  Iter    35:    Energy =   0.0828
Level     1,  Iter    36:    Energy =   0.0827
Level     1,  Iter    37:    Energy =   0.0829
Level     1,  Iter    38:    Energy =   0.0828
Level     1,  Iter    39:    Energy =   0.0831
Level     1,  Iter    40:    Energy =   0.0829
Level     1,  Iter    41:    Energy =   0.0832
Level     1,  Iter    42:    Energy =   0.0830
Level     1,  Iter    43:    Energy =   0.0832
Level     1,  Iter    44:    Energy =   0.0831
Level     1,  Iter    45:    Energy =   0.0833
Level     1,  Iter    46:    Energy =   0.0832
Level     1,  Iter    47:    Energy =   0.0833
Level     1,  Iter    48:    Energy =   0.0833
Level     1,  Iter    49:    Energy =   0.0834
Level     1,  Iter    50:    Energy =   0.0833
Level     1,  Iter    51:    Energy =   0.0835
Level     1,  Iter    52:    Energy =   0.0833
Level     1,  Iter    53:    Energy =   0.0835
Level     1,  Iter    54:    Energy =   0.0834
Level     1,  Iter    55:    Energy =   0.0836
Level     1,  Iter    56:    Energy =   0.0835
Level     1,  Iter    57:    Energy =   0.0836
Level     1,  Iter    58:    Energy =   0.0836
Level     1,  Iter    59:    Energy =   0.0836
END OF LEVEL     1    DetJac Range:   0.0922  to   3.6843 
  Avg. Gradient Time  : 0.0433s  39.91% 
  Avg. Gaussian Time  : 0.0522s  48.17% 
  Avg. Iteration Time : 0.1084s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0456
Level     2,  Iter     1:    Energy =   0.0478
Level     2,  Iter     2:    Energy =   0.0500
Level     2,  Iter     3:    Energy =   0.0516
Level     2,  Iter     4:    Energy =   0.0528
Level     2,  Iter     5:    Energy =   0.0538
Level     2,  Iter     6:    Energy =   0.0548
Level     2,  Iter     7:    Energy =   0.0557
Level     2,  Iter     8:    Energy =   0.0568
Level     2,  Iter     9:    Energy =   0.0581
Level     2,  Iter    10:    Energy =   0.0591
Level     2,  Iter    11:    Energy =   0.0599
Level     2,  Iter    12:    Energy =   0.0607
Level     2,  Iter    13:    Energy =   0.0614
Level     2,  Iter    14:    Energy =   0.0619
Level     2,  Iter    15:    Energy =   0.0624
Level     2,  Iter    16:    Energy =   0.0629
Level     2,  Iter    17:    Energy =   0.0632
Level     2,  Iter    18:    Energy =   0.0630
Level     2,  Iter    19:    Energy =   0.0633
END OF LEVEL     2    DetJac Range:   0.0873  to   4.3731 
  Avg. Gradient Time  : 0.2976s  37.26% 
  Avg. Gaussian Time  : 0.4154s  52.00% 
  Avg. Iteration Time : 0.7988s 

real	0m26.868s
user	0m47.228s
sys	0m2.732s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 1'
CHUNK 0.726923 0.732692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 1
====================================
         PROGRESS: 0.726923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1358.49 	 OutFr   0.0000 	 RMSD     2.0639
Iter 002 	 Temp     3.72 	 Delta  1288.60 	 OutFr   0.0000 	 RMSD     1.8020
Iter 003 	 Temp     3.46 	 Delta  1207.82 	 OutFr   0.0000 	 RMSD     1.8092
Iter 004 	 Temp     3.22 	 Delta  1136.73 	 OutFr   0.0000 	 RMSD     1.7767
Iter 005 	 Temp     2.99 	 Delta  1073.89 	 OutFr   0.0000 	 RMSD     1.7472
Iter 006 	 Temp     2.78 	 Delta  1016.17 	 OutFr   0.0000 	 RMSD     1.7236
Iter 007 	 Temp     2.59 	 Delta   962.50 	 OutFr   0.0000 	 RMSD     1.7055
Iter 008 	 Temp     2.41 	 Delta   913.10 	 OutFr   0.0000 	 RMSD     1.6907
Iter 009 	 Temp     2.24 	 Delta   868.35 	 OutFr   0.0000 	 RMSD     1.6786
Iter 010 	 Temp     2.08 	 Delta   828.03 	 OutFr   0.0000 	 RMSD     1.6686
Iter 011 	 Temp     1.94 	 Delta   791.24 	 OutFr   0.0026 	 RMSD     1.6598
Iter 012 	 Temp     1.80 	 Delta   756.76 	 OutFr   0.0026 	 RMSD     1.6505
Iter 013 	 Temp     1.67 	 Delta   723.36 	 OutFr   0.0026 	 RMSD     1.6416
Iter 014 	 Temp     1.56 	 Delta   690.51 	 OutFr   0.0026 	 RMSD     1.6338
Iter 015 	 Temp     1.45 	 Delta   658.87 	 OutFr   0.0026 	 RMSD     1.6271
Iter 016 	 Temp     1.35 	 Delta   629.88 	 OutFr   0.0026 	 RMSD     1.6216
Iter 017 	 Temp     1.25 	 Delta   604.02 	 OutFr   0.0026 	 RMSD     1.6174
Iter 018 	 Temp     1.16 	 Delta   579.78 	 OutFr   0.0131 	 RMSD     1.6147
Iter 019 	 Temp     1.08 	 Delta   555.05 	 OutFr   0.0209 	 RMSD     1.6130
Iter 020 	 Temp     1.01 	 Delta   528.94 	 OutFr   0.0236 	 RMSD     1.6119
Iter 021 	 Temp     0.94 	 Delta   502.21 	 OutFr   0.0288 	 RMSD     1.6116
Iter 022 	 Temp     0.87 	 Delta   475.87 	 OutFr   0.0366 	 RMSD     1.6117
Iter 023 	 Temp     0.81 	 Delta   449.60 	 OutFr   0.0366 	 RMSD     1.6123
Iter 024 	 Temp     0.75 	 Delta   422.85 	 OutFr   0.0419 	 RMSD     1.6132
Iter 025 	 Temp     0.70 	 Delta   395.06 	 OutFr   0.0654 	 RMSD     1.6149
Iter 026 	 Temp     0.65 	 Delta   365.71 	 OutFr   0.0812 	 RMSD     1.6174
Iter 027 	 Temp     0.61 	 Delta   338.29 	 OutFr   0.1021 	 RMSD     1.6199
Iter 028 	 Temp     0.56 	 Delta   314.47 	 OutFr   0.1230 	 RMSD     1.6225
Iter 029 	 Temp     0.52 	 Delta   294.30 	 OutFr   0.1414 	 RMSD     1.6254
Iter 030 	 Temp     0.49 	 Delta   276.94 	 OutFr   0.1649 	 RMSD     1.6281
Iter 031 	 Temp     0.45 	 Delta   259.09 	 OutFr   0.1937 	 RMSD     1.6303
Iter 032 	 Temp     0.42 	 Delta   237.88 	 OutFr   0.2068 	 RMSD     1.6319
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.WpZwMP5o/mybin.nii.gz
+ vtklevelset /tmp/ashs.WpZwMP5o/mybin.nii.gz /tmp/ashs.WpZwMP5o/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.WpZwMP5o/mymesh.vtk /tmp/ashs.WpZwMP5o/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2602.41434832   0.94340658
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.WpZwMP5o/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.4682 to -8.51248
   Y : -18.913 to 23.3787
   Z : -25.6148 to 4.69571
   Image resolution  : 95 by 151 by 116
   Image box origin  : {-36.4682, -23.913, -30.6148}
   Image box size    : {32.9861, 52.4305, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.4682, 23.913, -30.6148]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -o /tmp/ashs.WpZwMP5o/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -o /tmp/ashs.WpZwMP5o/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.WpZwMP5o/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 0.5'
CHUNK 0.732692 0.738462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 0.5
====================================
         PROGRESS: 0.732692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.WpZwMP5o/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.WpZwMP5o/fixed_hw.nii.gz /tmp/ashs.WpZwMP5o/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.505456, moving = 0.761734
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.3898, 2.42484], [0.971862, 0.975631, 0.989938]
Level     0,  Iter     0:    Energy =   0.0621
Level     0,  Iter     1:    Energy =   0.0705
Level     0,  Iter     2:    Energy =   0.0773
Level     0,  Iter     3:    Energy =   0.0824
Level     0,  Iter     4:    Energy =   0.0870
Level     0,  Iter     5:    Energy =   0.0901
Level     0,  Iter     6:    Energy =   0.0927
Level     0,  Iter     7:    Energy =   0.0945
Level     0,  Iter     8:    Energy =   0.0959
Level     0,  Iter     9:    Energy =   0.0956
Level     0,  Iter    10:    Energy =   0.0964
Level     0,  Iter    11:    Energy =   0.0962
Level     0,  Iter    12:    Energy =   0.0967
Level     0,  Iter    13:    Energy =   0.0964
Level     0,  Iter    14:    Energy =   0.0969
Level     0,  Iter    15:    Energy =   0.0966
Level     0,  Iter    16:    Energy =   0.0971
Level     0,  Iter    17:    Energy =   0.0968
Level     0,  Iter    18:    Energy =   0.0971
Level     0,  Iter    19:    Energy =   0.0968
Level     0,  Iter    20:    Energy =   0.0972
Level     0,  Iter    21:    Energy =   0.0968
Level     0,  Iter    22:    Energy =   0.0971
Level     0,  Iter    23:    Energy =   0.0969
Level     0,  Iter    24:    Energy =   0.0972
Level     0,  Iter    25:    Energy =   0.0969
Level     0,  Iter    26:    Energy =   0.0971
Level     0,  Iter    27:    Energy =   0.0970
Level     0,  Iter    28:    Energy =   0.0972
Level     0,  Iter    29:    Energy =   0.0970
Level     0,  Iter    30:    Energy =   0.0972
Level     0,  Iter    31:    Energy =   0.0970
Level     0,  Iter    32:    Energy =   0.0973
Level     0,  Iter    33:    Energy =   0.0971
Level     0,  Iter    34:    Energy =   0.0972
Level     0,  Iter    35:    Energy =   0.0971
Level     0,  Iter    36:    Energy =   0.0974
Level     0,  Iter    37:    Energy =   0.0971
Level     0,  Iter    38:    Energy =   0.0973
Level     0,  Iter    39:    Energy =   0.0971
Level     0,  Iter    40:    Energy =   0.0974
Level     0,  Iter    41:    Energy =   0.0971
Level     0,  Iter    42:    Energy =   0.0973
Level     0,  Iter    43:    Energy =   0.0971
Level     0,  Iter    44:    Energy =   0.0974
Level     0,  Iter    45:    Energy =   0.0971
Level     0,  Iter    46:    Energy =   0.0974
Level     0,  Iter    47:    Energy =   0.0971
Level     0,  Iter    48:    Energy =   0.0974
Level     0,  Iter    49:    Energy =   0.0971
Level     0,  Iter    50:    Energy =   0.0973
Level     0,  Iter    51:    Energy =   0.0972
Level     0,  Iter    52:    Energy =   0.0975
Level     0,  Iter    53:    Energy =   0.0972
Level     0,  Iter    54:    Energy =   0.0974
Level     0,  Iter    55:    Energy =   0.0972
Level     0,  Iter    56:    Energy =   0.0975
Level     0,  Iter    57:    Energy =   0.0972
Level     0,  Iter    58:    Energy =   0.0974
Level     0,  Iter    59:    Energy =   0.0972
END OF LEVEL     0    DetJac Range:   0.6383  to   1.6600 
  Avg. Gradient Time  : 0.0073s  37.60% 
  Avg. Gaussian Time  : 0.0092s  47.27% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.1949, 1.21242], [0.485931, 0.487815, 0.494969]
Level     1,  Iter     0:    Energy =   0.0725
Level     1,  Iter     1:    Energy =   0.0765
Level     1,  Iter     2:    Energy =   0.0796
Level     1,  Iter     3:    Energy =   0.0820
Level     1,  Iter     4:    Energy =   0.0842
Level     1,  Iter     5:    Energy =   0.0859
Level     1,  Iter     6:    Energy =   0.0873
Level     1,  Iter     7:    Energy =   0.0885
Level     1,  Iter     8:    Energy =   0.0891
Level     1,  Iter     9:    Energy =   0.0894
Level     1,  Iter    10:    Energy =   0.0896
Level     1,  Iter    11:    Energy =   0.0898
Level     1,  Iter    12:    Energy =   0.0900
Level     1,  Iter    13:    Energy =   0.0902
Level     1,  Iter    14:    Energy =   0.0903
Level     1,  Iter    15:    Energy =   0.0904
Level     1,  Iter    16:    Energy =   0.0906
Level     1,  Iter    17:    Energy =   0.0906
Level     1,  Iter    18:    Energy =   0.0909
Level     1,  Iter    19:    Energy =   0.0909
Level     1,  Iter    20:    Energy =   0.0913
Level     1,  Iter    21:    Energy =   0.0912
Level     1,  Iter    22:    Energy =   0.0916
Level     1,  Iter    23:    Energy =   0.0915
Level     1,  Iter    24:    Energy =   0.0917
Level     1,  Iter    25:    Energy =   0.0916
Level     1,  Iter    26:    Energy =   0.0919
Level     1,  Iter    27:    Energy =   0.0918
Level     1,  Iter    28:    Energy =   0.0921
Level     1,  Iter    29:    Energy =   0.0920
Level     1,  Iter    30:    Energy =   0.0923
Level     1,  Iter    31:    Energy =   0.0921
Level     1,  Iter    32:    Energy =   0.0924
Level     1,  Iter    33:    Energy =   0.0922
Level     1,  Iter    34:    Energy =   0.0925
Level     1,  Iter    35:    Energy =   0.0923
Level     1,  Iter    36:    Energy =   0.0926
Level     1,  Iter    37:    Energy =   0.0924
Level     1,  Iter    38:    Energy =   0.0927
Level     1,  Iter    39:    Energy =   0.0925
Level     1,  Iter    40:    Energy =   0.0928
Level     1,  Iter    41:    Energy =   0.0925
Level     1,  Iter    42:    Energy =   0.0929
Level     1,  Iter    43:    Energy =   0.0926
Level     1,  Iter    44:    Energy =   0.0930
Level     1,  Iter    45:    Energy =   0.0927
Level     1,  Iter    46:    Energy =   0.0930
Level     1,  Iter    47:    Energy =   0.0927
Level     1,  Iter    48:    Energy =   0.0930
Level     1,  Iter    49:    Energy =   0.0928
Level     1,  Iter    50:    Energy =   0.0931
Level     1,  Iter    51:    Energy =   0.0929
Level     1,  Iter    52:    Energy =   0.0932
Level     1,  Iter    53:    Energy =   0.0930
Level     1,  Iter    54:    Energy =   0.0932
Level     1,  Iter    55:    Energy =   0.0930
Level     1,  Iter    56:    Energy =   0.0934
Level     1,  Iter    57:    Energy =   0.0932
Level     1,  Iter    58:    Energy =   0.0934
Level     1,  Iter    59:    Energy =   0.0932
END OF LEVEL     1    DetJac Range:   0.1508  to   3.0612 
  Avg. Gradient Time  : 0.0428s  40.23% 
  Avg. Gaussian Time  : 0.0507s  47.71% 
  Avg. Iteration Time : 0.1063s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0516
Level     2,  Iter     1:    Energy =   0.0546
Level     2,  Iter     2:    Energy =   0.0569
Level     2,  Iter     3:    Energy =   0.0587
Level     2,  Iter     4:    Energy =   0.0604
Level     2,  Iter     5:    Energy =   0.0617
Level     2,  Iter     6:    Energy =   0.0627
Level     2,  Iter     7:    Energy =   0.0635
Level     2,  Iter     8:    Energy =   0.0641
Level     2,  Iter     9:    Energy =   0.0646
Level     2,  Iter    10:    Energy =   0.0651
Level     2,  Iter    11:    Energy =   0.0655
Level     2,  Iter    12:    Energy =   0.0659
Level     2,  Iter    13:    Energy =   0.0663
Level     2,  Iter    14:    Energy =   0.0666
Level     2,  Iter    15:    Energy =   0.0669
Level     2,  Iter    16:    Energy =   0.0672
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0676
Level     2,  Iter    19:    Energy =   0.0678
END OF LEVEL     2    DetJac Range:   0.1382  to   3.8286 
  Avg. Gradient Time  : 0.2916s  37.09% 
  Avg. Gaussian Time  : 0.4101s  52.16% 
  Avg. Iteration Time : 0.7861s 

real	0m26.410s
user	0m46.328s
sys	0m2.724s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 1'
CHUNK 0.732692 0.738462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 1
====================================
         PROGRESS: 0.732692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1946.91 	 OutFr   0.0000 	 RMSD     3.0912
Iter 002 	 Temp     3.72 	 Delta  1785.44 	 OutFr   0.0000 	 RMSD     2.2122
Iter 003 	 Temp     3.46 	 Delta  1662.02 	 OutFr   0.0000 	 RMSD     2.1497
Iter 004 	 Temp     3.22 	 Delta  1554.33 	 OutFr   0.0000 	 RMSD     2.1011
Iter 005 	 Temp     2.99 	 Delta  1451.36 	 OutFr   0.0000 	 RMSD     2.0668
Iter 006 	 Temp     2.78 	 Delta  1353.39 	 OutFr   0.0000 	 RMSD     2.0408
Iter 007 	 Temp     2.59 	 Delta  1262.46 	 OutFr   0.0000 	 RMSD     2.0198
Iter 008 	 Temp     2.41 	 Delta  1179.77 	 OutFr   0.0000 	 RMSD     2.0022
Iter 009 	 Temp     2.24 	 Delta  1104.39 	 OutFr   0.0000 	 RMSD     1.9873
Iter 010 	 Temp     2.08 	 Delta  1033.70 	 OutFr   0.0000 	 RMSD     1.9749
Iter 011 	 Temp     1.94 	 Delta   965.42 	 OutFr   0.0000 	 RMSD     1.9644
Iter 012 	 Temp     1.80 	 Delta   898.39 	 OutFr   0.0000 	 RMSD     1.9548
Iter 013 	 Temp     1.67 	 Delta   832.23 	 OutFr   0.0026 	 RMSD     1.9468
Iter 014 	 Temp     1.56 	 Delta   768.38 	 OutFr   0.0052 	 RMSD     1.9404
Iter 015 	 Temp     1.45 	 Delta   710.50 	 OutFr   0.0052 	 RMSD     1.9347
Iter 016 	 Temp     1.35 	 Delta   662.04 	 OutFr   0.0105 	 RMSD     1.9306
Iter 017 	 Temp     1.25 	 Delta   624.15 	 OutFr   0.0131 	 RMSD     1.9281
Iter 018 	 Temp     1.16 	 Delta   593.07 	 OutFr   0.0131 	 RMSD     1.9264
Iter 019 	 Temp     1.08 	 Delta   562.54 	 OutFr   0.0183 	 RMSD     1.9249
Iter 020 	 Temp     1.01 	 Delta   530.22 	 OutFr   0.0262 	 RMSD     1.9233
Iter 021 	 Temp     0.94 	 Delta   498.77 	 OutFr   0.0366 	 RMSD     1.9223
Iter 022 	 Temp     0.87 	 Delta   470.60 	 OutFr   0.0524 	 RMSD     1.9216
Iter 023 	 Temp     0.81 	 Delta   442.95 	 OutFr   0.0681 	 RMSD     1.9213
Iter 024 	 Temp     0.75 	 Delta   415.96 	 OutFr   0.0733 	 RMSD     1.9211
Iter 025 	 Temp     0.70 	 Delta   389.54 	 OutFr   0.0812 	 RMSD     1.9205
Iter 026 	 Temp     0.65 	 Delta   363.29 	 OutFr   0.0969 	 RMSD     1.9201
Iter 027 	 Temp     0.61 	 Delta   338.41 	 OutFr   0.1099 	 RMSD     1.9204
Iter 028 	 Temp     0.56 	 Delta   315.07 	 OutFr   0.1361 	 RMSD     1.9214
Iter 029 	 Temp     0.52 	 Delta   294.23 	 OutFr   0.1597 	 RMSD     1.9230
Iter 030 	 Temp     0.49 	 Delta   273.37 	 OutFr   0.1911 	 RMSD     1.9247
Iter 031 	 Temp     0.45 	 Delta   248.68 	 OutFr   0.2225 	 RMSD     1.9258
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.pWkN3rAF/mybin.nii.gz
+ vtklevelset /tmp/ashs.pWkN3rAF/mybin.nii.gz /tmp/ashs.pWkN3rAF/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.pWkN3rAF/mymesh.vtk /tmp/ashs.pWkN3rAF/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2665.59695982   0.96631104
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.pWkN3rAF/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.5357 to -10.3409
   Y : -14.7984 to 31.1905
   Z : -29.2057 to 0.103361
   Image resolution  : 93 by 162 by 113
   Image box origin  : {-37.5357, -19.7984, -34.2057}
   Image box size    : {32.2916, 56.25, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.5357, 19.7984, -34.2057]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -o /tmp/ashs.pWkN3rAF/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -o /tmp/ashs.pWkN3rAF/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.pWkN3rAF/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 0.5'
CHUNK 0.738462 0.744231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 0.5
====================================
         PROGRESS: 0.738462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.pWkN3rAF/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.pWkN3rAF/fixed_hw.nii.gz /tmp/ashs.pWkN3rAF/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.516001, moving = 0.64965
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.37629, 2.36213], [0.951402, 0.970115, 0.964336]
Level     0,  Iter     0:    Energy =   0.0255
Level     0,  Iter     1:    Energy =   0.0309
Level     0,  Iter     2:    Energy =   0.0356
Level     0,  Iter     3:    Energy =   0.0390
Level     0,  Iter     4:    Energy =   0.0418
Level     0,  Iter     5:    Energy =   0.0443
Level     0,  Iter     6:    Energy =   0.0465
Level     0,  Iter     7:    Energy =   0.0483
Level     0,  Iter     8:    Energy =   0.0496
Level     0,  Iter     9:    Energy =   0.0510
Level     0,  Iter    10:    Energy =   0.0520
Level     0,  Iter    11:    Energy =   0.0531
Level     0,  Iter    12:    Energy =   0.0538
Level     0,  Iter    13:    Energy =   0.0548
Level     0,  Iter    14:    Energy =   0.0552
Level     0,  Iter    15:    Energy =   0.0559
Level     0,  Iter    16:    Energy =   0.0557
Level     0,  Iter    17:    Energy =   0.0563
Level     0,  Iter    18:    Energy =   0.0561
Level     0,  Iter    19:    Energy =   0.0567
Level     0,  Iter    20:    Energy =   0.0565
Level     0,  Iter    21:    Energy =   0.0571
Level     0,  Iter    22:    Energy =   0.0570
Level     0,  Iter    23:    Energy =   0.0577
Level     0,  Iter    24:    Energy =   0.0574
Level     0,  Iter    25:    Energy =   0.0579
Level     0,  Iter    26:    Energy =   0.0577
Level     0,  Iter    27:    Energy =   0.0584
Level     0,  Iter    28:    Energy =   0.0579
Level     0,  Iter    29:    Energy =   0.0585
Level     0,  Iter    30:    Energy =   0.0581
Level     0,  Iter    31:    Energy =   0.0588
Level     0,  Iter    32:    Energy =   0.0583
Level     0,  Iter    33:    Energy =   0.0589
Level     0,  Iter    34:    Energy =   0.0585
Level     0,  Iter    35:    Energy =   0.0592
Level     0,  Iter    36:    Energy =   0.0587
Level     0,  Iter    37:    Energy =   0.0593
Level     0,  Iter    38:    Energy =   0.0587
Level     0,  Iter    39:    Energy =   0.0593
Level     0,  Iter    40:    Energy =   0.0588
Level     0,  Iter    41:    Energy =   0.0594
Level     0,  Iter    42:    Energy =   0.0589
Level     0,  Iter    43:    Energy =   0.0594
Level     0,  Iter    44:    Energy =   0.0590
Level     0,  Iter    45:    Energy =   0.0595
Level     0,  Iter    46:    Energy =   0.0590
Level     0,  Iter    47:    Energy =   0.0595
Level     0,  Iter    48:    Energy =   0.0590
Level     0,  Iter    49:    Energy =   0.0596
Level     0,  Iter    50:    Energy =   0.0591
Level     0,  Iter    51:    Energy =   0.0597
Level     0,  Iter    52:    Energy =   0.0592
Level     0,  Iter    53:    Energy =   0.0598
Level     0,  Iter    54:    Energy =   0.0593
Level     0,  Iter    55:    Energy =   0.0599
Level     0,  Iter    56:    Energy =   0.0594
Level     0,  Iter    57:    Energy =   0.0600
Level     0,  Iter    58:    Energy =   0.0595
Level     0,  Iter    59:    Energy =   0.0601
END OF LEVEL     0    DetJac Range:   0.3029  to   2.2436 
  Avg. Gradient Time  : 0.0078s  37.65% 
  Avg. Gaussian Time  : 0.0098s  47.29% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.20281, 1.20179], [0.485822, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0419
Level     1,  Iter     1:    Energy =   0.0454
Level     1,  Iter     2:    Energy =   0.0482
Level     1,  Iter     3:    Energy =   0.0506
Level     1,  Iter     4:    Energy =   0.0525
Level     1,  Iter     5:    Energy =   0.0543
Level     1,  Iter     6:    Energy =   0.0556
Level     1,  Iter     7:    Energy =   0.0568
Level     1,  Iter     8:    Energy =   0.0579
Level     1,  Iter     9:    Energy =   0.0588
Level     1,  Iter    10:    Energy =   0.0596
Level     1,  Iter    11:    Energy =   0.0602
Level     1,  Iter    12:    Energy =   0.0609
Level     1,  Iter    13:    Energy =   0.0614
Level     1,  Iter    14:    Energy =   0.0618
Level     1,  Iter    15:    Energy =   0.0617
Level     1,  Iter    16:    Energy =   0.0623
Level     1,  Iter    17:    Energy =   0.0625
Level     1,  Iter    18:    Energy =   0.0628
Level     1,  Iter    19:    Energy =   0.0626
Level     1,  Iter    20:    Energy =   0.0631
Level     1,  Iter    21:    Energy =   0.0634
Level     1,  Iter    22:    Energy =   0.0636
Level     1,  Iter    23:    Energy =   0.0634
Level     1,  Iter    24:    Energy =   0.0637
Level     1,  Iter    25:    Energy =   0.0639
Level     1,  Iter    26:    Energy =   0.0641
Level     1,  Iter    27:    Energy =   0.0641
Level     1,  Iter    28:    Energy =   0.0643
Level     1,  Iter    29:    Energy =   0.0641
Level     1,  Iter    30:    Energy =   0.0644
Level     1,  Iter    31:    Energy =   0.0645
Level     1,  Iter    32:    Energy =   0.0647
Level     1,  Iter    33:    Energy =   0.0644
Level     1,  Iter    34:    Energy =   0.0647
Level     1,  Iter    35:    Energy =   0.0648
Level     1,  Iter    36:    Energy =   0.0650
Level     1,  Iter    37:    Energy =   0.0648
Level     1,  Iter    38:    Energy =   0.0650
Level     1,  Iter    39:    Energy =   0.0651
Level     1,  Iter    40:    Energy =   0.0652
Level     1,  Iter    41:    Energy =   0.0649
Level     1,  Iter    42:    Energy =   0.0651
Level     1,  Iter    43:    Energy =   0.0653
Level     1,  Iter    44:    Energy =   0.0655
Level     1,  Iter    45:    Energy =   0.0655
Level     1,  Iter    46:    Energy =   0.0656
Level     1,  Iter    47:    Energy =   0.0653
Level     1,  Iter    48:    Energy =   0.0655
Level     1,  Iter    49:    Energy =   0.0657
Level     1,  Iter    50:    Energy =   0.0660
Level     1,  Iter    51:    Energy =   0.0657
Level     1,  Iter    52:    Energy =   0.0660
Level     1,  Iter    53:    Energy =   0.0658
Level     1,  Iter    54:    Energy =   0.0660
Level     1,  Iter    55:    Energy =   0.0658
Level     1,  Iter    56:    Energy =   0.0661
Level     1,  Iter    57:    Energy =   0.0659
Level     1,  Iter    58:    Energy =   0.0662
Level     1,  Iter    59:    Energy =   0.0659
END OF LEVEL     1    DetJac Range:   0.1296  to   4.3590 
  Avg. Gradient Time  : 0.0436s  39.87% 
  Avg. Gaussian Time  : 0.0527s  48.19% 
  Avg. Iteration Time : 0.1094s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0338
Level     2,  Iter     1:    Energy =   0.0356
Level     2,  Iter     2:    Energy =   0.0372
Level     2,  Iter     3:    Energy =   0.0387
Level     2,  Iter     4:    Energy =   0.0398
Level     2,  Iter     5:    Energy =   0.0408
Level     2,  Iter     6:    Energy =   0.0417
Level     2,  Iter     7:    Energy =   0.0428
Level     2,  Iter     8:    Energy =   0.0439
Level     2,  Iter     9:    Energy =   0.0448
Level     2,  Iter    10:    Energy =   0.0455
Level     2,  Iter    11:    Energy =   0.0461
Level     2,  Iter    12:    Energy =   0.0466
Level     2,  Iter    13:    Energy =   0.0471
Level     2,  Iter    14:    Energy =   0.0475
Level     2,  Iter    15:    Energy =   0.0479
Level     2,  Iter    16:    Energy =   0.0482
Level     2,  Iter    17:    Energy =   0.0486
Level     2,  Iter    18:    Energy =   0.0489
Level     2,  Iter    19:    Energy =   0.0491
END OF LEVEL     2    DetJac Range:   0.0585  to   5.8936 
  Avg. Gradient Time  : 0.2994s  36.93% 
  Avg. Gaussian Time  : 0.4253s  52.47% 
  Avg. Iteration Time : 0.8106s 

real	0m27.241s
user	0m47.848s
sys	0m2.884s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 1'
CHUNK 0.738462 0.744231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 1
====================================
         PROGRESS: 0.738462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1516.79 	 OutFr   0.0026 	 RMSD     2.2122
Iter 002 	 Temp     3.72 	 Delta  1510.27 	 OutFr   0.0026 	 RMSD     1.8588
Iter 003 	 Temp     3.46 	 Delta  1415.45 	 OutFr   0.0052 	 RMSD     1.8776
Iter 004 	 Temp     3.22 	 Delta  1319.34 	 OutFr   0.0052 	 RMSD     1.8606
Iter 005 	 Temp     2.99 	 Delta  1229.07 	 OutFr   0.0052 	 RMSD     1.8400
Iter 006 	 Temp     2.78 	 Delta  1144.68 	 OutFr   0.0079 	 RMSD     1.8223
Iter 007 	 Temp     2.59 	 Delta  1066.68 	 OutFr   0.0079 	 RMSD     1.8077
Iter 008 	 Temp     2.41 	 Delta   996.25 	 OutFr   0.0079 	 RMSD     1.7956
Iter 009 	 Temp     2.24 	 Delta   934.30 	 OutFr   0.0105 	 RMSD     1.7847
Iter 010 	 Temp     2.08 	 Delta   880.79 	 OutFr   0.0105 	 RMSD     1.7748
Iter 011 	 Temp     1.94 	 Delta   834.94 	 OutFr   0.0105 	 RMSD     1.7660
Iter 012 	 Temp     1.80 	 Delta   795.24 	 OutFr   0.0105 	 RMSD     1.7576
Iter 013 	 Temp     1.67 	 Delta   759.21 	 OutFr   0.0105 	 RMSD     1.7500
Iter 014 	 Temp     1.56 	 Delta   723.64 	 OutFr   0.0105 	 RMSD     1.7427
Iter 015 	 Temp     1.45 	 Delta   685.48 	 OutFr   0.0131 	 RMSD     1.7355
Iter 016 	 Temp     1.35 	 Delta   643.37 	 OutFr   0.0209 	 RMSD     1.7287
Iter 017 	 Temp     1.25 	 Delta   598.63 	 OutFr   0.0262 	 RMSD     1.7223
Iter 018 	 Temp     1.16 	 Delta   555.15 	 OutFr   0.0314 	 RMSD     1.7152
Iter 019 	 Temp     1.08 	 Delta   516.69 	 OutFr   0.0314 	 RMSD     1.7072
Iter 020 	 Temp     1.01 	 Delta   483.33 	 OutFr   0.0550 	 RMSD     1.6993
Iter 021 	 Temp     0.94 	 Delta   452.65 	 OutFr   0.0733 	 RMSD     1.6926
Iter 022 	 Temp     0.87 	 Delta   421.87 	 OutFr   0.0733 	 RMSD     1.6865
Iter 023 	 Temp     0.81 	 Delta   391.30 	 OutFr   0.0864 	 RMSD     1.6825
Iter 024 	 Temp     0.75 	 Delta   363.56 	 OutFr   0.0890 	 RMSD     1.6809
Iter 025 	 Temp     0.70 	 Delta   339.44 	 OutFr   0.1021 	 RMSD     1.6817
Iter 026 	 Temp     0.65 	 Delta   317.03 	 OutFr   0.1152 	 RMSD     1.6832
Iter 027 	 Temp     0.61 	 Delta   295.14 	 OutFr   0.1257 	 RMSD     1.6853
Iter 028 	 Temp     0.56 	 Delta   276.70 	 OutFr   0.1414 	 RMSD     1.6876
Iter 029 	 Temp     0.52 	 Delta   262.26 	 OutFr   0.1597 	 RMSD     1.6896
Iter 030 	 Temp     0.49 	 Delta   247.17 	 OutFr   0.1754 	 RMSD     1.6920
Iter 031 	 Temp     0.45 	 Delta   228.75 	 OutFr   0.1832 	 RMSD     1.6951
Iter 032 	 Temp     0.42 	 Delta   209.55 	 OutFr   0.2094 	 RMSD     1.6987
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.mxeT0T8m/mybin.nii.gz
+ vtklevelset /tmp/ashs.mxeT0T8m/mybin.nii.gz /tmp/ashs.mxeT0T8m/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.mxeT0T8m/mymesh.vtk /tmp/ashs.mxeT0T8m/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2758.52892221 2600.17829699   0.94259599
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.mxeT0T8m/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.8865 to -11.8021
   Y : -16.0834 to 26.3129
   Z : -18.535 to 10.3749
   Image resolution  : 93 by 151 by 112
   Image box origin  : {-38.8865, -21.0834, -23.535}
   Image box size    : {32.2916, 52.4305, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.8865, 21.0834, -23.535]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -o /tmp/ashs.mxeT0T8m/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -o /tmp/ashs.mxeT0T8m/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.mxeT0T8m/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 0.5'
CHUNK 0.744231 0.75 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 0.5
====================================
         PROGRESS: 0.744231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.mxeT0T8m/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.mxeT0T8m/fixed_hw.nii.gz /tmp/ashs.mxeT0T8m/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.49108, moving = 0.405956
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.3898, 2.42484], [0.951402, 0.975631, 0.989938]
Level     0,  Iter     0:    Energy =   0.0458
Level     0,  Iter     1:    Energy =   0.0521
Level     0,  Iter     2:    Energy =   0.0576
Level     0,  Iter     3:    Energy =   0.0621
Level     0,  Iter     4:    Energy =   0.0660
Level     0,  Iter     5:    Energy =   0.0699
Level     0,  Iter     6:    Energy =   0.0721
Level     0,  Iter     7:    Energy =   0.0731
Level     0,  Iter     8:    Energy =   0.0737
Level     0,  Iter     9:    Energy =   0.0750
Level     0,  Iter    10:    Energy =   0.0750
Level     0,  Iter    11:    Energy =   0.0756
Level     0,  Iter    12:    Energy =   0.0762
Level     0,  Iter    13:    Energy =   0.0764
Level     0,  Iter    14:    Energy =   0.0762
Level     0,  Iter    15:    Energy =   0.0767
Level     0,  Iter    16:    Energy =   0.0772
Level     0,  Iter    17:    Energy =   0.0773
Level     0,  Iter    18:    Energy =   0.0773
Level     0,  Iter    19:    Energy =   0.0776
Level     0,  Iter    20:    Energy =   0.0779
Level     0,  Iter    21:    Energy =   0.0780
Level     0,  Iter    22:    Energy =   0.0780
Level     0,  Iter    23:    Energy =   0.0782
Level     0,  Iter    24:    Energy =   0.0784
Level     0,  Iter    25:    Energy =   0.0785
Level     0,  Iter    26:    Energy =   0.0786
Level     0,  Iter    27:    Energy =   0.0787
Level     0,  Iter    28:    Energy =   0.0788
Level     0,  Iter    29:    Energy =   0.0789
Level     0,  Iter    30:    Energy =   0.0787
Level     0,  Iter    31:    Energy =   0.0790
Level     0,  Iter    32:    Energy =   0.0791
Level     0,  Iter    33:    Energy =   0.0792
Level     0,  Iter    34:    Energy =   0.0790
Level     0,  Iter    35:    Energy =   0.0793
Level     0,  Iter    36:    Energy =   0.0794
Level     0,  Iter    37:    Energy =   0.0795
Level     0,  Iter    38:    Energy =   0.0792
Level     0,  Iter    39:    Energy =   0.0795
Level     0,  Iter    40:    Energy =   0.0795
Level     0,  Iter    41:    Energy =   0.0796
Level     0,  Iter    42:    Energy =   0.0793
Level     0,  Iter    43:    Energy =   0.0796
Level     0,  Iter    44:    Energy =   0.0796
Level     0,  Iter    45:    Energy =   0.0797
Level     0,  Iter    46:    Energy =   0.0796
Level     0,  Iter    47:    Energy =   0.0798
Level     0,  Iter    48:    Energy =   0.0797
Level     0,  Iter    49:    Energy =   0.0799
Level     0,  Iter    50:    Energy =   0.0798
Level     0,  Iter    51:    Energy =   0.0799
Level     0,  Iter    52:    Energy =   0.0798
Level     0,  Iter    53:    Energy =   0.0799
Level     0,  Iter    54:    Energy =   0.0799
Level     0,  Iter    55:    Energy =   0.0800
Level     0,  Iter    56:    Energy =   0.0797
Level     0,  Iter    57:    Energy =   0.0799
Level     0,  Iter    58:    Energy =   0.0800
Level     0,  Iter    59:    Energy =   0.0800
END OF LEVEL     0    DetJac Range:   0.3796  to   1.7909 
  Avg. Gradient Time  : 0.0069s  37.35% 
  Avg. Gaussian Time  : 0.0088s  47.72% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.1949, 1.21242], [0.485822, 0.487815, 0.494969]
Level     1,  Iter     0:    Energy =   0.0558
Level     1,  Iter     1:    Energy =   0.0591
Level     1,  Iter     2:    Energy =   0.0627
Level     1,  Iter     3:    Energy =   0.0657
Level     1,  Iter     4:    Energy =   0.0682
Level     1,  Iter     5:    Energy =   0.0704
Level     1,  Iter     6:    Energy =   0.0723
Level     1,  Iter     7:    Energy =   0.0731
Level     1,  Iter     8:    Energy =   0.0739
Level     1,  Iter     9:    Energy =   0.0753
Level     1,  Iter    10:    Energy =   0.0764
Level     1,  Iter    11:    Energy =   0.0764
Level     1,  Iter    12:    Energy =   0.0771
Level     1,  Iter    13:    Energy =   0.0770
Level     1,  Iter    14:    Energy =   0.0778
Level     1,  Iter    15:    Energy =   0.0777
Level     1,  Iter    16:    Energy =   0.0783
Level     1,  Iter    17:    Energy =   0.0781
Level     1,  Iter    18:    Energy =   0.0788
Level     1,  Iter    19:    Energy =   0.0785
Level     1,  Iter    20:    Energy =   0.0791
Level     1,  Iter    21:    Energy =   0.0789
Level     1,  Iter    22:    Energy =   0.0793
Level     1,  Iter    23:    Energy =   0.0791
Level     1,  Iter    24:    Energy =   0.0796
Level     1,  Iter    25:    Energy =   0.0794
Level     1,  Iter    26:    Energy =   0.0798
Level     1,  Iter    27:    Energy =   0.0795
Level     1,  Iter    28:    Energy =   0.0799
Level     1,  Iter    29:    Energy =   0.0796
Level     1,  Iter    30:    Energy =   0.0800
Level     1,  Iter    31:    Energy =   0.0798
Level     1,  Iter    32:    Energy =   0.0802
Level     1,  Iter    33:    Energy =   0.0799
Level     1,  Iter    34:    Energy =   0.0802
Level     1,  Iter    35:    Energy =   0.0799
Level     1,  Iter    36:    Energy =   0.0803
Level     1,  Iter    37:    Energy =   0.0801
Level     1,  Iter    38:    Energy =   0.0804
Level     1,  Iter    39:    Energy =   0.0802
Level     1,  Iter    40:    Energy =   0.0805
Level     1,  Iter    41:    Energy =   0.0802
Level     1,  Iter    42:    Energy =   0.0804
Level     1,  Iter    43:    Energy =   0.0802
Level     1,  Iter    44:    Energy =   0.0805
Level     1,  Iter    45:    Energy =   0.0803
Level     1,  Iter    46:    Energy =   0.0806
Level     1,  Iter    47:    Energy =   0.0804
Level     1,  Iter    48:    Energy =   0.0806
Level     1,  Iter    49:    Energy =   0.0804
Level     1,  Iter    50:    Energy =   0.0806
Level     1,  Iter    51:    Energy =   0.0803
Level     1,  Iter    52:    Energy =   0.0807
Level     1,  Iter    53:    Energy =   0.0804
Level     1,  Iter    54:    Energy =   0.0808
Level     1,  Iter    55:    Energy =   0.0805
Level     1,  Iter    56:    Energy =   0.0808
Level     1,  Iter    57:    Energy =   0.0805
Level     1,  Iter    58:    Energy =   0.0808
Level     1,  Iter    59:    Energy =   0.0805
END OF LEVEL     1    DetJac Range:   0.1146  to   2.7288 
  Avg. Gradient Time  : 0.0402s  40.07% 
  Avg. Gaussian Time  : 0.0482s  47.97% 
  Avg. Iteration Time : 0.1004s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0437
Level     2,  Iter     1:    Energy =   0.0458
Level     2,  Iter     2:    Energy =   0.0479
Level     2,  Iter     3:    Energy =   0.0494
Level     2,  Iter     4:    Energy =   0.0506
Level     2,  Iter     5:    Energy =   0.0516
Level     2,  Iter     6:    Energy =   0.0528
Level     2,  Iter     7:    Energy =   0.0541
Level     2,  Iter     8:    Energy =   0.0551
Level     2,  Iter     9:    Energy =   0.0559
Level     2,  Iter    10:    Energy =   0.0566
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0574
Level     2,  Iter    13:    Energy =   0.0578
Level     2,  Iter    14:    Energy =   0.0580
Level     2,  Iter    15:    Energy =   0.0582
Level     2,  Iter    16:    Energy =   0.0584
Level     2,  Iter    17:    Energy =   0.0586
Level     2,  Iter    18:    Energy =   0.0588
Level     2,  Iter    19:    Energy =   0.0590
END OF LEVEL     2    DetJac Range:   0.0742  to   3.2702 
  Avg. Gradient Time  : 0.2789s  36.44% 
  Avg. Gaussian Time  : 0.4068s  53.14% 
  Avg. Iteration Time : 0.7654s 

real	0m25.459s
user	0m45.020s
sys	0m2.592s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 1'
CHUNK 0.744231 0.75 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 1
====================================
         PROGRESS: 0.744231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2169.55 	 OutFr   0.0000 	 RMSD     3.1476
Iter 002 	 Temp     3.72 	 Delta  1942.81 	 OutFr   0.0000 	 RMSD     2.2765
Iter 003 	 Temp     3.46 	 Delta  1774.93 	 OutFr   0.0000 	 RMSD     2.2233
Iter 004 	 Temp     3.22 	 Delta  1637.24 	 OutFr   0.0000 	 RMSD     2.1861
Iter 005 	 Temp     2.99 	 Delta  1525.10 	 OutFr   0.0000 	 RMSD     2.1581
Iter 006 	 Temp     2.78 	 Delta  1434.62 	 OutFr   0.0000 	 RMSD     2.1355
Iter 007 	 Temp     2.59 	 Delta  1362.26 	 OutFr   0.0000 	 RMSD     2.1186
Iter 008 	 Temp     2.41 	 Delta  1305.04 	 OutFr   0.0000 	 RMSD     2.1061
Iter 009 	 Temp     2.24 	 Delta  1260.32 	 OutFr   0.0000 	 RMSD     2.0960
Iter 010 	 Temp     2.08 	 Delta  1225.53 	 OutFr   0.0000 	 RMSD     2.0882
Iter 011 	 Temp     1.94 	 Delta  1198.56 	 OutFr   0.0000 	 RMSD     2.0819
Iter 012 	 Temp     1.80 	 Delta  1177.00 	 OutFr   0.0000 	 RMSD     2.0762
Iter 013 	 Temp     1.67 	 Delta  1156.78 	 OutFr   0.0000 	 RMSD     2.0712
Iter 014 	 Temp     1.56 	 Delta  1133.77 	 OutFr   0.0000 	 RMSD     2.0674
Iter 015 	 Temp     1.45 	 Delta  1105.77 	 OutFr   0.0025 	 RMSD     2.0637
Iter 016 	 Temp     1.35 	 Delta  1072.64 	 OutFr   0.0049 	 RMSD     2.0604
Iter 017 	 Temp     1.25 	 Delta  1034.51 	 OutFr   0.0074 	 RMSD     2.0571
Iter 018 	 Temp     1.16 	 Delta   990.22 	 OutFr   0.0147 	 RMSD     2.0536
Iter 019 	 Temp     1.08 	 Delta   939.56 	 OutFr   0.0172 	 RMSD     2.0499
Iter 020 	 Temp     1.01 	 Delta   881.59 	 OutFr   0.0245 	 RMSD     2.0459
Iter 021 	 Temp     0.94 	 Delta   814.65 	 OutFr   0.0392 	 RMSD     2.0417
Iter 022 	 Temp     0.87 	 Delta   740.05 	 OutFr   0.0564 	 RMSD     2.0366
Iter 023 	 Temp     0.81 	 Delta   660.51 	 OutFr   0.0735 	 RMSD     2.0304
Iter 024 	 Temp     0.75 	 Delta   583.36 	 OutFr   0.0956 	 RMSD     2.0237
Iter 025 	 Temp     0.70 	 Delta   512.33 	 OutFr   0.1324 	 RMSD     2.0163
Iter 026 	 Temp     0.65 	 Delta   442.13 	 OutFr   0.1642 	 RMSD     2.0120
Iter 027 	 Temp     0.61 	 Delta   385.77 	 OutFr   0.2059 	 RMSD     2.0137
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.bD7YCfrR/mybin.nii.gz
+ vtklevelset /tmp/ashs.bD7YCfrR/mybin.nii.gz /tmp/ashs.bD7YCfrR/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.bD7YCfrR/mymesh.vtk /tmp/ashs.bD7YCfrR/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2925.79215398   1.09830333
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.bD7YCfrR/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.47522 to 32.8517
   Y : -14.1345 to 30.8743
   Z : -23.3113 to 5.01877
   Image resolution  : 102 by 159 by 110
   Image box origin  : {2.47522, -19.1345, -28.3113}
   Image box size    : {35.4166, 55.2083, 38.4996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.47522, 19.1345, -28.3113]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -o /tmp/ashs.bD7YCfrR/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -o /tmp/ashs.bD7YCfrR/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.bD7YCfrR/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 0.5'
CHUNK 0.75 0.755769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 0.5
====================================
         PROGRESS: 0.75               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.bD7YCfrR/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.bD7YCfrR/fixed_hw.nii.gz /tmp/ashs.bD7YCfrR/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.527937, moving = 0.815253
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.39059, 2.38154], [0.963206, 0.975954, 0.972261]
Level     0,  Iter     0:    Energy =   0.0579
Level     0,  Iter     1:    Energy =   0.0638
Level     0,  Iter     2:    Energy =   0.0693
Level     0,  Iter     3:    Energy =   0.0744
Level     0,  Iter     4:    Energy =   0.0780
Level     0,  Iter     5:    Energy =   0.0815
Level     0,  Iter     6:    Energy =   0.0831
Level     0,  Iter     7:    Energy =   0.0849
Level     0,  Iter     8:    Energy =   0.0861
Level     0,  Iter     9:    Energy =   0.0877
Level     0,  Iter    10:    Energy =   0.0879
Level     0,  Iter    11:    Energy =   0.0885
Level     0,  Iter    12:    Energy =   0.0884
Level     0,  Iter    13:    Energy =   0.0890
Level     0,  Iter    14:    Energy =   0.0888
Level     0,  Iter    15:    Energy =   0.0894
Level     0,  Iter    16:    Energy =   0.0891
Level     0,  Iter    17:    Energy =   0.0897
Level     0,  Iter    18:    Energy =   0.0895
Level     0,  Iter    19:    Energy =   0.0900
Level     0,  Iter    20:    Energy =   0.0897
Level     0,  Iter    21:    Energy =   0.0902
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0905
Level     0,  Iter    24:    Energy =   0.0902
Level     0,  Iter    25:    Energy =   0.0907
Level     0,  Iter    26:    Energy =   0.0904
Level     0,  Iter    27:    Energy =   0.0909
Level     0,  Iter    28:    Energy =   0.0906
Level     0,  Iter    29:    Energy =   0.0911
Level     0,  Iter    30:    Energy =   0.0908
Level     0,  Iter    31:    Energy =   0.0913
Level     0,  Iter    32:    Energy =   0.0910
Level     0,  Iter    33:    Energy =   0.0914
Level     0,  Iter    34:    Energy =   0.0911
Level     0,  Iter    35:    Energy =   0.0916
Level     0,  Iter    36:    Energy =   0.0912
Level     0,  Iter    37:    Energy =   0.0916
Level     0,  Iter    38:    Energy =   0.0913
Level     0,  Iter    39:    Energy =   0.0917
Level     0,  Iter    40:    Energy =   0.0913
Level     0,  Iter    41:    Energy =   0.0918
Level     0,  Iter    42:    Energy =   0.0915
Level     0,  Iter    43:    Energy =   0.0919
Level     0,  Iter    44:    Energy =   0.0915
Level     0,  Iter    45:    Energy =   0.0920
Level     0,  Iter    46:    Energy =   0.0916
Level     0,  Iter    47:    Energy =   0.0920
Level     0,  Iter    48:    Energy =   0.0917
Level     0,  Iter    49:    Energy =   0.0921
Level     0,  Iter    50:    Energy =   0.0918
Level     0,  Iter    51:    Energy =   0.0922
Level     0,  Iter    52:    Energy =   0.0918
Level     0,  Iter    53:    Energy =   0.0922
Level     0,  Iter    54:    Energy =   0.0918
Level     0,  Iter    55:    Energy =   0.0923
Level     0,  Iter    56:    Energy =   0.0919
Level     0,  Iter    57:    Energy =   0.0923
Level     0,  Iter    58:    Energy =   0.0919
Level     0,  Iter    59:    Energy =   0.0923
END OF LEVEL     0    DetJac Range:   0.4127  to   1.9765 
  Avg. Gradient Time  : 0.0075s  37.25% 
  Avg. Gaussian Time  : 0.0096s  48.01% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19529, 1.21242], [0.491046, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0652
Level     1,  Iter     1:    Energy =   0.0706
Level     1,  Iter     2:    Energy =   0.0741
Level     1,  Iter     3:    Energy =   0.0764
Level     1,  Iter     4:    Energy =   0.0780
Level     1,  Iter     5:    Energy =   0.0800
Level     1,  Iter     6:    Energy =   0.0815
Level     1,  Iter     7:    Energy =   0.0828
Level     1,  Iter     8:    Energy =   0.0839
Level     1,  Iter     9:    Energy =   0.0849
Level     1,  Iter    10:    Energy =   0.0859
Level     1,  Iter    11:    Energy =   0.0865
Level     1,  Iter    12:    Energy =   0.0870
Level     1,  Iter    13:    Energy =   0.0874
Level     1,  Iter    14:    Energy =   0.0879
Level     1,  Iter    15:    Energy =   0.0878
Level     1,  Iter    16:    Energy =   0.0881
Level     1,  Iter    17:    Energy =   0.0880
Level     1,  Iter    18:    Energy =   0.0882
Level     1,  Iter    19:    Energy =   0.0882
Level     1,  Iter    20:    Energy =   0.0881
Level     1,  Iter    21:    Energy =   0.0882
Level     1,  Iter    22:    Energy =   0.0881
Level     1,  Iter    23:    Energy =   0.0882
Level     1,  Iter    24:    Energy =   0.0881
Level     1,  Iter    25:    Energy =   0.0881
Level     1,  Iter    26:    Energy =   0.0880
Level     1,  Iter    27:    Energy =   0.0880
Level     1,  Iter    28:    Energy =   0.0881
Level     1,  Iter    29:    Energy =   0.0882
Level     1,  Iter    30:    Energy =   0.0884
Level     1,  Iter    31:    Energy =   0.0886
Level     1,  Iter    32:    Energy =   0.0889
Level     1,  Iter    33:    Energy =   0.0891
Level     1,  Iter    34:    Energy =   0.0893
Level     1,  Iter    35:    Energy =   0.0892
Level     1,  Iter    36:    Energy =   0.0893
Level     1,  Iter    37:    Energy =   0.0894
Level     1,  Iter    38:    Energy =   0.0895
Level     1,  Iter    39:    Energy =   0.0892
Level     1,  Iter    40:    Energy =   0.0894
Level     1,  Iter    41:    Energy =   0.0895
Level     1,  Iter    42:    Energy =   0.0896
Level     1,  Iter    43:    Energy =   0.0896
Level     1,  Iter    44:    Energy =   0.0896
Level     1,  Iter    45:    Energy =   0.0895
Level     1,  Iter    46:    Energy =   0.0896
Level     1,  Iter    47:    Energy =   0.0896
Level     1,  Iter    48:    Energy =   0.0896
Level     1,  Iter    49:    Energy =   0.0896
Level     1,  Iter    50:    Energy =   0.0896
Level     1,  Iter    51:    Energy =   0.0896
Level     1,  Iter    52:    Energy =   0.0896
Level     1,  Iter    53:    Energy =   0.0897
Level     1,  Iter    54:    Energy =   0.0897
Level     1,  Iter    55:    Energy =   0.0897
Level     1,  Iter    56:    Energy =   0.0897
Level     1,  Iter    57:    Energy =   0.0897
Level     1,  Iter    58:    Energy =   0.0896
Level     1,  Iter    59:    Energy =   0.0896
END OF LEVEL     1    DetJac Range:   0.1570  to   3.6253 
  Avg. Gradient Time  : 0.0445s  40.05% 
  Avg. Gaussian Time  : 0.0533s  47.97% 
  Avg. Iteration Time : 0.1111s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0464
Level     2,  Iter     1:    Energy =   0.0487
Level     2,  Iter     2:    Energy =   0.0508
Level     2,  Iter     3:    Energy =   0.0527
Level     2,  Iter     4:    Energy =   0.0542
Level     2,  Iter     5:    Energy =   0.0553
Level     2,  Iter     6:    Energy =   0.0561
Level     2,  Iter     7:    Energy =   0.0569
Level     2,  Iter     8:    Energy =   0.0577
Level     2,  Iter     9:    Energy =   0.0586
Level     2,  Iter    10:    Energy =   0.0595
Level     2,  Iter    11:    Energy =   0.0606
Level     2,  Iter    12:    Energy =   0.0614
Level     2,  Iter    13:    Energy =   0.0623
Level     2,  Iter    14:    Energy =   0.0629
Level     2,  Iter    15:    Energy =   0.0636
Level     2,  Iter    16:    Energy =   0.0641
Level     2,  Iter    17:    Energy =   0.0647
Level     2,  Iter    18:    Energy =   0.0651
Level     2,  Iter    19:    Energy =   0.0650
END OF LEVEL     2    DetJac Range:   0.0632  to   4.9193 
  Avg. Gradient Time  : 0.3132s  37.38% 
  Avg. Gaussian Time  : 0.4351s  51.91% 
  Avg. Iteration Time : 0.8381s 

real	0m27.957s
user	0m49.508s
sys	0m2.756s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 1'
CHUNK 0.75 0.755769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 1
====================================
         PROGRESS: 0.75               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1823.10 	 OutFr   0.0000 	 RMSD     3.3143
Iter 002 	 Temp     3.72 	 Delta  1742.46 	 OutFr   0.0000 	 RMSD     2.2744
Iter 003 	 Temp     3.46 	 Delta  1683.73 	 OutFr   0.0000 	 RMSD     2.2987
Iter 004 	 Temp     3.22 	 Delta  1619.01 	 OutFr   0.0000 	 RMSD     2.2918
Iter 005 	 Temp     2.99 	 Delta  1551.12 	 OutFr   0.0000 	 RMSD     2.2773
Iter 006 	 Temp     2.78 	 Delta  1480.36 	 OutFr   0.0000 	 RMSD     2.2589
Iter 007 	 Temp     2.59 	 Delta  1407.91 	 OutFr   0.0000 	 RMSD     2.2392
Iter 008 	 Temp     2.41 	 Delta  1335.43 	 OutFr   0.0025 	 RMSD     2.2203
Iter 009 	 Temp     2.24 	 Delta  1266.78 	 OutFr   0.0025 	 RMSD     2.2020
Iter 010 	 Temp     2.08 	 Delta  1208.27 	 OutFr   0.0074 	 RMSD     2.1852
Iter 011 	 Temp     1.94 	 Delta  1154.01 	 OutFr   0.0245 	 RMSD     2.1689
Iter 012 	 Temp     1.80 	 Delta  1097.10 	 OutFr   0.0294 	 RMSD     2.1555
Iter 013 	 Temp     1.67 	 Delta  1036.83 	 OutFr   0.0294 	 RMSD     2.1439
Iter 014 	 Temp     1.56 	 Delta   974.07 	 OutFr   0.0343 	 RMSD     2.1342
Iter 015 	 Temp     1.45 	 Delta   910.47 	 OutFr   0.0392 	 RMSD     2.1276
Iter 016 	 Temp     1.35 	 Delta   847.28 	 OutFr   0.0490 	 RMSD     2.1245
Iter 017 	 Temp     1.25 	 Delta   786.88 	 OutFr   0.0588 	 RMSD     2.1255
Iter 018 	 Temp     1.16 	 Delta   732.33 	 OutFr   0.0662 	 RMSD     2.1284
Iter 019 	 Temp     1.08 	 Delta   684.52 	 OutFr   0.0760 	 RMSD     2.1314
Iter 020 	 Temp     1.01 	 Delta   640.48 	 OutFr   0.0809 	 RMSD     2.1347
Iter 021 	 Temp     0.94 	 Delta   593.74 	 OutFr   0.1005 	 RMSD     2.1377
Iter 022 	 Temp     0.87 	 Delta   542.42 	 OutFr   0.1176 	 RMSD     2.1401
Iter 023 	 Temp     0.81 	 Delta   490.32 	 OutFr   0.1520 	 RMSD     2.1425
Iter 024 	 Temp     0.75 	 Delta   444.55 	 OutFr   0.1887 	 RMSD     2.1453
Iter 025 	 Temp     0.70 	 Delta   404.96 	 OutFr   0.2255 	 RMSD     2.1473
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.paLu90ND/mybin.nii.gz
+ vtklevelset /tmp/ashs.paLu90ND/mybin.nii.gz /tmp/ashs.paLu90ND/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.paLu90ND/mymesh.vtk /tmp/ashs.paLu90ND/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2549.20801716   0.95693867
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.paLu90ND/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.4872 to 34.2139
   Y : -8.59655 to 31.0056
   Z : -21.6986 to 6.0219
   Image resolution  : 98 by 143 by 108
   Image box origin  : {5.4872, -13.5965, -26.6986}
   Image box size    : {34.0278, 49.6527, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.4872, 13.5965, -26.6986]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -o /tmp/ashs.paLu90ND/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -o /tmp/ashs.paLu90ND/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.paLu90ND/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 0.5'
CHUNK 0.755769 0.761538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 0.5
====================================
         PROGRESS: 0.755769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.paLu90ND/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.paLu90ND/fixed_hw.nii.gz /tmp/ashs.paLu90ND/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.52161, moving = 0.776915
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.38892, 2.42484], [0.96245, 0.975272, 0.989938]
Level     0,  Iter     0:    Energy =   0.0208
Level     0,  Iter     1:    Energy =   0.0250
Level     0,  Iter     2:    Energy =   0.0296
Level     0,  Iter     3:    Energy =   0.0338
Level     0,  Iter     4:    Energy =   0.0381
Level     0,  Iter     5:    Energy =   0.0420
Level     0,  Iter     6:    Energy =   0.0453
Level     0,  Iter     7:    Energy =   0.0478
Level     0,  Iter     8:    Energy =   0.0496
Level     0,  Iter     9:    Energy =   0.0516
Level     0,  Iter    10:    Energy =   0.0532
Level     0,  Iter    11:    Energy =   0.0547
Level     0,  Iter    12:    Energy =   0.0559
Level     0,  Iter    13:    Energy =   0.0570
Level     0,  Iter    14:    Energy =   0.0582
Level     0,  Iter    15:    Energy =   0.0594
Level     0,  Iter    16:    Energy =   0.0604
Level     0,  Iter    17:    Energy =   0.0612
Level     0,  Iter    18:    Energy =   0.0620
Level     0,  Iter    19:    Energy =   0.0625
Level     0,  Iter    20:    Energy =   0.0632
Level     0,  Iter    21:    Energy =   0.0636
Level     0,  Iter    22:    Energy =   0.0641
Level     0,  Iter    23:    Energy =   0.0646
Level     0,  Iter    24:    Energy =   0.0649
Level     0,  Iter    25:    Energy =   0.0653
Level     0,  Iter    26:    Energy =   0.0655
Level     0,  Iter    27:    Energy =   0.0658
Level     0,  Iter    28:    Energy =   0.0657
Level     0,  Iter    29:    Energy =   0.0660
Level     0,  Iter    30:    Energy =   0.0656
Level     0,  Iter    31:    Energy =   0.0660
Level     0,  Iter    32:    Energy =   0.0656
Level     0,  Iter    33:    Energy =   0.0660
Level     0,  Iter    34:    Energy =   0.0655
Level     0,  Iter    35:    Energy =   0.0660
Level     0,  Iter    36:    Energy =   0.0655
Level     0,  Iter    37:    Energy =   0.0661
Level     0,  Iter    38:    Energy =   0.0656
Level     0,  Iter    39:    Energy =   0.0662
Level     0,  Iter    40:    Energy =   0.0658
Level     0,  Iter    41:    Energy =   0.0664
Level     0,  Iter    42:    Energy =   0.0660
Level     0,  Iter    43:    Energy =   0.0665
Level     0,  Iter    44:    Energy =   0.0662
Level     0,  Iter    45:    Energy =   0.0665
Level     0,  Iter    46:    Energy =   0.0662
Level     0,  Iter    47:    Energy =   0.0667
Level     0,  Iter    48:    Energy =   0.0662
Level     0,  Iter    49:    Energy =   0.0668
Level     0,  Iter    50:    Energy =   0.0663
Level     0,  Iter    51:    Energy =   0.0668
Level     0,  Iter    52:    Energy =   0.0663
Level     0,  Iter    53:    Energy =   0.0669
Level     0,  Iter    54:    Energy =   0.0664
Level     0,  Iter    55:    Energy =   0.0669
Level     0,  Iter    56:    Energy =   0.0664
Level     0,  Iter    57:    Energy =   0.0670
Level     0,  Iter    58:    Energy =   0.0665
Level     0,  Iter    59:    Energy =   0.0671
END OF LEVEL     0    DetJac Range:   0.2550  to   3.0575 
  Avg. Gradient Time  : 0.0067s  37.32% 
  Avg. Gaussian Time  : 0.0085s  47.53% 
  Avg. Iteration Time : 0.0179s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19446, 1.21242], [0.491046, 0.487636, 0.494969]
Level     1,  Iter     0:    Energy =   0.0454
Level     1,  Iter     1:    Energy =   0.0488
Level     1,  Iter     2:    Energy =   0.0516
Level     1,  Iter     3:    Energy =   0.0539
Level     1,  Iter     4:    Energy =   0.0558
Level     1,  Iter     5:    Energy =   0.0572
Level     1,  Iter     6:    Energy =   0.0583
Level     1,  Iter     7:    Energy =   0.0593
Level     1,  Iter     8:    Energy =   0.0603
Level     1,  Iter     9:    Energy =   0.0615
Level     1,  Iter    10:    Energy =   0.0628
Level     1,  Iter    11:    Energy =   0.0639
Level     1,  Iter    12:    Energy =   0.0649
Level     1,  Iter    13:    Energy =   0.0658
Level     1,  Iter    14:    Energy =   0.0666
Level     1,  Iter    15:    Energy =   0.0672
Level     1,  Iter    16:    Energy =   0.0677
Level     1,  Iter    17:    Energy =   0.0682
Level     1,  Iter    18:    Energy =   0.0686
Level     1,  Iter    19:    Energy =   0.0689
Level     1,  Iter    20:    Energy =   0.0691
Level     1,  Iter    21:    Energy =   0.0694
Level     1,  Iter    22:    Energy =   0.0697
Level     1,  Iter    23:    Energy =   0.0701
Level     1,  Iter    24:    Energy =   0.0705
Level     1,  Iter    25:    Energy =   0.0708
Level     1,  Iter    26:    Energy =   0.0711
Level     1,  Iter    27:    Energy =   0.0712
Level     1,  Iter    28:    Energy =   0.0714
Level     1,  Iter    29:    Energy =   0.0715
Level     1,  Iter    30:    Energy =   0.0716
Level     1,  Iter    31:    Energy =   0.0717
Level     1,  Iter    32:    Energy =   0.0718
Level     1,  Iter    33:    Energy =   0.0719
Level     1,  Iter    34:    Energy =   0.0720
Level     1,  Iter    35:    Energy =   0.0721
Level     1,  Iter    36:    Energy =   0.0722
Level     1,  Iter    37:    Energy =   0.0722
Level     1,  Iter    38:    Energy =   0.0723
Level     1,  Iter    39:    Energy =   0.0723
Level     1,  Iter    40:    Energy =   0.0723
Level     1,  Iter    41:    Energy =   0.0724
Level     1,  Iter    42:    Energy =   0.0725
Level     1,  Iter    43:    Energy =   0.0725
Level     1,  Iter    44:    Energy =   0.0725
Level     1,  Iter    45:    Energy =   0.0726
Level     1,  Iter    46:    Energy =   0.0727
Level     1,  Iter    47:    Energy =   0.0726
Level     1,  Iter    48:    Energy =   0.0727
Level     1,  Iter    49:    Energy =   0.0727
Level     1,  Iter    50:    Energy =   0.0727
Level     1,  Iter    51:    Energy =   0.0727
Level     1,  Iter    52:    Energy =   0.0727
Level     1,  Iter    53:    Energy =   0.0727
Level     1,  Iter    54:    Energy =   0.0727
Level     1,  Iter    55:    Energy =   0.0727
Level     1,  Iter    56:    Energy =   0.0727
Level     1,  Iter    57:    Energy =   0.0728
Level     1,  Iter    58:    Energy =   0.0728
Level     1,  Iter    59:    Energy =   0.0728
END OF LEVEL     1    DetJac Range:   0.0800  to   4.5144 
  Avg. Gradient Time  : 0.0391s  40.56% 
  Avg. Gaussian Time  : 0.0457s  47.37% 
  Avg. Iteration Time : 0.0965s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0366
Level     2,  Iter     1:    Energy =   0.0389
Level     2,  Iter     2:    Energy =   0.0407
Level     2,  Iter     3:    Energy =   0.0423
Level     2,  Iter     4:    Energy =   0.0439
Level     2,  Iter     5:    Energy =   0.0455
Level     2,  Iter     6:    Energy =   0.0468
Level     2,  Iter     7:    Energy =   0.0477
Level     2,  Iter     8:    Energy =   0.0486
Level     2,  Iter     9:    Energy =   0.0494
Level     2,  Iter    10:    Energy =   0.0500
Level     2,  Iter    11:    Energy =   0.0506
Level     2,  Iter    12:    Energy =   0.0512
Level     2,  Iter    13:    Energy =   0.0518
Level     2,  Iter    14:    Energy =   0.0523
Level     2,  Iter    15:    Energy =   0.0528
Level     2,  Iter    16:    Energy =   0.0532
Level     2,  Iter    17:    Energy =   0.0536
Level     2,  Iter    18:    Energy =   0.0540
Level     2,  Iter    19:    Energy =   0.0544
END OF LEVEL     2    DetJac Range:   0.0379  to   4.5303 
  Avg. Gradient Time  : 0.2708s  37.65% 
  Avg. Gaussian Time  : 0.3715s  51.63% 
  Avg. Iteration Time : 0.7194s 

real	0m24.113s
user	0m42.356s
sys	0m2.604s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 1'
CHUNK 0.755769 0.761538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 1
====================================
         PROGRESS: 0.755769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2281.64 	 OutFr   0.0025 	 RMSD     2.7321
Iter 002 	 Temp     3.72 	 Delta  2165.52 	 OutFr   0.0000 	 RMSD     2.4967
Iter 003 	 Temp     3.46 	 Delta  2010.36 	 OutFr   0.0000 	 RMSD     2.4973
Iter 004 	 Temp     3.22 	 Delta  1847.20 	 OutFr   0.0025 	 RMSD     2.4814
Iter 005 	 Temp     2.99 	 Delta  1699.34 	 OutFr   0.0049 	 RMSD     2.4596
Iter 006 	 Temp     2.78 	 Delta  1582.27 	 OutFr   0.0074 	 RMSD     2.4383
Iter 007 	 Temp     2.59 	 Delta  1488.17 	 OutFr   0.0074 	 RMSD     2.4193
Iter 008 	 Temp     2.41 	 Delta  1407.59 	 OutFr   0.0098 	 RMSD     2.4033
Iter 009 	 Temp     2.24 	 Delta  1335.39 	 OutFr   0.0123 	 RMSD     2.3894
Iter 010 	 Temp     2.08 	 Delta  1267.69 	 OutFr   0.0123 	 RMSD     2.3779
Iter 011 	 Temp     1.94 	 Delta  1201.16 	 OutFr   0.0147 	 RMSD     2.3690
Iter 012 	 Temp     1.80 	 Delta  1133.82 	 OutFr   0.0196 	 RMSD     2.3623
Iter 013 	 Temp     1.67 	 Delta  1067.10 	 OutFr   0.0221 	 RMSD     2.3578
Iter 014 	 Temp     1.56 	 Delta  1003.26 	 OutFr   0.0245 	 RMSD     2.3544
Iter 015 	 Temp     1.45 	 Delta   943.45 	 OutFr   0.0319 	 RMSD     2.3513
Iter 016 	 Temp     1.35 	 Delta   889.16 	 OutFr   0.0368 	 RMSD     2.3468
Iter 017 	 Temp     1.25 	 Delta   839.81 	 OutFr   0.0392 	 RMSD     2.3406
Iter 018 	 Temp     1.16 	 Delta   793.81 	 OutFr   0.0441 	 RMSD     2.3331
Iter 019 	 Temp     1.08 	 Delta   751.00 	 OutFr   0.0588 	 RMSD     2.3251
Iter 020 	 Temp     1.01 	 Delta   710.75 	 OutFr   0.0735 	 RMSD     2.3179
Iter 021 	 Temp     0.94 	 Delta   671.25 	 OutFr   0.0784 	 RMSD     2.3128
Iter 022 	 Temp     0.87 	 Delta   633.98 	 OutFr   0.0956 	 RMSD     2.3101
Iter 023 	 Temp     0.81 	 Delta   596.03 	 OutFr   0.1176 	 RMSD     2.3088
Iter 024 	 Temp     0.75 	 Delta   550.56 	 OutFr   0.1250 	 RMSD     2.3088
Iter 025 	 Temp     0.70 	 Delta   500.68 	 OutFr   0.1348 	 RMSD     2.3095
Iter 026 	 Temp     0.65 	 Delta   451.40 	 OutFr   0.1667 	 RMSD     2.3104
Iter 027 	 Temp     0.61 	 Delta   402.33 	 OutFr   0.1936 	 RMSD     2.3106
Iter 028 	 Temp     0.56 	 Delta   353.91 	 OutFr   0.2230 	 RMSD     2.3103
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.RXjTqe8h/mybin.nii.gz
+ vtklevelset /tmp/ashs.RXjTqe8h/mybin.nii.gz /tmp/ashs.RXjTqe8h/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.RXjTqe8h/mymesh.vtk /tmp/ashs.RXjTqe8h/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2764.25160005   1.03766316
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.RXjTqe8h/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 4.77463 to 29.3348
   Y : -18.4007 to 22.3519
   Z : -17.2893 to 14.5448
   Image resolution  : 100 by 147 by 120
   Image box origin  : {-0.22537, -23.4007, -22.2893}
   Image box size    : {34.7222, 51.0416, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [0.22537, 23.4007, -22.2893]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -o /tmp/ashs.RXjTqe8h/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -o /tmp/ashs.RXjTqe8h/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.RXjTqe8h/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 0.5'
CHUNK 0.761538 0.767308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 0.5
====================================
         PROGRESS: 0.761538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.RXjTqe8h/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.RXjTqe8h/fixed_hw.nii.gz /tmp/ashs.RXjTqe8h/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.529949, moving = 0.521973
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.38937, 2.42484], [0.982092, 0.975456, 0.989938]
Level     0,  Iter     0:    Energy =   0.0509
Level     0,  Iter     1:    Energy =   0.0576
Level     0,  Iter     2:    Energy =   0.0627
Level     0,  Iter     3:    Energy =   0.0669
Level     0,  Iter     4:    Energy =   0.0709
Level     0,  Iter     5:    Energy =   0.0745
Level     0,  Iter     6:    Energy =   0.0775
Level     0,  Iter     7:    Energy =   0.0801
Level     0,  Iter     8:    Energy =   0.0824
Level     0,  Iter     9:    Energy =   0.0841
Level     0,  Iter    10:    Energy =   0.0847
Level     0,  Iter    11:    Energy =   0.0848
Level     0,  Iter    12:    Energy =   0.0854
Level     0,  Iter    13:    Energy =   0.0852
Level     0,  Iter    14:    Energy =   0.0856
Level     0,  Iter    15:    Energy =   0.0855
Level     0,  Iter    16:    Energy =   0.0860
Level     0,  Iter    17:    Energy =   0.0860
Level     0,  Iter    18:    Energy =   0.0864
Level     0,  Iter    19:    Energy =   0.0862
Level     0,  Iter    20:    Energy =   0.0864
Level     0,  Iter    21:    Energy =   0.0863
Level     0,  Iter    22:    Energy =   0.0866
Level     0,  Iter    23:    Energy =   0.0866
Level     0,  Iter    24:    Energy =   0.0867
Level     0,  Iter    25:    Energy =   0.0866
Level     0,  Iter    26:    Energy =   0.0866
Level     0,  Iter    27:    Energy =   0.0866
Level     0,  Iter    28:    Energy =   0.0867
Level     0,  Iter    29:    Energy =   0.0866
Level     0,  Iter    30:    Energy =   0.0865
Level     0,  Iter    31:    Energy =   0.0864
Level     0,  Iter    32:    Energy =   0.0864
Level     0,  Iter    33:    Energy =   0.0863
Level     0,  Iter    34:    Energy =   0.0864
Level     0,  Iter    35:    Energy =   0.0865
Level     0,  Iter    36:    Energy =   0.0865
Level     0,  Iter    37:    Energy =   0.0865
Level     0,  Iter    38:    Energy =   0.0864
Level     0,  Iter    39:    Energy =   0.0865
Level     0,  Iter    40:    Energy =   0.0864
Level     0,  Iter    41:    Energy =   0.0864
Level     0,  Iter    42:    Energy =   0.0864
Level     0,  Iter    43:    Energy =   0.0864
Level     0,  Iter    44:    Energy =   0.0864
Level     0,  Iter    45:    Energy =   0.0864
Level     0,  Iter    46:    Energy =   0.0864
Level     0,  Iter    47:    Energy =   0.0864
Level     0,  Iter    48:    Energy =   0.0865
Level     0,  Iter    49:    Energy =   0.0865
Level     0,  Iter    50:    Energy =   0.0864
Level     0,  Iter    51:    Energy =   0.0865
Level     0,  Iter    52:    Energy =   0.0865
Level     0,  Iter    53:    Energy =   0.0866
Level     0,  Iter    54:    Energy =   0.0865
Level     0,  Iter    55:    Energy =   0.0867
Level     0,  Iter    56:    Energy =   0.0866
Level     0,  Iter    57:    Energy =   0.0867
Level     0,  Iter    58:    Energy =   0.0866
Level     0,  Iter    59:    Energy =   0.0867
END OF LEVEL     0    DetJac Range:   0.3960  to   2.4345 
  Avg. Gradient Time  : 0.0075s  37.36% 
  Avg. Gaussian Time  : 0.0095s  47.39% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19469, 1.21242], [0.491046, 0.487728, 0.494969]
Level     1,  Iter     0:    Energy =   0.0632
Level     1,  Iter     1:    Energy =   0.0670
Level     1,  Iter     2:    Energy =   0.0706
Level     1,  Iter     3:    Energy =   0.0732
Level     1,  Iter     4:    Energy =   0.0753
Level     1,  Iter     5:    Energy =   0.0771
Level     1,  Iter     6:    Energy =   0.0784
Level     1,  Iter     7:    Energy =   0.0796
Level     1,  Iter     8:    Energy =   0.0805
Level     1,  Iter     9:    Energy =   0.0813
Level     1,  Iter    10:    Energy =   0.0821
Level     1,  Iter    11:    Energy =   0.0827
Level     1,  Iter    12:    Energy =   0.0828
Level     1,  Iter    13:    Energy =   0.0833
Level     1,  Iter    14:    Energy =   0.0830
Level     1,  Iter    15:    Energy =   0.0838
Level     1,  Iter    16:    Energy =   0.0837
Level     1,  Iter    17:    Energy =   0.0842
Level     1,  Iter    18:    Energy =   0.0839
Level     1,  Iter    19:    Energy =   0.0844
Level     1,  Iter    20:    Energy =   0.0844
Level     1,  Iter    21:    Energy =   0.0847
Level     1,  Iter    22:    Energy =   0.0843
Level     1,  Iter    23:    Energy =   0.0847
Level     1,  Iter    24:    Energy =   0.0848
Level     1,  Iter    25:    Energy =   0.0850
Level     1,  Iter    26:    Energy =   0.0847
Level     1,  Iter    27:    Energy =   0.0852
Level     1,  Iter    28:    Energy =   0.0852
Level     1,  Iter    29:    Energy =   0.0854
Level     1,  Iter    30:    Energy =   0.0851
Level     1,  Iter    31:    Energy =   0.0856
Level     1,  Iter    32:    Energy =   0.0855
Level     1,  Iter    33:    Energy =   0.0858
Level     1,  Iter    34:    Energy =   0.0854
Level     1,  Iter    35:    Energy =   0.0861
Level     1,  Iter    36:    Energy =   0.0858
Level     1,  Iter    37:    Energy =   0.0862
Level     1,  Iter    38:    Energy =   0.0858
Level     1,  Iter    39:    Energy =   0.0865
Level     1,  Iter    40:    Energy =   0.0862
Level     1,  Iter    41:    Energy =   0.0868
Level     1,  Iter    42:    Energy =   0.0863
Level     1,  Iter    43:    Energy =   0.0871
Level     1,  Iter    44:    Energy =   0.0866
Level     1,  Iter    45:    Energy =   0.0872
Level     1,  Iter    46:    Energy =   0.0868
Level     1,  Iter    47:    Energy =   0.0872
Level     1,  Iter    48:    Energy =   0.0869
Level     1,  Iter    49:    Energy =   0.0872
Level     1,  Iter    50:    Energy =   0.0868
Level     1,  Iter    51:    Energy =   0.0874
Level     1,  Iter    52:    Energy =   0.0870
Level     1,  Iter    53:    Energy =   0.0874
Level     1,  Iter    54:    Energy =   0.0870
Level     1,  Iter    55:    Energy =   0.0875
Level     1,  Iter    56:    Energy =   0.0872
Level     1,  Iter    57:    Energy =   0.0876
Level     1,  Iter    58:    Energy =   0.0871
Level     1,  Iter    59:    Energy =   0.0876
END OF LEVEL     1    DetJac Range:   0.1430  to   4.8094 
  Avg. Gradient Time  : 0.0443s  40.01% 
  Avg. Gaussian Time  : 0.0531s  47.98% 
  Avg. Iteration Time : 0.1107s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0474
Level     2,  Iter     1:    Energy =   0.0497
Level     2,  Iter     2:    Energy =   0.0518
Level     2,  Iter     3:    Energy =   0.0534
Level     2,  Iter     4:    Energy =   0.0548
Level     2,  Iter     5:    Energy =   0.0561
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0583
Level     2,  Iter     8:    Energy =   0.0593
Level     2,  Iter     9:    Energy =   0.0602
Level     2,  Iter    10:    Energy =   0.0610
Level     2,  Iter    11:    Energy =   0.0617
Level     2,  Iter    12:    Energy =   0.0624
Level     2,  Iter    13:    Energy =   0.0630
Level     2,  Iter    14:    Energy =   0.0636
Level     2,  Iter    15:    Energy =   0.0642
Level     2,  Iter    16:    Energy =   0.0646
Level     2,  Iter    17:    Energy =   0.0651
Level     2,  Iter    18:    Energy =   0.0655
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0816  to   5.5928 
  Avg. Gradient Time  : 0.2943s  37.46% 
  Avg. Gaussian Time  : 0.4084s  51.98% 
  Avg. Iteration Time : 0.7857s 

real	0m26.681s
user	0m46.936s
sys	0m2.948s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 1'
CHUNK 0.761538 0.767308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 1
====================================
         PROGRESS: 0.761538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2083.45 	 OutFr   0.0000 	 RMSD     3.6327
Iter 002 	 Temp     3.72 	 Delta  1990.26 	 OutFr   0.0000 	 RMSD     2.1091
Iter 003 	 Temp     3.46 	 Delta  1822.80 	 OutFr   0.0000 	 RMSD     2.1283
Iter 004 	 Temp     3.22 	 Delta  1679.60 	 OutFr   0.0000 	 RMSD     2.1013
Iter 005 	 Temp     2.99 	 Delta  1563.44 	 OutFr   0.0000 	 RMSD     2.0725
Iter 006 	 Temp     2.78 	 Delta  1466.15 	 OutFr   0.0000 	 RMSD     2.0472
Iter 007 	 Temp     2.59 	 Delta  1382.97 	 OutFr   0.0000 	 RMSD     2.0254
Iter 008 	 Temp     2.41 	 Delta  1311.23 	 OutFr   0.0049 	 RMSD     2.0068
Iter 009 	 Temp     2.24 	 Delta  1248.16 	 OutFr   0.0049 	 RMSD     1.9910
Iter 010 	 Temp     2.08 	 Delta  1190.85 	 OutFr   0.0098 	 RMSD     1.9778
Iter 011 	 Temp     1.94 	 Delta  1136.68 	 OutFr   0.0098 	 RMSD     1.9660
Iter 012 	 Temp     1.80 	 Delta  1083.93 	 OutFr   0.0098 	 RMSD     1.9551
Iter 013 	 Temp     1.67 	 Delta  1032.33 	 OutFr   0.0123 	 RMSD     1.9457
Iter 014 	 Temp     1.56 	 Delta   982.65 	 OutFr   0.0123 	 RMSD     1.9378
Iter 015 	 Temp     1.45 	 Delta   935.55 	 OutFr   0.0172 	 RMSD     1.9307
Iter 016 	 Temp     1.35 	 Delta   890.94 	 OutFr   0.0172 	 RMSD     1.9245
Iter 017 	 Temp     1.25 	 Delta   848.34 	 OutFr   0.0221 	 RMSD     1.9192
Iter 018 	 Temp     1.16 	 Delta   807.15 	 OutFr   0.0245 	 RMSD     1.9141
Iter 019 	 Temp     1.08 	 Delta   766.26 	 OutFr   0.0270 	 RMSD     1.9095
Iter 020 	 Temp     1.01 	 Delta   724.39 	 OutFr   0.0343 	 RMSD     1.9044
Iter 021 	 Temp     0.94 	 Delta   681.31 	 OutFr   0.0392 	 RMSD     1.8995
Iter 022 	 Temp     0.87 	 Delta   637.23 	 OutFr   0.0466 	 RMSD     1.8952
Iter 023 	 Temp     0.81 	 Delta   592.03 	 OutFr   0.0490 	 RMSD     1.8909
Iter 024 	 Temp     0.75 	 Delta   542.41 	 OutFr   0.0588 	 RMSD     1.8867
Iter 025 	 Temp     0.70 	 Delta   484.62 	 OutFr   0.0858 	 RMSD     1.8831
Iter 026 	 Temp     0.65 	 Delta   425.51 	 OutFr   0.1127 	 RMSD     1.8812
Iter 027 	 Temp     0.61 	 Delta   370.34 	 OutFr   0.1422 	 RMSD     1.8819
Iter 028 	 Temp     0.56 	 Delta   327.77 	 OutFr   0.1740 	 RMSD     1.8846
Iter 029 	 Temp     0.52 	 Delta   293.65 	 OutFr   0.1961 	 RMSD     1.8880
Iter 030 	 Temp     0.49 	 Delta   260.19 	 OutFr   0.2328 	 RMSD     1.8921
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.omGRreCl/mybin.nii.gz
+ vtklevelset /tmp/ashs.omGRreCl/mybin.nii.gz /tmp/ashs.omGRreCl/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.omGRreCl/mymesh.vtk /tmp/ashs.omGRreCl/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2522.44037454   0.94689045
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.omGRreCl/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.38868 to 32.3392
   Y : -13.7828 to 28.0165
   Z : -30.5462 to -4.16471
   Image resolution  : 95 by 150 by 104
   Image box origin  : {4.38868, -18.7828, -35.5462}
   Image box size    : {32.9861, 52.0833, 36.3996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.38868, 18.7828, -35.5462]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -o /tmp/ashs.omGRreCl/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -o /tmp/ashs.omGRreCl/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.omGRreCl/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 0.5'
CHUNK 0.767308 0.773077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 0.5
====================================
         PROGRESS: 0.767308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.omGRreCl/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.omGRreCl/fixed_hw.nii.gz /tmp/ashs.omGRreCl/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.505302, moving = 0.242275
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.37397, 2.42484], [0.971862, 0.96917, 0.989938]
Level     0,  Iter     0:    Energy =   0.0370
Level     0,  Iter     1:    Energy =   0.0416
Level     0,  Iter     2:    Energy =   0.0467
Level     0,  Iter     3:    Energy =   0.0519
Level     0,  Iter     4:    Energy =   0.0567
Level     0,  Iter     5:    Energy =   0.0608
Level     0,  Iter     6:    Energy =   0.0644
Level     0,  Iter     7:    Energy =   0.0677
Level     0,  Iter     8:    Energy =   0.0701
Level     0,  Iter     9:    Energy =   0.0723
Level     0,  Iter    10:    Energy =   0.0743
Level     0,  Iter    11:    Energy =   0.0757
Level     0,  Iter    12:    Energy =   0.0777
Level     0,  Iter    13:    Energy =   0.0782
Level     0,  Iter    14:    Energy =   0.0787
Level     0,  Iter    15:    Energy =   0.0799
Level     0,  Iter    16:    Energy =   0.0804
Level     0,  Iter    17:    Energy =   0.0801
Level     0,  Iter    18:    Energy =   0.0800
Level     0,  Iter    19:    Energy =   0.0802
Level     0,  Iter    20:    Energy =   0.0803
Level     0,  Iter    21:    Energy =   0.0809
Level     0,  Iter    22:    Energy =   0.0810
Level     0,  Iter    23:    Energy =   0.0811
Level     0,  Iter    24:    Energy =   0.0809
Level     0,  Iter    25:    Energy =   0.0808
Level     0,  Iter    26:    Energy =   0.0808
Level     0,  Iter    27:    Energy =   0.0808
Level     0,  Iter    28:    Energy =   0.0808
Level     0,  Iter    29:    Energy =   0.0808
Level     0,  Iter    30:    Energy =   0.0809
Level     0,  Iter    31:    Energy =   0.0808
Level     0,  Iter    32:    Energy =   0.0809
Level     0,  Iter    33:    Energy =   0.0809
Level     0,  Iter    34:    Energy =   0.0809
Level     0,  Iter    35:    Energy =   0.0809
Level     0,  Iter    36:    Energy =   0.0809
Level     0,  Iter    37:    Energy =   0.0810
Level     0,  Iter    38:    Energy =   0.0810
Level     0,  Iter    39:    Energy =   0.0810
Level     0,  Iter    40:    Energy =   0.0810
Level     0,  Iter    41:    Energy =   0.0810
Level     0,  Iter    42:    Energy =   0.0811
Level     0,  Iter    43:    Energy =   0.0811
Level     0,  Iter    44:    Energy =   0.0811
Level     0,  Iter    45:    Energy =   0.0811
Level     0,  Iter    46:    Energy =   0.0812
Level     0,  Iter    47:    Energy =   0.0813
Level     0,  Iter    48:    Energy =   0.0812
Level     0,  Iter    49:    Energy =   0.0812
Level     0,  Iter    50:    Energy =   0.0812
Level     0,  Iter    51:    Energy =   0.0812
Level     0,  Iter    52:    Energy =   0.0812
Level     0,  Iter    53:    Energy =   0.0812
Level     0,  Iter    54:    Energy =   0.0812
Level     0,  Iter    55:    Energy =   0.0813
Level     0,  Iter    56:    Energy =   0.0813
Level     0,  Iter    57:    Energy =   0.0814
Level     0,  Iter    58:    Energy =   0.0813
Level     0,  Iter    59:    Energy =   0.0814
END OF LEVEL     0    DetJac Range:   0.2790  to   2.3238 
  Avg. Gradient Time  : 0.0066s  37.62% 
  Avg. Gaussian Time  : 0.0082s  46.97% 
  Avg. Iteration Time : 0.0175s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.21242], [0.485931, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0580
Level     1,  Iter     1:    Energy =   0.0623
Level     1,  Iter     2:    Energy =   0.0660
Level     1,  Iter     3:    Energy =   0.0695
Level     1,  Iter     4:    Energy =   0.0719
Level     1,  Iter     5:    Energy =   0.0743
Level     1,  Iter     6:    Energy =   0.0764
Level     1,  Iter     7:    Energy =   0.0781
Level     1,  Iter     8:    Energy =   0.0794
Level     1,  Iter     9:    Energy =   0.0806
Level     1,  Iter    10:    Energy =   0.0813
Level     1,  Iter    11:    Energy =   0.0817
Level     1,  Iter    12:    Energy =   0.0820
Level     1,  Iter    13:    Energy =   0.0816
Level     1,  Iter    14:    Energy =   0.0821
Level     1,  Iter    15:    Energy =   0.0818
Level     1,  Iter    16:    Energy =   0.0822
Level     1,  Iter    17:    Energy =   0.0819
Level     1,  Iter    18:    Energy =   0.0823
Level     1,  Iter    19:    Energy =   0.0821
Level     1,  Iter    20:    Energy =   0.0825
Level     1,  Iter    21:    Energy =   0.0822
Level     1,  Iter    22:    Energy =   0.0826
Level     1,  Iter    23:    Energy =   0.0824
Level     1,  Iter    24:    Energy =   0.0827
Level     1,  Iter    25:    Energy =   0.0825
Level     1,  Iter    26:    Energy =   0.0828
Level     1,  Iter    27:    Energy =   0.0826
Level     1,  Iter    28:    Energy =   0.0830
Level     1,  Iter    29:    Energy =   0.0827
Level     1,  Iter    30:    Energy =   0.0830
Level     1,  Iter    31:    Energy =   0.0828
Level     1,  Iter    32:    Energy =   0.0831
Level     1,  Iter    33:    Energy =   0.0829
Level     1,  Iter    34:    Energy =   0.0832
Level     1,  Iter    35:    Energy =   0.0829
Level     1,  Iter    36:    Energy =   0.0832
Level     1,  Iter    37:    Energy =   0.0830
Level     1,  Iter    38:    Energy =   0.0833
Level     1,  Iter    39:    Energy =   0.0830
Level     1,  Iter    40:    Energy =   0.0833
Level     1,  Iter    41:    Energy =   0.0831
Level     1,  Iter    42:    Energy =   0.0834
Level     1,  Iter    43:    Energy =   0.0831
Level     1,  Iter    44:    Energy =   0.0834
Level     1,  Iter    45:    Energy =   0.0832
Level     1,  Iter    46:    Energy =   0.0835
Level     1,  Iter    47:    Energy =   0.0832
Level     1,  Iter    48:    Energy =   0.0835
Level     1,  Iter    49:    Energy =   0.0832
Level     1,  Iter    50:    Energy =   0.0835
Level     1,  Iter    51:    Energy =   0.0833
Level     1,  Iter    52:    Energy =   0.0835
Level     1,  Iter    53:    Energy =   0.0833
Level     1,  Iter    54:    Energy =   0.0836
Level     1,  Iter    55:    Energy =   0.0833
Level     1,  Iter    56:    Energy =   0.0836
Level     1,  Iter    57:    Energy =   0.0833
Level     1,  Iter    58:    Energy =   0.0836
Level     1,  Iter    59:    Energy =   0.0833
END OF LEVEL     1    DetJac Range:   0.1200  to   4.0958 
  Avg. Gradient Time  : 0.0379s  40.31% 
  Avg. Gaussian Time  : 0.0448s  47.61% 
  Avg. Iteration Time : 0.0940s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0428
Level     2,  Iter     1:    Energy =   0.0447
Level     2,  Iter     2:    Energy =   0.0466
Level     2,  Iter     3:    Energy =   0.0487
Level     2,  Iter     4:    Energy =   0.0503
Level     2,  Iter     5:    Energy =   0.0515
Level     2,  Iter     6:    Energy =   0.0525
Level     2,  Iter     7:    Energy =   0.0534
Level     2,  Iter     8:    Energy =   0.0546
Level     2,  Iter     9:    Energy =   0.0559
Level     2,  Iter    10:    Energy =   0.0570
Level     2,  Iter    11:    Energy =   0.0579
Level     2,  Iter    12:    Energy =   0.0585
Level     2,  Iter    13:    Energy =   0.0590
Level     2,  Iter    14:    Energy =   0.0594
Level     2,  Iter    15:    Energy =   0.0599
Level     2,  Iter    16:    Energy =   0.0604
Level     2,  Iter    17:    Energy =   0.0608
Level     2,  Iter    18:    Energy =   0.0611
Level     2,  Iter    19:    Energy =   0.0614
END OF LEVEL     2    DetJac Range:   0.0402  to   5.1563 
  Avg. Gradient Time  : 0.2651s  37.34% 
  Avg. Gaussian Time  : 0.3682s  51.85% 
  Avg. Iteration Time : 0.7101s 

real	0m23.676s
user	0m41.352s
sys	0m2.524s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 1'
CHUNK 0.767308 0.773077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 1
====================================
         PROGRESS: 0.767308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1960.59 	 OutFr   0.0000 	 RMSD     2.5210
Iter 002 	 Temp     3.72 	 Delta  1816.50 	 OutFr   0.0000 	 RMSD     2.2654
Iter 003 	 Temp     3.46 	 Delta  1668.94 	 OutFr   0.0000 	 RMSD     2.2502
Iter 004 	 Temp     3.22 	 Delta  1534.63 	 OutFr   0.0000 	 RMSD     2.2154
Iter 005 	 Temp     2.99 	 Delta  1414.58 	 OutFr   0.0000 	 RMSD     2.1859
Iter 006 	 Temp     2.78 	 Delta  1307.89 	 OutFr   0.0000 	 RMSD     2.1623
Iter 007 	 Temp     2.59 	 Delta  1213.65 	 OutFr   0.0000 	 RMSD     2.1437
Iter 008 	 Temp     2.41 	 Delta  1131.26 	 OutFr   0.0000 	 RMSD     2.1295
Iter 009 	 Temp     2.24 	 Delta  1059.94 	 OutFr   0.0025 	 RMSD     2.1189
Iter 010 	 Temp     2.08 	 Delta   998.25 	 OutFr   0.0025 	 RMSD     2.1110
Iter 011 	 Temp     1.94 	 Delta   944.26 	 OutFr   0.0049 	 RMSD     2.1049
Iter 012 	 Temp     1.80 	 Delta   895.94 	 OutFr   0.0098 	 RMSD     2.1010
Iter 013 	 Temp     1.67 	 Delta   851.75 	 OutFr   0.0147 	 RMSD     2.0993
Iter 014 	 Temp     1.56 	 Delta   811.16 	 OutFr   0.0196 	 RMSD     2.0991
Iter 015 	 Temp     1.45 	 Delta   773.61 	 OutFr   0.0270 	 RMSD     2.0999
Iter 016 	 Temp     1.35 	 Delta   737.06 	 OutFr   0.0270 	 RMSD     2.1008
Iter 017 	 Temp     1.25 	 Delta   699.30 	 OutFr   0.0319 	 RMSD     2.1016
Iter 018 	 Temp     1.16 	 Delta   659.94 	 OutFr   0.0368 	 RMSD     2.1023
Iter 019 	 Temp     1.08 	 Delta   619.43 	 OutFr   0.0466 	 RMSD     2.1028
Iter 020 	 Temp     1.01 	 Delta   577.45 	 OutFr   0.0515 	 RMSD     2.1030
Iter 021 	 Temp     0.94 	 Delta   533.83 	 OutFr   0.0637 	 RMSD     2.1029
Iter 022 	 Temp     0.87 	 Delta   491.15 	 OutFr   0.0784 	 RMSD     2.1026
Iter 023 	 Temp     0.81 	 Delta   453.82 	 OutFr   0.0931 	 RMSD     2.1021
Iter 024 	 Temp     0.75 	 Delta   422.72 	 OutFr   0.1201 	 RMSD     2.1016
Iter 025 	 Temp     0.70 	 Delta   395.50 	 OutFr   0.1275 	 RMSD     2.1013
Iter 026 	 Temp     0.65 	 Delta   369.71 	 OutFr   0.1520 	 RMSD     2.1014
Iter 027 	 Temp     0.61 	 Delta   344.25 	 OutFr   0.1740 	 RMSD     2.1013
Iter 028 	 Temp     0.56 	 Delta   319.08 	 OutFr   0.1863 	 RMSD     2.1003
Iter 029 	 Temp     0.52 	 Delta   293.92 	 OutFr   0.2108 	 RMSD     2.0982
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.YYwrDz4m/mybin.nii.gz
+ vtklevelset /tmp/ashs.YYwrDz4m/mybin.nii.gz /tmp/ashs.YYwrDz4m/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.YYwrDz4m/mymesh.vtk /tmp/ashs.YYwrDz4m/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2564.31742700   0.96261054
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.YYwrDz4m/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.94457 to 33.3648
   Y : -9.87686 to 32.8684
   Z : -23.5338 to 3.6826
   Image resolution  : 97 by 152 by 107
   Image box origin  : {4.94457, -14.8769, -28.5338}
   Image box size    : {33.6805, 52.7777, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.94457, 14.8769, -28.5338]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -o /tmp/ashs.YYwrDz4m/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -o /tmp/ashs.YYwrDz4m/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.YYwrDz4m/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 0.5'
CHUNK 0.773077 0.778846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 0.5
====================================
         PROGRESS: 0.773077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.YYwrDz4m/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.YYwrDz4m/fixed_hw.nii.gz /tmp/ashs.YYwrDz4m/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.525369, moving = 0.596581
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.40239], [0.952629, 0.982092, 0.980772]
Level     0,  Iter     0:    Energy =   0.0638
Level     0,  Iter     1:    Energy =   0.0707
Level     0,  Iter     2:    Energy =   0.0767
Level     0,  Iter     3:    Energy =   0.0822
Level     0,  Iter     4:    Energy =   0.0850
Level     0,  Iter     5:    Energy =   0.0872
Level     0,  Iter     6:    Energy =   0.0887
Level     0,  Iter     7:    Energy =   0.0900
Level     0,  Iter     8:    Energy =   0.0901
Level     0,  Iter     9:    Energy =   0.0908
Level     0,  Iter    10:    Energy =   0.0917
Level     0,  Iter    11:    Energy =   0.0923
Level     0,  Iter    12:    Energy =   0.0926
Level     0,  Iter    13:    Energy =   0.0930
Level     0,  Iter    14:    Energy =   0.0933
Level     0,  Iter    15:    Energy =   0.0939
Level     0,  Iter    16:    Energy =   0.0940
Level     0,  Iter    17:    Energy =   0.0943
Level     0,  Iter    18:    Energy =   0.0942
Level     0,  Iter    19:    Energy =   0.0947
Level     0,  Iter    20:    Energy =   0.0945
Level     0,  Iter    21:    Energy =   0.0950
Level     0,  Iter    22:    Energy =   0.0951
Level     0,  Iter    23:    Energy =   0.0954
Level     0,  Iter    24:    Energy =   0.0949
Level     0,  Iter    25:    Energy =   0.0956
Level     0,  Iter    26:    Energy =   0.0961
Level     0,  Iter    27:    Energy =   0.0962
Level     0,  Iter    28:    Energy =   0.0956
Level     0,  Iter    29:    Energy =   0.0962
Level     0,  Iter    30:    Energy =   0.0966
Level     0,  Iter    31:    Energy =   0.0966
Level     0,  Iter    32:    Energy =   0.0961
Level     0,  Iter    33:    Energy =   0.0966
Level     0,  Iter    34:    Energy =   0.0970
Level     0,  Iter    35:    Energy =   0.0969
Level     0,  Iter    36:    Energy =   0.0964
Level     0,  Iter    37:    Energy =   0.0969
Level     0,  Iter    38:    Energy =   0.0972
Level     0,  Iter    39:    Energy =   0.0972
Level     0,  Iter    40:    Energy =   0.0968
Level     0,  Iter    41:    Energy =   0.0972
Level     0,  Iter    42:    Energy =   0.0971
Level     0,  Iter    43:    Energy =   0.0973
Level     0,  Iter    44:    Energy =   0.0969
Level     0,  Iter    45:    Energy =   0.0972
Level     0,  Iter    46:    Energy =   0.0971
Level     0,  Iter    47:    Energy =   0.0975
Level     0,  Iter    48:    Energy =   0.0974
Level     0,  Iter    49:    Energy =   0.0976
Level     0,  Iter    50:    Energy =   0.0975
Level     0,  Iter    51:    Energy =   0.0976
Level     0,  Iter    52:    Energy =   0.0972
Level     0,  Iter    53:    Energy =   0.0975
Level     0,  Iter    54:    Energy =   0.0973
Level     0,  Iter    55:    Energy =   0.0977
Level     0,  Iter    56:    Energy =   0.0973
Level     0,  Iter    57:    Energy =   0.0977
Level     0,  Iter    58:    Energy =   0.0975
Level     0,  Iter    59:    Energy =   0.0977
END OF LEVEL     0    DetJac Range:   0.5126  to   2.0785 
  Avg. Gradient Time  : 0.0070s  37.22% 
  Avg. Gaussian Time  : 0.0090s  47.82% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.2012], [0.486035, 0.491046, 0.490386]
Level     1,  Iter     0:    Energy =   0.0718
Level     1,  Iter     1:    Energy =   0.0751
Level     1,  Iter     2:    Energy =   0.0784
Level     1,  Iter     3:    Energy =   0.0813
Level     1,  Iter     4:    Energy =   0.0836
Level     1,  Iter     5:    Energy =   0.0854
Level     1,  Iter     6:    Energy =   0.0874
Level     1,  Iter     7:    Energy =   0.0886
Level     1,  Iter     8:    Energy =   0.0895
Level     1,  Iter     9:    Energy =   0.0901
Level     1,  Iter    10:    Energy =   0.0907
Level     1,  Iter    11:    Energy =   0.0912
Level     1,  Iter    12:    Energy =   0.0914
Level     1,  Iter    13:    Energy =   0.0918
Level     1,  Iter    14:    Energy =   0.0919
Level     1,  Iter    15:    Energy =   0.0925
Level     1,  Iter    16:    Energy =   0.0924
Level     1,  Iter    17:    Energy =   0.0931
Level     1,  Iter    18:    Energy =   0.0929
Level     1,  Iter    19:    Energy =   0.0934
Level     1,  Iter    20:    Energy =   0.0932
Level     1,  Iter    21:    Energy =   0.0938
Level     1,  Iter    22:    Energy =   0.0936
Level     1,  Iter    23:    Energy =   0.0940
Level     1,  Iter    24:    Energy =   0.0938
Level     1,  Iter    25:    Energy =   0.0942
Level     1,  Iter    26:    Energy =   0.0940
Level     1,  Iter    27:    Energy =   0.0943
Level     1,  Iter    28:    Energy =   0.0941
Level     1,  Iter    29:    Energy =   0.0945
Level     1,  Iter    30:    Energy =   0.0943
Level     1,  Iter    31:    Energy =   0.0946
Level     1,  Iter    32:    Energy =   0.0943
Level     1,  Iter    33:    Energy =   0.0946
Level     1,  Iter    34:    Energy =   0.0945
Level     1,  Iter    35:    Energy =   0.0946
Level     1,  Iter    36:    Energy =   0.0944
Level     1,  Iter    37:    Energy =   0.0946
Level     1,  Iter    38:    Energy =   0.0946
Level     1,  Iter    39:    Energy =   0.0947
Level     1,  Iter    40:    Energy =   0.0944
Level     1,  Iter    41:    Energy =   0.0946
Level     1,  Iter    42:    Energy =   0.0946
Level     1,  Iter    43:    Energy =   0.0947
Level     1,  Iter    44:    Energy =   0.0945
Level     1,  Iter    45:    Energy =   0.0946
Level     1,  Iter    46:    Energy =   0.0946
Level     1,  Iter    47:    Energy =   0.0947
Level     1,  Iter    48:    Energy =   0.0945
Level     1,  Iter    49:    Energy =   0.0947
Level     1,  Iter    50:    Energy =   0.0947
Level     1,  Iter    51:    Energy =   0.0948
Level     1,  Iter    52:    Energy =   0.0946
Level     1,  Iter    53:    Energy =   0.0947
Level     1,  Iter    54:    Energy =   0.0947
Level     1,  Iter    55:    Energy =   0.0948
Level     1,  Iter    56:    Energy =   0.0946
Level     1,  Iter    57:    Energy =   0.0948
Level     1,  Iter    58:    Energy =   0.0948
Level     1,  Iter    59:    Energy =   0.0949
END OF LEVEL     1    DetJac Range:   0.1946  to   2.9520 
  Avg. Gradient Time  : 0.0400s  39.75% 
  Avg. Gaussian Time  : 0.0485s  48.19% 
  Avg. Iteration Time : 0.1007s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0523
Level     2,  Iter     1:    Energy =   0.0546
Level     2,  Iter     2:    Energy =   0.0563
Level     2,  Iter     3:    Energy =   0.0582
Level     2,  Iter     4:    Energy =   0.0598
Level     2,  Iter     5:    Energy =   0.0610
Level     2,  Iter     6:    Energy =   0.0619
Level     2,  Iter     7:    Energy =   0.0626
Level     2,  Iter     8:    Energy =   0.0633
Level     2,  Iter     9:    Energy =   0.0638
Level     2,  Iter    10:    Energy =   0.0643
Level     2,  Iter    11:    Energy =   0.0647
Level     2,  Iter    12:    Energy =   0.0651
Level     2,  Iter    13:    Energy =   0.0654
Level     2,  Iter    14:    Energy =   0.0657
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0662
Level     2,  Iter    17:    Energy =   0.0664
Level     2,  Iter    18:    Energy =   0.0666
Level     2,  Iter    19:    Energy =   0.0668
END OF LEVEL     2    DetJac Range:   0.0719  to   4.1152 
  Avg. Gradient Time  : 0.2784s  37.05% 
  Avg. Gaussian Time  : 0.3920s  52.17% 
  Avg. Iteration Time : 0.7515s 

real	0m25.081s
user	0m44.164s
sys	0m2.620s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 1'
CHUNK 0.773077 0.778846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 1
====================================
         PROGRESS: 0.773077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1720.50 	 OutFr   0.0000 	 RMSD     2.7089
Iter 002 	 Temp     3.72 	 Delta  1531.23 	 OutFr   0.0000 	 RMSD     2.2948
Iter 003 	 Temp     3.46 	 Delta  1433.19 	 OutFr   0.0000 	 RMSD     2.2586
Iter 004 	 Temp     3.22 	 Delta  1356.00 	 OutFr   0.0025 	 RMSD     2.2362
Iter 005 	 Temp     2.99 	 Delta  1291.97 	 OutFr   0.0025 	 RMSD     2.2156
Iter 006 	 Temp     2.78 	 Delta  1239.15 	 OutFr   0.0025 	 RMSD     2.1971
Iter 007 	 Temp     2.59 	 Delta  1195.51 	 OutFr   0.0025 	 RMSD     2.1801
Iter 008 	 Temp     2.41 	 Delta  1158.60 	 OutFr   0.0025 	 RMSD     2.1659
Iter 009 	 Temp     2.24 	 Delta  1125.72 	 OutFr   0.0049 	 RMSD     2.1538
Iter 010 	 Temp     2.08 	 Delta  1094.03 	 OutFr   0.0049 	 RMSD     2.1440
Iter 011 	 Temp     1.94 	 Delta  1060.47 	 OutFr   0.0049 	 RMSD     2.1359
Iter 012 	 Temp     1.80 	 Delta  1022.01 	 OutFr   0.0049 	 RMSD     2.1288
Iter 013 	 Temp     1.67 	 Delta   976.88 	 OutFr   0.0049 	 RMSD     2.1233
Iter 014 	 Temp     1.56 	 Delta   926.10 	 OutFr   0.0049 	 RMSD     2.1190
Iter 015 	 Temp     1.45 	 Delta   872.75 	 OutFr   0.0123 	 RMSD     2.1166
Iter 016 	 Temp     1.35 	 Delta   819.67 	 OutFr   0.0245 	 RMSD     2.1158
Iter 017 	 Temp     1.25 	 Delta   768.85 	 OutFr   0.0319 	 RMSD     2.1166
Iter 018 	 Temp     1.16 	 Delta   721.35 	 OutFr   0.0466 	 RMSD     2.1180
Iter 019 	 Temp     1.08 	 Delta   677.99 	 OutFr   0.0515 	 RMSD     2.1204
Iter 020 	 Temp     1.01 	 Delta   641.05 	 OutFr   0.0662 	 RMSD     2.1229
Iter 021 	 Temp     0.94 	 Delta   609.12 	 OutFr   0.0784 	 RMSD     2.1247
Iter 022 	 Temp     0.87 	 Delta   578.82 	 OutFr   0.0882 	 RMSD     2.1258
Iter 023 	 Temp     0.81 	 Delta   548.55 	 OutFr   0.0931 	 RMSD     2.1264
Iter 024 	 Temp     0.75 	 Delta   516.19 	 OutFr   0.1078 	 RMSD     2.1264
Iter 025 	 Temp     0.70 	 Delta   480.28 	 OutFr   0.1299 	 RMSD     2.1255
Iter 026 	 Temp     0.65 	 Delta   441.88 	 OutFr   0.1397 	 RMSD     2.1237
Iter 027 	 Temp     0.61 	 Delta   403.80 	 OutFr   0.1642 	 RMSD     2.1217
Iter 028 	 Temp     0.56 	 Delta   367.41 	 OutFr   0.1912 	 RMSD     2.1199
Iter 029 	 Temp     0.52 	 Delta   333.28 	 OutFr   0.2083 	 RMSD     2.1187
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.qbEDaM4n/mybin.nii.gz
+ vtklevelset /tmp/ashs.qbEDaM4n/mybin.nii.gz /tmp/ashs.qbEDaM4n/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.qbEDaM4n/mymesh.vtk /tmp/ashs.qbEDaM4n/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2941.26787728   1.10411271
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.qbEDaM4n/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.1897 to 36.9425
   Y : -9.96488 to 33.7241
   Z : -9.64653 to 21.9457
   Image resolution  : 101 by 155 by 119
   Image box origin  : {7.1897, -14.9649, -14.6465}
   Image box size    : {35.0694, 53.8194, 41.6495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.1897, 14.9649, -14.6465]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -o /tmp/ashs.qbEDaM4n/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -o /tmp/ashs.qbEDaM4n/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.qbEDaM4n/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 0.5'
CHUNK 0.778846 0.784615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 0.5
====================================
         PROGRESS: 0.778846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.qbEDaM4n/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.qbEDaM4n/fixed_hw.nii.gz /tmp/ashs.qbEDaM4n/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.523745, moving = 0.637663
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.3902, 2.40464], [0.953763, 0.975797, 0.981689]
Level     0,  Iter     0:    Energy =   0.0476
Level     0,  Iter     1:    Energy =   0.0530
Level     0,  Iter     2:    Energy =   0.0589
Level     0,  Iter     3:    Energy =   0.0640
Level     0,  Iter     4:    Energy =   0.0682
Level     0,  Iter     5:    Energy =   0.0719
Level     0,  Iter     6:    Energy =   0.0749
Level     0,  Iter     7:    Energy =   0.0769
Level     0,  Iter     8:    Energy =   0.0782
Level     0,  Iter     9:    Energy =   0.0788
Level     0,  Iter    10:    Energy =   0.0791
Level     0,  Iter    11:    Energy =   0.0798
Level     0,  Iter    12:    Energy =   0.0799
Level     0,  Iter    13:    Energy =   0.0806
Level     0,  Iter    14:    Energy =   0.0806
Level     0,  Iter    15:    Energy =   0.0814
Level     0,  Iter    16:    Energy =   0.0813
Level     0,  Iter    17:    Energy =   0.0820
Level     0,  Iter    18:    Energy =   0.0818
Level     0,  Iter    19:    Energy =   0.0822
Level     0,  Iter    20:    Energy =   0.0821
Level     0,  Iter    21:    Energy =   0.0825
Level     0,  Iter    22:    Energy =   0.0823
Level     0,  Iter    23:    Energy =   0.0828
Level     0,  Iter    24:    Energy =   0.0826
Level     0,  Iter    25:    Energy =   0.0830
Level     0,  Iter    26:    Energy =   0.0828
Level     0,  Iter    27:    Energy =   0.0832
Level     0,  Iter    28:    Energy =   0.0830
Level     0,  Iter    29:    Energy =   0.0834
Level     0,  Iter    30:    Energy =   0.0833
Level     0,  Iter    31:    Energy =   0.0837
Level     0,  Iter    32:    Energy =   0.0834
Level     0,  Iter    33:    Energy =   0.0837
Level     0,  Iter    34:    Energy =   0.0834
Level     0,  Iter    35:    Energy =   0.0838
Level     0,  Iter    36:    Energy =   0.0835
Level     0,  Iter    37:    Energy =   0.0839
Level     0,  Iter    38:    Energy =   0.0837
Level     0,  Iter    39:    Energy =   0.0840
Level     0,  Iter    40:    Energy =   0.0837
Level     0,  Iter    41:    Energy =   0.0840
Level     0,  Iter    42:    Energy =   0.0837
Level     0,  Iter    43:    Energy =   0.0841
Level     0,  Iter    44:    Energy =   0.0838
Level     0,  Iter    45:    Energy =   0.0842
Level     0,  Iter    46:    Energy =   0.0839
Level     0,  Iter    47:    Energy =   0.0843
Level     0,  Iter    48:    Energy =   0.0838
Level     0,  Iter    49:    Energy =   0.0842
Level     0,  Iter    50:    Energy =   0.0840
Level     0,  Iter    51:    Energy =   0.0843
Level     0,  Iter    52:    Energy =   0.0840
Level     0,  Iter    53:    Energy =   0.0843
Level     0,  Iter    54:    Energy =   0.0840
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0842
Level     0,  Iter    57:    Energy =   0.0845
Level     0,  Iter    58:    Energy =   0.0841
Level     0,  Iter    59:    Energy =   0.0845
END OF LEVEL     0    DetJac Range:   0.2123  to   2.2101 
  Avg. Gradient Time  : 0.0069s  37.25% 
  Avg. Gaussian Time  : 0.0089s  47.66% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1951, 1.20232], [0.486232, 0.487898, 0.490844]
Level     1,  Iter     0:    Energy =   0.0586
Level     1,  Iter     1:    Energy =   0.0625
Level     1,  Iter     2:    Energy =   0.0662
Level     1,  Iter     3:    Energy =   0.0692
Level     1,  Iter     4:    Energy =   0.0713
Level     1,  Iter     5:    Energy =   0.0731
Level     1,  Iter     6:    Energy =   0.0747
Level     1,  Iter     7:    Energy =   0.0761
Level     1,  Iter     8:    Energy =   0.0773
Level     1,  Iter     9:    Energy =   0.0782
Level     1,  Iter    10:    Energy =   0.0786
Level     1,  Iter    11:    Energy =   0.0788
Level     1,  Iter    12:    Energy =   0.0794
Level     1,  Iter    13:    Energy =   0.0795
Level     1,  Iter    14:    Energy =   0.0800
Level     1,  Iter    15:    Energy =   0.0801
Level     1,  Iter    16:    Energy =   0.0805
Level     1,  Iter    17:    Energy =   0.0806
Level     1,  Iter    18:    Energy =   0.0809
Level     1,  Iter    19:    Energy =   0.0808
Level     1,  Iter    20:    Energy =   0.0812
Level     1,  Iter    21:    Energy =   0.0811
Level     1,  Iter    22:    Energy =   0.0815
Level     1,  Iter    23:    Energy =   0.0814
Level     1,  Iter    24:    Energy =   0.0817
Level     1,  Iter    25:    Energy =   0.0816
Level     1,  Iter    26:    Energy =   0.0819
Level     1,  Iter    27:    Energy =   0.0818
Level     1,  Iter    28:    Energy =   0.0820
Level     1,  Iter    29:    Energy =   0.0820
Level     1,  Iter    30:    Energy =   0.0820
Level     1,  Iter    31:    Energy =   0.0821
Level     1,  Iter    32:    Energy =   0.0821
Level     1,  Iter    33:    Energy =   0.0821
Level     1,  Iter    34:    Energy =   0.0821
Level     1,  Iter    35:    Energy =   0.0822
Level     1,  Iter    36:    Energy =   0.0822
Level     1,  Iter    37:    Energy =   0.0823
Level     1,  Iter    38:    Energy =   0.0823
Level     1,  Iter    39:    Energy =   0.0825
Level     1,  Iter    40:    Energy =   0.0823
Level     1,  Iter    41:    Energy =   0.0825
Level     1,  Iter    42:    Energy =   0.0824
Level     1,  Iter    43:    Energy =   0.0826
Level     1,  Iter    44:    Energy =   0.0824
Level     1,  Iter    45:    Energy =   0.0827
Level     1,  Iter    46:    Energy =   0.0825
Level     1,  Iter    47:    Energy =   0.0827
Level     1,  Iter    48:    Energy =   0.0826
Level     1,  Iter    49:    Energy =   0.0828
Level     1,  Iter    50:    Energy =   0.0826
Level     1,  Iter    51:    Energy =   0.0828
Level     1,  Iter    52:    Energy =   0.0827
Level     1,  Iter    53:    Energy =   0.0829
Level     1,  Iter    54:    Energy =   0.0828
Level     1,  Iter    55:    Energy =   0.0829
Level     1,  Iter    56:    Energy =   0.0828
Level     1,  Iter    57:    Energy =   0.0830
Level     1,  Iter    58:    Energy =   0.0828
Level     1,  Iter    59:    Energy =   0.0831
END OF LEVEL     1    DetJac Range:   0.0796  to   3.0083 
  Avg. Gradient Time  : 0.0428s  40.38% 
  Avg. Gaussian Time  : 0.0506s  47.70% 
  Avg. Iteration Time : 0.1061s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0445
Level     2,  Iter     1:    Energy =   0.0468
Level     2,  Iter     2:    Energy =   0.0490
Level     2,  Iter     3:    Energy =   0.0508
Level     2,  Iter     4:    Energy =   0.0525
Level     2,  Iter     5:    Energy =   0.0540
Level     2,  Iter     6:    Energy =   0.0553
Level     2,  Iter     7:    Energy =   0.0561
Level     2,  Iter     8:    Energy =   0.0569
Level     2,  Iter     9:    Energy =   0.0576
Level     2,  Iter    10:    Energy =   0.0583
Level     2,  Iter    11:    Energy =   0.0591
Level     2,  Iter    12:    Energy =   0.0597
Level     2,  Iter    13:    Energy =   0.0603
Level     2,  Iter    14:    Energy =   0.0607
Level     2,  Iter    15:    Energy =   0.0611
Level     2,  Iter    16:    Energy =   0.0615
Level     2,  Iter    17:    Energy =   0.0619
Level     2,  Iter    18:    Energy =   0.0622
Level     2,  Iter    19:    Energy =   0.0622
END OF LEVEL     2    DetJac Range:   0.0405  to   4.5385 
  Avg. Gradient Time  : 0.2983s  38.07% 
  Avg. Gaussian Time  : 0.4022s  51.34% 
  Avg. Iteration Time : 0.7833s 

real	0m26.285s
user	0m46.256s
sys	0m2.912s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 1'
CHUNK 0.778846 0.784615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 1
====================================
         PROGRESS: 0.778846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1766.10 	 OutFr   0.0074 	 RMSD     2.0270
Iter 002 	 Temp     3.72 	 Delta  1794.58 	 OutFr   0.0025 	 RMSD     1.9409
Iter 003 	 Temp     3.46 	 Delta  1679.48 	 OutFr   0.0074 	 RMSD     1.9534
Iter 004 	 Temp     3.22 	 Delta  1548.97 	 OutFr   0.0074 	 RMSD     1.9213
Iter 005 	 Temp     2.99 	 Delta  1426.61 	 OutFr   0.0074 	 RMSD     1.8882
Iter 006 	 Temp     2.78 	 Delta  1318.02 	 OutFr   0.0074 	 RMSD     1.8602
Iter 007 	 Temp     2.59 	 Delta  1224.01 	 OutFr   0.0074 	 RMSD     1.8350
Iter 008 	 Temp     2.41 	 Delta  1144.02 	 OutFr   0.0074 	 RMSD     1.8147
Iter 009 	 Temp     2.24 	 Delta  1076.72 	 OutFr   0.0074 	 RMSD     1.7987
Iter 010 	 Temp     2.08 	 Delta  1019.87 	 OutFr   0.0074 	 RMSD     1.7868
Iter 011 	 Temp     1.94 	 Delta   970.89 	 OutFr   0.0098 	 RMSD     1.7767
Iter 012 	 Temp     1.80 	 Delta   927.35 	 OutFr   0.0123 	 RMSD     1.7680
Iter 013 	 Temp     1.67 	 Delta   886.06 	 OutFr   0.0147 	 RMSD     1.7611
Iter 014 	 Temp     1.56 	 Delta   843.13 	 OutFr   0.0147 	 RMSD     1.7554
Iter 015 	 Temp     1.45 	 Delta   797.04 	 OutFr   0.0147 	 RMSD     1.7498
Iter 016 	 Temp     1.35 	 Delta   748.64 	 OutFr   0.0147 	 RMSD     1.7441
Iter 017 	 Temp     1.25 	 Delta   697.98 	 OutFr   0.0147 	 RMSD     1.7380
Iter 018 	 Temp     1.16 	 Delta   644.29 	 OutFr   0.0172 	 RMSD     1.7318
Iter 019 	 Temp     1.08 	 Delta   590.23 	 OutFr   0.0245 	 RMSD     1.7255
Iter 020 	 Temp     1.01 	 Delta   541.36 	 OutFr   0.0270 	 RMSD     1.7205
Iter 021 	 Temp     0.94 	 Delta   501.36 	 OutFr   0.0417 	 RMSD     1.7161
Iter 022 	 Temp     0.87 	 Delta   471.98 	 OutFr   0.0466 	 RMSD     1.7129
Iter 023 	 Temp     0.81 	 Delta   446.64 	 OutFr   0.0539 	 RMSD     1.7102
Iter 024 	 Temp     0.75 	 Delta   422.40 	 OutFr   0.0662 	 RMSD     1.7089
Iter 025 	 Temp     0.70 	 Delta   399.26 	 OutFr   0.0760 	 RMSD     1.7084
Iter 026 	 Temp     0.65 	 Delta   378.11 	 OutFr   0.0980 	 RMSD     1.7085
Iter 027 	 Temp     0.61 	 Delta   355.36 	 OutFr   0.1152 	 RMSD     1.7086
Iter 028 	 Temp     0.56 	 Delta   328.28 	 OutFr   0.1299 	 RMSD     1.7089
Iter 029 	 Temp     0.52 	 Delta   298.29 	 OutFr   0.1471 	 RMSD     1.7096
Iter 030 	 Temp     0.49 	 Delta   269.41 	 OutFr   0.1789 	 RMSD     1.7108
Iter 031 	 Temp     0.45 	 Delta   243.92 	 OutFr   0.2230 	 RMSD     1.7125
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ykfJf6oQ/mybin.nii.gz
+ vtklevelset /tmp/ashs.ykfJf6oQ/mybin.nii.gz /tmp/ashs.ykfJf6oQ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ykfJf6oQ/mymesh.vtk /tmp/ashs.ykfJf6oQ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2621.86052453   0.98421145
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ykfJf6oQ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.421 to 32.9076
   Y : -9.00567 to 33.3084
   Z : -21.6264 to 6.91135
   Image resolution  : 94 by 151 by 111
   Image box origin  : {5.421, -14.0057, -26.6264}
   Image box size    : {32.6389, 52.4305, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.421, 14.0057, -26.6264]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -o /tmp/ashs.ykfJf6oQ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -o /tmp/ashs.ykfJf6oQ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ykfJf6oQ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 0.5'
CHUNK 0.784615 0.790385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 0.5
====================================
         PROGRESS: 0.784615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ykfJf6oQ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ykfJf6oQ/fixed_hw.nii.gz /tmp/ashs.ykfJf6oQ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.517958, moving = 0.499615
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.3898, 2.40319], [0.961632, 0.975631, 0.981099]
Level     0,  Iter     0:    Energy =   0.0552
Level     0,  Iter     1:    Energy =   0.0622
Level     0,  Iter     2:    Energy =   0.0683
Level     0,  Iter     3:    Energy =   0.0735
Level     0,  Iter     4:    Energy =   0.0780
Level     0,  Iter     5:    Energy =   0.0814
Level     0,  Iter     6:    Energy =   0.0845
Level     0,  Iter     7:    Energy =   0.0873
Level     0,  Iter     8:    Energy =   0.0890
Level     0,  Iter     9:    Energy =   0.0906
Level     0,  Iter    10:    Energy =   0.0910
Level     0,  Iter    11:    Energy =   0.0915
Level     0,  Iter    12:    Energy =   0.0916
Level     0,  Iter    13:    Energy =   0.0921
Level     0,  Iter    14:    Energy =   0.0920
Level     0,  Iter    15:    Energy =   0.0926
Level     0,  Iter    16:    Energy =   0.0925
Level     0,  Iter    17:    Energy =   0.0930
Level     0,  Iter    18:    Energy =   0.0929
Level     0,  Iter    19:    Energy =   0.0934
Level     0,  Iter    20:    Energy =   0.0931
Level     0,  Iter    21:    Energy =   0.0935
Level     0,  Iter    22:    Energy =   0.0933
Level     0,  Iter    23:    Energy =   0.0937
Level     0,  Iter    24:    Energy =   0.0935
Level     0,  Iter    25:    Energy =   0.0940
Level     0,  Iter    26:    Energy =   0.0937
Level     0,  Iter    27:    Energy =   0.0940
Level     0,  Iter    28:    Energy =   0.0938
Level     0,  Iter    29:    Energy =   0.0942
Level     0,  Iter    30:    Energy =   0.0939
Level     0,  Iter    31:    Energy =   0.0943
Level     0,  Iter    32:    Energy =   0.0940
Level     0,  Iter    33:    Energy =   0.0943
Level     0,  Iter    34:    Energy =   0.0941
Level     0,  Iter    35:    Energy =   0.0944
Level     0,  Iter    36:    Energy =   0.0942
Level     0,  Iter    37:    Energy =   0.0945
Level     0,  Iter    38:    Energy =   0.0942
Level     0,  Iter    39:    Energy =   0.0945
Level     0,  Iter    40:    Energy =   0.0942
Level     0,  Iter    41:    Energy =   0.0944
Level     0,  Iter    42:    Energy =   0.0942
Level     0,  Iter    43:    Energy =   0.0945
Level     0,  Iter    44:    Energy =   0.0942
Level     0,  Iter    45:    Energy =   0.0945
Level     0,  Iter    46:    Energy =   0.0942
Level     0,  Iter    47:    Energy =   0.0945
Level     0,  Iter    48:    Energy =   0.0943
Level     0,  Iter    49:    Energy =   0.0946
Level     0,  Iter    50:    Energy =   0.0943
Level     0,  Iter    51:    Energy =   0.0945
Level     0,  Iter    52:    Energy =   0.0943
Level     0,  Iter    53:    Energy =   0.0945
Level     0,  Iter    54:    Energy =   0.0943
Level     0,  Iter    55:    Energy =   0.0945
Level     0,  Iter    56:    Energy =   0.0943
Level     0,  Iter    57:    Energy =   0.0946
Level     0,  Iter    58:    Energy =   0.0943
Level     0,  Iter    59:    Energy =   0.0946
END OF LEVEL     0    DetJac Range:   0.3194  to   2.0597 
  Avg. Gradient Time  : 0.0069s  37.10% 
  Avg. Gaussian Time  : 0.0089s  47.88% 
  Avg. Iteration Time : 0.0185s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1949, 1.2016], [0.491046, 0.487815, 0.49055]
Level     1,  Iter     0:    Energy =   0.0662
Level     1,  Iter     1:    Energy =   0.0711
Level     1,  Iter     2:    Energy =   0.0749
Level     1,  Iter     3:    Energy =   0.0773
Level     1,  Iter     4:    Energy =   0.0802
Level     1,  Iter     5:    Energy =   0.0825
Level     1,  Iter     6:    Energy =   0.0842
Level     1,  Iter     7:    Energy =   0.0853
Level     1,  Iter     8:    Energy =   0.0862
Level     1,  Iter     9:    Energy =   0.0869
Level     1,  Iter    10:    Energy =   0.0878
Level     1,  Iter    11:    Energy =   0.0883
Level     1,  Iter    12:    Energy =   0.0890
Level     1,  Iter    13:    Energy =   0.0896
Level     1,  Iter    14:    Energy =   0.0901
Level     1,  Iter    15:    Energy =   0.0905
Level     1,  Iter    16:    Energy =   0.0908
Level     1,  Iter    17:    Energy =   0.0911
Level     1,  Iter    18:    Energy =   0.0914
Level     1,  Iter    19:    Energy =   0.0917
Level     1,  Iter    20:    Energy =   0.0915
Level     1,  Iter    21:    Energy =   0.0919
Level     1,  Iter    22:    Energy =   0.0920
Level     1,  Iter    23:    Energy =   0.0922
Level     1,  Iter    24:    Energy =   0.0920
Level     1,  Iter    25:    Energy =   0.0923
Level     1,  Iter    26:    Energy =   0.0922
Level     1,  Iter    27:    Energy =   0.0925
Level     1,  Iter    28:    Energy =   0.0923
Level     1,  Iter    29:    Energy =   0.0926
Level     1,  Iter    30:    Energy =   0.0925
Level     1,  Iter    31:    Energy =   0.0928
Level     1,  Iter    32:    Energy =   0.0927
Level     1,  Iter    33:    Energy =   0.0929
Level     1,  Iter    34:    Energy =   0.0929
Level     1,  Iter    35:    Energy =   0.0930
Level     1,  Iter    36:    Energy =   0.0929
Level     1,  Iter    37:    Energy =   0.0931
Level     1,  Iter    38:    Energy =   0.0930
Level     1,  Iter    39:    Energy =   0.0931
Level     1,  Iter    40:    Energy =   0.0930
Level     1,  Iter    41:    Energy =   0.0932
Level     1,  Iter    42:    Energy =   0.0931
Level     1,  Iter    43:    Energy =   0.0932
Level     1,  Iter    44:    Energy =   0.0931
Level     1,  Iter    45:    Energy =   0.0932
Level     1,  Iter    46:    Energy =   0.0932
Level     1,  Iter    47:    Energy =   0.0932
Level     1,  Iter    48:    Energy =   0.0932
Level     1,  Iter    49:    Energy =   0.0932
Level     1,  Iter    50:    Energy =   0.0932
Level     1,  Iter    51:    Energy =   0.0932
Level     1,  Iter    52:    Energy =   0.0932
Level     1,  Iter    53:    Energy =   0.0933
Level     1,  Iter    54:    Energy =   0.0933
Level     1,  Iter    55:    Energy =   0.0933
Level     1,  Iter    56:    Energy =   0.0933
Level     1,  Iter    57:    Energy =   0.0933
Level     1,  Iter    58:    Energy =   0.0933
Level     1,  Iter    59:    Energy =   0.0933
END OF LEVEL     1    DetJac Range:   0.0865  to   3.4220 
  Avg. Gradient Time  : 0.0403s  40.08% 
  Avg. Gaussian Time  : 0.0482s  47.99% 
  Avg. Iteration Time : 0.1005s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0509
Level     2,  Iter     1:    Energy =   0.0535
Level     2,  Iter     2:    Energy =   0.0557
Level     2,  Iter     3:    Energy =   0.0575
Level     2,  Iter     4:    Energy =   0.0591
Level     2,  Iter     5:    Energy =   0.0605
Level     2,  Iter     6:    Energy =   0.0619
Level     2,  Iter     7:    Energy =   0.0631
Level     2,  Iter     8:    Energy =   0.0642
Level     2,  Iter     9:    Energy =   0.0651
Level     2,  Iter    10:    Energy =   0.0658
Level     2,  Iter    11:    Energy =   0.0664
Level     2,  Iter    12:    Energy =   0.0669
Level     2,  Iter    13:    Energy =   0.0674
Level     2,  Iter    14:    Energy =   0.0680
Level     2,  Iter    15:    Energy =   0.0685
Level     2,  Iter    16:    Energy =   0.0690
Level     2,  Iter    17:    Energy =   0.0694
Level     2,  Iter    18:    Energy =   0.0698
Level     2,  Iter    19:    Energy =   0.0701
END OF LEVEL     2    DetJac Range:   0.0619  to   5.0551 
  Avg. Gradient Time  : 0.2793s  37.43% 
  Avg. Gaussian Time  : 0.3864s  51.79% 
  Avg. Iteration Time : 0.7462s 

real	0m25.017s
user	0m44.096s
sys	0m2.508s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 1'
CHUNK 0.784615 0.790385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 1
====================================
         PROGRESS: 0.784615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1672.18 	 OutFr   0.0000 	 RMSD     2.9292
Iter 002 	 Temp     3.72 	 Delta  1641.14 	 OutFr   0.0000 	 RMSD     2.2531
Iter 003 	 Temp     3.46 	 Delta  1559.04 	 OutFr   0.0000 	 RMSD     2.2371
Iter 004 	 Temp     3.22 	 Delta  1463.11 	 OutFr   0.0000 	 RMSD     2.2125
Iter 005 	 Temp     2.99 	 Delta  1363.99 	 OutFr   0.0000 	 RMSD     2.1891
Iter 006 	 Temp     2.78 	 Delta  1267.85 	 OutFr   0.0000 	 RMSD     2.1696
Iter 007 	 Temp     2.59 	 Delta  1179.67 	 OutFr   0.0049 	 RMSD     2.1535
Iter 008 	 Temp     2.41 	 Delta  1102.71 	 OutFr   0.0049 	 RMSD     2.1412
Iter 009 	 Temp     2.24 	 Delta  1038.28 	 OutFr   0.0049 	 RMSD     2.1318
Iter 010 	 Temp     2.08 	 Delta   985.89 	 OutFr   0.0074 	 RMSD     2.1250
Iter 011 	 Temp     1.94 	 Delta   943.76 	 OutFr   0.0098 	 RMSD     2.1208
Iter 012 	 Temp     1.80 	 Delta   909.61 	 OutFr   0.0098 	 RMSD     2.1187
Iter 013 	 Temp     1.67 	 Delta   881.04 	 OutFr   0.0098 	 RMSD     2.1186
Iter 014 	 Temp     1.56 	 Delta   855.41 	 OutFr   0.0123 	 RMSD     2.1199
Iter 015 	 Temp     1.45 	 Delta   829.70 	 OutFr   0.0123 	 RMSD     2.1221
Iter 016 	 Temp     1.35 	 Delta   800.90 	 OutFr   0.0147 	 RMSD     2.1249
Iter 017 	 Temp     1.25 	 Delta   767.08 	 OutFr   0.0172 	 RMSD     2.1285
Iter 018 	 Temp     1.16 	 Delta   728.09 	 OutFr   0.0245 	 RMSD     2.1323
Iter 019 	 Temp     1.08 	 Delta   684.88 	 OutFr   0.0319 	 RMSD     2.1355
Iter 020 	 Temp     1.01 	 Delta   639.46 	 OutFr   0.0392 	 RMSD     2.1376
Iter 021 	 Temp     0.94 	 Delta   596.53 	 OutFr   0.0490 	 RMSD     2.1386
Iter 022 	 Temp     0.87 	 Delta   554.84 	 OutFr   0.0539 	 RMSD     2.1390
Iter 023 	 Temp     0.81 	 Delta   508.05 	 OutFr   0.0809 	 RMSD     2.1395
Iter 024 	 Temp     0.75 	 Delta   459.23 	 OutFr   0.1078 	 RMSD     2.1398
Iter 025 	 Temp     0.70 	 Delta   414.70 	 OutFr   0.1348 	 RMSD     2.1405
Iter 026 	 Temp     0.65 	 Delta   371.62 	 OutFr   0.1618 	 RMSD     2.1419
Iter 027 	 Temp     0.61 	 Delta   332.60 	 OutFr   0.1912 	 RMSD     2.1433
Iter 028 	 Temp     0.56 	 Delta   304.26 	 OutFr   0.2132 	 RMSD     2.1447
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.VDxvrftr/mybin.nii.gz
+ vtklevelset /tmp/ashs.VDxvrftr/mybin.nii.gz /tmp/ashs.VDxvrftr/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.VDxvrftr/mymesh.vtk /tmp/ashs.VDxvrftr/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2729.36218062   1.02456614
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.VDxvrftr/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.91249 to 31.8246
   Y : -14.6548 to 25.2991
   Z : -18.1479 to 14.4835
   Image resolution  : 98 by 144 by 122
   Image box origin  : {2.91249, -19.6548, -23.1479}
   Image box size    : {34.0278, 50, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.91249, 19.6548, -23.1479]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -o /tmp/ashs.VDxvrftr/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -o /tmp/ashs.VDxvrftr/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.VDxvrftr/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 0.5'
CHUNK 0.790385 0.796154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 0.5
====================================
         PROGRESS: 0.790385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.VDxvrftr/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.VDxvrftr/fixed_hw.nii.gz /tmp/ashs.VDxvrftr/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.526291, moving = 0.40584
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.38573], [0.96245, 0.982092, 0.973971]
Level     0,  Iter     0:    Energy =   0.0517
Level     0,  Iter     1:    Energy =   0.0584
Level     0,  Iter     2:    Energy =   0.0642
Level     0,  Iter     3:    Energy =   0.0682
Level     0,  Iter     4:    Energy =   0.0716
Level     0,  Iter     5:    Energy =   0.0746
Level     0,  Iter     6:    Energy =   0.0772
Level     0,  Iter     7:    Energy =   0.0799
Level     0,  Iter     8:    Energy =   0.0822
Level     0,  Iter     9:    Energy =   0.0840
Level     0,  Iter    10:    Energy =   0.0851
Level     0,  Iter    11:    Energy =   0.0862
Level     0,  Iter    12:    Energy =   0.0863
Level     0,  Iter    13:    Energy =   0.0868
Level     0,  Iter    14:    Energy =   0.0867
Level     0,  Iter    15:    Energy =   0.0874
Level     0,  Iter    16:    Energy =   0.0881
Level     0,  Iter    17:    Energy =   0.0883
Level     0,  Iter    18:    Energy =   0.0881
Level     0,  Iter    19:    Energy =   0.0885
Level     0,  Iter    20:    Energy =   0.0891
Level     0,  Iter    21:    Energy =   0.0892
Level     0,  Iter    22:    Energy =   0.0892
Level     0,  Iter    23:    Energy =   0.0896
Level     0,  Iter    24:    Energy =   0.0901
Level     0,  Iter    25:    Energy =   0.0900
Level     0,  Iter    26:    Energy =   0.0897
Level     0,  Iter    27:    Energy =   0.0897
Level     0,  Iter    28:    Energy =   0.0897
Level     0,  Iter    29:    Energy =   0.0899
Level     0,  Iter    30:    Energy =   0.0905
Level     0,  Iter    31:    Energy =   0.0904
Level     0,  Iter    32:    Energy =   0.0898
Level     0,  Iter    33:    Energy =   0.0900
Level     0,  Iter    34:    Energy =   0.0905
Level     0,  Iter    35:    Energy =   0.0904
Level     0,  Iter    36:    Energy =   0.0901
Level     0,  Iter    37:    Energy =   0.0901
Level     0,  Iter    38:    Energy =   0.0907
Level     0,  Iter    39:    Energy =   0.0905
Level     0,  Iter    40:    Energy =   0.0902
Level     0,  Iter    41:    Energy =   0.0901
Level     0,  Iter    42:    Energy =   0.0908
Level     0,  Iter    43:    Energy =   0.0908
Level     0,  Iter    44:    Energy =   0.0905
Level     0,  Iter    45:    Energy =   0.0903
Level     0,  Iter    46:    Energy =   0.0908
Level     0,  Iter    47:    Energy =   0.0906
Level     0,  Iter    48:    Energy =   0.0907
Level     0,  Iter    49:    Energy =   0.0906
Level     0,  Iter    50:    Energy =   0.0912
Level     0,  Iter    51:    Energy =   0.0910
Level     0,  Iter    52:    Energy =   0.0906
Level     0,  Iter    53:    Energy =   0.0907
Level     0,  Iter    54:    Energy =   0.0911
Level     0,  Iter    55:    Energy =   0.0910
Level     0,  Iter    56:    Energy =   0.0906
Level     0,  Iter    57:    Energy =   0.0907
Level     0,  Iter    58:    Energy =   0.0914
Level     0,  Iter    59:    Energy =   0.0913
END OF LEVEL     0    DetJac Range:   0.2923  to   1.9915 
  Avg. Gradient Time  : 0.0075s  37.26% 
  Avg. Gaussian Time  : 0.0095s  47.30% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0691
Level     1,  Iter     1:    Energy =   0.0730
Level     1,  Iter     2:    Energy =   0.0760
Level     1,  Iter     3:    Energy =   0.0787
Level     1,  Iter     4:    Energy =   0.0802
Level     1,  Iter     5:    Energy =   0.0818
Level     1,  Iter     6:    Energy =   0.0832
Level     1,  Iter     7:    Energy =   0.0844
Level     1,  Iter     8:    Energy =   0.0855
Level     1,  Iter     9:    Energy =   0.0864
Level     1,  Iter    10:    Energy =   0.0874
Level     1,  Iter    11:    Energy =   0.0881
Level     1,  Iter    12:    Energy =   0.0888
Level     1,  Iter    13:    Energy =   0.0896
Level     1,  Iter    14:    Energy =   0.0903
Level     1,  Iter    15:    Energy =   0.0910
Level     1,  Iter    16:    Energy =   0.0914
Level     1,  Iter    17:    Energy =   0.0914
Level     1,  Iter    18:    Energy =   0.0914
Level     1,  Iter    19:    Energy =   0.0914
Level     1,  Iter    20:    Energy =   0.0913
Level     1,  Iter    21:    Energy =   0.0915
Level     1,  Iter    22:    Energy =   0.0913
Level     1,  Iter    23:    Energy =   0.0917
Level     1,  Iter    24:    Energy =   0.0915
Level     1,  Iter    25:    Energy =   0.0916
Level     1,  Iter    26:    Energy =   0.0916
Level     1,  Iter    27:    Energy =   0.0917
Level     1,  Iter    28:    Energy =   0.0917
Level     1,  Iter    29:    Energy =   0.0918
Level     1,  Iter    30:    Energy =   0.0919
Level     1,  Iter    31:    Energy =   0.0921
Level     1,  Iter    32:    Energy =   0.0919
Level     1,  Iter    33:    Energy =   0.0922
Level     1,  Iter    34:    Energy =   0.0920
Level     1,  Iter    35:    Energy =   0.0923
Level     1,  Iter    36:    Energy =   0.0920
Level     1,  Iter    37:    Energy =   0.0923
Level     1,  Iter    38:    Energy =   0.0921
Level     1,  Iter    39:    Energy =   0.0924
Level     1,  Iter    40:    Energy =   0.0921
Level     1,  Iter    41:    Energy =   0.0924
Level     1,  Iter    42:    Energy =   0.0921
Level     1,  Iter    43:    Energy =   0.0924
Level     1,  Iter    44:    Energy =   0.0922
Level     1,  Iter    45:    Energy =   0.0925
Level     1,  Iter    46:    Energy =   0.0922
Level     1,  Iter    47:    Energy =   0.0925
Level     1,  Iter    48:    Energy =   0.0922
Level     1,  Iter    49:    Energy =   0.0925
Level     1,  Iter    50:    Energy =   0.0923
Level     1,  Iter    51:    Energy =   0.0926
Level     1,  Iter    52:    Energy =   0.0923
Level     1,  Iter    53:    Energy =   0.0926
Level     1,  Iter    54:    Energy =   0.0923
Level     1,  Iter    55:    Energy =   0.0926
Level     1,  Iter    56:    Energy =   0.0924
Level     1,  Iter    57:    Energy =   0.0927
Level     1,  Iter    58:    Energy =   0.0924
Level     1,  Iter    59:    Energy =   0.0927
END OF LEVEL     1    DetJac Range:   0.1215  to   2.8912 
  Avg. Gradient Time  : 0.0442s  40.47% 
  Avg. Gaussian Time  : 0.0519s  47.52% 
  Avg. Iteration Time : 0.1091s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0492
Level     2,  Iter     1:    Energy =   0.0514
Level     2,  Iter     2:    Energy =   0.0534
Level     2,  Iter     3:    Energy =   0.0548
Level     2,  Iter     4:    Energy =   0.0562
Level     2,  Iter     5:    Energy =   0.0575
Level     2,  Iter     6:    Energy =   0.0587
Level     2,  Iter     7:    Energy =   0.0600
Level     2,  Iter     8:    Energy =   0.0612
Level     2,  Iter     9:    Energy =   0.0622
Level     2,  Iter    10:    Energy =   0.0632
Level     2,  Iter    11:    Energy =   0.0640
Level     2,  Iter    12:    Energy =   0.0647
Level     2,  Iter    13:    Energy =   0.0653
Level     2,  Iter    14:    Energy =   0.0657
Level     2,  Iter    15:    Energy =   0.0661
Level     2,  Iter    16:    Energy =   0.0668
Level     2,  Iter    17:    Energy =   0.0675
Level     2,  Iter    18:    Energy =   0.0680
Level     2,  Iter    19:    Energy =   0.0681
END OF LEVEL     2    DetJac Range:   0.0637  to   3.9392 
  Avg. Gradient Time  : 0.3076s  37.69% 
  Avg. Gaussian Time  : 0.4224s  51.76% 
  Avg. Iteration Time : 0.8160s 

real	0m27.225s
user	0m48.000s
sys	0m2.860s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 1'
CHUNK 0.790385 0.796154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 1
====================================
         PROGRESS: 0.790385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1901.29 	 OutFr   0.0000 	 RMSD     2.4685
Iter 002 	 Temp     3.72 	 Delta  1825.85 	 OutFr   0.0000 	 RMSD     2.3437
Iter 003 	 Temp     3.46 	 Delta  1663.05 	 OutFr   0.0000 	 RMSD     2.3081
Iter 004 	 Temp     3.22 	 Delta  1518.69 	 OutFr   0.0025 	 RMSD     2.2712
Iter 005 	 Temp     2.99 	 Delta  1393.38 	 OutFr   0.0025 	 RMSD     2.2420
Iter 006 	 Temp     2.78 	 Delta  1280.07 	 OutFr   0.0025 	 RMSD     2.2167
Iter 007 	 Temp     2.59 	 Delta  1176.56 	 OutFr   0.0025 	 RMSD     2.1958
Iter 008 	 Temp     2.41 	 Delta  1083.22 	 OutFr   0.0074 	 RMSD     2.1784
Iter 009 	 Temp     2.24 	 Delta  1000.73 	 OutFr   0.0074 	 RMSD     2.1647
Iter 010 	 Temp     2.08 	 Delta   928.23 	 OutFr   0.0098 	 RMSD     2.1533
Iter 011 	 Temp     1.94 	 Delta   863.69 	 OutFr   0.0098 	 RMSD     2.1446
Iter 012 	 Temp     1.80 	 Delta   806.19 	 OutFr   0.0098 	 RMSD     2.1377
Iter 013 	 Temp     1.67 	 Delta   756.02 	 OutFr   0.0123 	 RMSD     2.1324
Iter 014 	 Temp     1.56 	 Delta   713.34 	 OutFr   0.0147 	 RMSD     2.1285
Iter 015 	 Temp     1.45 	 Delta   676.80 	 OutFr   0.0221 	 RMSD     2.1257
Iter 016 	 Temp     1.35 	 Delta   644.62 	 OutFr   0.0270 	 RMSD     2.1238
Iter 017 	 Temp     1.25 	 Delta   615.40 	 OutFr   0.0319 	 RMSD     2.1224
Iter 018 	 Temp     1.16 	 Delta   586.35 	 OutFr   0.0392 	 RMSD     2.1217
Iter 019 	 Temp     1.08 	 Delta   554.50 	 OutFr   0.0466 	 RMSD     2.1219
Iter 020 	 Temp     1.01 	 Delta   520.88 	 OutFr   0.0588 	 RMSD     2.1231
Iter 021 	 Temp     0.94 	 Delta   489.06 	 OutFr   0.0686 	 RMSD     2.1250
Iter 022 	 Temp     0.87 	 Delta   459.12 	 OutFr   0.0784 	 RMSD     2.1268
Iter 023 	 Temp     0.81 	 Delta   431.96 	 OutFr   0.0858 	 RMSD     2.1278
Iter 024 	 Temp     0.75 	 Delta   408.13 	 OutFr   0.1103 	 RMSD     2.1282
Iter 025 	 Temp     0.70 	 Delta   386.20 	 OutFr   0.1201 	 RMSD     2.1279
Iter 026 	 Temp     0.65 	 Delta   365.00 	 OutFr   0.1299 	 RMSD     2.1273
Iter 027 	 Temp     0.61 	 Delta   344.01 	 OutFr   0.1544 	 RMSD     2.1267
Iter 028 	 Temp     0.56 	 Delta   321.74 	 OutFr   0.1716 	 RMSD     2.1268
Iter 029 	 Temp     0.52 	 Delta   297.51 	 OutFr   0.1814 	 RMSD     2.1280
Iter 030 	 Temp     0.49 	 Delta   273.33 	 OutFr   0.2010 	 RMSD     2.1303
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.uW90PfvE/mybin.nii.gz
+ vtklevelset /tmp/ashs.uW90PfvE/mybin.nii.gz /tmp/ashs.uW90PfvE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.uW90PfvE/mymesh.vtk /tmp/ashs.uW90PfvE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2761.92748519   1.03679072
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.uW90PfvE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.59113 to 33.8694
   Y : -15.1045 to 25.1809
   Z : -21.5717 to 8.82929
   Image resolution  : 102 by 145 by 116
   Image box origin  : {3.59113, -20.1045, -26.5717}
   Image box size    : {35.4166, 50.3472, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.59113, 20.1045, -26.5717]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -o /tmp/ashs.uW90PfvE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -o /tmp/ashs.uW90PfvE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.uW90PfvE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 0.5'
CHUNK 0.796154 0.801923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 0.5
====================================
         PROGRESS: 0.796154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.uW90PfvE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.uW90PfvE/fixed_hw.nii.gz /tmp/ashs.uW90PfvE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.530232, moving = 0.404104
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.35686, 2.42484], [0.963206, 0.962185, 0.989938]
Level     0,  Iter     0:    Energy =   0.0419
Level     0,  Iter     1:    Energy =   0.0471
Level     0,  Iter     2:    Energy =   0.0518
Level     0,  Iter     3:    Energy =   0.0555
Level     0,  Iter     4:    Energy =   0.0585
Level     0,  Iter     5:    Energy =   0.0611
Level     0,  Iter     6:    Energy =   0.0630
Level     0,  Iter     7:    Energy =   0.0642
Level     0,  Iter     8:    Energy =   0.0651
Level     0,  Iter     9:    Energy =   0.0658
Level     0,  Iter    10:    Energy =   0.0663
Level     0,  Iter    11:    Energy =   0.0669
Level     0,  Iter    12:    Energy =   0.0671
Level     0,  Iter    13:    Energy =   0.0678
Level     0,  Iter    14:    Energy =   0.0680
Level     0,  Iter    15:    Energy =   0.0686
Level     0,  Iter    16:    Energy =   0.0688
Level     0,  Iter    17:    Energy =   0.0694
Level     0,  Iter    18:    Energy =   0.0695
Level     0,  Iter    19:    Energy =   0.0701
Level     0,  Iter    20:    Energy =   0.0701
Level     0,  Iter    21:    Energy =   0.0706
Level     0,  Iter    22:    Energy =   0.0705
Level     0,  Iter    23:    Energy =   0.0710
Level     0,  Iter    24:    Energy =   0.0709
Level     0,  Iter    25:    Energy =   0.0714
Level     0,  Iter    26:    Energy =   0.0713
Level     0,  Iter    27:    Energy =   0.0716
Level     0,  Iter    28:    Energy =   0.0715
Level     0,  Iter    29:    Energy =   0.0718
Level     0,  Iter    30:    Energy =   0.0717
Level     0,  Iter    31:    Energy =   0.0720
Level     0,  Iter    32:    Energy =   0.0719
Level     0,  Iter    33:    Energy =   0.0721
Level     0,  Iter    34:    Energy =   0.0720
Level     0,  Iter    35:    Energy =   0.0723
Level     0,  Iter    36:    Energy =   0.0721
Level     0,  Iter    37:    Energy =   0.0724
Level     0,  Iter    38:    Energy =   0.0722
Level     0,  Iter    39:    Energy =   0.0725
Level     0,  Iter    40:    Energy =   0.0723
Level     0,  Iter    41:    Energy =   0.0725
Level     0,  Iter    42:    Energy =   0.0723
Level     0,  Iter    43:    Energy =   0.0726
Level     0,  Iter    44:    Energy =   0.0724
Level     0,  Iter    45:    Energy =   0.0727
Level     0,  Iter    46:    Energy =   0.0725
Level     0,  Iter    47:    Energy =   0.0727
Level     0,  Iter    48:    Energy =   0.0725
Level     0,  Iter    49:    Energy =   0.0727
Level     0,  Iter    50:    Energy =   0.0725
Level     0,  Iter    51:    Energy =   0.0728
Level     0,  Iter    52:    Energy =   0.0726
Level     0,  Iter    53:    Energy =   0.0728
Level     0,  Iter    54:    Energy =   0.0726
Level     0,  Iter    55:    Energy =   0.0729
Level     0,  Iter    56:    Energy =   0.0727
Level     0,  Iter    57:    Energy =   0.0729
Level     0,  Iter    58:    Energy =   0.0728
Level     0,  Iter    59:    Energy =   0.0730
END OF LEVEL     0    DetJac Range:   0.2654  to   2.1093 
  Avg. Gradient Time  : 0.0073s  37.24% 
  Avg. Gaussian Time  : 0.0093s  47.55% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0524
Level     1,  Iter     1:    Energy =   0.0568
Level     1,  Iter     2:    Energy =   0.0604
Level     1,  Iter     3:    Energy =   0.0626
Level     1,  Iter     4:    Energy =   0.0646
Level     1,  Iter     5:    Energy =   0.0663
Level     1,  Iter     6:    Energy =   0.0678
Level     1,  Iter     7:    Energy =   0.0689
Level     1,  Iter     8:    Energy =   0.0700
Level     1,  Iter     9:    Energy =   0.0711
Level     1,  Iter    10:    Energy =   0.0719
Level     1,  Iter    11:    Energy =   0.0725
Level     1,  Iter    12:    Energy =   0.0729
Level     1,  Iter    13:    Energy =   0.0733
Level     1,  Iter    14:    Energy =   0.0735
Level     1,  Iter    15:    Energy =   0.0738
Level     1,  Iter    16:    Energy =   0.0740
Level     1,  Iter    17:    Energy =   0.0741
Level     1,  Iter    18:    Energy =   0.0744
Level     1,  Iter    19:    Energy =   0.0747
Level     1,  Iter    20:    Energy =   0.0749
Level     1,  Iter    21:    Energy =   0.0751
Level     1,  Iter    22:    Energy =   0.0751
Level     1,  Iter    23:    Energy =   0.0751
Level     1,  Iter    24:    Energy =   0.0751
Level     1,  Iter    25:    Energy =   0.0752
Level     1,  Iter    26:    Energy =   0.0753
Level     1,  Iter    27:    Energy =   0.0754
Level     1,  Iter    28:    Energy =   0.0754
Level     1,  Iter    29:    Energy =   0.0753
Level     1,  Iter    30:    Energy =   0.0752
Level     1,  Iter    31:    Energy =   0.0751
Level     1,  Iter    32:    Energy =   0.0750
Level     1,  Iter    33:    Energy =   0.0750
Level     1,  Iter    34:    Energy =   0.0749
Level     1,  Iter    35:    Energy =   0.0749
Level     1,  Iter    36:    Energy =   0.0750
Level     1,  Iter    37:    Energy =   0.0751
Level     1,  Iter    38:    Energy =   0.0753
Level     1,  Iter    39:    Energy =   0.0755
Level     1,  Iter    40:    Energy =   0.0757
Level     1,  Iter    41:    Energy =   0.0760
Level     1,  Iter    42:    Energy =   0.0764
Level     1,  Iter    43:    Energy =   0.0766
Level     1,  Iter    44:    Energy =   0.0769
Level     1,  Iter    45:    Energy =   0.0771
Level     1,  Iter    46:    Energy =   0.0770
Level     1,  Iter    47:    Energy =   0.0772
Level     1,  Iter    48:    Energy =   0.0770
Level     1,  Iter    49:    Energy =   0.0772
Level     1,  Iter    50:    Energy =   0.0773
Level     1,  Iter    51:    Energy =   0.0774
Level     1,  Iter    52:    Energy =   0.0773
Level     1,  Iter    53:    Energy =   0.0775
Level     1,  Iter    54:    Energy =   0.0774
Level     1,  Iter    55:    Energy =   0.0776
Level     1,  Iter    56:    Energy =   0.0774
Level     1,  Iter    57:    Energy =   0.0776
Level     1,  Iter    58:    Energy =   0.0776
Level     1,  Iter    59:    Energy =   0.0778
END OF LEVEL     1    DetJac Range:   0.0356  to   3.0206 
  Avg. Gradient Time  : 0.0438s  40.00% 
  Avg. Gaussian Time  : 0.0526s  48.06% 
  Avg. Iteration Time : 0.1094s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0407
Level     2,  Iter     1:    Energy =   0.0426
Level     2,  Iter     2:    Energy =   0.0446
Level     2,  Iter     3:    Energy =   0.0460
Level     2,  Iter     4:    Energy =   0.0472
Level     2,  Iter     5:    Energy =   0.0481
Level     2,  Iter     6:    Energy =   0.0488
Level     2,  Iter     7:    Energy =   0.0495
Level     2,  Iter     8:    Energy =   0.0503
Level     2,  Iter     9:    Energy =   0.0511
Level     2,  Iter    10:    Energy =   0.0518
Level     2,  Iter    11:    Energy =   0.0525
Level     2,  Iter    12:    Energy =   0.0531
Level     2,  Iter    13:    Energy =   0.0537
Level     2,  Iter    14:    Energy =   0.0542
Level     2,  Iter    15:    Energy =   0.0546
Level     2,  Iter    16:    Energy =   0.0550
Level     2,  Iter    17:    Energy =   0.0552
Level     2,  Iter    18:    Energy =   0.0555
Level     2,  Iter    19:    Energy =   0.0558
END OF LEVEL     2    DetJac Range:   0.0253  to   3.9727 
  Avg. Gradient Time  : 0.3037s  37.53% 
  Avg. Gaussian Time  : 0.4182s  51.69% 
  Avg. Iteration Time : 0.8090s 

real	0m27.165s
user	0m47.792s
sys	0m2.808s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 1'
CHUNK 0.796154 0.801923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 1
====================================
         PROGRESS: 0.796154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2327.95 	 OutFr   0.0000 	 RMSD     2.4722
Iter 002 	 Temp     3.72 	 Delta  2171.97 	 OutFr   0.0000 	 RMSD     2.2282
Iter 003 	 Temp     3.46 	 Delta  2077.84 	 OutFr   0.0000 	 RMSD     2.2332
Iter 004 	 Temp     3.22 	 Delta  1974.87 	 OutFr   0.0000 	 RMSD     2.2227
Iter 005 	 Temp     2.99 	 Delta  1868.64 	 OutFr   0.0000 	 RMSD     2.2059
Iter 006 	 Temp     2.78 	 Delta  1762.59 	 OutFr   0.0000 	 RMSD     2.1879
Iter 007 	 Temp     2.59 	 Delta  1658.67 	 OutFr   0.0000 	 RMSD     2.1707
Iter 008 	 Temp     2.41 	 Delta  1558.19 	 OutFr   0.0000 	 RMSD     2.1542
Iter 009 	 Temp     2.24 	 Delta  1460.77 	 OutFr   0.0000 	 RMSD     2.1387
Iter 010 	 Temp     2.08 	 Delta  1364.44 	 OutFr   0.0025 	 RMSD     2.1240
Iter 011 	 Temp     1.94 	 Delta  1268.09 	 OutFr   0.0025 	 RMSD     2.1098
Iter 012 	 Temp     1.80 	 Delta  1173.77 	 OutFr   0.0049 	 RMSD     2.0982
Iter 013 	 Temp     1.67 	 Delta  1085.97 	 OutFr   0.0147 	 RMSD     2.0882
Iter 014 	 Temp     1.56 	 Delta  1007.75 	 OutFr   0.0221 	 RMSD     2.0800
Iter 015 	 Temp     1.45 	 Delta   938.88 	 OutFr   0.0270 	 RMSD     2.0729
Iter 016 	 Temp     1.35 	 Delta   878.78 	 OutFr   0.0319 	 RMSD     2.0674
Iter 017 	 Temp     1.25 	 Delta   825.62 	 OutFr   0.0368 	 RMSD     2.0630
Iter 018 	 Temp     1.16 	 Delta   776.15 	 OutFr   0.0417 	 RMSD     2.0594
Iter 019 	 Temp     1.08 	 Delta   726.86 	 OutFr   0.0441 	 RMSD     2.0567
Iter 020 	 Temp     1.01 	 Delta   674.39 	 OutFr   0.0515 	 RMSD     2.0549
Iter 021 	 Temp     0.94 	 Delta   620.28 	 OutFr   0.0662 	 RMSD     2.0546
Iter 022 	 Temp     0.87 	 Delta   569.88 	 OutFr   0.0833 	 RMSD     2.0546
Iter 023 	 Temp     0.81 	 Delta   524.06 	 OutFr   0.1005 	 RMSD     2.0545
Iter 024 	 Temp     0.75 	 Delta   481.51 	 OutFr   0.1299 	 RMSD     2.0541
Iter 025 	 Temp     0.70 	 Delta   442.83 	 OutFr   0.1422 	 RMSD     2.0541
Iter 026 	 Temp     0.65 	 Delta   406.59 	 OutFr   0.1618 	 RMSD     2.0550
Iter 027 	 Temp     0.61 	 Delta   372.06 	 OutFr   0.1863 	 RMSD     2.0568
Iter 028 	 Temp     0.56 	 Delta   341.52 	 OutFr   0.2108 	 RMSD     2.0597
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.3ya6leIB/mybin.nii.gz
+ vtklevelset /tmp/ashs.3ya6leIB/mybin.nii.gz /tmp/ashs.3ya6leIB/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.3ya6leIB/mymesh.vtk /tmp/ashs.3ya6leIB/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2736.56073697   1.02726838
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.3ya6leIB/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.3016 to 34.7985
   Y : -8.46329 to 33.0853
   Z : -20.6299 to 9.67392
   Image resolution  : 100 by 149 by 116
   Image box origin  : {5.3016, -13.4633, -25.6299}
   Image box size    : {34.7222, 51.7361, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.3016, 13.4633, -25.6299]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -o /tmp/ashs.3ya6leIB/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -o /tmp/ashs.3ya6leIB/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.3ya6leIB/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 0.5'
CHUNK 0.801923 0.807692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 0.5
====================================
         PROGRESS: 0.801923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.3ya6leIB/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.3ya6leIB/fixed_hw.nii.gz /tmp/ashs.3ya6leIB/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.528674, moving = 0.739191
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35815, 2.42484], [0.982092, 0.962709, 0.989938]
Level     0,  Iter     0:    Energy =   0.0391
Level     0,  Iter     1:    Energy =   0.0452
Level     0,  Iter     2:    Energy =   0.0504
Level     0,  Iter     3:    Energy =   0.0546
Level     0,  Iter     4:    Energy =   0.0582
Level     0,  Iter     5:    Energy =   0.0618
Level     0,  Iter     6:    Energy =   0.0645
Level     0,  Iter     7:    Energy =   0.0669
Level     0,  Iter     8:    Energy =   0.0680
Level     0,  Iter     9:    Energy =   0.0692
Level     0,  Iter    10:    Energy =   0.0698
Level     0,  Iter    11:    Energy =   0.0706
Level     0,  Iter    12:    Energy =   0.0711
Level     0,  Iter    13:    Energy =   0.0719
Level     0,  Iter    14:    Energy =   0.0725
Level     0,  Iter    15:    Energy =   0.0731
Level     0,  Iter    16:    Energy =   0.0735
Level     0,  Iter    17:    Energy =   0.0741
Level     0,  Iter    18:    Energy =   0.0743
Level     0,  Iter    19:    Energy =   0.0748
Level     0,  Iter    20:    Energy =   0.0748
Level     0,  Iter    21:    Energy =   0.0753
Level     0,  Iter    22:    Energy =   0.0753
Level     0,  Iter    23:    Energy =   0.0758
Level     0,  Iter    24:    Energy =   0.0757
Level     0,  Iter    25:    Energy =   0.0761
Level     0,  Iter    26:    Energy =   0.0760
Level     0,  Iter    27:    Energy =   0.0764
Level     0,  Iter    28:    Energy =   0.0763
Level     0,  Iter    29:    Energy =   0.0766
Level     0,  Iter    30:    Energy =   0.0764
Level     0,  Iter    31:    Energy =   0.0767
Level     0,  Iter    32:    Energy =   0.0769
Level     0,  Iter    33:    Energy =   0.0771
Level     0,  Iter    34:    Energy =   0.0768
Level     0,  Iter    35:    Energy =   0.0770
Level     0,  Iter    36:    Energy =   0.0771
Level     0,  Iter    37:    Energy =   0.0773
Level     0,  Iter    38:    Energy =   0.0770
Level     0,  Iter    39:    Energy =   0.0772
Level     0,  Iter    40:    Energy =   0.0776
Level     0,  Iter    41:    Energy =   0.0777
Level     0,  Iter    42:    Energy =   0.0774
Level     0,  Iter    43:    Energy =   0.0776
Level     0,  Iter    44:    Energy =   0.0778
Level     0,  Iter    45:    Energy =   0.0779
Level     0,  Iter    46:    Energy =   0.0777
Level     0,  Iter    47:    Energy =   0.0779
Level     0,  Iter    48:    Energy =   0.0782
Level     0,  Iter    49:    Energy =   0.0782
Level     0,  Iter    50:    Energy =   0.0780
Level     0,  Iter    51:    Energy =   0.0781
Level     0,  Iter    52:    Energy =   0.0784
Level     0,  Iter    53:    Energy =   0.0785
Level     0,  Iter    54:    Energy =   0.0782
Level     0,  Iter    55:    Energy =   0.0784
Level     0,  Iter    56:    Energy =   0.0785
Level     0,  Iter    57:    Energy =   0.0786
Level     0,  Iter    58:    Energy =   0.0784
Level     0,  Iter    59:    Energy =   0.0786
END OF LEVEL     0    DetJac Range:   0.3307  to   2.3896 
  Avg. Gradient Time  : 0.0074s  37.61% 
  Avg. Gaussian Time  : 0.0093s  47.20% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19479, 1.21242], [0.491046, 0.487772, 0.494969]
Level     1,  Iter     0:    Energy =   0.0566
Level     1,  Iter     1:    Energy =   0.0608
Level     1,  Iter     2:    Energy =   0.0639
Level     1,  Iter     3:    Energy =   0.0664
Level     1,  Iter     4:    Energy =   0.0684
Level     1,  Iter     5:    Energy =   0.0701
Level     1,  Iter     6:    Energy =   0.0715
Level     1,  Iter     7:    Energy =   0.0726
Level     1,  Iter     8:    Energy =   0.0736
Level     1,  Iter     9:    Energy =   0.0744
Level     1,  Iter    10:    Energy =   0.0755
Level     1,  Iter    11:    Energy =   0.0765
Level     1,  Iter    12:    Energy =   0.0772
Level     1,  Iter    13:    Energy =   0.0780
Level     1,  Iter    14:    Energy =   0.0779
Level     1,  Iter    15:    Energy =   0.0786
Level     1,  Iter    16:    Energy =   0.0784
Level     1,  Iter    17:    Energy =   0.0790
Level     1,  Iter    18:    Energy =   0.0789
Level     1,  Iter    19:    Energy =   0.0794
Level     1,  Iter    20:    Energy =   0.0792
Level     1,  Iter    21:    Energy =   0.0796
Level     1,  Iter    22:    Energy =   0.0795
Level     1,  Iter    23:    Energy =   0.0798
Level     1,  Iter    24:    Energy =   0.0795
Level     1,  Iter    25:    Energy =   0.0800
Level     1,  Iter    26:    Energy =   0.0798
Level     1,  Iter    27:    Energy =   0.0802
Level     1,  Iter    28:    Energy =   0.0798
Level     1,  Iter    29:    Energy =   0.0802
Level     1,  Iter    30:    Energy =   0.0802
Level     1,  Iter    31:    Energy =   0.0803
Level     1,  Iter    32:    Energy =   0.0800
Level     1,  Iter    33:    Energy =   0.0803
Level     1,  Iter    34:    Energy =   0.0804
Level     1,  Iter    35:    Energy =   0.0804
Level     1,  Iter    36:    Energy =   0.0801
Level     1,  Iter    37:    Energy =   0.0804
Level     1,  Iter    38:    Energy =   0.0806
Level     1,  Iter    39:    Energy =   0.0806
Level     1,  Iter    40:    Energy =   0.0803
Level     1,  Iter    41:    Energy =   0.0805
Level     1,  Iter    42:    Energy =   0.0807
Level     1,  Iter    43:    Energy =   0.0807
Level     1,  Iter    44:    Energy =   0.0804
Level     1,  Iter    45:    Energy =   0.0807
Level     1,  Iter    46:    Energy =   0.0807
Level     1,  Iter    47:    Energy =   0.0808
Level     1,  Iter    48:    Energy =   0.0805
Level     1,  Iter    49:    Energy =   0.0810
Level     1,  Iter    50:    Energy =   0.0809
Level     1,  Iter    51:    Energy =   0.0810
Level     1,  Iter    52:    Energy =   0.0807
Level     1,  Iter    53:    Energy =   0.0811
Level     1,  Iter    54:    Energy =   0.0810
Level     1,  Iter    55:    Energy =   0.0811
Level     1,  Iter    56:    Energy =   0.0808
Level     1,  Iter    57:    Energy =   0.0812
Level     1,  Iter    58:    Energy =   0.0811
Level     1,  Iter    59:    Energy =   0.0812
END OF LEVEL     1    DetJac Range:   0.1547  to   3.3513 
  Avg. Gradient Time  : 0.0430s  39.76% 
  Avg. Gaussian Time  : 0.0522s  48.36% 
  Avg. Iteration Time : 0.1080s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0421
Level     2,  Iter     1:    Energy =   0.0447
Level     2,  Iter     2:    Energy =   0.0468
Level     2,  Iter     3:    Energy =   0.0486
Level     2,  Iter     4:    Energy =   0.0501
Level     2,  Iter     5:    Energy =   0.0516
Level     2,  Iter     6:    Energy =   0.0529
Level     2,  Iter     7:    Energy =   0.0539
Level     2,  Iter     8:    Energy =   0.0547
Level     2,  Iter     9:    Energy =   0.0553
Level     2,  Iter    10:    Energy =   0.0558
Level     2,  Iter    11:    Energy =   0.0562
Level     2,  Iter    12:    Energy =   0.0565
Level     2,  Iter    13:    Energy =   0.0568
Level     2,  Iter    14:    Energy =   0.0570
Level     2,  Iter    15:    Energy =   0.0572
Level     2,  Iter    16:    Energy =   0.0573
Level     2,  Iter    17:    Energy =   0.0575
Level     2,  Iter    18:    Energy =   0.0576
Level     2,  Iter    19:    Energy =   0.0577
END OF LEVEL     2    DetJac Range:   0.0920  to   3.8252 
  Avg. Gradient Time  : 0.3077s  37.37% 
  Avg. Gaussian Time  : 0.4270s  51.85% 
  Avg. Iteration Time : 0.8235s 

real	0m27.353s
user	0m48.224s
sys	0m2.680s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 1'
CHUNK 0.801923 0.807692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 1
====================================
         PROGRESS: 0.801923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2039.91 	 OutFr   0.0000 	 RMSD     2.8665
Iter 002 	 Temp     3.72 	 Delta  1947.07 	 OutFr   0.0000 	 RMSD     2.2233
Iter 003 	 Temp     3.46 	 Delta  1795.15 	 OutFr   0.0000 	 RMSD     2.1600
Iter 004 	 Temp     3.22 	 Delta  1647.36 	 OutFr   0.0000 	 RMSD     2.1139
Iter 005 	 Temp     2.99 	 Delta  1516.12 	 OutFr   0.0000 	 RMSD     2.0780
Iter 006 	 Temp     2.78 	 Delta  1405.53 	 OutFr   0.0000 	 RMSD     2.0459
Iter 007 	 Temp     2.59 	 Delta  1315.28 	 OutFr   0.0000 	 RMSD     2.0219
Iter 008 	 Temp     2.41 	 Delta  1242.01 	 OutFr   0.0000 	 RMSD     2.0036
Iter 009 	 Temp     2.24 	 Delta  1181.03 	 OutFr   0.0000 	 RMSD     1.9889
Iter 010 	 Temp     2.08 	 Delta  1128.11 	 OutFr   0.0000 	 RMSD     1.9771
Iter 011 	 Temp     1.94 	 Delta  1079.81 	 OutFr   0.0000 	 RMSD     1.9663
Iter 012 	 Temp     1.80 	 Delta  1033.10 	 OutFr   0.0025 	 RMSD     1.9562
Iter 013 	 Temp     1.67 	 Delta   985.36 	 OutFr   0.0025 	 RMSD     1.9467
Iter 014 	 Temp     1.56 	 Delta   934.61 	 OutFr   0.0074 	 RMSD     1.9377
Iter 015 	 Temp     1.45 	 Delta   879.95 	 OutFr   0.0123 	 RMSD     1.9290
Iter 016 	 Temp     1.35 	 Delta   822.79 	 OutFr   0.0123 	 RMSD     1.9215
Iter 017 	 Temp     1.25 	 Delta   766.70 	 OutFr   0.0245 	 RMSD     1.9154
Iter 018 	 Temp     1.16 	 Delta   713.43 	 OutFr   0.0319 	 RMSD     1.9112
Iter 019 	 Temp     1.08 	 Delta   663.31 	 OutFr   0.0417 	 RMSD     1.9092
Iter 020 	 Temp     1.01 	 Delta   616.28 	 OutFr   0.0539 	 RMSD     1.9092
Iter 021 	 Temp     0.94 	 Delta   571.62 	 OutFr   0.0637 	 RMSD     1.9106
Iter 022 	 Temp     0.87 	 Delta   530.67 	 OutFr   0.0784 	 RMSD     1.9125
Iter 023 	 Temp     0.81 	 Delta   493.26 	 OutFr   0.0833 	 RMSD     1.9145
Iter 024 	 Temp     0.75 	 Delta   458.80 	 OutFr   0.1054 	 RMSD     1.9168
Iter 025 	 Temp     0.70 	 Delta   427.42 	 OutFr   0.1299 	 RMSD     1.9192
Iter 026 	 Temp     0.65 	 Delta   396.76 	 OutFr   0.1397 	 RMSD     1.9215
Iter 027 	 Temp     0.61 	 Delta   366.65 	 OutFr   0.1520 	 RMSD     1.9234
Iter 028 	 Temp     0.56 	 Delta   338.45 	 OutFr   0.1814 	 RMSD     1.9251
Iter 029 	 Temp     0.52 	 Delta   310.54 	 OutFr   0.1961 	 RMSD     1.9264
Iter 030 	 Temp     0.49 	 Delta   281.87 	 OutFr   0.2181 	 RMSD     1.9269
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.D1T9Qawa/mybin.nii.gz
+ vtklevelset /tmp/ashs.D1T9Qawa/mybin.nii.gz /tmp/ashs.D1T9Qawa/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.D1T9Qawa/mymesh.vtk /tmp/ashs.D1T9Qawa/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2912.91515590   1.09346948
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.D1T9Qawa/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.92444 to 34.021
   Y : -10.3837 to 29.6283
   Z : -13.4262 to 20.1101
   Image resolution  : 102 by 145 by 125
   Image box origin  : {3.92444, -15.3837, -18.4262}
   Image box size    : {35.4166, 50.3472, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.92444, 15.3837, -18.4262]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -o /tmp/ashs.D1T9Qawa/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -o /tmp/ashs.D1T9Qawa/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.D1T9Qawa/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 0.5'
CHUNK 0.807692 0.813462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 0.5
====================================
         PROGRESS: 0.807692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.D1T9Qawa/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.D1T9Qawa/fixed_hw.nii.gz /tmp/ashs.D1T9Qawa/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.525246, moving = 0.473336
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.35686, 2.36801], [0.963206, 0.962185, 0.966737]
Level     0,  Iter     0:    Energy =   0.0585
Level     0,  Iter     1:    Energy =   0.0658
Level     0,  Iter     2:    Energy =   0.0739
Level     0,  Iter     3:    Energy =   0.0800
Level     0,  Iter     4:    Energy =   0.0844
Level     0,  Iter     5:    Energy =   0.0875
Level     0,  Iter     6:    Energy =   0.0900
Level     0,  Iter     7:    Energy =   0.0919
Level     0,  Iter     8:    Energy =   0.0935
Level     0,  Iter     9:    Energy =   0.0948
Level     0,  Iter    10:    Energy =   0.0957
Level     0,  Iter    11:    Energy =   0.0960
Level     0,  Iter    12:    Energy =   0.0969
Level     0,  Iter    13:    Energy =   0.0971
Level     0,  Iter    14:    Energy =   0.0973
Level     0,  Iter    15:    Energy =   0.0974
Level     0,  Iter    16:    Energy =   0.0976
Level     0,  Iter    17:    Energy =   0.0976
Level     0,  Iter    18:    Energy =   0.0979
Level     0,  Iter    19:    Energy =   0.0979
Level     0,  Iter    20:    Energy =   0.0982
Level     0,  Iter    21:    Energy =   0.0981
Level     0,  Iter    22:    Energy =   0.0983
Level     0,  Iter    23:    Energy =   0.0983
Level     0,  Iter    24:    Energy =   0.0985
Level     0,  Iter    25:    Energy =   0.0985
Level     0,  Iter    26:    Energy =   0.0987
Level     0,  Iter    27:    Energy =   0.0986
Level     0,  Iter    28:    Energy =   0.0988
Level     0,  Iter    29:    Energy =   0.0987
Level     0,  Iter    30:    Energy =   0.0989
Level     0,  Iter    31:    Energy =   0.0988
Level     0,  Iter    32:    Energy =   0.0990
Level     0,  Iter    33:    Energy =   0.0989
Level     0,  Iter    34:    Energy =   0.0989
Level     0,  Iter    35:    Energy =   0.0990
Level     0,  Iter    36:    Energy =   0.0991
Level     0,  Iter    37:    Energy =   0.0990
Level     0,  Iter    38:    Energy =   0.0990
Level     0,  Iter    39:    Energy =   0.0991
Level     0,  Iter    40:    Energy =   0.0991
Level     0,  Iter    41:    Energy =   0.0991
Level     0,  Iter    42:    Energy =   0.0992
Level     0,  Iter    43:    Energy =   0.0992
Level     0,  Iter    44:    Energy =   0.0993
Level     0,  Iter    45:    Energy =   0.0992
Level     0,  Iter    46:    Energy =   0.0992
Level     0,  Iter    47:    Energy =   0.0992
Level     0,  Iter    48:    Energy =   0.0993
Level     0,  Iter    49:    Energy =   0.0993
Level     0,  Iter    50:    Energy =   0.0993
Level     0,  Iter    51:    Energy =   0.0993
Level     0,  Iter    52:    Energy =   0.0994
Level     0,  Iter    53:    Energy =   0.0993
Level     0,  Iter    54:    Energy =   0.0993
Level     0,  Iter    55:    Energy =   0.0993
Level     0,  Iter    56:    Energy =   0.0994
Level     0,  Iter    57:    Energy =   0.0993
Level     0,  Iter    58:    Energy =   0.0993
Level     0,  Iter    59:    Energy =   0.0992
END OF LEVEL     0    DetJac Range:   0.2321  to   1.9599 
  Avg. Gradient Time  : 0.0083s  37.94% 
  Avg. Gaussian Time  : 0.0103s  47.12% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.2028], [0.491046, 0.487683, 0.491041]
Level     1,  Iter     0:    Energy =   0.0736
Level     1,  Iter     1:    Energy =   0.0776
Level     1,  Iter     2:    Energy =   0.0812
Level     1,  Iter     3:    Energy =   0.0837
Level     1,  Iter     4:    Energy =   0.0855
Level     1,  Iter     5:    Energy =   0.0870
Level     1,  Iter     6:    Energy =   0.0884
Level     1,  Iter     7:    Energy =   0.0897
Level     1,  Iter     8:    Energy =   0.0911
Level     1,  Iter     9:    Energy =   0.0924
Level     1,  Iter    10:    Energy =   0.0934
Level     1,  Iter    11:    Energy =   0.0943
Level     1,  Iter    12:    Energy =   0.0951
Level     1,  Iter    13:    Energy =   0.0954
Level     1,  Iter    14:    Energy =   0.0956
Level     1,  Iter    15:    Energy =   0.0955
Level     1,  Iter    16:    Energy =   0.0957
Level     1,  Iter    17:    Energy =   0.0956
Level     1,  Iter    18:    Energy =   0.0958
Level     1,  Iter    19:    Energy =   0.0958
Level     1,  Iter    20:    Energy =   0.0960
Level     1,  Iter    21:    Energy =   0.0959
Level     1,  Iter    22:    Energy =   0.0961
Level     1,  Iter    23:    Energy =   0.0960
Level     1,  Iter    24:    Energy =   0.0962
Level     1,  Iter    25:    Energy =   0.0961
Level     1,  Iter    26:    Energy =   0.0964
Level     1,  Iter    27:    Energy =   0.0963
Level     1,  Iter    28:    Energy =   0.0965
Level     1,  Iter    29:    Energy =   0.0964
Level     1,  Iter    30:    Energy =   0.0966
Level     1,  Iter    31:    Energy =   0.0965
Level     1,  Iter    32:    Energy =   0.0967
Level     1,  Iter    33:    Energy =   0.0966
Level     1,  Iter    34:    Energy =   0.0968
Level     1,  Iter    35:    Energy =   0.0967
Level     1,  Iter    36:    Energy =   0.0969
Level     1,  Iter    37:    Energy =   0.0968
Level     1,  Iter    38:    Energy =   0.0970
Level     1,  Iter    39:    Energy =   0.0969
Level     1,  Iter    40:    Energy =   0.0971
Level     1,  Iter    41:    Energy =   0.0969
Level     1,  Iter    42:    Energy =   0.0972
Level     1,  Iter    43:    Energy =   0.0970
Level     1,  Iter    44:    Energy =   0.0973
Level     1,  Iter    45:    Energy =   0.0971
Level     1,  Iter    46:    Energy =   0.0974
Level     1,  Iter    47:    Energy =   0.0972
Level     1,  Iter    48:    Energy =   0.0974
Level     1,  Iter    49:    Energy =   0.0972
Level     1,  Iter    50:    Energy =   0.0975
Level     1,  Iter    51:    Energy =   0.0973
Level     1,  Iter    52:    Energy =   0.0976
Level     1,  Iter    53:    Energy =   0.0974
Level     1,  Iter    54:    Energy =   0.0976
Level     1,  Iter    55:    Energy =   0.0974
Level     1,  Iter    56:    Energy =   0.0977
Level     1,  Iter    57:    Energy =   0.0975
Level     1,  Iter    58:    Energy =   0.0977
Level     1,  Iter    59:    Energy =   0.0975
END OF LEVEL     1    DetJac Range:   0.1376  to   2.4850 
  Avg. Gradient Time  : 0.0471s  39.61% 
  Avg. Gaussian Time  : 0.0574s  48.26% 
  Avg. Iteration Time : 0.1189s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0550
Level     2,  Iter     1:    Energy =   0.0580
Level     2,  Iter     2:    Energy =   0.0601
Level     2,  Iter     3:    Energy =   0.0613
Level     2,  Iter     4:    Energy =   0.0625
Level     2,  Iter     5:    Energy =   0.0638
Level     2,  Iter     6:    Energy =   0.0649
Level     2,  Iter     7:    Energy =   0.0659
Level     2,  Iter     8:    Energy =   0.0669
Level     2,  Iter     9:    Energy =   0.0675
Level     2,  Iter    10:    Energy =   0.0682
Level     2,  Iter    11:    Energy =   0.0688
Level     2,  Iter    12:    Energy =   0.0695
Level     2,  Iter    13:    Energy =   0.0702
Level     2,  Iter    14:    Energy =   0.0707
Level     2,  Iter    15:    Energy =   0.0712
Level     2,  Iter    16:    Energy =   0.0717
Level     2,  Iter    17:    Energy =   0.0719
Level     2,  Iter    18:    Energy =   0.0722
Level     2,  Iter    19:    Energy =   0.0724
END OF LEVEL     2    DetJac Range:   0.0488  to   3.5596 
  Avg. Gradient Time  : 0.3333s  37.59% 
  Avg. Gaussian Time  : 0.4580s  51.65% 
  Avg. Iteration Time : 0.8866s 

real	0m29.642s
user	0m52.048s
sys	0m3.104s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 1'
CHUNK 0.807692 0.813462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 1
====================================
         PROGRESS: 0.807692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2199.89 	 OutFr   0.0000 	 RMSD     2.8313
Iter 002 	 Temp     3.72 	 Delta  2070.19 	 OutFr   0.0000 	 RMSD     2.3854
Iter 003 	 Temp     3.46 	 Delta  1930.45 	 OutFr   0.0000 	 RMSD     2.3551
Iter 004 	 Temp     3.22 	 Delta  1800.88 	 OutFr   0.0000 	 RMSD     2.3397
Iter 005 	 Temp     2.99 	 Delta  1682.65 	 OutFr   0.0000 	 RMSD     2.3278
Iter 006 	 Temp     2.78 	 Delta  1576.82 	 OutFr   0.0000 	 RMSD     2.3183
Iter 007 	 Temp     2.59 	 Delta  1485.32 	 OutFr   0.0000 	 RMSD     2.3102
Iter 008 	 Temp     2.41 	 Delta  1408.57 	 OutFr   0.0000 	 RMSD     2.3038
Iter 009 	 Temp     2.24 	 Delta  1344.05 	 OutFr   0.0000 	 RMSD     2.2988
Iter 010 	 Temp     2.08 	 Delta  1287.12 	 OutFr   0.0025 	 RMSD     2.2943
Iter 011 	 Temp     1.94 	 Delta  1233.37 	 OutFr   0.0049 	 RMSD     2.2910
Iter 012 	 Temp     1.80 	 Delta  1180.35 	 OutFr   0.0147 	 RMSD     2.2888
Iter 013 	 Temp     1.67 	 Delta  1126.70 	 OutFr   0.0221 	 RMSD     2.2871
Iter 014 	 Temp     1.56 	 Delta  1071.48 	 OutFr   0.0221 	 RMSD     2.2858
Iter 015 	 Temp     1.45 	 Delta  1014.08 	 OutFr   0.0294 	 RMSD     2.2852
Iter 016 	 Temp     1.35 	 Delta   953.79 	 OutFr   0.0392 	 RMSD     2.2858
Iter 017 	 Temp     1.25 	 Delta   889.74 	 OutFr   0.0466 	 RMSD     2.2876
Iter 018 	 Temp     1.16 	 Delta   824.51 	 OutFr   0.0490 	 RMSD     2.2907
Iter 019 	 Temp     1.08 	 Delta   755.13 	 OutFr   0.0588 	 RMSD     2.2932
Iter 020 	 Temp     1.01 	 Delta   680.56 	 OutFr   0.0735 	 RMSD     2.2942
Iter 021 	 Temp     0.94 	 Delta   605.78 	 OutFr   0.0956 	 RMSD     2.2955
Iter 022 	 Temp     0.87 	 Delta   540.11 	 OutFr   0.1225 	 RMSD     2.2978
Iter 023 	 Temp     0.81 	 Delta   488.98 	 OutFr   0.1618 	 RMSD     2.3010
Iter 024 	 Temp     0.75 	 Delta   446.67 	 OutFr   0.1912 	 RMSD     2.3043
Iter 025 	 Temp     0.70 	 Delta   409.43 	 OutFr   0.2181 	 RMSD     2.3065
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.6eQDr81O/mybin.nii.gz
+ vtklevelset /tmp/ashs.6eQDr81O/mybin.nii.gz /tmp/ashs.6eQDr81O/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.6eQDr81O/mymesh.vtk /tmp/ashs.6eQDr81O/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2863.38535208   1.07487665
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.6eQDr81O/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.88267 to 33.7797
   Y : -15.3369 to 27.6241
   Z : -22.3381 to 8.45718
   Image resolution  : 104 by 153 by 117
   Image box origin  : {2.88267, -20.3369, -27.3381}
   Image box size    : {36.1111, 53.125, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.88267, 20.3369, -27.3381]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -o /tmp/ashs.6eQDr81O/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -o /tmp/ashs.6eQDr81O/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.6eQDr81O/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 0.5'
CHUNK 0.813462 0.819231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 0.5
====================================
         PROGRESS: 0.813462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.6eQDr81O/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.6eQDr81O/fixed_hw.nii.gz /tmp/ashs.6eQDr81O/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.532937, moving = 0.441193
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.35936, 2.36422], [0.982092, 0.963206, 0.96519]
Level     0,  Iter     0:    Energy =   0.0477
Level     0,  Iter     1:    Energy =   0.0538
Level     0,  Iter     2:    Energy =   0.0587
Level     0,  Iter     3:    Energy =   0.0637
Level     0,  Iter     4:    Energy =   0.0679
Level     0,  Iter     5:    Energy =   0.0708
Level     0,  Iter     6:    Energy =   0.0731
Level     0,  Iter     7:    Energy =   0.0747
Level     0,  Iter     8:    Energy =   0.0769
Level     0,  Iter     9:    Energy =   0.0783
Level     0,  Iter    10:    Energy =   0.0796
Level     0,  Iter    11:    Energy =   0.0799
Level     0,  Iter    12:    Energy =   0.0806
Level     0,  Iter    13:    Energy =   0.0806
Level     0,  Iter    14:    Energy =   0.0809
Level     0,  Iter    15:    Energy =   0.0808
Level     0,  Iter    16:    Energy =   0.0812
Level     0,  Iter    17:    Energy =   0.0810
Level     0,  Iter    18:    Energy =   0.0813
Level     0,  Iter    19:    Energy =   0.0813
Level     0,  Iter    20:    Energy =   0.0814
Level     0,  Iter    21:    Energy =   0.0814
Level     0,  Iter    22:    Energy =   0.0816
Level     0,  Iter    23:    Energy =   0.0817
Level     0,  Iter    24:    Energy =   0.0818
Level     0,  Iter    25:    Energy =   0.0819
Level     0,  Iter    26:    Energy =   0.0820
Level     0,  Iter    27:    Energy =   0.0821
Level     0,  Iter    28:    Energy =   0.0822
Level     0,  Iter    29:    Energy =   0.0823
Level     0,  Iter    30:    Energy =   0.0824
Level     0,  Iter    31:    Energy =   0.0825
Level     0,  Iter    32:    Energy =   0.0825
Level     0,  Iter    33:    Energy =   0.0824
Level     0,  Iter    34:    Energy =   0.0825
Level     0,  Iter    35:    Energy =   0.0825
Level     0,  Iter    36:    Energy =   0.0826
Level     0,  Iter    37:    Energy =   0.0824
Level     0,  Iter    38:    Energy =   0.0826
Level     0,  Iter    39:    Energy =   0.0826
Level     0,  Iter    40:    Energy =   0.0826
Level     0,  Iter    41:    Energy =   0.0825
Level     0,  Iter    42:    Energy =   0.0827
Level     0,  Iter    43:    Energy =   0.0826
Level     0,  Iter    44:    Energy =   0.0827
Level     0,  Iter    45:    Energy =   0.0826
Level     0,  Iter    46:    Energy =   0.0828
Level     0,  Iter    47:    Energy =   0.0827
Level     0,  Iter    48:    Energy =   0.0828
Level     0,  Iter    49:    Energy =   0.0827
Level     0,  Iter    50:    Energy =   0.0829
Level     0,  Iter    51:    Energy =   0.0828
Level     0,  Iter    52:    Energy =   0.0829
Level     0,  Iter    53:    Energy =   0.0828
Level     0,  Iter    54:    Energy =   0.0829
Level     0,  Iter    55:    Energy =   0.0829
Level     0,  Iter    56:    Energy =   0.0830
Level     0,  Iter    57:    Energy =   0.0828
Level     0,  Iter    58:    Energy =   0.0830
Level     0,  Iter    59:    Energy =   0.0830
END OF LEVEL     0    DetJac Range:   0.2970  to   1.8582 
  Avg. Gradient Time  : 0.0081s  37.55% 
  Avg. Gaussian Time  : 0.0102s  47.51% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.20215], [0.491046, 0.487857, 0.490774]
Level     1,  Iter     0:    Energy =   0.0666
Level     1,  Iter     1:    Energy =   0.0712
Level     1,  Iter     2:    Energy =   0.0743
Level     1,  Iter     3:    Energy =   0.0768
Level     1,  Iter     4:    Energy =   0.0788
Level     1,  Iter     5:    Energy =   0.0804
Level     1,  Iter     6:    Energy =   0.0816
Level     1,  Iter     7:    Energy =   0.0827
Level     1,  Iter     8:    Energy =   0.0836
Level     1,  Iter     9:    Energy =   0.0843
Level     1,  Iter    10:    Energy =   0.0850
Level     1,  Iter    11:    Energy =   0.0853
Level     1,  Iter    12:    Energy =   0.0853
Level     1,  Iter    13:    Energy =   0.0857
Level     1,  Iter    14:    Energy =   0.0857
Level     1,  Iter    15:    Energy =   0.0861
Level     1,  Iter    16:    Energy =   0.0860
Level     1,  Iter    17:    Energy =   0.0864
Level     1,  Iter    18:    Energy =   0.0863
Level     1,  Iter    19:    Energy =   0.0866
Level     1,  Iter    20:    Energy =   0.0865
Level     1,  Iter    21:    Energy =   0.0868
Level     1,  Iter    22:    Energy =   0.0866
Level     1,  Iter    23:    Energy =   0.0869
Level     1,  Iter    24:    Energy =   0.0868
Level     1,  Iter    25:    Energy =   0.0870
Level     1,  Iter    26:    Energy =   0.0869
Level     1,  Iter    27:    Energy =   0.0871
Level     1,  Iter    28:    Energy =   0.0869
Level     1,  Iter    29:    Energy =   0.0870
Level     1,  Iter    30:    Energy =   0.0869
Level     1,  Iter    31:    Energy =   0.0869
Level     1,  Iter    32:    Energy =   0.0869
Level     1,  Iter    33:    Energy =   0.0869
Level     1,  Iter    34:    Energy =   0.0869
Level     1,  Iter    35:    Energy =   0.0869
Level     1,  Iter    36:    Energy =   0.0869
Level     1,  Iter    37:    Energy =   0.0870
Level     1,  Iter    38:    Energy =   0.0869
Level     1,  Iter    39:    Energy =   0.0870
Level     1,  Iter    40:    Energy =   0.0869
Level     1,  Iter    41:    Energy =   0.0870
Level     1,  Iter    42:    Energy =   0.0870
Level     1,  Iter    43:    Energy =   0.0870
Level     1,  Iter    44:    Energy =   0.0870
Level     1,  Iter    45:    Energy =   0.0870
Level     1,  Iter    46:    Energy =   0.0870
Level     1,  Iter    47:    Energy =   0.0870
Level     1,  Iter    48:    Energy =   0.0870
Level     1,  Iter    49:    Energy =   0.0870
Level     1,  Iter    50:    Energy =   0.0870
Level     1,  Iter    51:    Energy =   0.0870
Level     1,  Iter    52:    Energy =   0.0870
Level     1,  Iter    53:    Energy =   0.0870
Level     1,  Iter    54:    Energy =   0.0870
Level     1,  Iter    55:    Energy =   0.0870
Level     1,  Iter    56:    Energy =   0.0870
Level     1,  Iter    57:    Energy =   0.0870
Level     1,  Iter    58:    Energy =   0.0870
Level     1,  Iter    59:    Energy =   0.0870
END OF LEVEL     1    DetJac Range:   0.1223  to   2.8390 
  Avg. Gradient Time  : 0.0469s  39.95% 
  Avg. Gaussian Time  : 0.0566s  48.23% 
  Avg. Iteration Time : 0.1173s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0493
Level     2,  Iter     1:    Energy =   0.0521
Level     2,  Iter     2:    Energy =   0.0546
Level     2,  Iter     3:    Energy =   0.0561
Level     2,  Iter     4:    Energy =   0.0575
Level     2,  Iter     5:    Energy =   0.0588
Level     2,  Iter     6:    Energy =   0.0600
Level     2,  Iter     7:    Energy =   0.0611
Level     2,  Iter     8:    Energy =   0.0619
Level     2,  Iter     9:    Energy =   0.0626
Level     2,  Iter    10:    Energy =   0.0632
Level     2,  Iter    11:    Energy =   0.0637
Level     2,  Iter    12:    Energy =   0.0641
Level     2,  Iter    13:    Energy =   0.0646
Level     2,  Iter    14:    Energy =   0.0650
Level     2,  Iter    15:    Energy =   0.0654
Level     2,  Iter    16:    Energy =   0.0657
Level     2,  Iter    17:    Energy =   0.0660
Level     2,  Iter    18:    Energy =   0.0663
Level     2,  Iter    19:    Energy =   0.0665
END OF LEVEL     2    DetJac Range:   0.1183  to   3.3885 
  Avg. Gradient Time  : 0.3315s  37.58% 
  Avg. Gaussian Time  : 0.4565s  51.75% 
  Avg. Iteration Time : 0.8821s 

real	0m29.448s
user	0m52.112s
sys	0m2.908s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 1'
CHUNK 0.813462 0.819231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 1
====================================
         PROGRESS: 0.813462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1834.94 	 OutFr   0.0000 	 RMSD     3.2782
Iter 002 	 Temp     3.72 	 Delta  1939.51 	 OutFr   0.0000 	 RMSD     2.3447
Iter 003 	 Temp     3.46 	 Delta  1827.31 	 OutFr   0.0000 	 RMSD     2.3694
Iter 004 	 Temp     3.22 	 Delta  1689.61 	 OutFr   0.0000 	 RMSD     2.3572
Iter 005 	 Temp     2.99 	 Delta  1552.78 	 OutFr   0.0000 	 RMSD     2.3326
Iter 006 	 Temp     2.78 	 Delta  1424.70 	 OutFr   0.0025 	 RMSD     2.3071
Iter 007 	 Temp     2.59 	 Delta  1309.70 	 OutFr   0.0049 	 RMSD     2.2830
Iter 008 	 Temp     2.41 	 Delta  1209.52 	 OutFr   0.0049 	 RMSD     2.2612
Iter 009 	 Temp     2.24 	 Delta  1123.95 	 OutFr   0.0049 	 RMSD     2.2425
Iter 010 	 Temp     2.08 	 Delta  1051.72 	 OutFr   0.0049 	 RMSD     2.2263
Iter 011 	 Temp     1.94 	 Delta   990.98 	 OutFr   0.0098 	 RMSD     2.2123
Iter 012 	 Temp     1.80 	 Delta   939.71 	 OutFr   0.0123 	 RMSD     2.2018
Iter 013 	 Temp     1.67 	 Delta   895.76 	 OutFr   0.0147 	 RMSD     2.1950
Iter 014 	 Temp     1.56 	 Delta   857.27 	 OutFr   0.0245 	 RMSD     2.1898
Iter 015 	 Temp     1.45 	 Delta   823.17 	 OutFr   0.0343 	 RMSD     2.1864
Iter 016 	 Temp     1.35 	 Delta   791.80 	 OutFr   0.0466 	 RMSD     2.1841
Iter 017 	 Temp     1.25 	 Delta   759.51 	 OutFr   0.0613 	 RMSD     2.1828
Iter 018 	 Temp     1.16 	 Delta   722.62 	 OutFr   0.0686 	 RMSD     2.1826
Iter 019 	 Temp     1.08 	 Delta   678.95 	 OutFr   0.0760 	 RMSD     2.1835
Iter 020 	 Temp     1.01 	 Delta   630.40 	 OutFr   0.0956 	 RMSD     2.1850
Iter 021 	 Temp     0.94 	 Delta   583.08 	 OutFr   0.1299 	 RMSD     2.1871
Iter 022 	 Temp     0.87 	 Delta   538.03 	 OutFr   0.1348 	 RMSD     2.1894
Iter 023 	 Temp     0.81 	 Delta   491.23 	 OutFr   0.1544 	 RMSD     2.1925
Iter 024 	 Temp     0.75 	 Delta   443.70 	 OutFr   0.1716 	 RMSD     2.1973
Iter 025 	 Temp     0.70 	 Delta   402.16 	 OutFr   0.1961 	 RMSD     2.2046
Iter 026 	 Temp     0.65 	 Delta   366.67 	 OutFr   0.2206 	 RMSD     2.2118
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.KuykB96L/mybin.nii.gz
+ vtklevelset /tmp/ashs.KuykB96L/mybin.nii.gz /tmp/ashs.KuykB96L/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.KuykB96L/mymesh.vtk /tmp/ashs.KuykB96L/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2645.39902560   0.99304749
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.KuykB96L/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.2573 to 34.0082
   Y : -12.5711 to 26.558
   Z : -27.2792 to 5.3681
   Image resolution  : 95 by 142 by 122
   Image box origin  : {6.2573, -17.5711, -32.2792}
   Image box size    : {32.9861, 49.3055, 42.6995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.2573, 17.5711, -32.2792]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -o /tmp/ashs.KuykB96L/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -o /tmp/ashs.KuykB96L/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.KuykB96L/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 0.5'
CHUNK 0.819231 0.825 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 0.5
====================================
         PROGRESS: 0.819231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.KuykB96L/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.KuykB96L/fixed_hw.nii.gz /tmp/ashs.KuykB96L/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.512896, moving = 0.791499
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.37221, 2.38573], [0.971862, 0.968452, 0.973971]
Level     0,  Iter     0:    Energy =   0.0425
Level     0,  Iter     1:    Energy =   0.0494
Level     0,  Iter     2:    Energy =   0.0569
Level     0,  Iter     3:    Energy =   0.0633
Level     0,  Iter     4:    Energy =   0.0690
Level     0,  Iter     5:    Energy =   0.0739
Level     0,  Iter     6:    Energy =   0.0770
Level     0,  Iter     7:    Energy =   0.0793
Level     0,  Iter     8:    Energy =   0.0809
Level     0,  Iter     9:    Energy =   0.0821
Level     0,  Iter    10:    Energy =   0.0831
Level     0,  Iter    11:    Energy =   0.0840
Level     0,  Iter    12:    Energy =   0.0852
Level     0,  Iter    13:    Energy =   0.0862
Level     0,  Iter    14:    Energy =   0.0869
Level     0,  Iter    15:    Energy =   0.0873
Level     0,  Iter    16:    Energy =   0.0880
Level     0,  Iter    17:    Energy =   0.0884
Level     0,  Iter    18:    Energy =   0.0891
Level     0,  Iter    19:    Energy =   0.0889
Level     0,  Iter    20:    Energy =   0.0894
Level     0,  Iter    21:    Energy =   0.0895
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0898
Level     0,  Iter    24:    Energy =   0.0901
Level     0,  Iter    25:    Energy =   0.0903
Level     0,  Iter    26:    Energy =   0.0906
Level     0,  Iter    27:    Energy =   0.0903
Level     0,  Iter    28:    Energy =   0.0907
Level     0,  Iter    29:    Energy =   0.0910
Level     0,  Iter    30:    Energy =   0.0913
Level     0,  Iter    31:    Energy =   0.0910
Level     0,  Iter    32:    Energy =   0.0914
Level     0,  Iter    33:    Energy =   0.0915
Level     0,  Iter    34:    Energy =   0.0917
Level     0,  Iter    35:    Energy =   0.0918
Level     0,  Iter    36:    Energy =   0.0919
Level     0,  Iter    37:    Energy =   0.0916
Level     0,  Iter    38:    Energy =   0.0919
Level     0,  Iter    39:    Energy =   0.0921
Level     0,  Iter    40:    Energy =   0.0922
Level     0,  Iter    41:    Energy =   0.0918
Level     0,  Iter    42:    Energy =   0.0921
Level     0,  Iter    43:    Energy =   0.0922
Level     0,  Iter    44:    Energy =   0.0923
Level     0,  Iter    45:    Energy =   0.0920
Level     0,  Iter    46:    Energy =   0.0923
Level     0,  Iter    47:    Energy =   0.0923
Level     0,  Iter    48:    Energy =   0.0924
Level     0,  Iter    49:    Energy =   0.0921
Level     0,  Iter    50:    Energy =   0.0923
Level     0,  Iter    51:    Energy =   0.0924
Level     0,  Iter    52:    Energy =   0.0925
Level     0,  Iter    53:    Energy =   0.0921
Level     0,  Iter    54:    Energy =   0.0924
Level     0,  Iter    55:    Energy =   0.0924
Level     0,  Iter    56:    Energy =   0.0925
Level     0,  Iter    57:    Energy =   0.0921
Level     0,  Iter    58:    Energy =   0.0924
Level     0,  Iter    59:    Energy =   0.0924
END OF LEVEL     0    DetJac Range:   0.2100  to   2.2471 
  Avg. Gradient Time  : 0.0074s  37.43% 
  Avg. Gaussian Time  : 0.0093s  47.11% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.21242], [0.485931, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0661
Level     1,  Iter     1:    Energy =   0.0708
Level     1,  Iter     2:    Energy =   0.0746
Level     1,  Iter     3:    Energy =   0.0776
Level     1,  Iter     4:    Energy =   0.0800
Level     1,  Iter     5:    Energy =   0.0821
Level     1,  Iter     6:    Energy =   0.0838
Level     1,  Iter     7:    Energy =   0.0853
Level     1,  Iter     8:    Energy =   0.0864
Level     1,  Iter     9:    Energy =   0.0865
Level     1,  Iter    10:    Energy =   0.0875
Level     1,  Iter    11:    Energy =   0.0876
Level     1,  Iter    12:    Energy =   0.0882
Level     1,  Iter    13:    Energy =   0.0882
Level     1,  Iter    14:    Energy =   0.0888
Level     1,  Iter    15:    Energy =   0.0887
Level     1,  Iter    16:    Energy =   0.0892
Level     1,  Iter    17:    Energy =   0.0892
Level     1,  Iter    18:    Energy =   0.0896
Level     1,  Iter    19:    Energy =   0.0895
Level     1,  Iter    20:    Energy =   0.0899
Level     1,  Iter    21:    Energy =   0.0899
Level     1,  Iter    22:    Energy =   0.0904
Level     1,  Iter    23:    Energy =   0.0902
Level     1,  Iter    24:    Energy =   0.0907
Level     1,  Iter    25:    Energy =   0.0906
Level     1,  Iter    26:    Energy =   0.0910
Level     1,  Iter    27:    Energy =   0.0908
Level     1,  Iter    28:    Energy =   0.0912
Level     1,  Iter    29:    Energy =   0.0911
Level     1,  Iter    30:    Energy =   0.0915
Level     1,  Iter    31:    Energy =   0.0913
Level     1,  Iter    32:    Energy =   0.0917
Level     1,  Iter    33:    Energy =   0.0916
Level     1,  Iter    34:    Energy =   0.0919
Level     1,  Iter    35:    Energy =   0.0917
Level     1,  Iter    36:    Energy =   0.0921
Level     1,  Iter    37:    Energy =   0.0919
Level     1,  Iter    38:    Energy =   0.0923
Level     1,  Iter    39:    Energy =   0.0920
Level     1,  Iter    40:    Energy =   0.0924
Level     1,  Iter    41:    Energy =   0.0922
Level     1,  Iter    42:    Energy =   0.0925
Level     1,  Iter    43:    Energy =   0.0922
Level     1,  Iter    44:    Energy =   0.0926
Level     1,  Iter    45:    Energy =   0.0924
Level     1,  Iter    46:    Energy =   0.0927
Level     1,  Iter    47:    Energy =   0.0924
Level     1,  Iter    48:    Energy =   0.0927
Level     1,  Iter    49:    Energy =   0.0925
Level     1,  Iter    50:    Energy =   0.0928
Level     1,  Iter    51:    Energy =   0.0925
Level     1,  Iter    52:    Energy =   0.0928
Level     1,  Iter    53:    Energy =   0.0926
Level     1,  Iter    54:    Energy =   0.0928
Level     1,  Iter    55:    Energy =   0.0925
Level     1,  Iter    56:    Energy =   0.0929
Level     1,  Iter    57:    Energy =   0.0926
Level     1,  Iter    58:    Energy =   0.0929
Level     1,  Iter    59:    Energy =   0.0926
END OF LEVEL     1    DetJac Range:   0.1065  to   3.7218 
  Avg. Gradient Time  : 0.0432s  40.73% 
  Avg. Gaussian Time  : 0.0502s  47.27% 
  Avg. Iteration Time : 0.1062s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0501
Level     2,  Iter     1:    Energy =   0.0524
Level     2,  Iter     2:    Energy =   0.0548
Level     2,  Iter     3:    Energy =   0.0568
Level     2,  Iter     4:    Energy =   0.0586
Level     2,  Iter     5:    Energy =   0.0606
Level     2,  Iter     6:    Energy =   0.0618
Level     2,  Iter     7:    Energy =   0.0629
Level     2,  Iter     8:    Energy =   0.0639
Level     2,  Iter     9:    Energy =   0.0647
Level     2,  Iter    10:    Energy =   0.0654
Level     2,  Iter    11:    Energy =   0.0660
Level     2,  Iter    12:    Energy =   0.0665
Level     2,  Iter    13:    Energy =   0.0669
Level     2,  Iter    14:    Energy =   0.0674
Level     2,  Iter    15:    Energy =   0.0682
Level     2,  Iter    16:    Energy =   0.0688
Level     2,  Iter    17:    Energy =   0.0693
Level     2,  Iter    18:    Energy =   0.0697
Level     2,  Iter    19:    Energy =   0.0700
END OF LEVEL     2    DetJac Range:   0.0420  to   5.4466 
  Avg. Gradient Time  : 0.2974s  37.64% 
  Avg. Gaussian Time  : 0.4089s  51.75% 
  Avg. Iteration Time : 0.7903s 

real	0m26.481s
user	0m46.616s
sys	0m2.768s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 1'
CHUNK 0.819231 0.825 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 1
====================================
         PROGRESS: 0.819231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1789.42 	 OutFr   0.0000 	 RMSD     2.1600
Iter 002 	 Temp     3.72 	 Delta  1684.51 	 OutFr   0.0000 	 RMSD     2.0345
Iter 003 	 Temp     3.46 	 Delta  1556.57 	 OutFr   0.0000 	 RMSD     2.0250
Iter 004 	 Temp     3.22 	 Delta  1442.94 	 OutFr   0.0000 	 RMSD     2.0020
Iter 005 	 Temp     2.99 	 Delta  1344.75 	 OutFr   0.0000 	 RMSD     1.9793
Iter 006 	 Temp     2.78 	 Delta  1260.33 	 OutFr   0.0000 	 RMSD     1.9601
Iter 007 	 Temp     2.59 	 Delta  1188.25 	 OutFr   0.0000 	 RMSD     1.9455
Iter 008 	 Temp     2.41 	 Delta  1126.49 	 OutFr   0.0000 	 RMSD     1.9337
Iter 009 	 Temp     2.24 	 Delta  1072.35 	 OutFr   0.0000 	 RMSD     1.9246
Iter 010 	 Temp     2.08 	 Delta  1023.01 	 OutFr   0.0000 	 RMSD     1.9169
Iter 011 	 Temp     1.94 	 Delta   976.40 	 OutFr   0.0000 	 RMSD     1.9109
Iter 012 	 Temp     1.80 	 Delta   931.60 	 OutFr   0.0000 	 RMSD     1.9065
Iter 013 	 Temp     1.67 	 Delta   888.84 	 OutFr   0.0049 	 RMSD     1.9028
Iter 014 	 Temp     1.56 	 Delta   848.70 	 OutFr   0.0074 	 RMSD     1.9003
Iter 015 	 Temp     1.45 	 Delta   810.16 	 OutFr   0.0123 	 RMSD     1.8986
Iter 016 	 Temp     1.35 	 Delta   770.93 	 OutFr   0.0172 	 RMSD     1.8974
Iter 017 	 Temp     1.25 	 Delta   729.97 	 OutFr   0.0172 	 RMSD     1.8969
Iter 018 	 Temp     1.16 	 Delta   688.67 	 OutFr   0.0196 	 RMSD     1.8971
Iter 019 	 Temp     1.08 	 Delta   649.66 	 OutFr   0.0245 	 RMSD     1.8977
Iter 020 	 Temp     1.01 	 Delta   614.74 	 OutFr   0.0343 	 RMSD     1.8982
Iter 021 	 Temp     0.94 	 Delta   583.20 	 OutFr   0.0441 	 RMSD     1.8986
Iter 022 	 Temp     0.87 	 Delta   553.85 	 OutFr   0.0515 	 RMSD     1.8988
Iter 023 	 Temp     0.81 	 Delta   524.90 	 OutFr   0.0613 	 RMSD     1.8987
Iter 024 	 Temp     0.75 	 Delta   493.29 	 OutFr   0.0711 	 RMSD     1.8988
Iter 025 	 Temp     0.70 	 Delta   458.78 	 OutFr   0.0858 	 RMSD     1.8988
Iter 026 	 Temp     0.65 	 Delta   424.81 	 OutFr   0.1127 	 RMSD     1.8991
Iter 027 	 Temp     0.61 	 Delta   390.46 	 OutFr   0.1299 	 RMSD     1.9000
Iter 028 	 Temp     0.56 	 Delta   352.94 	 OutFr   0.1691 	 RMSD     1.9012
Iter 029 	 Temp     0.52 	 Delta   315.49 	 OutFr   0.1985 	 RMSD     1.9030
Iter 030 	 Temp     0.49 	 Delta   281.06 	 OutFr   0.2377 	 RMSD     1.9054
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.geOb3w2j/mybin.nii.gz
+ vtklevelset /tmp/ashs.geOb3w2j/mybin.nii.gz /tmp/ashs.geOb3w2j/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.geOb3w2j/mymesh.vtk /tmp/ashs.geOb3w2j/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2581.87931644   0.96920304
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.geOb3w2j/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.4019 to 36.9602
   Y : -11.607 to 28.9349
   Z : -27.4214 to 2.59239
   Image resolution  : 97 by 146 by 115
   Image box origin  : {8.4019, -16.607, -32.4214}
   Image box size    : {33.6805, 50.6944, 40.2495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.4019, 16.607, -32.4214]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -o /tmp/ashs.geOb3w2j/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -o /tmp/ashs.geOb3w2j/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.geOb3w2j/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 0.5'
CHUNK 0.825 0.830769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 0.5
====================================
         PROGRESS: 0.825               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.geOb3w2j/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.geOb3w2j/fixed_hw.nii.gz /tmp/ashs.geOb3w2j/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.511676, moving = 0.614496
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37312, 2.40394], [0.952629, 0.968821, 0.981404]
Level     0,  Iter     0:    Energy =   0.0424
Level     0,  Iter     1:    Energy =   0.0476
Level     0,  Iter     2:    Energy =   0.0532
Level     0,  Iter     3:    Energy =   0.0567
Level     0,  Iter     4:    Energy =   0.0594
Level     0,  Iter     5:    Energy =   0.0623
Level     0,  Iter     6:    Energy =   0.0655
Level     0,  Iter     7:    Energy =   0.0678
Level     0,  Iter     8:    Energy =   0.0699
Level     0,  Iter     9:    Energy =   0.0715
Level     0,  Iter    10:    Energy =   0.0728
Level     0,  Iter    11:    Energy =   0.0741
Level     0,  Iter    12:    Energy =   0.0746
Level     0,  Iter    13:    Energy =   0.0752
Level     0,  Iter    14:    Energy =   0.0754
Level     0,  Iter    15:    Energy =   0.0764
Level     0,  Iter    16:    Energy =   0.0772
Level     0,  Iter    17:    Energy =   0.0768
Level     0,  Iter    18:    Energy =   0.0771
Level     0,  Iter    19:    Energy =   0.0768
Level     0,  Iter    20:    Energy =   0.0771
Level     0,  Iter    21:    Energy =   0.0769
Level     0,  Iter    22:    Energy =   0.0773
Level     0,  Iter    23:    Energy =   0.0772
Level     0,  Iter    24:    Energy =   0.0775
Level     0,  Iter    25:    Energy =   0.0774
Level     0,  Iter    26:    Energy =   0.0777
Level     0,  Iter    27:    Energy =   0.0776
Level     0,  Iter    28:    Energy =   0.0779
Level     0,  Iter    29:    Energy =   0.0777
Level     0,  Iter    30:    Energy =   0.0781
Level     0,  Iter    31:    Energy =   0.0777
Level     0,  Iter    32:    Energy =   0.0781
Level     0,  Iter    33:    Energy =   0.0778
Level     0,  Iter    34:    Energy =   0.0782
Level     0,  Iter    35:    Energy =   0.0781
Level     0,  Iter    36:    Energy =   0.0784
Level     0,  Iter    37:    Energy =   0.0781
Level     0,  Iter    38:    Energy =   0.0785
Level     0,  Iter    39:    Energy =   0.0782
Level     0,  Iter    40:    Energy =   0.0786
Level     0,  Iter    41:    Energy =   0.0783
Level     0,  Iter    42:    Energy =   0.0787
Level     0,  Iter    43:    Energy =   0.0783
Level     0,  Iter    44:    Energy =   0.0788
Level     0,  Iter    45:    Energy =   0.0784
Level     0,  Iter    46:    Energy =   0.0789
Level     0,  Iter    47:    Energy =   0.0785
Level     0,  Iter    48:    Energy =   0.0789
Level     0,  Iter    49:    Energy =   0.0786
Level     0,  Iter    50:    Energy =   0.0790
Level     0,  Iter    51:    Energy =   0.0786
Level     0,  Iter    52:    Energy =   0.0790
Level     0,  Iter    53:    Energy =   0.0785
Level     0,  Iter    54:    Energy =   0.0790
Level     0,  Iter    55:    Energy =   0.0785
Level     0,  Iter    56:    Energy =   0.0790
Level     0,  Iter    57:    Energy =   0.0785
Level     0,  Iter    58:    Energy =   0.0790
Level     0,  Iter    59:    Energy =   0.0785
END OF LEVEL     0    DetJac Range:   0.4080  to   2.2869 
  Avg. Gradient Time  : 0.0072s  36.87% 
  Avg. Gaussian Time  : 0.0093s  47.86% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.20197], [0.486035, 0.491046, 0.490702]
Level     1,  Iter     0:    Energy =   0.0538
Level     1,  Iter     1:    Energy =   0.0579
Level     1,  Iter     2:    Energy =   0.0615
Level     1,  Iter     3:    Energy =   0.0639
Level     1,  Iter     4:    Energy =   0.0664
Level     1,  Iter     5:    Energy =   0.0685
Level     1,  Iter     6:    Energy =   0.0701
Level     1,  Iter     7:    Energy =   0.0714
Level     1,  Iter     8:    Energy =   0.0724
Level     1,  Iter     9:    Energy =   0.0731
Level     1,  Iter    10:    Energy =   0.0739
Level     1,  Iter    11:    Energy =   0.0744
Level     1,  Iter    12:    Energy =   0.0750
Level     1,  Iter    13:    Energy =   0.0754
Level     1,  Iter    14:    Energy =   0.0759
Level     1,  Iter    15:    Energy =   0.0760
Level     1,  Iter    16:    Energy =   0.0764
Level     1,  Iter    17:    Energy =   0.0765
Level     1,  Iter    18:    Energy =   0.0767
Level     1,  Iter    19:    Energy =   0.0768
Level     1,  Iter    20:    Energy =   0.0770
Level     1,  Iter    21:    Energy =   0.0771
Level     1,  Iter    22:    Energy =   0.0773
Level     1,  Iter    23:    Energy =   0.0773
Level     1,  Iter    24:    Energy =   0.0773
Level     1,  Iter    25:    Energy =   0.0775
Level     1,  Iter    26:    Energy =   0.0775
Level     1,  Iter    27:    Energy =   0.0778
Level     1,  Iter    28:    Energy =   0.0777
Level     1,  Iter    29:    Energy =   0.0780
Level     1,  Iter    30:    Energy =   0.0779
Level     1,  Iter    31:    Energy =   0.0783
Level     1,  Iter    32:    Energy =   0.0781
Level     1,  Iter    33:    Energy =   0.0786
Level     1,  Iter    34:    Energy =   0.0783
Level     1,  Iter    35:    Energy =   0.0789
Level     1,  Iter    36:    Energy =   0.0786
Level     1,  Iter    37:    Energy =   0.0791
Level     1,  Iter    38:    Energy =   0.0788
Level     1,  Iter    39:    Energy =   0.0793
Level     1,  Iter    40:    Energy =   0.0790
Level     1,  Iter    41:    Energy =   0.0795
Level     1,  Iter    42:    Energy =   0.0792
Level     1,  Iter    43:    Energy =   0.0796
Level     1,  Iter    44:    Energy =   0.0794
Level     1,  Iter    45:    Energy =   0.0797
Level     1,  Iter    46:    Energy =   0.0793
Level     1,  Iter    47:    Energy =   0.0798
Level     1,  Iter    48:    Energy =   0.0797
Level     1,  Iter    49:    Energy =   0.0797
Level     1,  Iter    50:    Energy =   0.0794
Level     1,  Iter    51:    Energy =   0.0798
Level     1,  Iter    52:    Energy =   0.0796
Level     1,  Iter    53:    Energy =   0.0800
Level     1,  Iter    54:    Energy =   0.0797
Level     1,  Iter    55:    Energy =   0.0801
Level     1,  Iter    56:    Energy =   0.0798
Level     1,  Iter    57:    Energy =   0.0802
Level     1,  Iter    58:    Energy =   0.0799
Level     1,  Iter    59:    Energy =   0.0803
END OF LEVEL     1    DetJac Range:   0.1846  to   3.7150 
  Avg. Gradient Time  : 0.0414s  39.79% 
  Avg. Gaussian Time  : 0.0502s  48.22% 
  Avg. Iteration Time : 0.1040s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0434
Level     2,  Iter     1:    Energy =   0.0457
Level     2,  Iter     2:    Energy =   0.0475
Level     2,  Iter     3:    Energy =   0.0491
Level     2,  Iter     4:    Energy =   0.0501
Level     2,  Iter     5:    Energy =   0.0510
Level     2,  Iter     6:    Energy =   0.0518
Level     2,  Iter     7:    Energy =   0.0526
Level     2,  Iter     8:    Energy =   0.0532
Level     2,  Iter     9:    Energy =   0.0538
Level     2,  Iter    10:    Energy =   0.0542
Level     2,  Iter    11:    Energy =   0.0547
Level     2,  Iter    12:    Energy =   0.0552
Level     2,  Iter    13:    Energy =   0.0557
Level     2,  Iter    14:    Energy =   0.0563
Level     2,  Iter    15:    Energy =   0.0568
Level     2,  Iter    16:    Energy =   0.0573
Level     2,  Iter    17:    Energy =   0.0578
Level     2,  Iter    18:    Energy =   0.0583
Level     2,  Iter    19:    Energy =   0.0587
END OF LEVEL     2    DetJac Range:   0.0601  to   4.6832 
  Avg. Gradient Time  : 0.2916s  37.48% 
  Avg. Gaussian Time  : 0.4029s  51.78% 
  Avg. Iteration Time : 0.7782s 

real	0m26.060s
user	0m45.820s
sys	0m2.616s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 1'
CHUNK 0.825 0.830769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 1
====================================
         PROGRESS: 0.825               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1805.82 	 OutFr   0.0000 	 RMSD     2.2465
Iter 002 	 Temp     3.72 	 Delta  1807.39 	 OutFr   0.0000 	 RMSD     2.1835
Iter 003 	 Temp     3.46 	 Delta  1740.00 	 OutFr   0.0000 	 RMSD     2.1844
Iter 004 	 Temp     3.22 	 Delta  1663.24 	 OutFr   0.0000 	 RMSD     2.1530
Iter 005 	 Temp     2.99 	 Delta  1587.69 	 OutFr   0.0000 	 RMSD     2.1189
Iter 006 	 Temp     2.78 	 Delta  1511.22 	 OutFr   0.0000 	 RMSD     2.0890
Iter 007 	 Temp     2.59 	 Delta  1431.72 	 OutFr   0.0000 	 RMSD     2.0642
Iter 008 	 Temp     2.41 	 Delta  1351.02 	 OutFr   0.0000 	 RMSD     2.0439
Iter 009 	 Temp     2.24 	 Delta  1272.06 	 OutFr   0.0000 	 RMSD     2.0269
Iter 010 	 Temp     2.08 	 Delta  1197.27 	 OutFr   0.0000 	 RMSD     2.0137
Iter 011 	 Temp     1.94 	 Delta  1128.51 	 OutFr   0.0000 	 RMSD     2.0024
Iter 012 	 Temp     1.80 	 Delta  1066.82 	 OutFr   0.0000 	 RMSD     1.9925
Iter 013 	 Temp     1.67 	 Delta  1011.71 	 OutFr   0.0000 	 RMSD     1.9826
Iter 014 	 Temp     1.56 	 Delta   961.64 	 OutFr   0.0049 	 RMSD     1.9719
Iter 015 	 Temp     1.45 	 Delta   915.12 	 OutFr   0.0098 	 RMSD     1.9605
Iter 016 	 Temp     1.35 	 Delta   871.47 	 OutFr   0.0123 	 RMSD     1.9511
Iter 017 	 Temp     1.25 	 Delta   830.92 	 OutFr   0.0123 	 RMSD     1.9432
Iter 018 	 Temp     1.16 	 Delta   792.77 	 OutFr   0.0147 	 RMSD     1.9371
Iter 019 	 Temp     1.08 	 Delta   754.55 	 OutFr   0.0196 	 RMSD     1.9325
Iter 020 	 Temp     1.01 	 Delta   713.50 	 OutFr   0.0270 	 RMSD     1.9290
Iter 021 	 Temp     0.94 	 Delta   668.02 	 OutFr   0.0392 	 RMSD     1.9268
Iter 022 	 Temp     0.87 	 Delta   616.88 	 OutFr   0.0539 	 RMSD     1.9256
Iter 023 	 Temp     0.81 	 Delta   561.50 	 OutFr   0.0711 	 RMSD     1.9250
Iter 024 	 Temp     0.75 	 Delta   507.25 	 OutFr   0.0956 	 RMSD     1.9245
Iter 025 	 Temp     0.70 	 Delta   458.39 	 OutFr   0.1176 	 RMSD     1.9234
Iter 026 	 Temp     0.65 	 Delta   415.67 	 OutFr   0.1348 	 RMSD     1.9221
Iter 027 	 Temp     0.61 	 Delta   375.94 	 OutFr   0.1691 	 RMSD     1.9210
Iter 028 	 Temp     0.56 	 Delta   338.38 	 OutFr   0.2010 	 RMSD     1.9213
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.r1ZdBVad/mybin.nii.gz
+ vtklevelset /tmp/ashs.r1ZdBVad/mybin.nii.gz /tmp/ashs.r1ZdBVad/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.r1ZdBVad/mymesh.vtk /tmp/ashs.r1ZdBVad/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2819.03219914   1.05822707
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.r1ZdBVad/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.9246 to 33.4712
   Y : -15.3356 to 27.1738
   Z : -25.7639 to 5.4064
   Image resolution  : 97 by 152 by 118
   Image box origin  : {4.9246, -20.3356, -30.7639}
   Image box size    : {33.6805, 52.7777, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.9246, 20.3356, -30.7639]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -o /tmp/ashs.r1ZdBVad/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -o /tmp/ashs.r1ZdBVad/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.r1ZdBVad/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 0.5'
CHUNK 0.830769 0.836538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 0.5
====================================
         PROGRESS: 0.830769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.r1ZdBVad/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.r1ZdBVad/fixed_hw.nii.gz /tmp/ashs.r1ZdBVad/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.516791, moving = 0.492424
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.38443], [0.952629, 0.982092, 0.973439]
Level     0,  Iter     0:    Energy =   0.0413
Level     0,  Iter     1:    Energy =   0.0464
Level     0,  Iter     2:    Energy =   0.0501
Level     0,  Iter     3:    Energy =   0.0536
Level     0,  Iter     4:    Energy =   0.0564
Level     0,  Iter     5:    Energy =   0.0588
Level     0,  Iter     6:    Energy =   0.0615
Level     0,  Iter     7:    Energy =   0.0632
Level     0,  Iter     8:    Energy =   0.0651
Level     0,  Iter     9:    Energy =   0.0667
Level     0,  Iter    10:    Energy =   0.0677
Level     0,  Iter    11:    Energy =   0.0684
Level     0,  Iter    12:    Energy =   0.0696
Level     0,  Iter    13:    Energy =   0.0700
Level     0,  Iter    14:    Energy =   0.0701
Level     0,  Iter    15:    Energy =   0.0704
Level     0,  Iter    16:    Energy =   0.0701
Level     0,  Iter    17:    Energy =   0.0705
Level     0,  Iter    18:    Energy =   0.0704
Level     0,  Iter    19:    Energy =   0.0707
Level     0,  Iter    20:    Energy =   0.0706
Level     0,  Iter    21:    Energy =   0.0710
Level     0,  Iter    22:    Energy =   0.0708
Level     0,  Iter    23:    Energy =   0.0712
Level     0,  Iter    24:    Energy =   0.0710
Level     0,  Iter    25:    Energy =   0.0714
Level     0,  Iter    26:    Energy =   0.0712
Level     0,  Iter    27:    Energy =   0.0717
Level     0,  Iter    28:    Energy =   0.0715
Level     0,  Iter    29:    Energy =   0.0719
Level     0,  Iter    30:    Energy =   0.0717
Level     0,  Iter    31:    Energy =   0.0721
Level     0,  Iter    32:    Energy =   0.0719
Level     0,  Iter    33:    Energy =   0.0723
Level     0,  Iter    34:    Energy =   0.0721
Level     0,  Iter    35:    Energy =   0.0725
Level     0,  Iter    36:    Energy =   0.0723
Level     0,  Iter    37:    Energy =   0.0726
Level     0,  Iter    38:    Energy =   0.0724
Level     0,  Iter    39:    Energy =   0.0727
Level     0,  Iter    40:    Energy =   0.0725
Level     0,  Iter    41:    Energy =   0.0728
Level     0,  Iter    42:    Energy =   0.0725
Level     0,  Iter    43:    Energy =   0.0729
Level     0,  Iter    44:    Energy =   0.0726
Level     0,  Iter    45:    Energy =   0.0730
Level     0,  Iter    46:    Energy =   0.0726
Level     0,  Iter    47:    Energy =   0.0730
Level     0,  Iter    48:    Energy =   0.0728
Level     0,  Iter    49:    Energy =   0.0732
Level     0,  Iter    50:    Energy =   0.0729
Level     0,  Iter    51:    Energy =   0.0733
Level     0,  Iter    52:    Energy =   0.0729
Level     0,  Iter    53:    Energy =   0.0733
Level     0,  Iter    54:    Energy =   0.0730
Level     0,  Iter    55:    Energy =   0.0733
Level     0,  Iter    56:    Energy =   0.0730
Level     0,  Iter    57:    Energy =   0.0734
Level     0,  Iter    58:    Energy =   0.0731
Level     0,  Iter    59:    Energy =   0.0735
END OF LEVEL     0    DetJac Range:   0.3016  to   2.0033 
  Avg. Gradient Time  : 0.0076s  37.63% 
  Avg. Gaussian Time  : 0.0095s  47.10% 
  Avg. Iteration Time : 0.0203s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0539
Level     1,  Iter     1:    Energy =   0.0568
Level     1,  Iter     2:    Energy =   0.0603
Level     1,  Iter     3:    Energy =   0.0632
Level     1,  Iter     4:    Energy =   0.0656
Level     1,  Iter     5:    Energy =   0.0675
Level     1,  Iter     6:    Energy =   0.0690
Level     1,  Iter     7:    Energy =   0.0703
Level     1,  Iter     8:    Energy =   0.0714
Level     1,  Iter     9:    Energy =   0.0725
Level     1,  Iter    10:    Energy =   0.0732
Level     1,  Iter    11:    Energy =   0.0731
Level     1,  Iter    12:    Energy =   0.0738
Level     1,  Iter    13:    Energy =   0.0738
Level     1,  Iter    14:    Energy =   0.0742
Level     1,  Iter    15:    Energy =   0.0742
Level     1,  Iter    16:    Energy =   0.0747
Level     1,  Iter    17:    Energy =   0.0746
Level     1,  Iter    18:    Energy =   0.0750
Level     1,  Iter    19:    Energy =   0.0750
Level     1,  Iter    20:    Energy =   0.0752
Level     1,  Iter    21:    Energy =   0.0753
Level     1,  Iter    22:    Energy =   0.0754
Level     1,  Iter    23:    Energy =   0.0754
Level     1,  Iter    24:    Energy =   0.0755
Level     1,  Iter    25:    Energy =   0.0756
Level     1,  Iter    26:    Energy =   0.0756
Level     1,  Iter    27:    Energy =   0.0757
Level     1,  Iter    28:    Energy =   0.0757
Level     1,  Iter    29:    Energy =   0.0756
Level     1,  Iter    30:    Energy =   0.0756
Level     1,  Iter    31:    Energy =   0.0755
Level     1,  Iter    32:    Energy =   0.0754
Level     1,  Iter    33:    Energy =   0.0754
Level     1,  Iter    34:    Energy =   0.0753
Level     1,  Iter    35:    Energy =   0.0752
Level     1,  Iter    36:    Energy =   0.0751
Level     1,  Iter    37:    Energy =   0.0751
Level     1,  Iter    38:    Energy =   0.0751
Level     1,  Iter    39:    Energy =   0.0750
Level     1,  Iter    40:    Energy =   0.0751
Level     1,  Iter    41:    Energy =   0.0751
Level     1,  Iter    42:    Energy =   0.0751
Level     1,  Iter    43:    Energy =   0.0751
Level     1,  Iter    44:    Energy =   0.0752
Level     1,  Iter    45:    Energy =   0.0753
Level     1,  Iter    46:    Energy =   0.0754
Level     1,  Iter    47:    Energy =   0.0755
Level     1,  Iter    48:    Energy =   0.0756
Level     1,  Iter    49:    Energy =   0.0756
Level     1,  Iter    50:    Energy =   0.0757
Level     1,  Iter    51:    Energy =   0.0757
Level     1,  Iter    52:    Energy =   0.0758
Level     1,  Iter    53:    Energy =   0.0758
Level     1,  Iter    54:    Energy =   0.0758
Level     1,  Iter    55:    Energy =   0.0758
Level     1,  Iter    56:    Energy =   0.0759
Level     1,  Iter    57:    Energy =   0.0759
Level     1,  Iter    58:    Energy =   0.0759
Level     1,  Iter    59:    Energy =   0.0759
END OF LEVEL     1    DetJac Range:   0.0388  to   3.6029 
  Avg. Gradient Time  : 0.0435s  40.03% 
  Avg. Gaussian Time  : 0.0522s  48.06% 
  Avg. Iteration Time : 0.1086s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0381
Level     2,  Iter     1:    Energy =   0.0400
Level     2,  Iter     2:    Energy =   0.0416
Level     2,  Iter     3:    Energy =   0.0432
Level     2,  Iter     4:    Energy =   0.0447
Level     2,  Iter     5:    Energy =   0.0458
Level     2,  Iter     6:    Energy =   0.0468
Level     2,  Iter     7:    Energy =   0.0475
Level     2,  Iter     8:    Energy =   0.0483
Level     2,  Iter     9:    Energy =   0.0491
Level     2,  Iter    10:    Energy =   0.0499
Level     2,  Iter    11:    Energy =   0.0511
Level     2,  Iter    12:    Energy =   0.0522
Level     2,  Iter    13:    Energy =   0.0531
Level     2,  Iter    14:    Energy =   0.0538
Level     2,  Iter    15:    Energy =   0.0545
Level     2,  Iter    16:    Energy =   0.0552
Level     2,  Iter    17:    Energy =   0.0558
Level     2,  Iter    18:    Energy =   0.0563
Level     2,  Iter    19:    Energy =   0.0568
END OF LEVEL     2    DetJac Range:   0.0289  to   4.4894 
  Avg. Gradient Time  : 0.3095s  37.29% 
  Avg. Gaussian Time  : 0.4322s  52.06% 
  Avg. Iteration Time : 0.8300s 

real	0m27.632s
user	0m48.736s
sys	0m2.784s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 1'
CHUNK 0.830769 0.836538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 1
====================================
         PROGRESS: 0.830769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2510.19 	 OutFr   0.0000 	 RMSD     2.8707
Iter 002 	 Temp     3.72 	 Delta  2395.16 	 OutFr   0.0025 	 RMSD     2.5867
Iter 003 	 Temp     3.46 	 Delta  2312.53 	 OutFr   0.0025 	 RMSD     2.5297
Iter 004 	 Temp     3.22 	 Delta  2243.82 	 OutFr   0.0025 	 RMSD     2.4978
Iter 005 	 Temp     2.99 	 Delta  2170.56 	 OutFr   0.0025 	 RMSD     2.4755
Iter 006 	 Temp     2.78 	 Delta  2086.34 	 OutFr   0.0025 	 RMSD     2.4561
Iter 007 	 Temp     2.59 	 Delta  1988.73 	 OutFr   0.0025 	 RMSD     2.4384
Iter 008 	 Temp     2.41 	 Delta  1875.83 	 OutFr   0.0025 	 RMSD     2.4209
Iter 009 	 Temp     2.24 	 Delta  1749.66 	 OutFr   0.0025 	 RMSD     2.4050
Iter 010 	 Temp     2.08 	 Delta  1616.99 	 OutFr   0.0025 	 RMSD     2.3899
Iter 011 	 Temp     1.94 	 Delta  1486.38 	 OutFr   0.0025 	 RMSD     2.3756
Iter 012 	 Temp     1.80 	 Delta  1365.26 	 OutFr   0.0025 	 RMSD     2.3618
Iter 013 	 Temp     1.67 	 Delta  1258.15 	 OutFr   0.0049 	 RMSD     2.3502
Iter 014 	 Temp     1.56 	 Delta  1164.07 	 OutFr   0.0147 	 RMSD     2.3410
Iter 015 	 Temp     1.45 	 Delta  1079.17 	 OutFr   0.0172 	 RMSD     2.3346
Iter 016 	 Temp     1.35 	 Delta  1000.53 	 OutFr   0.0343 	 RMSD     2.3300
Iter 017 	 Temp     1.25 	 Delta   926.02 	 OutFr   0.0490 	 RMSD     2.3262
Iter 018 	 Temp     1.16 	 Delta   854.99 	 OutFr   0.0613 	 RMSD     2.3240
Iter 019 	 Temp     1.08 	 Delta   790.12 	 OutFr   0.0735 	 RMSD     2.3233
Iter 020 	 Temp     1.01 	 Delta   734.22 	 OutFr   0.0833 	 RMSD     2.3241
Iter 021 	 Temp     0.94 	 Delta   685.26 	 OutFr   0.0956 	 RMSD     2.3253
Iter 022 	 Temp     0.87 	 Delta   637.88 	 OutFr   0.1103 	 RMSD     2.3262
Iter 023 	 Temp     0.81 	 Delta   590.09 	 OutFr   0.1201 	 RMSD     2.3265
Iter 024 	 Temp     0.75 	 Delta   541.49 	 OutFr   0.1373 	 RMSD     2.3267
Iter 025 	 Temp     0.70 	 Delta   494.27 	 OutFr   0.1642 	 RMSD     2.3270
Iter 026 	 Temp     0.65 	 Delta   451.38 	 OutFr   0.1814 	 RMSD     2.3278
Iter 027 	 Temp     0.61 	 Delta   411.51 	 OutFr   0.2010 	 RMSD     2.3289
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.r3970YJ2/mybin.nii.gz
+ vtklevelset /tmp/ashs.r3970YJ2/mybin.nii.gz /tmp/ashs.r3970YJ2/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.r3970YJ2/mymesh.vtk /tmp/ashs.r3970YJ2/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 3047.35440379   1.14393618
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.r3970YJ2/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.3373 to 36.8542
   Y : -15.9631 to 26.1699
   Z : -19.6122 to 10.9777
   Image resolution  : 106 by 151 by 116
   Image box origin  : {5.3373, -20.9631, -24.6122}
   Image box size    : {36.8055, 52.4305, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.3373, 20.9631, -24.6122]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -o /tmp/ashs.r3970YJ2/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -o /tmp/ashs.r3970YJ2/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.r3970YJ2/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 0.5'
CHUNK 0.836538 0.842308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 0.5
====================================
         PROGRESS: 0.836538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.r3970YJ2/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.r3970YJ2/fixed_hw.nii.gz /tmp/ashs.r3970YJ2/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.514749, moving = 0.719798
LEVEL 1 of 3
  Smoothing sigmas: [2.36108, 2.3898, 2.42484], [0.963905, 0.975631, 0.989938]
Level     0,  Iter     0:    Energy =   0.0484
Level     0,  Iter     1:    Energy =   0.0557
Level     0,  Iter     2:    Energy =   0.0639
Level     0,  Iter     3:    Energy =   0.0710
Level     0,  Iter     4:    Energy =   0.0760
Level     0,  Iter     5:    Energy =   0.0801
Level     0,  Iter     6:    Energy =   0.0837
Level     0,  Iter     7:    Energy =   0.0865
Level     0,  Iter     8:    Energy =   0.0888
Level     0,  Iter     9:    Energy =   0.0908
Level     0,  Iter    10:    Energy =   0.0917
Level     0,  Iter    11:    Energy =   0.0918
Level     0,  Iter    12:    Energy =   0.0926
Level     0,  Iter    13:    Energy =   0.0925
Level     0,  Iter    14:    Energy =   0.0934
Level     0,  Iter    15:    Energy =   0.0933
Level     0,  Iter    16:    Energy =   0.0941
Level     0,  Iter    17:    Energy =   0.0938
Level     0,  Iter    18:    Energy =   0.0945
Level     0,  Iter    19:    Energy =   0.0942
Level     0,  Iter    20:    Energy =   0.0947
Level     0,  Iter    21:    Energy =   0.0945
Level     0,  Iter    22:    Energy =   0.0949
Level     0,  Iter    23:    Energy =   0.0947
Level     0,  Iter    24:    Energy =   0.0951
Level     0,  Iter    25:    Energy =   0.0949
Level     0,  Iter    26:    Energy =   0.0953
Level     0,  Iter    27:    Energy =   0.0951
Level     0,  Iter    28:    Energy =   0.0955
Level     0,  Iter    29:    Energy =   0.0953
Level     0,  Iter    30:    Energy =   0.0957
Level     0,  Iter    31:    Energy =   0.0955
Level     0,  Iter    32:    Energy =   0.0959
Level     0,  Iter    33:    Energy =   0.0956
Level     0,  Iter    34:    Energy =   0.0961
Level     0,  Iter    35:    Energy =   0.0958
Level     0,  Iter    36:    Energy =   0.0962
Level     0,  Iter    37:    Energy =   0.0959
Level     0,  Iter    38:    Energy =   0.0963
Level     0,  Iter    39:    Energy =   0.0960
Level     0,  Iter    40:    Energy =   0.0964
Level     0,  Iter    41:    Energy =   0.0961
Level     0,  Iter    42:    Energy =   0.0965
Level     0,  Iter    43:    Energy =   0.0962
Level     0,  Iter    44:    Energy =   0.0965
Level     0,  Iter    45:    Energy =   0.0962
Level     0,  Iter    46:    Energy =   0.0966
Level     0,  Iter    47:    Energy =   0.0963
Level     0,  Iter    48:    Energy =   0.0966
Level     0,  Iter    49:    Energy =   0.0963
Level     0,  Iter    50:    Energy =   0.0967
Level     0,  Iter    51:    Energy =   0.0964
Level     0,  Iter    52:    Energy =   0.0967
Level     0,  Iter    53:    Energy =   0.0964
Level     0,  Iter    54:    Energy =   0.0967
Level     0,  Iter    55:    Energy =   0.0964
Level     0,  Iter    56:    Energy =   0.0968
Level     0,  Iter    57:    Energy =   0.0965
Level     0,  Iter    58:    Energy =   0.0969
Level     0,  Iter    59:    Energy =   0.0966
END OF LEVEL     0    DetJac Range:   0.3544  to   2.6117 
  Avg. Gradient Time  : 0.0078s  37.35% 
  Avg. Gaussian Time  : 0.0099s  47.69% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1949, 1.21242], [0.491046, 0.487815, 0.494969]
Level     1,  Iter     0:    Energy =   0.0696
Level     1,  Iter     1:    Energy =   0.0729
Level     1,  Iter     2:    Energy =   0.0763
Level     1,  Iter     3:    Energy =   0.0796
Level     1,  Iter     4:    Energy =   0.0816
Level     1,  Iter     5:    Energy =   0.0835
Level     1,  Iter     6:    Energy =   0.0848
Level     1,  Iter     7:    Energy =   0.0858
Level     1,  Iter     8:    Energy =   0.0867
Level     1,  Iter     9:    Energy =   0.0874
Level     1,  Iter    10:    Energy =   0.0880
Level     1,  Iter    11:    Energy =   0.0886
Level     1,  Iter    12:    Energy =   0.0892
Level     1,  Iter    13:    Energy =   0.0891
Level     1,  Iter    14:    Energy =   0.0898
Level     1,  Iter    15:    Energy =   0.0898
Level     1,  Iter    16:    Energy =   0.0902
Level     1,  Iter    17:    Energy =   0.0900
Level     1,  Iter    18:    Energy =   0.0905
Level     1,  Iter    19:    Energy =   0.0904
Level     1,  Iter    20:    Energy =   0.0909
Level     1,  Iter    21:    Energy =   0.0907
Level     1,  Iter    22:    Energy =   0.0912
Level     1,  Iter    23:    Energy =   0.0910
Level     1,  Iter    24:    Energy =   0.0915
Level     1,  Iter    25:    Energy =   0.0914
Level     1,  Iter    26:    Energy =   0.0918
Level     1,  Iter    27:    Energy =   0.0916
Level     1,  Iter    28:    Energy =   0.0919
Level     1,  Iter    29:    Energy =   0.0917
Level     1,  Iter    30:    Energy =   0.0922
Level     1,  Iter    31:    Energy =   0.0920
Level     1,  Iter    32:    Energy =   0.0923
Level     1,  Iter    33:    Energy =   0.0920
Level     1,  Iter    34:    Energy =   0.0924
Level     1,  Iter    35:    Energy =   0.0921
Level     1,  Iter    36:    Energy =   0.0924
Level     1,  Iter    37:    Energy =   0.0922
Level     1,  Iter    38:    Energy =   0.0924
Level     1,  Iter    39:    Energy =   0.0922
Level     1,  Iter    40:    Energy =   0.0925
Level     1,  Iter    41:    Energy =   0.0922
Level     1,  Iter    42:    Energy =   0.0924
Level     1,  Iter    43:    Energy =   0.0921
Level     1,  Iter    44:    Energy =   0.0923
Level     1,  Iter    45:    Energy =   0.0921
Level     1,  Iter    46:    Energy =   0.0922
Level     1,  Iter    47:    Energy =   0.0919
Level     1,  Iter    48:    Energy =   0.0921
Level     1,  Iter    49:    Energy =   0.0918
Level     1,  Iter    50:    Energy =   0.0921
Level     1,  Iter    51:    Energy =   0.0917
Level     1,  Iter    52:    Energy =   0.0921
Level     1,  Iter    53:    Energy =   0.0917
Level     1,  Iter    54:    Energy =   0.0920
Level     1,  Iter    55:    Energy =   0.0917
Level     1,  Iter    56:    Energy =   0.0920
Level     1,  Iter    57:    Energy =   0.0917
Level     1,  Iter    58:    Energy =   0.0920
Level     1,  Iter    59:    Energy =   0.0916
END OF LEVEL     1    DetJac Range:   0.2319  to   4.3158 
  Avg. Gradient Time  : 0.0458s  39.81% 
  Avg. Gaussian Time  : 0.0556s  48.25% 
  Avg. Iteration Time : 0.1152s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0509
Level     2,  Iter     1:    Energy =   0.0538
Level     2,  Iter     2:    Energy =   0.0558
Level     2,  Iter     3:    Energy =   0.0577
Level     2,  Iter     4:    Energy =   0.0593
Level     2,  Iter     5:    Energy =   0.0606
Level     2,  Iter     6:    Energy =   0.0618
Level     2,  Iter     7:    Energy =   0.0628
Level     2,  Iter     8:    Energy =   0.0636
Level     2,  Iter     9:    Energy =   0.0643
Level     2,  Iter    10:    Energy =   0.0648
Level     2,  Iter    11:    Energy =   0.0654
Level     2,  Iter    12:    Energy =   0.0658
Level     2,  Iter    13:    Energy =   0.0662
Level     2,  Iter    14:    Energy =   0.0665
Level     2,  Iter    15:    Energy =   0.0668
Level     2,  Iter    16:    Energy =   0.0671
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0676
Level     2,  Iter    19:    Energy =   0.0679
END OF LEVEL     2    DetJac Range:   0.1281  to   5.1934 
  Avg. Gradient Time  : 0.3227s  37.01% 
  Avg. Gaussian Time  : 0.4561s  52.31% 
  Avg. Iteration Time : 0.8719s 

real	0m29.083s
user	0m51.276s
sys	0m2.836s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 1'
CHUNK 0.836538 0.842308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 1
====================================
         PROGRESS: 0.836538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1787.86 	 OutFr   0.0000 	 RMSD     2.6265
Iter 002 	 Temp     3.72 	 Delta  1626.02 	 OutFr   0.0000 	 RMSD     2.1189
Iter 003 	 Temp     3.46 	 Delta  1483.41 	 OutFr   0.0000 	 RMSD     2.0673
Iter 004 	 Temp     3.22 	 Delta  1372.12 	 OutFr   0.0000 	 RMSD     2.0287
Iter 005 	 Temp     2.99 	 Delta  1284.68 	 OutFr   0.0000 	 RMSD     2.0052
Iter 006 	 Temp     2.78 	 Delta  1208.58 	 OutFr   0.0000 	 RMSD     1.9884
Iter 007 	 Temp     2.59 	 Delta  1137.23 	 OutFr   0.0000 	 RMSD     1.9753
Iter 008 	 Temp     2.41 	 Delta  1071.42 	 OutFr   0.0000 	 RMSD     1.9643
Iter 009 	 Temp     2.24 	 Delta  1012.11 	 OutFr   0.0000 	 RMSD     1.9558
Iter 010 	 Temp     2.08 	 Delta   959.56 	 OutFr   0.0025 	 RMSD     1.9487
Iter 011 	 Temp     1.94 	 Delta   914.24 	 OutFr   0.0074 	 RMSD     1.9435
Iter 012 	 Temp     1.80 	 Delta   876.57 	 OutFr   0.0074 	 RMSD     1.9400
Iter 013 	 Temp     1.67 	 Delta   846.08 	 OutFr   0.0074 	 RMSD     1.9379
Iter 014 	 Temp     1.56 	 Delta   820.85 	 OutFr   0.0123 	 RMSD     1.9369
Iter 015 	 Temp     1.45 	 Delta   797.52 	 OutFr   0.0147 	 RMSD     1.9365
Iter 016 	 Temp     1.35 	 Delta   772.02 	 OutFr   0.0172 	 RMSD     1.9366
Iter 017 	 Temp     1.25 	 Delta   741.78 	 OutFr   0.0172 	 RMSD     1.9370
Iter 018 	 Temp     1.16 	 Delta   707.95 	 OutFr   0.0245 	 RMSD     1.9373
Iter 019 	 Temp     1.08 	 Delta   672.63 	 OutFr   0.0294 	 RMSD     1.9377
Iter 020 	 Temp     1.01 	 Delta   635.53 	 OutFr   0.0417 	 RMSD     1.9383
Iter 021 	 Temp     0.94 	 Delta   594.78 	 OutFr   0.0539 	 RMSD     1.9397
Iter 022 	 Temp     0.87 	 Delta   551.30 	 OutFr   0.0662 	 RMSD     1.9415
Iter 023 	 Temp     0.81 	 Delta   507.73 	 OutFr   0.0833 	 RMSD     1.9431
Iter 024 	 Temp     0.75 	 Delta   467.05 	 OutFr   0.1005 	 RMSD     1.9445
Iter 025 	 Temp     0.70 	 Delta   431.49 	 OutFr   0.1201 	 RMSD     1.9468
Iter 026 	 Temp     0.65 	 Delta   399.78 	 OutFr   0.1373 	 RMSD     1.9497
Iter 027 	 Temp     0.61 	 Delta   371.24 	 OutFr   0.1471 	 RMSD     1.9531
Iter 028 	 Temp     0.56 	 Delta   341.41 	 OutFr   0.1691 	 RMSD     1.9557
Iter 029 	 Temp     0.52 	 Delta   309.27 	 OutFr   0.1961 	 RMSD     1.9585
Iter 030 	 Temp     0.49 	 Delta   276.83 	 OutFr   0.2402 	 RMSD     1.9619
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.BJrngDkh/mybin.nii.gz
+ vtklevelset /tmp/ashs.BJrngDkh/mybin.nii.gz /tmp/ashs.BJrngDkh/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.BJrngDkh/mymesh.vtk /tmp/ashs.BJrngDkh/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2729.22376832   1.02451418
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.BJrngDkh/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.05705 to 32.2418
   Y : -8.85493 to 30.8602
   Z : -32.1232 to -0.00575678
   Image resolution  : 96 by 144 by 121
   Image box origin  : {4.05705, -13.8549, -37.1232}
   Image box size    : {33.3333, 50, 42.3495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.05705, 13.8549, -37.1232]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -o /tmp/ashs.BJrngDkh/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -o /tmp/ashs.BJrngDkh/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.BJrngDkh/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 0.5'
CHUNK 0.842308 0.848077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 0.5
====================================
         PROGRESS: 0.842308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.BJrngDkh/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.BJrngDkh/fixed_hw.nii.gz /tmp/ashs.BJrngDkh/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.524275, moving = 0.646857
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.36618], [0.982092, 0.982092, 0.965988]
Level     0,  Iter     0:    Energy =   0.0545
Level     0,  Iter     1:    Energy =   0.0610
Level     0,  Iter     2:    Energy =   0.0665
Level     0,  Iter     3:    Energy =   0.0718
Level     0,  Iter     4:    Energy =   0.0764
Level     0,  Iter     5:    Energy =   0.0802
Level     0,  Iter     6:    Energy =   0.0835
Level     0,  Iter     7:    Energy =   0.0865
Level     0,  Iter     8:    Energy =   0.0888
Level     0,  Iter     9:    Energy =   0.0896
Level     0,  Iter    10:    Energy =   0.0906
Level     0,  Iter    11:    Energy =   0.0908
Level     0,  Iter    12:    Energy =   0.0915
Level     0,  Iter    13:    Energy =   0.0913
Level     0,  Iter    14:    Energy =   0.0919
Level     0,  Iter    15:    Energy =   0.0917
Level     0,  Iter    16:    Energy =   0.0925
Level     0,  Iter    17:    Energy =   0.0923
Level     0,  Iter    18:    Energy =   0.0932
Level     0,  Iter    19:    Energy =   0.0930
Level     0,  Iter    20:    Energy =   0.0941
Level     0,  Iter    21:    Energy =   0.0940
Level     0,  Iter    22:    Energy =   0.0952
Level     0,  Iter    23:    Energy =   0.0950
Level     0,  Iter    24:    Energy =   0.0958
Level     0,  Iter    25:    Energy =   0.0955
Level     0,  Iter    26:    Energy =   0.0960
Level     0,  Iter    27:    Energy =   0.0957
Level     0,  Iter    28:    Energy =   0.0960
Level     0,  Iter    29:    Energy =   0.0957
Level     0,  Iter    30:    Energy =   0.0963
Level     0,  Iter    31:    Energy =   0.0959
Level     0,  Iter    32:    Energy =   0.0966
Level     0,  Iter    33:    Energy =   0.0962
Level     0,  Iter    34:    Energy =   0.0967
Level     0,  Iter    35:    Energy =   0.0963
Level     0,  Iter    36:    Energy =   0.0967
Level     0,  Iter    37:    Energy =   0.0963
Level     0,  Iter    38:    Energy =   0.0968
Level     0,  Iter    39:    Energy =   0.0964
Level     0,  Iter    40:    Energy =   0.0968
Level     0,  Iter    41:    Energy =   0.0964
Level     0,  Iter    42:    Energy =   0.0968
Level     0,  Iter    43:    Energy =   0.0964
Level     0,  Iter    44:    Energy =   0.0968
Level     0,  Iter    45:    Energy =   0.0963
Level     0,  Iter    46:    Energy =   0.0969
Level     0,  Iter    47:    Energy =   0.0964
Level     0,  Iter    48:    Energy =   0.0968
Level     0,  Iter    49:    Energy =   0.0963
Level     0,  Iter    50:    Energy =   0.0968
Level     0,  Iter    51:    Energy =   0.0963
Level     0,  Iter    52:    Energy =   0.0968
Level     0,  Iter    53:    Energy =   0.0963
Level     0,  Iter    54:    Energy =   0.0968
Level     0,  Iter    55:    Energy =   0.0963
Level     0,  Iter    56:    Energy =   0.0968
Level     0,  Iter    57:    Energy =   0.0963
Level     0,  Iter    58:    Energy =   0.0968
Level     0,  Iter    59:    Energy =   0.0963
END OF LEVEL     0    DetJac Range:   0.3962  to   2.6770 
  Avg. Gradient Time  : 0.0074s  37.52% 
  Avg. Gaussian Time  : 0.0093s  47.30% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20248], [0.491046, 0.491046, 0.490912]
Level     1,  Iter     0:    Energy =   0.0712
Level     1,  Iter     1:    Energy =   0.0754
Level     1,  Iter     2:    Energy =   0.0788
Level     1,  Iter     3:    Energy =   0.0816
Level     1,  Iter     4:    Energy =   0.0834
Level     1,  Iter     5:    Energy =   0.0849
Level     1,  Iter     6:    Energy =   0.0862
Level     1,  Iter     7:    Energy =   0.0876
Level     1,  Iter     8:    Energy =   0.0889
Level     1,  Iter     9:    Energy =   0.0899
Level     1,  Iter    10:    Energy =   0.0909
Level     1,  Iter    11:    Energy =   0.0918
Level     1,  Iter    12:    Energy =   0.0923
Level     1,  Iter    13:    Energy =   0.0928
Level     1,  Iter    14:    Energy =   0.0932
Level     1,  Iter    15:    Energy =   0.0936
Level     1,  Iter    16:    Energy =   0.0938
Level     1,  Iter    17:    Energy =   0.0939
Level     1,  Iter    18:    Energy =   0.0940
Level     1,  Iter    19:    Energy =   0.0941
Level     1,  Iter    20:    Energy =   0.0942
Level     1,  Iter    21:    Energy =   0.0943
Level     1,  Iter    22:    Energy =   0.0945
Level     1,  Iter    23:    Energy =   0.0946
Level     1,  Iter    24:    Energy =   0.0948
Level     1,  Iter    25:    Energy =   0.0950
Level     1,  Iter    26:    Energy =   0.0952
Level     1,  Iter    27:    Energy =   0.0953
Level     1,  Iter    28:    Energy =   0.0954
Level     1,  Iter    29:    Energy =   0.0954
Level     1,  Iter    30:    Energy =   0.0955
Level     1,  Iter    31:    Energy =   0.0955
Level     1,  Iter    32:    Energy =   0.0957
Level     1,  Iter    33:    Energy =   0.0956
Level     1,  Iter    34:    Energy =   0.0959
Level     1,  Iter    35:    Energy =   0.0957
Level     1,  Iter    36:    Energy =   0.0960
Level     1,  Iter    37:    Energy =   0.0959
Level     1,  Iter    38:    Energy =   0.0961
Level     1,  Iter    39:    Energy =   0.0960
Level     1,  Iter    40:    Energy =   0.0962
Level     1,  Iter    41:    Energy =   0.0961
Level     1,  Iter    42:    Energy =   0.0962
Level     1,  Iter    43:    Energy =   0.0961
Level     1,  Iter    44:    Energy =   0.0963
Level     1,  Iter    45:    Energy =   0.0962
Level     1,  Iter    46:    Energy =   0.0964
Level     1,  Iter    47:    Energy =   0.0962
Level     1,  Iter    48:    Energy =   0.0964
Level     1,  Iter    49:    Energy =   0.0963
Level     1,  Iter    50:    Energy =   0.0965
Level     1,  Iter    51:    Energy =   0.0963
Level     1,  Iter    52:    Energy =   0.0965
Level     1,  Iter    53:    Energy =   0.0964
Level     1,  Iter    54:    Energy =   0.0966
Level     1,  Iter    55:    Energy =   0.0965
Level     1,  Iter    56:    Energy =   0.0967
Level     1,  Iter    57:    Energy =   0.0966
Level     1,  Iter    58:    Energy =   0.0968
Level     1,  Iter    59:    Energy =   0.0966
END OF LEVEL     1    DetJac Range:   0.2243  to   4.1242 
  Avg. Gradient Time  : 0.0434s  40.66% 
  Avg. Gaussian Time  : 0.0506s  47.40% 
  Avg. Iteration Time : 0.1067s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0534
Level     2,  Iter     1:    Energy =   0.0563
Level     2,  Iter     2:    Energy =   0.0588
Level     2,  Iter     3:    Energy =   0.0608
Level     2,  Iter     4:    Energy =   0.0625
Level     2,  Iter     5:    Energy =   0.0637
Level     2,  Iter     6:    Energy =   0.0644
Level     2,  Iter     7:    Energy =   0.0650
Level     2,  Iter     8:    Energy =   0.0657
Level     2,  Iter     9:    Energy =   0.0663
Level     2,  Iter    10:    Energy =   0.0669
Level     2,  Iter    11:    Energy =   0.0677
Level     2,  Iter    12:    Energy =   0.0686
Level     2,  Iter    13:    Energy =   0.0694
Level     2,  Iter    14:    Energy =   0.0701
Level     2,  Iter    15:    Energy =   0.0707
Level     2,  Iter    16:    Energy =   0.0712
Level     2,  Iter    17:    Energy =   0.0717
Level     2,  Iter    18:    Energy =   0.0722
Level     2,  Iter    19:    Energy =   0.0726
END OF LEVEL     2    DetJac Range:   0.0950  to   5.7747 
  Avg. Gradient Time  : 0.3002s  37.28% 
  Avg. Gaussian Time  : 0.4210s  52.29% 
  Avg. Iteration Time : 0.8052s 

real	0m26.822s
user	0m47.132s
sys	0m2.928s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 1'
CHUNK 0.842308 0.848077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 1
====================================
         PROGRESS: 0.842308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2720.75 	 OutFr   0.0123 	 RMSD     3.1906
Iter 002 	 Temp     3.72 	 Delta  2401.31 	 OutFr   0.0123 	 RMSD     2.2452
Iter 003 	 Temp     3.46 	 Delta  2176.38 	 OutFr   0.0123 	 RMSD     2.1989
Iter 004 	 Temp     3.22 	 Delta  2013.94 	 OutFr   0.0123 	 RMSD     2.1684
Iter 005 	 Temp     2.99 	 Delta  1880.10 	 OutFr   0.0123 	 RMSD     2.1479
Iter 006 	 Temp     2.78 	 Delta  1760.05 	 OutFr   0.0196 	 RMSD     2.1332
Iter 007 	 Temp     2.59 	 Delta  1650.50 	 OutFr   0.0196 	 RMSD     2.1211
Iter 008 	 Temp     2.41 	 Delta  1551.89 	 OutFr   0.0221 	 RMSD     2.1113
Iter 009 	 Temp     2.24 	 Delta  1465.00 	 OutFr   0.0245 	 RMSD     2.1039
Iter 010 	 Temp     2.08 	 Delta  1390.02 	 OutFr   0.0245 	 RMSD     2.0985
Iter 011 	 Temp     1.94 	 Delta  1326.16 	 OutFr   0.0245 	 RMSD     2.0941
Iter 012 	 Temp     1.80 	 Delta  1272.02 	 OutFr   0.0270 	 RMSD     2.0909
Iter 013 	 Temp     1.67 	 Delta  1226.15 	 OutFr   0.0270 	 RMSD     2.0885
Iter 014 	 Temp     1.56 	 Delta  1185.95 	 OutFr   0.0270 	 RMSD     2.0862
Iter 015 	 Temp     1.45 	 Delta  1146.91 	 OutFr   0.0343 	 RMSD     2.0849
Iter 016 	 Temp     1.35 	 Delta  1104.59 	 OutFr   0.0368 	 RMSD     2.0845
Iter 017 	 Temp     1.25 	 Delta  1055.76 	 OutFr   0.0392 	 RMSD     2.0840
Iter 018 	 Temp     1.16 	 Delta  1000.71 	 OutFr   0.0392 	 RMSD     2.0836
Iter 019 	 Temp     1.08 	 Delta   944.29 	 OutFr   0.0466 	 RMSD     2.0829
Iter 020 	 Temp     1.01 	 Delta   887.64 	 OutFr   0.0539 	 RMSD     2.0818
Iter 021 	 Temp     0.94 	 Delta   829.07 	 OutFr   0.0662 	 RMSD     2.0804
Iter 022 	 Temp     0.87 	 Delta   767.57 	 OutFr   0.0760 	 RMSD     2.0790
Iter 023 	 Temp     0.81 	 Delta   704.67 	 OutFr   0.0882 	 RMSD     2.0780
Iter 024 	 Temp     0.75 	 Delta   644.16 	 OutFr   0.1054 	 RMSD     2.0772
Iter 025 	 Temp     0.70 	 Delta   585.66 	 OutFr   0.1176 	 RMSD     2.0764
Iter 026 	 Temp     0.65 	 Delta   527.09 	 OutFr   0.1348 	 RMSD     2.0760
Iter 027 	 Temp     0.61 	 Delta   471.46 	 OutFr   0.1691 	 RMSD     2.0760
Iter 028 	 Temp     0.56 	 Delta   419.86 	 OutFr   0.2083 	 RMSD     2.0770
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.KS31KBwG/mybin.nii.gz
+ vtklevelset /tmp/ashs.KS31KBwG/mybin.nii.gz /tmp/ashs.KS31KBwG/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.KS31KBwG/mymesh.vtk /tmp/ashs.KS31KBwG/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2847.87918459   1.06905584
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.KS31KBwG/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.8778 to 32.7877
   Y : -14.1818 to 29.5284
   Z : -17.4927 to 9.65261
   Image resolution  : 101 by 155 by 107
   Image box origin  : {2.8778, -19.1818, -22.4927}
   Image box size    : {35.0694, 53.8194, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.8778, 19.1818, -22.4927]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -o /tmp/ashs.KS31KBwG/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -o /tmp/ashs.KS31KBwG/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.KS31KBwG/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 0.5'
CHUNK 0.848077 0.853846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 0.5
====================================
         PROGRESS: 0.848077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.KS31KBwG/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.KS31KBwG/fixed_hw.nii.gz /tmp/ashs.KS31KBwG/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.527124, moving = 0.396692
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.3902, 2.40239], [0.953763, 0.975797, 0.980772]
Level     0,  Iter     0:    Energy =   0.0518
Level     0,  Iter     1:    Energy =   0.0585
Level     0,  Iter     2:    Energy =   0.0651
Level     0,  Iter     3:    Energy =   0.0713
Level     0,  Iter     4:    Energy =   0.0761
Level     0,  Iter     5:    Energy =   0.0799
Level     0,  Iter     6:    Energy =   0.0833
Level     0,  Iter     7:    Energy =   0.0855
Level     0,  Iter     8:    Energy =   0.0873
Level     0,  Iter     9:    Energy =   0.0891
Level     0,  Iter    10:    Energy =   0.0909
Level     0,  Iter    11:    Energy =   0.0928
Level     0,  Iter    12:    Energy =   0.0941
Level     0,  Iter    13:    Energy =   0.0948
Level     0,  Iter    14:    Energy =   0.0953
Level     0,  Iter    15:    Energy =   0.0954
Level     0,  Iter    16:    Energy =   0.0961
Level     0,  Iter    17:    Energy =   0.0962
Level     0,  Iter    18:    Energy =   0.0963
Level     0,  Iter    19:    Energy =   0.0966
Level     0,  Iter    20:    Energy =   0.0973
Level     0,  Iter    21:    Energy =   0.0971
Level     0,  Iter    22:    Energy =   0.0968
Level     0,  Iter    23:    Energy =   0.0970
Level     0,  Iter    24:    Energy =   0.0967
Level     0,  Iter    25:    Energy =   0.0971
Level     0,  Iter    26:    Energy =   0.0976
Level     0,  Iter    27:    Energy =   0.0975
Level     0,  Iter    28:    Energy =   0.0969
Level     0,  Iter    29:    Energy =   0.0975
Level     0,  Iter    30:    Energy =   0.0983
Level     0,  Iter    31:    Energy =   0.0982
Level     0,  Iter    32:    Energy =   0.0979
Level     0,  Iter    33:    Energy =   0.0980
Level     0,  Iter    34:    Energy =   0.0974
Level     0,  Iter    35:    Energy =   0.0977
Level     0,  Iter    36:    Energy =   0.0977
Level     0,  Iter    37:    Energy =   0.0982
Level     0,  Iter    38:    Energy =   0.0986
Level     0,  Iter    39:    Energy =   0.0985
Level     0,  Iter    40:    Energy =   0.0980
Level     0,  Iter    41:    Energy =   0.0983
Level     0,  Iter    42:    Energy =   0.0989
Level     0,  Iter    43:    Energy =   0.0988
Level     0,  Iter    44:    Energy =   0.0982
Level     0,  Iter    45:    Energy =   0.0986
Level     0,  Iter    46:    Energy =   0.0992
Level     0,  Iter    47:    Energy =   0.0990
Level     0,  Iter    48:    Energy =   0.0985
Level     0,  Iter    49:    Energy =   0.0986
Level     0,  Iter    50:    Energy =   0.0984
Level     0,  Iter    51:    Energy =   0.0989
Level     0,  Iter    52:    Energy =   0.0994
Level     0,  Iter    53:    Energy =   0.0992
Level     0,  Iter    54:    Energy =   0.0986
Level     0,  Iter    55:    Energy =   0.0988
Level     0,  Iter    56:    Energy =   0.0992
Level     0,  Iter    57:    Energy =   0.0992
Level     0,  Iter    58:    Energy =   0.0986
Level     0,  Iter    59:    Energy =   0.0991
END OF LEVEL     0    DetJac Range:   0.1907  to   2.4663 
  Avg. Gradient Time  : 0.0072s  37.51% 
  Avg. Gaussian Time  : 0.0091s  47.57% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1951, 1.2012], [0.486232, 0.487898, 0.490386]
Level     1,  Iter     0:    Energy =   0.0670
Level     1,  Iter     1:    Energy =   0.0713
Level     1,  Iter     2:    Energy =   0.0746
Level     1,  Iter     3:    Energy =   0.0774
Level     1,  Iter     4:    Energy =   0.0794
Level     1,  Iter     5:    Energy =   0.0811
Level     1,  Iter     6:    Energy =   0.0822
Level     1,  Iter     7:    Energy =   0.0833
Level     1,  Iter     8:    Energy =   0.0841
Level     1,  Iter     9:    Energy =   0.0849
Level     1,  Iter    10:    Energy =   0.0855
Level     1,  Iter    11:    Energy =   0.0861
Level     1,  Iter    12:    Energy =   0.0864
Level     1,  Iter    13:    Energy =   0.0864
Level     1,  Iter    14:    Energy =   0.0868
Level     1,  Iter    15:    Energy =   0.0869
Level     1,  Iter    16:    Energy =   0.0871
Level     1,  Iter    17:    Energy =   0.0873
Level     1,  Iter    18:    Energy =   0.0875
Level     1,  Iter    19:    Energy =   0.0875
Level     1,  Iter    20:    Energy =   0.0878
Level     1,  Iter    21:    Energy =   0.0878
Level     1,  Iter    22:    Energy =   0.0881
Level     1,  Iter    23:    Energy =   0.0880
Level     1,  Iter    24:    Energy =   0.0883
Level     1,  Iter    25:    Energy =   0.0882
Level     1,  Iter    26:    Energy =   0.0884
Level     1,  Iter    27:    Energy =   0.0884
Level     1,  Iter    28:    Energy =   0.0886
Level     1,  Iter    29:    Energy =   0.0885
Level     1,  Iter    30:    Energy =   0.0887
Level     1,  Iter    31:    Energy =   0.0886
Level     1,  Iter    32:    Energy =   0.0888
Level     1,  Iter    33:    Energy =   0.0887
Level     1,  Iter    34:    Energy =   0.0889
Level     1,  Iter    35:    Energy =   0.0889
Level     1,  Iter    36:    Energy =   0.0890
Level     1,  Iter    37:    Energy =   0.0889
Level     1,  Iter    38:    Energy =   0.0891
Level     1,  Iter    39:    Energy =   0.0890
Level     1,  Iter    40:    Energy =   0.0892
Level     1,  Iter    41:    Energy =   0.0891
Level     1,  Iter    42:    Energy =   0.0892
Level     1,  Iter    43:    Energy =   0.0891
Level     1,  Iter    44:    Energy =   0.0893
Level     1,  Iter    45:    Energy =   0.0892
Level     1,  Iter    46:    Energy =   0.0893
Level     1,  Iter    47:    Energy =   0.0892
Level     1,  Iter    48:    Energy =   0.0894
Level     1,  Iter    49:    Energy =   0.0893
Level     1,  Iter    50:    Energy =   0.0894
Level     1,  Iter    51:    Energy =   0.0893
Level     1,  Iter    52:    Energy =   0.0895
Level     1,  Iter    53:    Energy =   0.0894
Level     1,  Iter    54:    Energy =   0.0895
Level     1,  Iter    55:    Energy =   0.0894
Level     1,  Iter    56:    Energy =   0.0896
Level     1,  Iter    57:    Energy =   0.0895
Level     1,  Iter    58:    Energy =   0.0896
Level     1,  Iter    59:    Energy =   0.0895
END OF LEVEL     1    DetJac Range:   0.1125  to   2.9520 
  Avg. Gradient Time  : 0.0424s  39.87% 
  Avg. Gaussian Time  : 0.0513s  48.25% 
  Avg. Iteration Time : 0.1064s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0479
Level     2,  Iter     1:    Energy =   0.0500
Level     2,  Iter     2:    Energy =   0.0515
Level     2,  Iter     3:    Energy =   0.0530
Level     2,  Iter     4:    Energy =   0.0547
Level     2,  Iter     5:    Energy =   0.0563
Level     2,  Iter     6:    Energy =   0.0576
Level     2,  Iter     7:    Energy =   0.0588
Level     2,  Iter     8:    Energy =   0.0597
Level     2,  Iter     9:    Energy =   0.0606
Level     2,  Iter    10:    Energy =   0.0615
Level     2,  Iter    11:    Energy =   0.0625
Level     2,  Iter    12:    Energy =   0.0633
Level     2,  Iter    13:    Energy =   0.0638
Level     2,  Iter    14:    Energy =   0.0643
Level     2,  Iter    15:    Energy =   0.0647
Level     2,  Iter    16:    Energy =   0.0651
Level     2,  Iter    17:    Energy =   0.0654
Level     2,  Iter    18:    Energy =   0.0657
Level     2,  Iter    19:    Energy =   0.0659
END OF LEVEL     2    DetJac Range:   0.0712  to   3.9704 
  Avg. Gradient Time  : 0.2993s  37.77% 
  Avg. Gaussian Time  : 0.4070s  51.36% 
  Avg. Iteration Time : 0.7925s 

real	0m26.560s
user	0m46.820s
sys	0m2.720s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 1'
CHUNK 0.848077 0.853846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 1
====================================
         PROGRESS: 0.848077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1733.42 	 OutFr   0.0000 	 RMSD     2.2516
Iter 002 	 Temp     3.72 	 Delta  1741.07 	 OutFr   0.0000 	 RMSD     2.1454
Iter 003 	 Temp     3.46 	 Delta  1652.77 	 OutFr   0.0000 	 RMSD     2.1350
Iter 004 	 Temp     3.22 	 Delta  1554.85 	 OutFr   0.0000 	 RMSD     2.1075
Iter 005 	 Temp     2.99 	 Delta  1456.68 	 OutFr   0.0000 	 RMSD     2.0819
Iter 006 	 Temp     2.78 	 Delta  1363.82 	 OutFr   0.0000 	 RMSD     2.0607
Iter 007 	 Temp     2.59 	 Delta  1279.65 	 OutFr   0.0000 	 RMSD     2.0441
Iter 008 	 Temp     2.41 	 Delta  1204.99 	 OutFr   0.0000 	 RMSD     2.0313
Iter 009 	 Temp     2.24 	 Delta  1139.03 	 OutFr   0.0000 	 RMSD     2.0211
Iter 010 	 Temp     2.08 	 Delta  1081.17 	 OutFr   0.0000 	 RMSD     2.0134
Iter 011 	 Temp     1.94 	 Delta  1031.71 	 OutFr   0.0000 	 RMSD     2.0076
Iter 012 	 Temp     1.80 	 Delta   989.68 	 OutFr   0.0000 	 RMSD     2.0030
Iter 013 	 Temp     1.67 	 Delta   951.27 	 OutFr   0.0000 	 RMSD     2.0002
Iter 014 	 Temp     1.56 	 Delta   912.23 	 OutFr   0.0000 	 RMSD     1.9987
Iter 015 	 Temp     1.45 	 Delta   870.11 	 OutFr   0.0000 	 RMSD     1.9973
Iter 016 	 Temp     1.35 	 Delta   824.28 	 OutFr   0.0025 	 RMSD     1.9961
Iter 017 	 Temp     1.25 	 Delta   776.44 	 OutFr   0.0025 	 RMSD     1.9945
Iter 018 	 Temp     1.16 	 Delta   730.43 	 OutFr   0.0049 	 RMSD     1.9926
Iter 019 	 Temp     1.08 	 Delta   688.48 	 OutFr   0.0074 	 RMSD     1.9911
Iter 020 	 Temp     1.01 	 Delta   647.21 	 OutFr   0.0123 	 RMSD     1.9897
Iter 021 	 Temp     0.94 	 Delta   602.39 	 OutFr   0.0123 	 RMSD     1.9879
Iter 022 	 Temp     0.87 	 Delta   556.34 	 OutFr   0.0221 	 RMSD     1.9863
Iter 023 	 Temp     0.81 	 Delta   514.29 	 OutFr   0.0490 	 RMSD     1.9852
Iter 024 	 Temp     0.75 	 Delta   477.12 	 OutFr   0.0613 	 RMSD     1.9848
Iter 025 	 Temp     0.70 	 Delta   443.57 	 OutFr   0.0686 	 RMSD     1.9853
Iter 026 	 Temp     0.65 	 Delta   412.41 	 OutFr   0.0833 	 RMSD     1.9865
Iter 027 	 Temp     0.61 	 Delta   386.17 	 OutFr   0.1078 	 RMSD     1.9875
Iter 028 	 Temp     0.56 	 Delta   362.65 	 OutFr   0.1324 	 RMSD     1.9900
Iter 029 	 Temp     0.52 	 Delta   334.83 	 OutFr   0.1348 	 RMSD     1.9927
Iter 030 	 Temp     0.49 	 Delta   301.57 	 OutFr   0.1642 	 RMSD     1.9952
Iter 031 	 Temp     0.45 	 Delta   265.73 	 OutFr   0.2206 	 RMSD     1.9979
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Izv03Y0z/mybin.nii.gz
+ vtklevelset /tmp/ashs.Izv03Y0z/mybin.nii.gz /tmp/ashs.Izv03Y0z/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Izv03Y0z/mymesh.vtk /tmp/ashs.Izv03Y0z/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2724.53113901   1.02275263
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Izv03Y0z/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.2901 to 37.1865
   Y : -19.8426 to 20.8957
   Z : -5.64253 to 21.9989
   Image resolution  : 101 by 147 by 108
   Image box origin  : {7.2901, -24.8426, -10.6425}
   Image box size    : {35.0694, 51.0416, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.2901, 24.8426, -10.6425]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -o /tmp/ashs.Izv03Y0z/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -o /tmp/ashs.Izv03Y0z/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Izv03Y0z/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 0.5'
CHUNK 0.853846 0.859615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 0.5
====================================
         PROGRESS: 0.853846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Izv03Y0z/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Izv03Y0z/fixed_hw.nii.gz /tmp/ashs.Izv03Y0z/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.528581, moving = 0.588139
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.38937, 2.42484], [0.953763, 0.975456, 0.989938]
Level     0,  Iter     0:    Energy =   0.0659
Level     0,  Iter     1:    Energy =   0.0743
Level     0,  Iter     2:    Energy =   0.0790
Level     0,  Iter     3:    Energy =   0.0831
Level     0,  Iter     4:    Energy =   0.0868
Level     0,  Iter     5:    Energy =   0.0902
Level     0,  Iter     6:    Energy =   0.0925
Level     0,  Iter     7:    Energy =   0.0944
Level     0,  Iter     8:    Energy =   0.0964
Level     0,  Iter     9:    Energy =   0.0972
Level     0,  Iter    10:    Energy =   0.0975
Level     0,  Iter    11:    Energy =   0.0980
Level     0,  Iter    12:    Energy =   0.0983
Level     0,  Iter    13:    Energy =   0.0989
Level     0,  Iter    14:    Energy =   0.0990
Level     0,  Iter    15:    Energy =   0.0993
Level     0,  Iter    16:    Energy =   0.0994
Level     0,  Iter    17:    Energy =   0.0997
Level     0,  Iter    18:    Energy =   0.0997
Level     0,  Iter    19:    Energy =   0.1000
Level     0,  Iter    20:    Energy =   0.0999
Level     0,  Iter    21:    Energy =   0.1002
Level     0,  Iter    22:    Energy =   0.1001
Level     0,  Iter    23:    Energy =   0.1003
Level     0,  Iter    24:    Energy =   0.1002
Level     0,  Iter    25:    Energy =   0.1005
Level     0,  Iter    26:    Energy =   0.1004
Level     0,  Iter    27:    Energy =   0.1007
Level     0,  Iter    28:    Energy =   0.1006
Level     0,  Iter    29:    Energy =   0.1007
Level     0,  Iter    30:    Energy =   0.1006
Level     0,  Iter    31:    Energy =   0.1008
Level     0,  Iter    32:    Energy =   0.1007
Level     0,  Iter    33:    Energy =   0.1008
Level     0,  Iter    34:    Energy =   0.1007
Level     0,  Iter    35:    Energy =   0.1009
Level     0,  Iter    36:    Energy =   0.1008
Level     0,  Iter    37:    Energy =   0.1009
Level     0,  Iter    38:    Energy =   0.1007
Level     0,  Iter    39:    Energy =   0.1009
Level     0,  Iter    40:    Energy =   0.1008
Level     0,  Iter    41:    Energy =   0.1009
Level     0,  Iter    42:    Energy =   0.1008
Level     0,  Iter    43:    Energy =   0.1010
Level     0,  Iter    44:    Energy =   0.1009
Level     0,  Iter    45:    Energy =   0.1009
Level     0,  Iter    46:    Energy =   0.1008
Level     0,  Iter    47:    Energy =   0.1010
Level     0,  Iter    48:    Energy =   0.1009
Level     0,  Iter    49:    Energy =   0.1009
Level     0,  Iter    50:    Energy =   0.1008
Level     0,  Iter    51:    Energy =   0.1010
Level     0,  Iter    52:    Energy =   0.1010
Level     0,  Iter    53:    Energy =   0.1012
Level     0,  Iter    54:    Energy =   0.1012
Level     0,  Iter    55:    Energy =   0.1014
Level     0,  Iter    56:    Energy =   0.1012
Level     0,  Iter    57:    Energy =   0.1011
Level     0,  Iter    58:    Energy =   0.1009
Level     0,  Iter    59:    Energy =   0.1011
END OF LEVEL     0    DetJac Range:   0.4515  to   2.4245 
  Avg. Gradient Time  : 0.0070s  37.05% 
  Avg. Gaussian Time  : 0.0090s  47.97% 
  Avg. Iteration Time : 0.0188s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19469, 1.21242], [0.486232, 0.487728, 0.494969]
Level     1,  Iter     0:    Energy =   0.0667
Level     1,  Iter     1:    Energy =   0.0712
Level     1,  Iter     2:    Energy =   0.0748
Level     1,  Iter     3:    Energy =   0.0780
Level     1,  Iter     4:    Energy =   0.0811
Level     1,  Iter     5:    Energy =   0.0837
Level     1,  Iter     6:    Energy =   0.0849
Level     1,  Iter     7:    Energy =   0.0861
Level     1,  Iter     8:    Energy =   0.0874
Level     1,  Iter     9:    Energy =   0.0887
Level     1,  Iter    10:    Energy =   0.0899
Level     1,  Iter    11:    Energy =   0.0899
Level     1,  Iter    12:    Energy =   0.0909
Level     1,  Iter    13:    Energy =   0.0908
Level     1,  Iter    14:    Energy =   0.0917
Level     1,  Iter    15:    Energy =   0.0915
Level     1,  Iter    16:    Energy =   0.0924
Level     1,  Iter    17:    Energy =   0.0921
Level     1,  Iter    18:    Energy =   0.0929
Level     1,  Iter    19:    Energy =   0.0926
Level     1,  Iter    20:    Energy =   0.0932
Level     1,  Iter    21:    Energy =   0.0930
Level     1,  Iter    22:    Energy =   0.0935
Level     1,  Iter    23:    Energy =   0.0932
Level     1,  Iter    24:    Energy =   0.0938
Level     1,  Iter    25:    Energy =   0.0937
Level     1,  Iter    26:    Energy =   0.0939
Level     1,  Iter    27:    Energy =   0.0935
Level     1,  Iter    28:    Energy =   0.0942
Level     1,  Iter    29:    Energy =   0.0939
Level     1,  Iter    30:    Energy =   0.0943
Level     1,  Iter    31:    Energy =   0.0939
Level     1,  Iter    32:    Energy =   0.0946
Level     1,  Iter    33:    Energy =   0.0944
Level     1,  Iter    34:    Energy =   0.0945
Level     1,  Iter    35:    Energy =   0.0941
Level     1,  Iter    36:    Energy =   0.0948
Level     1,  Iter    37:    Energy =   0.0945
Level     1,  Iter    38:    Energy =   0.0947
Level     1,  Iter    39:    Energy =   0.0943
Level     1,  Iter    40:    Energy =   0.0950
Level     1,  Iter    41:    Energy =   0.0947
Level     1,  Iter    42:    Energy =   0.0948
Level     1,  Iter    43:    Energy =   0.0944
Level     1,  Iter    44:    Energy =   0.0950
Level     1,  Iter    45:    Energy =   0.0947
Level     1,  Iter    46:    Energy =   0.0949
Level     1,  Iter    47:    Energy =   0.0944
Level     1,  Iter    48:    Energy =   0.0950
Level     1,  Iter    49:    Energy =   0.0948
Level     1,  Iter    50:    Energy =   0.0949
Level     1,  Iter    51:    Energy =   0.0945
Level     1,  Iter    52:    Energy =   0.0951
Level     1,  Iter    53:    Energy =   0.0948
Level     1,  Iter    54:    Energy =   0.0950
Level     1,  Iter    55:    Energy =   0.0946
Level     1,  Iter    56:    Energy =   0.0951
Level     1,  Iter    57:    Energy =   0.0948
Level     1,  Iter    58:    Energy =   0.0950
Level     1,  Iter    59:    Energy =   0.0947
END OF LEVEL     1    DetJac Range:   0.1764  to   3.6039 
  Avg. Gradient Time  : 0.0401s  39.71% 
  Avg. Gaussian Time  : 0.0488s  48.32% 
  Avg. Iteration Time : 0.1011s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0505
Level     2,  Iter     1:    Energy =   0.0536
Level     2,  Iter     2:    Energy =   0.0564
Level     2,  Iter     3:    Energy =   0.0584
Level     2,  Iter     4:    Energy =   0.0600
Level     2,  Iter     5:    Energy =   0.0613
Level     2,  Iter     6:    Energy =   0.0624
Level     2,  Iter     7:    Energy =   0.0633
Level     2,  Iter     8:    Energy =   0.0641
Level     2,  Iter     9:    Energy =   0.0649
Level     2,  Iter    10:    Energy =   0.0655
Level     2,  Iter    11:    Energy =   0.0661
Level     2,  Iter    12:    Energy =   0.0666
Level     2,  Iter    13:    Energy =   0.0670
Level     2,  Iter    14:    Energy =   0.0674
Level     2,  Iter    15:    Energy =   0.0677
Level     2,  Iter    16:    Energy =   0.0680
Level     2,  Iter    17:    Energy =   0.0682
Level     2,  Iter    18:    Energy =   0.0684
Level     2,  Iter    19:    Energy =   0.0686
END OF LEVEL     2    DetJac Range:   0.0918  to   5.8564 
  Avg. Gradient Time  : 0.2847s  37.44% 
  Avg. Gaussian Time  : 0.3935s  51.73% 
  Avg. Iteration Time : 0.7606s 

real	0m25.404s
user	0m44.828s
sys	0m2.572s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 1'
CHUNK 0.853846 0.859615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 1
====================================
         PROGRESS: 0.853846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1729.25 	 OutFr   0.0025 	 RMSD     2.3355
Iter 002 	 Temp     3.72 	 Delta  1650.50 	 OutFr   0.0025 	 RMSD     2.2240
Iter 003 	 Temp     3.46 	 Delta  1547.58 	 OutFr   0.0025 	 RMSD     2.1914
Iter 004 	 Temp     3.22 	 Delta  1461.13 	 OutFr   0.0025 	 RMSD     2.1597
Iter 005 	 Temp     2.99 	 Delta  1384.67 	 OutFr   0.0025 	 RMSD     2.1331
Iter 006 	 Temp     2.78 	 Delta  1310.38 	 OutFr   0.0074 	 RMSD     2.1118
Iter 007 	 Temp     2.59 	 Delta  1238.42 	 OutFr   0.0098 	 RMSD     2.0941
Iter 008 	 Temp     2.41 	 Delta  1171.28 	 OutFr   0.0098 	 RMSD     2.0796
Iter 009 	 Temp     2.24 	 Delta  1110.77 	 OutFr   0.0098 	 RMSD     2.0683
Iter 010 	 Temp     2.08 	 Delta  1057.48 	 OutFr   0.0098 	 RMSD     2.0598
Iter 011 	 Temp     1.94 	 Delta  1010.59 	 OutFr   0.0098 	 RMSD     2.0533
Iter 012 	 Temp     1.80 	 Delta   968.18 	 OutFr   0.0098 	 RMSD     2.0487
Iter 013 	 Temp     1.67 	 Delta   927.98 	 OutFr   0.0123 	 RMSD     2.0449
Iter 014 	 Temp     1.56 	 Delta   887.94 	 OutFr   0.0147 	 RMSD     2.0417
Iter 015 	 Temp     1.45 	 Delta   847.02 	 OutFr   0.0196 	 RMSD     2.0391
Iter 016 	 Temp     1.35 	 Delta   804.99 	 OutFr   0.0221 	 RMSD     2.0370
Iter 017 	 Temp     1.25 	 Delta   762.00 	 OutFr   0.0368 	 RMSD     2.0354
Iter 018 	 Temp     1.16 	 Delta   718.23 	 OutFr   0.0441 	 RMSD     2.0343
Iter 019 	 Temp     1.08 	 Delta   673.66 	 OutFr   0.0466 	 RMSD     2.0338
Iter 020 	 Temp     1.01 	 Delta   628.38 	 OutFr   0.0490 	 RMSD     2.0340
Iter 021 	 Temp     0.94 	 Delta   584.18 	 OutFr   0.0686 	 RMSD     2.0348
Iter 022 	 Temp     0.87 	 Delta   544.11 	 OutFr   0.0784 	 RMSD     2.0354
Iter 023 	 Temp     0.81 	 Delta   509.00 	 OutFr   0.0980 	 RMSD     2.0348
Iter 024 	 Temp     0.75 	 Delta   477.60 	 OutFr   0.1201 	 RMSD     2.0336
Iter 025 	 Temp     0.70 	 Delta   448.36 	 OutFr   0.1348 	 RMSD     2.0322
Iter 026 	 Temp     0.65 	 Delta   421.98 	 OutFr   0.1495 	 RMSD     2.0308
Iter 027 	 Temp     0.61 	 Delta   397.00 	 OutFr   0.1691 	 RMSD     2.0298
Iter 028 	 Temp     0.56 	 Delta   367.96 	 OutFr   0.1985 	 RMSD     2.0296
Iter 029 	 Temp     0.52 	 Delta   337.05 	 OutFr   0.2230 	 RMSD     2.0313
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.7jY7rQpG/mybin.nii.gz
+ vtklevelset /tmp/ashs.7jY7rQpG/mybin.nii.gz /tmp/ashs.7jY7rQpG/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.7jY7rQpG/mymesh.vtk /tmp/ashs.7jY7rQpG/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2956.73038775   1.10991713
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.7jY7rQpG/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.84721 to 34.6465
   Y : -12.7766 to 30.3215
   Z : -18.1539 to 13.1125
   Image resolution  : 101 by 153 by 118
   Image box origin  : {4.84721, -17.7766, -23.1539}
   Image box size    : {35.0694, 53.125, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.84721, 17.7766, -23.1539]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -o /tmp/ashs.7jY7rQpG/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -o /tmp/ashs.7jY7rQpG/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.7jY7rQpG/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 0.5'
CHUNK 0.859615 0.865385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 0.5
====================================
         PROGRESS: 0.859615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.7jY7rQpG/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.7jY7rQpG/fixed_hw.nii.gz /tmp/ashs.7jY7rQpG/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.517636, moving = 0.483282
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.35936, 2.38443], [0.953763, 0.963206, 0.973439]
Level     0,  Iter     0:    Energy =   0.0353
Level     0,  Iter     1:    Energy =   0.0390
Level     0,  Iter     2:    Energy =   0.0432
Level     0,  Iter     3:    Energy =   0.0474
Level     0,  Iter     4:    Energy =   0.0510
Level     0,  Iter     5:    Energy =   0.0545
Level     0,  Iter     6:    Energy =   0.0571
Level     0,  Iter     7:    Energy =   0.0595
Level     0,  Iter     8:    Energy =   0.0615
Level     0,  Iter     9:    Energy =   0.0628
Level     0,  Iter    10:    Energy =   0.0639
Level     0,  Iter    11:    Energy =   0.0647
Level     0,  Iter    12:    Energy =   0.0655
Level     0,  Iter    13:    Energy =   0.0663
Level     0,  Iter    14:    Energy =   0.0668
Level     0,  Iter    15:    Energy =   0.0675
Level     0,  Iter    16:    Energy =   0.0678
Level     0,  Iter    17:    Energy =   0.0685
Level     0,  Iter    18:    Energy =   0.0685
Level     0,  Iter    19:    Energy =   0.0691
Level     0,  Iter    20:    Energy =   0.0692
Level     0,  Iter    21:    Energy =   0.0697
Level     0,  Iter    22:    Energy =   0.0697
Level     0,  Iter    23:    Energy =   0.0702
Level     0,  Iter    24:    Energy =   0.0701
Level     0,  Iter    25:    Energy =   0.0706
Level     0,  Iter    26:    Energy =   0.0704
Level     0,  Iter    27:    Energy =   0.0709
Level     0,  Iter    28:    Energy =   0.0707
Level     0,  Iter    29:    Energy =   0.0711
Level     0,  Iter    30:    Energy =   0.0709
Level     0,  Iter    31:    Energy =   0.0713
Level     0,  Iter    32:    Energy =   0.0711
Level     0,  Iter    33:    Energy =   0.0715
Level     0,  Iter    34:    Energy =   0.0713
Level     0,  Iter    35:    Energy =   0.0716
Level     0,  Iter    36:    Energy =   0.0716
Level     0,  Iter    37:    Energy =   0.0718
Level     0,  Iter    38:    Energy =   0.0717
Level     0,  Iter    39:    Energy =   0.0720
Level     0,  Iter    40:    Energy =   0.0719
Level     0,  Iter    41:    Energy =   0.0722
Level     0,  Iter    42:    Energy =   0.0720
Level     0,  Iter    43:    Energy =   0.0722
Level     0,  Iter    44:    Energy =   0.0720
Level     0,  Iter    45:    Energy =   0.0723
Level     0,  Iter    46:    Energy =   0.0721
Level     0,  Iter    47:    Energy =   0.0724
Level     0,  Iter    48:    Energy =   0.0722
Level     0,  Iter    49:    Energy =   0.0724
Level     0,  Iter    50:    Energy =   0.0722
Level     0,  Iter    51:    Energy =   0.0725
Level     0,  Iter    52:    Energy =   0.0723
Level     0,  Iter    53:    Energy =   0.0725
Level     0,  Iter    54:    Energy =   0.0723
Level     0,  Iter    55:    Energy =   0.0725
Level     0,  Iter    56:    Energy =   0.0723
Level     0,  Iter    57:    Energy =   0.0726
Level     0,  Iter    58:    Energy =   0.0723
Level     0,  Iter    59:    Energy =   0.0726
END OF LEVEL     0    DetJac Range:   0.2440  to   2.1649 
  Avg. Gradient Time  : 0.0080s  37.64% 
  Avg. Gaussian Time  : 0.0100s  47.34% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.195, 1.21242], [0.486232, 0.487857, 0.494969]
Level     1,  Iter     0:    Energy =   0.0565
Level     1,  Iter     1:    Energy =   0.0601
Level     1,  Iter     2:    Energy =   0.0630
Level     1,  Iter     3:    Energy =   0.0660
Level     1,  Iter     4:    Energy =   0.0684
Level     1,  Iter     5:    Energy =   0.0698
Level     1,  Iter     6:    Energy =   0.0710
Level     1,  Iter     7:    Energy =   0.0718
Level     1,  Iter     8:    Energy =   0.0724
Level     1,  Iter     9:    Energy =   0.0727
Level     1,  Iter    10:    Energy =   0.0730
Level     1,  Iter    11:    Energy =   0.0733
Level     1,  Iter    12:    Energy =   0.0736
Level     1,  Iter    13:    Energy =   0.0739
Level     1,  Iter    14:    Energy =   0.0742
Level     1,  Iter    15:    Energy =   0.0746
Level     1,  Iter    16:    Energy =   0.0750
Level     1,  Iter    17:    Energy =   0.0754
Level     1,  Iter    18:    Energy =   0.0759
Level     1,  Iter    19:    Energy =   0.0763
Level     1,  Iter    20:    Energy =   0.0767
Level     1,  Iter    21:    Energy =   0.0772
Level     1,  Iter    22:    Energy =   0.0776
Level     1,  Iter    23:    Energy =   0.0781
Level     1,  Iter    24:    Energy =   0.0782
Level     1,  Iter    25:    Energy =   0.0779
Level     1,  Iter    26:    Energy =   0.0784
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0784
Level     1,  Iter    30:    Energy =   0.0788
Level     1,  Iter    31:    Energy =   0.0786
Level     1,  Iter    32:    Energy =   0.0790
Level     1,  Iter    33:    Energy =   0.0787
Level     1,  Iter    34:    Energy =   0.0791
Level     1,  Iter    35:    Energy =   0.0789
Level     1,  Iter    36:    Energy =   0.0792
Level     1,  Iter    37:    Energy =   0.0789
Level     1,  Iter    38:    Energy =   0.0794
Level     1,  Iter    39:    Energy =   0.0791
Level     1,  Iter    40:    Energy =   0.0795
Level     1,  Iter    41:    Energy =   0.0792
Level     1,  Iter    42:    Energy =   0.0796
Level     1,  Iter    43:    Energy =   0.0793
Level     1,  Iter    44:    Energy =   0.0797
Level     1,  Iter    45:    Energy =   0.0793
Level     1,  Iter    46:    Energy =   0.0797
Level     1,  Iter    47:    Energy =   0.0795
Level     1,  Iter    48:    Energy =   0.0798
Level     1,  Iter    49:    Energy =   0.0794
Level     1,  Iter    50:    Energy =   0.0798
Level     1,  Iter    51:    Energy =   0.0796
Level     1,  Iter    52:    Energy =   0.0798
Level     1,  Iter    53:    Energy =   0.0794
Level     1,  Iter    54:    Energy =   0.0798
Level     1,  Iter    55:    Energy =   0.0796
Level     1,  Iter    56:    Energy =   0.0798
Level     1,  Iter    57:    Energy =   0.0794
Level     1,  Iter    58:    Energy =   0.0798
Level     1,  Iter    59:    Energy =   0.0796
END OF LEVEL     1    DetJac Range:   0.0854  to   3.4435 
  Avg. Gradient Time  : 0.0459s  39.66% 
  Avg. Gaussian Time  : 0.0561s  48.46% 
  Avg. Iteration Time : 0.1157s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0426
Level     2,  Iter     1:    Energy =   0.0444
Level     2,  Iter     2:    Energy =   0.0460
Level     2,  Iter     3:    Energy =   0.0476
Level     2,  Iter     4:    Energy =   0.0489
Level     2,  Iter     5:    Energy =   0.0498
Level     2,  Iter     6:    Energy =   0.0507
Level     2,  Iter     7:    Energy =   0.0517
Level     2,  Iter     8:    Energy =   0.0528
Level     2,  Iter     9:    Energy =   0.0539
Level     2,  Iter    10:    Energy =   0.0549
Level     2,  Iter    11:    Energy =   0.0558
Level     2,  Iter    12:    Energy =   0.0566
Level     2,  Iter    13:    Energy =   0.0574
Level     2,  Iter    14:    Energy =   0.0581
Level     2,  Iter    15:    Energy =   0.0587
Level     2,  Iter    16:    Energy =   0.0593
Level     2,  Iter    17:    Energy =   0.0598
Level     2,  Iter    18:    Energy =   0.0602
Level     2,  Iter    19:    Energy =   0.0607
END OF LEVEL     2    DetJac Range:   0.0591  to   5.7301 
  Avg. Gradient Time  : 0.3238s  37.67% 
  Avg. Gaussian Time  : 0.4435s  51.61% 
  Avg. Iteration Time : 0.8595s 

real	0m28.925s
user	0m50.980s
sys	0m3.028s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 1'
CHUNK 0.859615 0.865385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 1
====================================
         PROGRESS: 0.859615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2372.77 	 OutFr   0.0025 	 RMSD     3.1465
Iter 002 	 Temp     3.72 	 Delta  2328.25 	 OutFr   0.0000 	 RMSD     2.4265
Iter 003 	 Temp     3.46 	 Delta  2172.35 	 OutFr   0.0000 	 RMSD     2.4062
Iter 004 	 Temp     3.22 	 Delta  2003.83 	 OutFr   0.0000 	 RMSD     2.3700
Iter 005 	 Temp     2.99 	 Delta  1855.10 	 OutFr   0.0000 	 RMSD     2.3329
Iter 006 	 Temp     2.78 	 Delta  1737.46 	 OutFr   0.0049 	 RMSD     2.3016
Iter 007 	 Temp     2.59 	 Delta  1641.19 	 OutFr   0.0049 	 RMSD     2.2763
Iter 008 	 Temp     2.41 	 Delta  1557.85 	 OutFr   0.0049 	 RMSD     2.2554
Iter 009 	 Temp     2.24 	 Delta  1484.24 	 OutFr   0.0049 	 RMSD     2.2382
Iter 010 	 Temp     2.08 	 Delta  1416.49 	 OutFr   0.0074 	 RMSD     2.2235
Iter 011 	 Temp     1.94 	 Delta  1350.59 	 OutFr   0.0098 	 RMSD     2.2117
Iter 012 	 Temp     1.80 	 Delta  1284.59 	 OutFr   0.0098 	 RMSD     2.2017
Iter 013 	 Temp     1.67 	 Delta  1217.34 	 OutFr   0.0098 	 RMSD     2.1925
Iter 014 	 Temp     1.56 	 Delta  1147.33 	 OutFr   0.0147 	 RMSD     2.1835
Iter 015 	 Temp     1.45 	 Delta  1072.16 	 OutFr   0.0196 	 RMSD     2.1751
Iter 016 	 Temp     1.35 	 Delta   991.85 	 OutFr   0.0221 	 RMSD     2.1679
Iter 017 	 Temp     1.25 	 Delta   912.14 	 OutFr   0.0343 	 RMSD     2.1626
Iter 018 	 Temp     1.16 	 Delta   836.85 	 OutFr   0.0441 	 RMSD     2.1603
Iter 019 	 Temp     1.08 	 Delta   768.25 	 OutFr   0.0539 	 RMSD     2.1598
Iter 020 	 Temp     1.01 	 Delta   709.98 	 OutFr   0.0637 	 RMSD     2.1609
Iter 021 	 Temp     0.94 	 Delta   652.17 	 OutFr   0.0760 	 RMSD     2.1618
Iter 022 	 Temp     0.87 	 Delta   594.58 	 OutFr   0.0931 	 RMSD     2.1623
Iter 023 	 Temp     0.81 	 Delta   539.08 	 OutFr   0.1078 	 RMSD     2.1634
Iter 024 	 Temp     0.75 	 Delta   487.93 	 OutFr   0.1422 	 RMSD     2.1660
Iter 025 	 Temp     0.70 	 Delta   440.07 	 OutFr   0.1642 	 RMSD     2.1696
Iter 026 	 Temp     0.65 	 Delta   395.44 	 OutFr   0.1936 	 RMSD     2.1734
Iter 027 	 Temp     0.61 	 Delta   358.39 	 OutFr   0.2181 	 RMSD     2.1782
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.OW5YjE6y/mybin.nii.gz
+ vtklevelset /tmp/ashs.OW5YjE6y/mybin.nii.gz /tmp/ashs.OW5YjE6y/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.OW5YjE6y/mymesh.vtk /tmp/ashs.OW5YjE6y/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2926.74925713   1.09866261
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.OW5YjE6y/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.5674 to 37.0252
   Y : -16.0812 to 25.0725
   Z : -17.7409 to 15.6667
   Image resolution  : 97 by 148 by 125
   Image box origin  : {8.5674, -21.0812, -22.7409}
   Image box size    : {33.6805, 51.3889, 43.7495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.5674, 21.0812, -22.7409]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -o /tmp/ashs.OW5YjE6y/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -o /tmp/ashs.OW5YjE6y/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.OW5YjE6y/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 0.5'
CHUNK 0.865385 0.871154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 0.5
====================================
         PROGRESS: 0.865385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.OW5YjE6y/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.OW5YjE6y/fixed_hw.nii.gz /tmp/ashs.OW5YjE6y/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.518341, moving = 0.491363
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.36801], [0.952629, 0.982092, 0.966737]
Level     0,  Iter     0:    Energy =   0.0479
Level     0,  Iter     1:    Energy =   0.0528
Level     0,  Iter     2:    Energy =   0.0574
Level     0,  Iter     3:    Energy =   0.0620
Level     0,  Iter     4:    Energy =   0.0665
Level     0,  Iter     5:    Energy =   0.0699
Level     0,  Iter     6:    Energy =   0.0730
Level     0,  Iter     7:    Energy =   0.0751
Level     0,  Iter     8:    Energy =   0.0762
Level     0,  Iter     9:    Energy =   0.0775
Level     0,  Iter    10:    Energy =   0.0784
Level     0,  Iter    11:    Energy =   0.0789
Level     0,  Iter    12:    Energy =   0.0796
Level     0,  Iter    13:    Energy =   0.0798
Level     0,  Iter    14:    Energy =   0.0804
Level     0,  Iter    15:    Energy =   0.0804
Level     0,  Iter    16:    Energy =   0.0810
Level     0,  Iter    17:    Energy =   0.0810
Level     0,  Iter    18:    Energy =   0.0815
Level     0,  Iter    19:    Energy =   0.0815
Level     0,  Iter    20:    Energy =   0.0820
Level     0,  Iter    21:    Energy =   0.0819
Level     0,  Iter    22:    Energy =   0.0823
Level     0,  Iter    23:    Energy =   0.0823
Level     0,  Iter    24:    Energy =   0.0826
Level     0,  Iter    25:    Energy =   0.0826
Level     0,  Iter    26:    Energy =   0.0829
Level     0,  Iter    27:    Energy =   0.0829
Level     0,  Iter    28:    Energy =   0.0832
Level     0,  Iter    29:    Energy =   0.0832
Level     0,  Iter    30:    Energy =   0.0834
Level     0,  Iter    31:    Energy =   0.0833
Level     0,  Iter    32:    Energy =   0.0836
Level     0,  Iter    33:    Energy =   0.0835
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0836
Level     0,  Iter    36:    Energy =   0.0838
Level     0,  Iter    37:    Energy =   0.0837
Level     0,  Iter    38:    Energy =   0.0840
Level     0,  Iter    39:    Energy =   0.0838
Level     0,  Iter    40:    Energy =   0.0841
Level     0,  Iter    41:    Energy =   0.0839
Level     0,  Iter    42:    Energy =   0.0843
Level     0,  Iter    43:    Energy =   0.0840
Level     0,  Iter    44:    Energy =   0.0844
Level     0,  Iter    45:    Energy =   0.0841
Level     0,  Iter    46:    Energy =   0.0845
Level     0,  Iter    47:    Energy =   0.0842
Level     0,  Iter    48:    Energy =   0.0845
Level     0,  Iter    49:    Energy =   0.0843
Level     0,  Iter    50:    Energy =   0.0845
Level     0,  Iter    51:    Energy =   0.0844
Level     0,  Iter    52:    Energy =   0.0847
Level     0,  Iter    53:    Energy =   0.0845
Level     0,  Iter    54:    Energy =   0.0847
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0847
Level     0,  Iter    57:    Energy =   0.0845
Level     0,  Iter    58:    Energy =   0.0848
Level     0,  Iter    59:    Energy =   0.0845
END OF LEVEL     0    DetJac Range:   0.2215  to   2.2697 
  Avg. Gradient Time  : 0.0080s  37.59% 
  Avg. Gaussian Time  : 0.0100s  47.20% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.2028], [0.486035, 0.491046, 0.491041]
Level     1,  Iter     0:    Energy =   0.0614
Level     1,  Iter     1:    Energy =   0.0649
Level     1,  Iter     2:    Energy =   0.0683
Level     1,  Iter     3:    Energy =   0.0711
Level     1,  Iter     4:    Energy =   0.0733
Level     1,  Iter     5:    Energy =   0.0754
Level     1,  Iter     6:    Energy =   0.0771
Level     1,  Iter     7:    Energy =   0.0783
Level     1,  Iter     8:    Energy =   0.0797
Level     1,  Iter     9:    Energy =   0.0811
Level     1,  Iter    10:    Energy =   0.0823
Level     1,  Iter    11:    Energy =   0.0831
Level     1,  Iter    12:    Energy =   0.0832
Level     1,  Iter    13:    Energy =   0.0835
Level     1,  Iter    14:    Energy =   0.0833
Level     1,  Iter    15:    Energy =   0.0838
Level     1,  Iter    16:    Energy =   0.0836
Level     1,  Iter    17:    Energy =   0.0842
Level     1,  Iter    18:    Energy =   0.0839
Level     1,  Iter    19:    Energy =   0.0846
Level     1,  Iter    20:    Energy =   0.0843
Level     1,  Iter    21:    Energy =   0.0849
Level     1,  Iter    22:    Energy =   0.0846
Level     1,  Iter    23:    Energy =   0.0852
Level     1,  Iter    24:    Energy =   0.0849
Level     1,  Iter    25:    Energy =   0.0854
Level     1,  Iter    26:    Energy =   0.0851
Level     1,  Iter    27:    Energy =   0.0856
Level     1,  Iter    28:    Energy =   0.0852
Level     1,  Iter    29:    Energy =   0.0858
Level     1,  Iter    30:    Energy =   0.0854
Level     1,  Iter    31:    Energy =   0.0858
Level     1,  Iter    32:    Energy =   0.0855
Level     1,  Iter    33:    Energy =   0.0859
Level     1,  Iter    34:    Energy =   0.0855
Level     1,  Iter    35:    Energy =   0.0859
Level     1,  Iter    36:    Energy =   0.0855
Level     1,  Iter    37:    Energy =   0.0859
Level     1,  Iter    38:    Energy =   0.0855
Level     1,  Iter    39:    Energy =   0.0859
Level     1,  Iter    40:    Energy =   0.0855
Level     1,  Iter    41:    Energy =   0.0858
Level     1,  Iter    42:    Energy =   0.0855
Level     1,  Iter    43:    Energy =   0.0858
Level     1,  Iter    44:    Energy =   0.0855
Level     1,  Iter    45:    Energy =   0.0858
Level     1,  Iter    46:    Energy =   0.0855
Level     1,  Iter    47:    Energy =   0.0858
Level     1,  Iter    48:    Energy =   0.0856
Level     1,  Iter    49:    Energy =   0.0858
Level     1,  Iter    50:    Energy =   0.0856
Level     1,  Iter    51:    Energy =   0.0858
Level     1,  Iter    52:    Energy =   0.0856
Level     1,  Iter    53:    Energy =   0.0858
Level     1,  Iter    54:    Energy =   0.0856
Level     1,  Iter    55:    Energy =   0.0858
Level     1,  Iter    56:    Energy =   0.0855
Level     1,  Iter    57:    Energy =   0.0858
Level     1,  Iter    58:    Energy =   0.0855
Level     1,  Iter    59:    Energy =   0.0858
END OF LEVEL     1    DetJac Range:   0.1150  to   2.8304 
  Avg. Gradient Time  : 0.0459s  39.83% 
  Avg. Gaussian Time  : 0.0554s  48.07% 
  Avg. Iteration Time : 0.1152s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0451
Level     2,  Iter     1:    Energy =   0.0479
Level     2,  Iter     2:    Energy =   0.0506
Level     2,  Iter     3:    Energy =   0.0525
Level     2,  Iter     4:    Energy =   0.0544
Level     2,  Iter     5:    Energy =   0.0558
Level     2,  Iter     6:    Energy =   0.0571
Level     2,  Iter     7:    Energy =   0.0582
Level     2,  Iter     8:    Energy =   0.0592
Level     2,  Iter     9:    Energy =   0.0601
Level     2,  Iter    10:    Energy =   0.0609
Level     2,  Iter    11:    Energy =   0.0616
Level     2,  Iter    12:    Energy =   0.0623
Level     2,  Iter    13:    Energy =   0.0628
Level     2,  Iter    14:    Energy =   0.0633
Level     2,  Iter    15:    Energy =   0.0637
Level     2,  Iter    16:    Energy =   0.0641
Level     2,  Iter    17:    Energy =   0.0644
Level     2,  Iter    18:    Energy =   0.0647
Level     2,  Iter    19:    Energy =   0.0650
END OF LEVEL     2    DetJac Range:   0.0522  to   4.6365 
  Avg. Gradient Time  : 0.3381s  38.63% 
  Avg. Gaussian Time  : 0.4464s  51.00% 
  Avg. Iteration Time : 0.8753s 

real	0m29.035s
user	0m51.120s
sys	0m2.824s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 1'
CHUNK 0.865385 0.871154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 1
====================================
         PROGRESS: 0.865385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2571.51 	 OutFr   0.0000 	 RMSD     3.0675
Iter 002 	 Temp     3.72 	 Delta  2349.15 	 OutFr   0.0000 	 RMSD     2.2453
Iter 003 	 Temp     3.46 	 Delta  2213.31 	 OutFr   0.0000 	 RMSD     2.1974
Iter 004 	 Temp     3.22 	 Delta  2094.95 	 OutFr   0.0025 	 RMSD     2.1703
Iter 005 	 Temp     2.99 	 Delta  1990.43 	 OutFr   0.0025 	 RMSD     2.1482
Iter 006 	 Temp     2.78 	 Delta  1894.46 	 OutFr   0.0025 	 RMSD     2.1312
Iter 007 	 Temp     2.59 	 Delta  1802.04 	 OutFr   0.0025 	 RMSD     2.1173
Iter 008 	 Temp     2.41 	 Delta  1710.78 	 OutFr   0.0025 	 RMSD     2.1055
Iter 009 	 Temp     2.24 	 Delta  1620.10 	 OutFr   0.0025 	 RMSD     2.0958
Iter 010 	 Temp     2.08 	 Delta  1531.30 	 OutFr   0.0025 	 RMSD     2.0876
Iter 011 	 Temp     1.94 	 Delta  1447.64 	 OutFr   0.0025 	 RMSD     2.0805
Iter 012 	 Temp     1.80 	 Delta  1371.27 	 OutFr   0.0025 	 RMSD     2.0745
Iter 013 	 Temp     1.67 	 Delta  1300.32 	 OutFr   0.0025 	 RMSD     2.0689
Iter 014 	 Temp     1.56 	 Delta  1231.88 	 OutFr   0.0025 	 RMSD     2.0644
Iter 015 	 Temp     1.45 	 Delta  1164.22 	 OutFr   0.0074 	 RMSD     2.0603
Iter 016 	 Temp     1.35 	 Delta  1097.67 	 OutFr   0.0098 	 RMSD     2.0572
Iter 017 	 Temp     1.25 	 Delta  1032.48 	 OutFr   0.0123 	 RMSD     2.0548
Iter 018 	 Temp     1.16 	 Delta   966.52 	 OutFr   0.0147 	 RMSD     2.0532
Iter 019 	 Temp     1.08 	 Delta   899.24 	 OutFr   0.0147 	 RMSD     2.0519
Iter 020 	 Temp     1.01 	 Delta   832.76 	 OutFr   0.0343 	 RMSD     2.0512
Iter 021 	 Temp     0.94 	 Delta   770.00 	 OutFr   0.0441 	 RMSD     2.0509
Iter 022 	 Temp     0.87 	 Delta   713.31 	 OutFr   0.0564 	 RMSD     2.0510
Iter 023 	 Temp     0.81 	 Delta   660.83 	 OutFr   0.0637 	 RMSD     2.0515
Iter 024 	 Temp     0.75 	 Delta   607.20 	 OutFr   0.0833 	 RMSD     2.0525
Iter 025 	 Temp     0.70 	 Delta   546.78 	 OutFr   0.1029 	 RMSD     2.0547
Iter 026 	 Temp     0.65 	 Delta   482.97 	 OutFr   0.1299 	 RMSD     2.0600
Iter 027 	 Temp     0.61 	 Delta   421.21 	 OutFr   0.1667 	 RMSD     2.0680
Iter 028 	 Temp     0.56 	 Delta   368.36 	 OutFr   0.2108 	 RMSD     2.0779
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.HAAD9flo/mybin.nii.gz
+ vtklevelset /tmp/ashs.HAAD9flo/mybin.nii.gz /tmp/ashs.HAAD9flo/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.HAAD9flo/mymesh.vtk /tmp/ashs.HAAD9flo/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2723.94668225   1.02253323
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.HAAD9flo/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.078 to 35.7889
   Y : -14.2765 to 27.9061
   Z : -36.589 to -9.51379
   Image resolution  : 100 by 151 by 106
   Image box origin  : {6.078, -19.2765, -41.589}
   Image box size    : {34.7222, 52.4305, 37.0996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.078, 19.2765, -41.589]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -o /tmp/ashs.HAAD9flo/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -o /tmp/ashs.HAAD9flo/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.HAAD9flo/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 0.5'
CHUNK 0.871154 0.876923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 0.5
====================================
         PROGRESS: 0.871154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.HAAD9flo/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.HAAD9flo/fixed_hw.nii.gz /tmp/ashs.HAAD9flo/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.534318, moving = 0.675275
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.3898, 2.37994], [0.982092, 0.975631, 0.971606]
Level     0,  Iter     0:    Energy =   0.0369
Level     0,  Iter     1:    Energy =   0.0417
Level     0,  Iter     2:    Energy =   0.0467
Level     0,  Iter     3:    Energy =   0.0518
Level     0,  Iter     4:    Energy =   0.0570
Level     0,  Iter     5:    Energy =   0.0618
Level     0,  Iter     6:    Energy =   0.0654
Level     0,  Iter     7:    Energy =   0.0682
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0724
Level     0,  Iter    10:    Energy =   0.0743
Level     0,  Iter    11:    Energy =   0.0758
Level     0,  Iter    12:    Energy =   0.0768
Level     0,  Iter    13:    Energy =   0.0777
Level     0,  Iter    14:    Energy =   0.0786
Level     0,  Iter    15:    Energy =   0.0796
Level     0,  Iter    16:    Energy =   0.0806
Level     0,  Iter    17:    Energy =   0.0813
Level     0,  Iter    18:    Energy =   0.0824
Level     0,  Iter    19:    Energy =   0.0823
Level     0,  Iter    20:    Energy =   0.0829
Level     0,  Iter    21:    Energy =   0.0827
Level     0,  Iter    22:    Energy =   0.0834
Level     0,  Iter    23:    Energy =   0.0833
Level     0,  Iter    24:    Energy =   0.0837
Level     0,  Iter    25:    Energy =   0.0834
Level     0,  Iter    26:    Energy =   0.0839
Level     0,  Iter    27:    Energy =   0.0835
Level     0,  Iter    28:    Energy =   0.0837
Level     0,  Iter    29:    Energy =   0.0836
Level     0,  Iter    30:    Energy =   0.0837
Level     0,  Iter    31:    Energy =   0.0836
Level     0,  Iter    32:    Energy =   0.0838
Level     0,  Iter    33:    Energy =   0.0836
Level     0,  Iter    34:    Energy =   0.0838
Level     0,  Iter    35:    Energy =   0.0837
Level     0,  Iter    36:    Energy =   0.0838
Level     0,  Iter    37:    Energy =   0.0837
Level     0,  Iter    38:    Energy =   0.0839
Level     0,  Iter    39:    Energy =   0.0838
Level     0,  Iter    40:    Energy =   0.0839
Level     0,  Iter    41:    Energy =   0.0838
Level     0,  Iter    42:    Energy =   0.0840
Level     0,  Iter    43:    Energy =   0.0839
Level     0,  Iter    44:    Energy =   0.0839
Level     0,  Iter    45:    Energy =   0.0840
Level     0,  Iter    46:    Energy =   0.0840
Level     0,  Iter    47:    Energy =   0.0840
Level     0,  Iter    48:    Energy =   0.0840
Level     0,  Iter    49:    Energy =   0.0841
Level     0,  Iter    50:    Energy =   0.0841
Level     0,  Iter    51:    Energy =   0.0842
Level     0,  Iter    52:    Energy =   0.0842
Level     0,  Iter    53:    Energy =   0.0843
Level     0,  Iter    54:    Energy =   0.0843
Level     0,  Iter    55:    Energy =   0.0843
Level     0,  Iter    56:    Energy =   0.0843
Level     0,  Iter    57:    Energy =   0.0844
Level     0,  Iter    58:    Energy =   0.0844
Level     0,  Iter    59:    Energy =   0.0844
END OF LEVEL     0    DetJac Range:   0.2287  to   2.5418 
  Avg. Gradient Time  : 0.0070s  37.39% 
  Avg. Gaussian Time  : 0.0089s  47.61% 
  Avg. Iteration Time : 0.0188s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1949, 1.21242], [0.491046, 0.487815, 0.494969]
Level     1,  Iter     0:    Energy =   0.0592
Level     1,  Iter     1:    Energy =   0.0631
Level     1,  Iter     2:    Energy =   0.0668
Level     1,  Iter     3:    Energy =   0.0696
Level     1,  Iter     4:    Energy =   0.0721
Level     1,  Iter     5:    Energy =   0.0744
Level     1,  Iter     6:    Energy =   0.0759
Level     1,  Iter     7:    Energy =   0.0772
Level     1,  Iter     8:    Energy =   0.0784
Level     1,  Iter     9:    Energy =   0.0792
Level     1,  Iter    10:    Energy =   0.0801
Level     1,  Iter    11:    Energy =   0.0808
Level     1,  Iter    12:    Energy =   0.0816
Level     1,  Iter    13:    Energy =   0.0824
Level     1,  Iter    14:    Energy =   0.0831
Level     1,  Iter    15:    Energy =   0.0828
Level     1,  Iter    16:    Energy =   0.0835
Level     1,  Iter    17:    Energy =   0.0833
Level     1,  Iter    18:    Energy =   0.0834
Level     1,  Iter    19:    Energy =   0.0831
Level     1,  Iter    20:    Energy =   0.0836
Level     1,  Iter    21:    Energy =   0.0834
Level     1,  Iter    22:    Energy =   0.0836
Level     1,  Iter    23:    Energy =   0.0832
Level     1,  Iter    24:    Energy =   0.0840
Level     1,  Iter    25:    Energy =   0.0842
Level     1,  Iter    26:    Energy =   0.0840
Level     1,  Iter    27:    Energy =   0.0836
Level     1,  Iter    28:    Energy =   0.0844
Level     1,  Iter    29:    Energy =   0.0844
Level     1,  Iter    30:    Energy =   0.0842
Level     1,  Iter    31:    Energy =   0.0837
Level     1,  Iter    32:    Energy =   0.0846
Level     1,  Iter    33:    Energy =   0.0846
Level     1,  Iter    34:    Energy =   0.0844
Level     1,  Iter    35:    Energy =   0.0839
Level     1,  Iter    36:    Energy =   0.0848
Level     1,  Iter    37:    Energy =   0.0849
Level     1,  Iter    38:    Energy =   0.0847
Level     1,  Iter    39:    Energy =   0.0842
Level     1,  Iter    40:    Energy =   0.0851
Level     1,  Iter    41:    Energy =   0.0850
Level     1,  Iter    42:    Energy =   0.0848
Level     1,  Iter    43:    Energy =   0.0843
Level     1,  Iter    44:    Energy =   0.0852
Level     1,  Iter    45:    Energy =   0.0850
Level     1,  Iter    46:    Energy =   0.0849
Level     1,  Iter    47:    Energy =   0.0844
Level     1,  Iter    48:    Energy =   0.0853
Level     1,  Iter    49:    Energy =   0.0851
Level     1,  Iter    50:    Energy =   0.0850
Level     1,  Iter    51:    Energy =   0.0845
Level     1,  Iter    52:    Energy =   0.0853
Level     1,  Iter    53:    Energy =   0.0850
Level     1,  Iter    54:    Energy =   0.0851
Level     1,  Iter    55:    Energy =   0.0847
Level     1,  Iter    56:    Energy =   0.0855
Level     1,  Iter    57:    Energy =   0.0851
Level     1,  Iter    58:    Energy =   0.0852
Level     1,  Iter    59:    Energy =   0.0848
END OF LEVEL     1    DetJac Range:   0.1184  to   4.1759 
  Avg. Gradient Time  : 0.0399s  39.86% 
  Avg. Gaussian Time  : 0.0482s  48.19% 
  Avg. Iteration Time : 0.1001s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0441
Level     2,  Iter     1:    Energy =   0.0466
Level     2,  Iter     2:    Energy =   0.0489
Level     2,  Iter     3:    Energy =   0.0512
Level     2,  Iter     4:    Energy =   0.0532
Level     2,  Iter     5:    Energy =   0.0549
Level     2,  Iter     6:    Energy =   0.0563
Level     2,  Iter     7:    Energy =   0.0575
Level     2,  Iter     8:    Energy =   0.0584
Level     2,  Iter     9:    Energy =   0.0591
Level     2,  Iter    10:    Energy =   0.0599
Level     2,  Iter    11:    Energy =   0.0607
Level     2,  Iter    12:    Energy =   0.0614
Level     2,  Iter    13:    Energy =   0.0620
Level     2,  Iter    14:    Energy =   0.0625
Level     2,  Iter    15:    Energy =   0.0629
Level     2,  Iter    16:    Energy =   0.0632
Level     2,  Iter    17:    Energy =   0.0635
Level     2,  Iter    18:    Energy =   0.0637
Level     2,  Iter    19:    Energy =   0.0638
END OF LEVEL     2    DetJac Range:   0.0828  to   4.9457 
  Avg. Gradient Time  : 0.2831s  37.27% 
  Avg. Gaussian Time  : 0.3949s  51.99% 
  Avg. Iteration Time : 0.7596s 

real	0m25.304s
user	0m44.504s
sys	0m2.520s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 1'
CHUNK 0.871154 0.876923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 1
====================================
         PROGRESS: 0.871154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2399.75 	 OutFr   0.0000 	 RMSD     2.4855
Iter 002 	 Temp     3.72 	 Delta  2357.14 	 OutFr   0.0000 	 RMSD     2.3433
Iter 003 	 Temp     3.46 	 Delta  2247.08 	 OutFr   0.0000 	 RMSD     2.3440
Iter 004 	 Temp     3.22 	 Delta  2114.93 	 OutFr   0.0000 	 RMSD     2.3162
Iter 005 	 Temp     2.99 	 Delta  1973.00 	 OutFr   0.0000 	 RMSD     2.2864
Iter 006 	 Temp     2.78 	 Delta  1828.90 	 OutFr   0.0000 	 RMSD     2.2608
Iter 007 	 Temp     2.59 	 Delta  1692.13 	 OutFr   0.0000 	 RMSD     2.2401
Iter 008 	 Temp     2.41 	 Delta  1569.92 	 OutFr   0.0000 	 RMSD     2.2223
Iter 009 	 Temp     2.24 	 Delta  1465.33 	 OutFr   0.0049 	 RMSD     2.2084
Iter 010 	 Temp     2.08 	 Delta  1378.09 	 OutFr   0.0074 	 RMSD     2.1973
Iter 011 	 Temp     1.94 	 Delta  1305.55 	 OutFr   0.0074 	 RMSD     2.1878
Iter 012 	 Temp     1.80 	 Delta  1243.21 	 OutFr   0.0074 	 RMSD     2.1807
Iter 013 	 Temp     1.67 	 Delta  1185.32 	 OutFr   0.0074 	 RMSD     2.1742
Iter 014 	 Temp     1.56 	 Delta  1125.41 	 OutFr   0.0098 	 RMSD     2.1683
Iter 015 	 Temp     1.45 	 Delta  1057.62 	 OutFr   0.0147 	 RMSD     2.1621
Iter 016 	 Temp     1.35 	 Delta   979.39 	 OutFr   0.0196 	 RMSD     2.1554
Iter 017 	 Temp     1.25 	 Delta   890.78 	 OutFr   0.0245 	 RMSD     2.1480
Iter 018 	 Temp     1.16 	 Delta   794.03 	 OutFr   0.0319 	 RMSD     2.1418
Iter 019 	 Temp     1.08 	 Delta   703.12 	 OutFr   0.0441 	 RMSD     2.1381
Iter 020 	 Temp     1.01 	 Delta   635.24 	 OutFr   0.0588 	 RMSD     2.1361
Iter 021 	 Temp     0.94 	 Delta   583.71 	 OutFr   0.0711 	 RMSD     2.1355
Iter 022 	 Temp     0.87 	 Delta   540.48 	 OutFr   0.0907 	 RMSD     2.1367
Iter 023 	 Temp     0.81 	 Delta   504.41 	 OutFr   0.1152 	 RMSD     2.1400
Iter 024 	 Temp     0.75 	 Delta   470.65 	 OutFr   0.1275 	 RMSD     2.1442
Iter 025 	 Temp     0.70 	 Delta   437.77 	 OutFr   0.1495 	 RMSD     2.1484
Iter 026 	 Temp     0.65 	 Delta   404.34 	 OutFr   0.1667 	 RMSD     2.1523
Iter 027 	 Temp     0.61 	 Delta   368.57 	 OutFr   0.1961 	 RMSD     2.1560
Iter 028 	 Temp     0.56 	 Delta   331.17 	 OutFr   0.2279 	 RMSD     2.1594
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.u2kUOPxz/mybin.nii.gz
+ vtklevelset /tmp/ashs.u2kUOPxz/mybin.nii.gz /tmp/ashs.u2kUOPxz/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.u2kUOPxz/mymesh.vtk /tmp/ashs.u2kUOPxz/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2668.81355993   1.00183700
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.u2kUOPxz/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.92612 to 32.5975
   Y : -11.4551 to 29.8136
   Z : -28.7191 to 2.41605
   Image resolution  : 95 by 148 by 118
   Image box origin  : {4.92612, -16.4551, -33.7191}
   Image box size    : {32.9861, 51.3889, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.92612, 16.4551, -33.7191]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -o /tmp/ashs.u2kUOPxz/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -o /tmp/ashs.u2kUOPxz/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.u2kUOPxz/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 0.5'
CHUNK 0.876923 0.882692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 0.5
====================================
         PROGRESS: 0.876923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.u2kUOPxz/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.u2kUOPxz/fixed_hw.nii.gz /tmp/ashs.u2kUOPxz/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.526933, moving = 0.567873
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.40562, 2.38443], [0.971862, 0.982092, 0.973439]
Level     0,  Iter     0:    Energy =   0.0459
Level     0,  Iter     1:    Energy =   0.0532
Level     0,  Iter     2:    Energy =   0.0588
Level     0,  Iter     3:    Energy =   0.0639
Level     0,  Iter     4:    Energy =   0.0688
Level     0,  Iter     5:    Energy =   0.0726
Level     0,  Iter     6:    Energy =   0.0759
Level     0,  Iter     7:    Energy =   0.0779
Level     0,  Iter     8:    Energy =   0.0802
Level     0,  Iter     9:    Energy =   0.0823
Level     0,  Iter    10:    Energy =   0.0840
Level     0,  Iter    11:    Energy =   0.0850
Level     0,  Iter    12:    Energy =   0.0857
Level     0,  Iter    13:    Energy =   0.0860
Level     0,  Iter    14:    Energy =   0.0866
Level     0,  Iter    15:    Energy =   0.0870
Level     0,  Iter    16:    Energy =   0.0874
Level     0,  Iter    17:    Energy =   0.0876
Level     0,  Iter    18:    Energy =   0.0880
Level     0,  Iter    19:    Energy =   0.0880
Level     0,  Iter    20:    Energy =   0.0885
Level     0,  Iter    21:    Energy =   0.0884
Level     0,  Iter    22:    Energy =   0.0887
Level     0,  Iter    23:    Energy =   0.0886
Level     0,  Iter    24:    Energy =   0.0889
Level     0,  Iter    25:    Energy =   0.0887
Level     0,  Iter    26:    Energy =   0.0890
Level     0,  Iter    27:    Energy =   0.0889
Level     0,  Iter    28:    Energy =   0.0892
Level     0,  Iter    29:    Energy =   0.0890
Level     0,  Iter    30:    Energy =   0.0893
Level     0,  Iter    31:    Energy =   0.0891
Level     0,  Iter    32:    Energy =   0.0894
Level     0,  Iter    33:    Energy =   0.0893
Level     0,  Iter    34:    Energy =   0.0895
Level     0,  Iter    35:    Energy =   0.0894
Level     0,  Iter    36:    Energy =   0.0896
Level     0,  Iter    37:    Energy =   0.0895
Level     0,  Iter    38:    Energy =   0.0898
Level     0,  Iter    39:    Energy =   0.0895
Level     0,  Iter    40:    Energy =   0.0898
Level     0,  Iter    41:    Energy =   0.0896
Level     0,  Iter    42:    Energy =   0.0899
Level     0,  Iter    43:    Energy =   0.0897
Level     0,  Iter    44:    Energy =   0.0899
Level     0,  Iter    45:    Energy =   0.0897
Level     0,  Iter    46:    Energy =   0.0899
Level     0,  Iter    47:    Energy =   0.0898
Level     0,  Iter    48:    Energy =   0.0900
Level     0,  Iter    49:    Energy =   0.0899
Level     0,  Iter    50:    Energy =   0.0901
Level     0,  Iter    51:    Energy =   0.0899
Level     0,  Iter    52:    Energy =   0.0901
Level     0,  Iter    53:    Energy =   0.0900
Level     0,  Iter    54:    Energy =   0.0902
Level     0,  Iter    55:    Energy =   0.0900
Level     0,  Iter    56:    Energy =   0.0902
Level     0,  Iter    57:    Energy =   0.0900
Level     0,  Iter    58:    Energy =   0.0903
Level     0,  Iter    59:    Energy =   0.0901
END OF LEVEL     0    DetJac Range:   0.3349  to   2.2536 
  Avg. Gradient Time  : 0.0066s  37.65% 
  Avg. Gaussian Time  : 0.0083s  47.27% 
  Avg. Iteration Time : 0.0175s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.21242], [0.485931, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0649
Level     1,  Iter     1:    Energy =   0.0690
Level     1,  Iter     2:    Energy =   0.0724
Level     1,  Iter     3:    Energy =   0.0753
Level     1,  Iter     4:    Energy =   0.0777
Level     1,  Iter     5:    Energy =   0.0797
Level     1,  Iter     6:    Energy =   0.0813
Level     1,  Iter     7:    Energy =   0.0823
Level     1,  Iter     8:    Energy =   0.0832
Level     1,  Iter     9:    Energy =   0.0836
Level     1,  Iter    10:    Energy =   0.0838
Level     1,  Iter    11:    Energy =   0.0842
Level     1,  Iter    12:    Energy =   0.0842
Level     1,  Iter    13:    Energy =   0.0848
Level     1,  Iter    14:    Energy =   0.0847
Level     1,  Iter    15:    Energy =   0.0852
Level     1,  Iter    16:    Energy =   0.0851
Level     1,  Iter    17:    Energy =   0.0857
Level     1,  Iter    18:    Energy =   0.0855
Level     1,  Iter    19:    Energy =   0.0861
Level     1,  Iter    20:    Energy =   0.0858
Level     1,  Iter    21:    Energy =   0.0863
Level     1,  Iter    22:    Energy =   0.0861
Level     1,  Iter    23:    Energy =   0.0866
Level     1,  Iter    24:    Energy =   0.0863
Level     1,  Iter    25:    Energy =   0.0870
Level     1,  Iter    26:    Energy =   0.0867
Level     1,  Iter    27:    Energy =   0.0874
Level     1,  Iter    28:    Energy =   0.0870
Level     1,  Iter    29:    Energy =   0.0877
Level     1,  Iter    30:    Energy =   0.0872
Level     1,  Iter    31:    Energy =   0.0878
Level     1,  Iter    32:    Energy =   0.0874
Level     1,  Iter    33:    Energy =   0.0879
Level     1,  Iter    34:    Energy =   0.0875
Level     1,  Iter    35:    Energy =   0.0880
Level     1,  Iter    36:    Energy =   0.0876
Level     1,  Iter    37:    Energy =   0.0880
Level     1,  Iter    38:    Energy =   0.0876
Level     1,  Iter    39:    Energy =   0.0881
Level     1,  Iter    40:    Energy =   0.0877
Level     1,  Iter    41:    Energy =   0.0883
Level     1,  Iter    42:    Energy =   0.0879
Level     1,  Iter    43:    Energy =   0.0885
Level     1,  Iter    44:    Energy =   0.0881
Level     1,  Iter    45:    Energy =   0.0883
Level     1,  Iter    46:    Energy =   0.0878
Level     1,  Iter    47:    Energy =   0.0885
Level     1,  Iter    48:    Energy =   0.0881
Level     1,  Iter    49:    Energy =   0.0883
Level     1,  Iter    50:    Energy =   0.0878
Level     1,  Iter    51:    Energy =   0.0886
Level     1,  Iter    52:    Energy =   0.0882
Level     1,  Iter    53:    Energy =   0.0882
Level     1,  Iter    54:    Energy =   0.0877
Level     1,  Iter    55:    Energy =   0.0881
Level     1,  Iter    56:    Energy =   0.0877
Level     1,  Iter    57:    Energy =   0.0884
Level     1,  Iter    58:    Energy =   0.0879
Level     1,  Iter    59:    Energy =   0.0885
END OF LEVEL     1    DetJac Range:   0.2225  to   3.4221 
  Avg. Gradient Time  : 0.0380s  40.72% 
  Avg. Gaussian Time  : 0.0442s  47.33% 
  Avg. Iteration Time : 0.0933s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0459
Level     2,  Iter     1:    Energy =   0.0484
Level     2,  Iter     2:    Energy =   0.0506
Level     2,  Iter     3:    Energy =   0.0528
Level     2,  Iter     4:    Energy =   0.0547
Level     2,  Iter     5:    Energy =   0.0562
Level     2,  Iter     6:    Energy =   0.0575
Level     2,  Iter     7:    Energy =   0.0587
Level     2,  Iter     8:    Energy =   0.0597
Level     2,  Iter     9:    Energy =   0.0605
Level     2,  Iter    10:    Energy =   0.0614
Level     2,  Iter    11:    Energy =   0.0622
Level     2,  Iter    12:    Energy =   0.0629
Level     2,  Iter    13:    Energy =   0.0635
Level     2,  Iter    14:    Energy =   0.0640
Level     2,  Iter    15:    Energy =   0.0644
Level     2,  Iter    16:    Energy =   0.0647
Level     2,  Iter    17:    Energy =   0.0649
Level     2,  Iter    18:    Energy =   0.0652
Level     2,  Iter    19:    Energy =   0.0654
END OF LEVEL     2    DetJac Range:   0.0581  to   5.0537 
  Avg. Gradient Time  : 0.2654s  37.71% 
  Avg. Gaussian Time  : 0.3651s  51.87% 
  Avg. Iteration Time : 0.7038s 

real	0m23.533s
user	0m41.068s
sys	0m2.780s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 1'
CHUNK 0.876923 0.882692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 1
====================================
         PROGRESS: 0.876923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1819.24 	 OutFr   0.0000 	 RMSD     2.3238
Iter 002 	 Temp     3.72 	 Delta  1848.41 	 OutFr   0.0000 	 RMSD     1.9029
Iter 003 	 Temp     3.46 	 Delta  1682.53 	 OutFr   0.0000 	 RMSD     1.9215
Iter 004 	 Temp     3.22 	 Delta  1513.57 	 OutFr   0.0000 	 RMSD     1.8955
Iter 005 	 Temp     2.99 	 Delta  1363.97 	 OutFr   0.0000 	 RMSD     1.8640
Iter 006 	 Temp     2.78 	 Delta  1235.59 	 OutFr   0.0000 	 RMSD     1.8336
Iter 007 	 Temp     2.59 	 Delta  1126.43 	 OutFr   0.0000 	 RMSD     1.8086
Iter 008 	 Temp     2.41 	 Delta  1033.57 	 OutFr   0.0000 	 RMSD     1.7874
Iter 009 	 Temp     2.24 	 Delta   953.51 	 OutFr   0.0000 	 RMSD     1.7701
Iter 010 	 Temp     2.08 	 Delta   883.08 	 OutFr   0.0000 	 RMSD     1.7549
Iter 011 	 Temp     1.94 	 Delta   820.54 	 OutFr   0.0000 	 RMSD     1.7422
Iter 012 	 Temp     1.80 	 Delta   765.08 	 OutFr   0.0000 	 RMSD     1.7322
Iter 013 	 Temp     1.67 	 Delta   716.12 	 OutFr   0.0000 	 RMSD     1.7242
Iter 014 	 Temp     1.56 	 Delta   673.32 	 OutFr   0.0049 	 RMSD     1.7180
Iter 015 	 Temp     1.45 	 Delta   636.29 	 OutFr   0.0049 	 RMSD     1.7138
Iter 016 	 Temp     1.35 	 Delta   603.85 	 OutFr   0.0049 	 RMSD     1.7104
Iter 017 	 Temp     1.25 	 Delta   574.06 	 OutFr   0.0074 	 RMSD     1.7078
Iter 018 	 Temp     1.16 	 Delta   545.22 	 OutFr   0.0123 	 RMSD     1.7059
Iter 019 	 Temp     1.08 	 Delta   516.11 	 OutFr   0.0172 	 RMSD     1.7042
Iter 020 	 Temp     1.01 	 Delta   486.15 	 OutFr   0.0221 	 RMSD     1.7028
Iter 021 	 Temp     0.94 	 Delta   457.14 	 OutFr   0.0245 	 RMSD     1.7021
Iter 022 	 Temp     0.87 	 Delta   433.59 	 OutFr   0.0343 	 RMSD     1.7019
Iter 023 	 Temp     0.81 	 Delta   414.66 	 OutFr   0.0564 	 RMSD     1.7025
Iter 024 	 Temp     0.75 	 Delta   394.04 	 OutFr   0.0760 	 RMSD     1.7030
Iter 025 	 Temp     0.70 	 Delta   370.57 	 OutFr   0.0833 	 RMSD     1.7027
Iter 026 	 Temp     0.65 	 Delta   346.16 	 OutFr   0.0882 	 RMSD     1.7014
Iter 027 	 Temp     0.61 	 Delta   324.09 	 OutFr   0.0980 	 RMSD     1.6995
Iter 028 	 Temp     0.56 	 Delta   302.41 	 OutFr   0.1275 	 RMSD     1.6994
Iter 029 	 Temp     0.52 	 Delta   279.63 	 OutFr   0.1446 	 RMSD     1.7008
Iter 030 	 Temp     0.49 	 Delta   258.59 	 OutFr   0.1691 	 RMSD     1.7042
Iter 031 	 Temp     0.45 	 Delta   236.23 	 OutFr   0.1936 	 RMSD     1.7088
Iter 032 	 Temp     0.42 	 Delta   214.70 	 OutFr   0.2181 	 RMSD     1.7137
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.k7f3b773/mybin.nii.gz
+ vtklevelset /tmp/ashs.k7f3b773/mybin.nii.gz /tmp/ashs.k7f3b773/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.k7f3b773/mymesh.vtk /tmp/ashs.k7f3b773/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2582.23357028   0.96933602
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.k7f3b773/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.6414 to 33.9394
   Y : -15.2323 to 25.0901
   Z : -24.0909 to 5.76825
   Image resolution  : 94 by 145 by 114
   Image box origin  : {6.6414, -20.2323, -29.0909}
   Image box size    : {32.6389, 50.3472, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.6414, 20.2323, -29.0909]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -o /tmp/ashs.k7f3b773/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -o /tmp/ashs.k7f3b773/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.k7f3b773/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 0.5'
CHUNK 0.882692 0.888462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 0.5
====================================
         PROGRESS: 0.882692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.k7f3b773/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.k7f3b773/fixed_hw.nii.gz /tmp/ashs.k7f3b773/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.50764, moving = 0.781611
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.35686, 2.38304], [0.961632, 0.962185, 0.97287]
Level     0,  Iter     0:    Energy =   0.0565
Level     0,  Iter     1:    Energy =   0.0630
Level     0,  Iter     2:    Energy =   0.0688
Level     0,  Iter     3:    Energy =   0.0740
Level     0,  Iter     4:    Energy =   0.0790
Level     0,  Iter     5:    Energy =   0.0828
Level     0,  Iter     6:    Energy =   0.0862
Level     0,  Iter     7:    Energy =   0.0889
Level     0,  Iter     8:    Energy =   0.0912
Level     0,  Iter     9:    Energy =   0.0932
Level     0,  Iter    10:    Energy =   0.0945
Level     0,  Iter    11:    Energy =   0.0947
Level     0,  Iter    12:    Energy =   0.0955
Level     0,  Iter    13:    Energy =   0.0959
Level     0,  Iter    14:    Energy =   0.0968
Level     0,  Iter    15:    Energy =   0.0972
Level     0,  Iter    16:    Energy =   0.0978
Level     0,  Iter    17:    Energy =   0.0977
Level     0,  Iter    18:    Energy =   0.0983
Level     0,  Iter    19:    Energy =   0.0982
Level     0,  Iter    20:    Energy =   0.0987
Level     0,  Iter    21:    Energy =   0.0985
Level     0,  Iter    22:    Energy =   0.0989
Level     0,  Iter    23:    Energy =   0.0987
Level     0,  Iter    24:    Energy =   0.0991
Level     0,  Iter    25:    Energy =   0.0989
Level     0,  Iter    26:    Energy =   0.0993
Level     0,  Iter    27:    Energy =   0.0992
Level     0,  Iter    28:    Energy =   0.0996
Level     0,  Iter    29:    Energy =   0.0993
Level     0,  Iter    30:    Energy =   0.0997
Level     0,  Iter    31:    Energy =   0.0995
Level     0,  Iter    32:    Energy =   0.0999
Level     0,  Iter    33:    Energy =   0.0998
Level     0,  Iter    34:    Energy =   0.1001
Level     0,  Iter    35:    Energy =   0.0999
Level     0,  Iter    36:    Energy =   0.1002
Level     0,  Iter    37:    Energy =   0.0999
Level     0,  Iter    38:    Energy =   0.1003
Level     0,  Iter    39:    Energy =   0.1000
Level     0,  Iter    40:    Energy =   0.1003
Level     0,  Iter    41:    Energy =   0.1001
Level     0,  Iter    42:    Energy =   0.1004
Level     0,  Iter    43:    Energy =   0.1002
Level     0,  Iter    44:    Energy =   0.1005
Level     0,  Iter    45:    Energy =   0.1003
Level     0,  Iter    46:    Energy =   0.1007
Level     0,  Iter    47:    Energy =   0.1005
Level     0,  Iter    48:    Energy =   0.1008
Level     0,  Iter    49:    Energy =   0.1006
Level     0,  Iter    50:    Energy =   0.1008
Level     0,  Iter    51:    Energy =   0.1006
Level     0,  Iter    52:    Energy =   0.1007
Level     0,  Iter    53:    Energy =   0.1006
Level     0,  Iter    54:    Energy =   0.1007
Level     0,  Iter    55:    Energy =   0.1004
Level     0,  Iter    56:    Energy =   0.1008
Level     0,  Iter    57:    Energy =   0.1005
Level     0,  Iter    58:    Energy =   0.1010
Level     0,  Iter    59:    Energy =   0.1007
END OF LEVEL     0    DetJac Range:   0.3139  to   2.6559 
  Avg. Gradient Time  : 0.0072s  37.67% 
  Avg. Gaussian Time  : 0.0090s  47.21% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19457, 1.21242], [0.491046, 0.487683, 0.494969]
Level     1,  Iter     0:    Energy =   0.0733
Level     1,  Iter     1:    Energy =   0.0777
Level     1,  Iter     2:    Energy =   0.0812
Level     1,  Iter     3:    Energy =   0.0842
Level     1,  Iter     4:    Energy =   0.0870
Level     1,  Iter     5:    Energy =   0.0891
Level     1,  Iter     6:    Energy =   0.0907
Level     1,  Iter     7:    Energy =   0.0920
Level     1,  Iter     8:    Energy =   0.0929
Level     1,  Iter     9:    Energy =   0.0935
Level     1,  Iter    10:    Energy =   0.0940
Level     1,  Iter    11:    Energy =   0.0943
Level     1,  Iter    12:    Energy =   0.0945
Level     1,  Iter    13:    Energy =   0.0948
Level     1,  Iter    14:    Energy =   0.0950
Level     1,  Iter    15:    Energy =   0.0951
Level     1,  Iter    16:    Energy =   0.0952
Level     1,  Iter    17:    Energy =   0.0953
Level     1,  Iter    18:    Energy =   0.0953
Level     1,  Iter    19:    Energy =   0.0954
Level     1,  Iter    20:    Energy =   0.0954
Level     1,  Iter    21:    Energy =   0.0955
Level     1,  Iter    22:    Energy =   0.0956
Level     1,  Iter    23:    Energy =   0.0956
Level     1,  Iter    24:    Energy =   0.0957
Level     1,  Iter    25:    Energy =   0.0958
Level     1,  Iter    26:    Energy =   0.0958
Level     1,  Iter    27:    Energy =   0.0959
Level     1,  Iter    28:    Energy =   0.0960
Level     1,  Iter    29:    Energy =   0.0960
Level     1,  Iter    30:    Energy =   0.0961
Level     1,  Iter    31:    Energy =   0.0962
Level     1,  Iter    32:    Energy =   0.0963
Level     1,  Iter    33:    Energy =   0.0964
Level     1,  Iter    34:    Energy =   0.0964
Level     1,  Iter    35:    Energy =   0.0965
Level     1,  Iter    36:    Energy =   0.0965
Level     1,  Iter    37:    Energy =   0.0966
Level     1,  Iter    38:    Energy =   0.0966
Level     1,  Iter    39:    Energy =   0.0966
Level     1,  Iter    40:    Energy =   0.0967
Level     1,  Iter    41:    Energy =   0.0966
Level     1,  Iter    42:    Energy =   0.0967
Level     1,  Iter    43:    Energy =   0.0967
Level     1,  Iter    44:    Energy =   0.0967
Level     1,  Iter    45:    Energy =   0.0967
Level     1,  Iter    46:    Energy =   0.0967
Level     1,  Iter    47:    Energy =   0.0967
Level     1,  Iter    48:    Energy =   0.0967
Level     1,  Iter    49:    Energy =   0.0967
Level     1,  Iter    50:    Energy =   0.0967
Level     1,  Iter    51:    Energy =   0.0968
Level     1,  Iter    52:    Energy =   0.0968
Level     1,  Iter    53:    Energy =   0.0968
Level     1,  Iter    54:    Energy =   0.0968
Level     1,  Iter    55:    Energy =   0.0968
Level     1,  Iter    56:    Energy =   0.0968
Level     1,  Iter    57:    Energy =   0.0968
Level     1,  Iter    58:    Energy =   0.0969
Level     1,  Iter    59:    Energy =   0.0969
END OF LEVEL     1    DetJac Range:   0.2147  to   3.5043 
  Avg. Gradient Time  : 0.0404s  40.40% 
  Avg. Gaussian Time  : 0.0477s  47.64% 
  Avg. Iteration Time : 0.1000s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0526
Level     2,  Iter     1:    Energy =   0.0551
Level     2,  Iter     2:    Energy =   0.0576
Level     2,  Iter     3:    Energy =   0.0594
Level     2,  Iter     4:    Energy =   0.0609
Level     2,  Iter     5:    Energy =   0.0623
Level     2,  Iter     6:    Energy =   0.0634
Level     2,  Iter     7:    Energy =   0.0646
Level     2,  Iter     8:    Energy =   0.0657
Level     2,  Iter     9:    Energy =   0.0667
Level     2,  Iter    10:    Energy =   0.0675
Level     2,  Iter    11:    Energy =   0.0682
Level     2,  Iter    12:    Energy =   0.0688
Level     2,  Iter    13:    Energy =   0.0693
Level     2,  Iter    14:    Energy =   0.0698
Level     2,  Iter    15:    Energy =   0.0702
Level     2,  Iter    16:    Energy =   0.0706
Level     2,  Iter    17:    Energy =   0.0709
Level     2,  Iter    18:    Energy =   0.0712
Level     2,  Iter    19:    Energy =   0.0715
END OF LEVEL     2    DetJac Range:   0.1101  to   6.8176 
  Avg. Gradient Time  : 0.2781s  37.48% 
  Avg. Gaussian Time  : 0.3836s  51.70% 
  Avg. Iteration Time : 0.7419s 

real	0m24.809s
user	0m43.260s
sys	0m2.832s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 1'
CHUNK 0.882692 0.888462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 1
====================================
         PROGRESS: 0.882692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2275.04 	 OutFr   0.0000 	 RMSD     3.0841
Iter 002 	 Temp     3.72 	 Delta  2210.57 	 OutFr   0.0000 	 RMSD     2.3523
Iter 003 	 Temp     3.46 	 Delta  2096.32 	 OutFr   0.0000 	 RMSD     2.3784
Iter 004 	 Temp     3.22 	 Delta  1973.83 	 OutFr   0.0000 	 RMSD     2.3591
Iter 005 	 Temp     2.99 	 Delta  1851.09 	 OutFr   0.0000 	 RMSD     2.3354
Iter 006 	 Temp     2.78 	 Delta  1728.51 	 OutFr   0.0000 	 RMSD     2.3128
Iter 007 	 Temp     2.59 	 Delta  1607.33 	 OutFr   0.0000 	 RMSD     2.2936
Iter 008 	 Temp     2.41 	 Delta  1492.36 	 OutFr   0.0000 	 RMSD     2.2781
Iter 009 	 Temp     2.24 	 Delta  1390.59 	 OutFr   0.0000 	 RMSD     2.2650
Iter 010 	 Temp     2.08 	 Delta  1305.56 	 OutFr   0.0000 	 RMSD     2.2548
Iter 011 	 Temp     1.94 	 Delta  1234.25 	 OutFr   0.0000 	 RMSD     2.2468
Iter 012 	 Temp     1.80 	 Delta  1170.40 	 OutFr   0.0000 	 RMSD     2.2405
Iter 013 	 Temp     1.67 	 Delta  1108.26 	 OutFr   0.0025 	 RMSD     2.2354
Iter 014 	 Temp     1.56 	 Delta  1044.29 	 OutFr   0.0049 	 RMSD     2.2316
Iter 015 	 Temp     1.45 	 Delta   977.45 	 OutFr   0.0074 	 RMSD     2.2284
Iter 016 	 Temp     1.35 	 Delta   909.27 	 OutFr   0.0074 	 RMSD     2.2254
Iter 017 	 Temp     1.25 	 Delta   843.20 	 OutFr   0.0074 	 RMSD     2.2218
Iter 018 	 Temp     1.16 	 Delta   782.78 	 OutFr   0.0172 	 RMSD     2.2189
Iter 019 	 Temp     1.08 	 Delta   730.92 	 OutFr   0.0245 	 RMSD     2.2168
Iter 020 	 Temp     1.01 	 Delta   686.17 	 OutFr   0.0294 	 RMSD     2.2148
Iter 021 	 Temp     0.94 	 Delta   639.03 	 OutFr   0.0417 	 RMSD     2.2141
Iter 022 	 Temp     0.87 	 Delta   585.95 	 OutFr   0.0588 	 RMSD     2.2150
Iter 023 	 Temp     0.81 	 Delta   529.68 	 OutFr   0.0735 	 RMSD     2.2177
Iter 024 	 Temp     0.75 	 Delta   477.79 	 OutFr   0.1005 	 RMSD     2.2229
Iter 025 	 Temp     0.70 	 Delta   432.58 	 OutFr   0.1299 	 RMSD     2.2315
Iter 026 	 Temp     0.65 	 Delta   391.75 	 OutFr   0.1495 	 RMSD     2.2418
Iter 027 	 Temp     0.61 	 Delta   366.45 	 OutFr   0.1642 	 RMSD     2.2548
Iter 028 	 Temp     0.56 	 Delta   343.77 	 OutFr   0.1863 	 RMSD     2.2657
Iter 029 	 Temp     0.52 	 Delta   316.36 	 OutFr   0.2132 	 RMSD     2.2711
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.BSd6eHN7/mybin.nii.gz
+ vtklevelset /tmp/ashs.BSd6eHN7/mybin.nii.gz /tmp/ashs.BSd6eHN7/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.BSd6eHN7/mymesh.vtk /tmp/ashs.BSd6eHN7/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2502.01040517   0.93922132
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.BSd6eHN7/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.4473 to 32.0666
   Y : -8.42614 to 32.6954
   Z : -24.2921 to 2.73542
   Image resolution  : 92 by 148 by 106
   Image box origin  : {5.4473, -13.4261, -29.2921}
   Image box size    : {31.9444, 51.3889, 37.0996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.4473, 13.4261, -29.2921]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -o /tmp/ashs.BSd6eHN7/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -o /tmp/ashs.BSd6eHN7/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.BSd6eHN7/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 0.5'
CHUNK 0.888462 0.894231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 0.5
====================================
         PROGRESS: 0.888462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.BSd6eHN7/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.BSd6eHN7/fixed_hw.nii.gz /tmp/ashs.BSd6eHN7/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.520799, moving = 0.641915
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.37994], [0.982092, 0.982092, 0.971606]
Level     0,  Iter     0:    Energy =   0.0247
Level     0,  Iter     1:    Energy =   0.0298
Level     0,  Iter     2:    Energy =   0.0345
Level     0,  Iter     3:    Energy =   0.0388
Level     0,  Iter     4:    Energy =   0.0423
Level     0,  Iter     5:    Energy =   0.0451
Level     0,  Iter     6:    Energy =   0.0473
Level     0,  Iter     7:    Energy =   0.0496
Level     0,  Iter     8:    Energy =   0.0515
Level     0,  Iter     9:    Energy =   0.0532
Level     0,  Iter    10:    Energy =   0.0547
Level     0,  Iter    11:    Energy =   0.0559
Level     0,  Iter    12:    Energy =   0.0565
Level     0,  Iter    13:    Energy =   0.0571
Level     0,  Iter    14:    Energy =   0.0577
Level     0,  Iter    15:    Energy =   0.0584
Level     0,  Iter    16:    Energy =   0.0590
Level     0,  Iter    17:    Energy =   0.0600
Level     0,  Iter    18:    Energy =   0.0607
Level     0,  Iter    19:    Energy =   0.0615
Level     0,  Iter    20:    Energy =   0.0622
Level     0,  Iter    21:    Energy =   0.0627
Level     0,  Iter    22:    Energy =   0.0633
Level     0,  Iter    23:    Energy =   0.0638
Level     0,  Iter    24:    Energy =   0.0641
Level     0,  Iter    25:    Energy =   0.0643
Level     0,  Iter    26:    Energy =   0.0646
Level     0,  Iter    27:    Energy =   0.0648
Level     0,  Iter    28:    Energy =   0.0650
Level     0,  Iter    29:    Energy =   0.0653
Level     0,  Iter    30:    Energy =   0.0656
Level     0,  Iter    31:    Energy =   0.0659
Level     0,  Iter    32:    Energy =   0.0663
Level     0,  Iter    33:    Energy =   0.0666
Level     0,  Iter    34:    Energy =   0.0669
Level     0,  Iter    35:    Energy =   0.0671
Level     0,  Iter    36:    Energy =   0.0673
Level     0,  Iter    37:    Energy =   0.0675
Level     0,  Iter    38:    Energy =   0.0677
Level     0,  Iter    39:    Energy =   0.0679
Level     0,  Iter    40:    Energy =   0.0680
Level     0,  Iter    41:    Energy =   0.0683
Level     0,  Iter    42:    Energy =   0.0685
Level     0,  Iter    43:    Energy =   0.0688
Level     0,  Iter    44:    Energy =   0.0688
Level     0,  Iter    45:    Energy =   0.0690
Level     0,  Iter    46:    Energy =   0.0690
Level     0,  Iter    47:    Energy =   0.0693
Level     0,  Iter    48:    Energy =   0.0694
Level     0,  Iter    49:    Energy =   0.0696
Level     0,  Iter    50:    Energy =   0.0698
Level     0,  Iter    51:    Energy =   0.0699
Level     0,  Iter    52:    Energy =   0.0702
Level     0,  Iter    53:    Energy =   0.0702
Level     0,  Iter    54:    Energy =   0.0706
Level     0,  Iter    55:    Energy =   0.0705
Level     0,  Iter    56:    Energy =   0.0709
Level     0,  Iter    57:    Energy =   0.0706
Level     0,  Iter    58:    Energy =   0.0709
Level     0,  Iter    59:    Energy =   0.0706
END OF LEVEL     0    DetJac Range:   0.1585  to   4.1200 
  Avg. Gradient Time  : 0.0066s  37.56% 
  Avg. Gaussian Time  : 0.0083s  47.20% 
  Avg. Iteration Time : 0.0175s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0475
Level     1,  Iter     1:    Energy =   0.0506
Level     1,  Iter     2:    Energy =   0.0536
Level     1,  Iter     3:    Energy =   0.0565
Level     1,  Iter     4:    Energy =   0.0589
Level     1,  Iter     5:    Energy =   0.0607
Level     1,  Iter     6:    Energy =   0.0623
Level     1,  Iter     7:    Energy =   0.0637
Level     1,  Iter     8:    Energy =   0.0649
Level     1,  Iter     9:    Energy =   0.0654
Level     1,  Iter    10:    Energy =   0.0658
Level     1,  Iter    11:    Energy =   0.0662
Level     1,  Iter    12:    Energy =   0.0664
Level     1,  Iter    13:    Energy =   0.0668
Level     1,  Iter    14:    Energy =   0.0673
Level     1,  Iter    15:    Energy =   0.0678
Level     1,  Iter    16:    Energy =   0.0684
Level     1,  Iter    17:    Energy =   0.0690
Level     1,  Iter    18:    Energy =   0.0695
Level     1,  Iter    19:    Energy =   0.0701
Level     1,  Iter    20:    Energy =   0.0706
Level     1,  Iter    21:    Energy =   0.0711
Level     1,  Iter    22:    Energy =   0.0715
Level     1,  Iter    23:    Energy =   0.0717
Level     1,  Iter    24:    Energy =   0.0720
Level     1,  Iter    25:    Energy =   0.0722
Level     1,  Iter    26:    Energy =   0.0724
Level     1,  Iter    27:    Energy =   0.0726
Level     1,  Iter    28:    Energy =   0.0728
Level     1,  Iter    29:    Energy =   0.0730
Level     1,  Iter    30:    Energy =   0.0732
Level     1,  Iter    31:    Energy =   0.0734
Level     1,  Iter    32:    Energy =   0.0737
Level     1,  Iter    33:    Energy =   0.0738
Level     1,  Iter    34:    Energy =   0.0740
Level     1,  Iter    35:    Energy =   0.0742
Level     1,  Iter    36:    Energy =   0.0744
Level     1,  Iter    37:    Energy =   0.0745
Level     1,  Iter    38:    Energy =   0.0747
Level     1,  Iter    39:    Energy =   0.0749
Level     1,  Iter    40:    Energy =   0.0751
Level     1,  Iter    41:    Energy =   0.0752
Level     1,  Iter    42:    Energy =   0.0754
Level     1,  Iter    43:    Energy =   0.0755
Level     1,  Iter    44:    Energy =   0.0757
Level     1,  Iter    45:    Energy =   0.0758
Level     1,  Iter    46:    Energy =   0.0759
Level     1,  Iter    47:    Energy =   0.0760
Level     1,  Iter    48:    Energy =   0.0761
Level     1,  Iter    49:    Energy =   0.0761
Level     1,  Iter    50:    Energy =   0.0762
Level     1,  Iter    51:    Energy =   0.0763
Level     1,  Iter    52:    Energy =   0.0763
Level     1,  Iter    53:    Energy =   0.0763
Level     1,  Iter    54:    Energy =   0.0764
Level     1,  Iter    55:    Energy =   0.0764
Level     1,  Iter    56:    Energy =   0.0764
Level     1,  Iter    57:    Energy =   0.0764
Level     1,  Iter    58:    Energy =   0.0764
Level     1,  Iter    59:    Energy =   0.0764
END OF LEVEL     1    DetJac Range:   0.0679  to   5.7518 
  Avg. Gradient Time  : 0.0370s  40.20% 
  Avg. Gaussian Time  : 0.0440s  47.76% 
  Avg. Iteration Time : 0.0920s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0382
Level     2,  Iter     1:    Energy =   0.0400
Level     2,  Iter     2:    Energy =   0.0416
Level     2,  Iter     3:    Energy =   0.0431
Level     2,  Iter     4:    Energy =   0.0444
Level     2,  Iter     5:    Energy =   0.0457
Level     2,  Iter     6:    Energy =   0.0469
Level     2,  Iter     7:    Energy =   0.0479
Level     2,  Iter     8:    Energy =   0.0488
Level     2,  Iter     9:    Energy =   0.0496
Level     2,  Iter    10:    Energy =   0.0502
Level     2,  Iter    11:    Energy =   0.0507
Level     2,  Iter    12:    Energy =   0.0513
Level     2,  Iter    13:    Energy =   0.0518
Level     2,  Iter    14:    Energy =   0.0523
Level     2,  Iter    15:    Energy =   0.0527
Level     2,  Iter    16:    Energy =   0.0531
Level     2,  Iter    17:    Energy =   0.0535
Level     2,  Iter    18:    Energy =   0.0539
Level     2,  Iter    19:    Energy =   0.0542
END OF LEVEL     2    DetJac Range:   0.0671  to   6.2927 
  Avg. Gradient Time  : 0.2573s  37.48% 
  Avg. Gaussian Time  : 0.3561s  51.88% 
  Avg. Iteration Time : 0.6863s 

real	0m23.041s
user	0m39.928s
sys	0m2.816s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 1'
CHUNK 0.888462 0.894231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 1
====================================
         PROGRESS: 0.888462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2194.24 	 OutFr   0.0000 	 RMSD     3.1319
Iter 002 	 Temp     3.72 	 Delta  2129.36 	 OutFr   0.0000 	 RMSD     2.3733
Iter 003 	 Temp     3.46 	 Delta  2083.75 	 OutFr   0.0000 	 RMSD     2.3935
Iter 004 	 Temp     3.22 	 Delta  2040.65 	 OutFr   0.0000 	 RMSD     2.3662
Iter 005 	 Temp     2.99 	 Delta  1998.57 	 OutFr   0.0025 	 RMSD     2.3378
Iter 006 	 Temp     2.78 	 Delta  1956.54 	 OutFr   0.0049 	 RMSD     2.3128
Iter 007 	 Temp     2.59 	 Delta  1914.05 	 OutFr   0.0049 	 RMSD     2.2924
Iter 008 	 Temp     2.41 	 Delta  1870.80 	 OutFr   0.0074 	 RMSD     2.2748
Iter 009 	 Temp     2.24 	 Delta  1826.59 	 OutFr   0.0074 	 RMSD     2.2607
Iter 010 	 Temp     2.08 	 Delta  1779.93 	 OutFr   0.0098 	 RMSD     2.2492
Iter 011 	 Temp     1.94 	 Delta  1725.01 	 OutFr   0.0123 	 RMSD     2.2399
Iter 012 	 Temp     1.80 	 Delta  1655.99 	 OutFr   0.0221 	 RMSD     2.2323
Iter 013 	 Temp     1.67 	 Delta  1574.81 	 OutFr   0.0221 	 RMSD     2.2257
Iter 014 	 Temp     1.56 	 Delta  1487.57 	 OutFr   0.0221 	 RMSD     2.2201
Iter 015 	 Temp     1.45 	 Delta  1397.60 	 OutFr   0.0270 	 RMSD     2.2157
Iter 016 	 Temp     1.35 	 Delta  1304.69 	 OutFr   0.0294 	 RMSD     2.2120
Iter 017 	 Temp     1.25 	 Delta  1208.28 	 OutFr   0.0343 	 RMSD     2.2085
Iter 018 	 Temp     1.16 	 Delta  1107.97 	 OutFr   0.0441 	 RMSD     2.2051
Iter 019 	 Temp     1.08 	 Delta  1004.66 	 OutFr   0.0539 	 RMSD     2.2013
Iter 020 	 Temp     1.01 	 Delta   901.22 	 OutFr   0.0735 	 RMSD     2.1974
Iter 021 	 Temp     0.94 	 Delta   799.36 	 OutFr   0.0980 	 RMSD     2.1935
Iter 022 	 Temp     0.87 	 Delta   703.31 	 OutFr   0.1201 	 RMSD     2.1897
Iter 023 	 Temp     0.81 	 Delta   619.61 	 OutFr   0.1422 	 RMSD     2.1868
Iter 024 	 Temp     0.75 	 Delta   547.25 	 OutFr   0.1667 	 RMSD     2.1842
Iter 025 	 Temp     0.70 	 Delta   480.72 	 OutFr   0.1814 	 RMSD     2.1819
Iter 026 	 Temp     0.65 	 Delta   418.92 	 OutFr   0.2181 	 RMSD     2.1805
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.d3Mgpq0t/mybin.nii.gz
+ vtklevelset /tmp/ashs.d3Mgpq0t/mybin.nii.gz /tmp/ashs.d3Mgpq0t/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.d3Mgpq0t/mymesh.vtk /tmp/ashs.d3Mgpq0t/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2663.91995140 2420.69056072   0.90869493
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.d3Mgpq0t/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.1435 to 33.6768
   Y : -11.0078 to 27.2047
   Z : -14.694 to 12.5947
   Image resolution  : 94 by 139 by 107
   Image box origin  : {6.1435, -16.0078, -19.694}
   Image box size    : {32.6389, 48.2639, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.1435, 16.0078, -19.694]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -o /tmp/ashs.d3Mgpq0t/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -o /tmp/ashs.d3Mgpq0t/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.d3Mgpq0t/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 0.5'
CHUNK 0.894231 0.9 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 0.5
====================================
         PROGRESS: 0.894231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.d3Mgpq0t/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.d3Mgpq0t/fixed_hw.nii.gz /tmp/ashs.d3Mgpq0t/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.521812, moving = 0.423055
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.38844, 2.40239], [0.961632, 0.975077, 0.980772]
Level     0,  Iter     0:    Energy =   0.0324
Level     0,  Iter     1:    Energy =   0.0375
Level     0,  Iter     2:    Energy =   0.0418
Level     0,  Iter     3:    Energy =   0.0462
Level     0,  Iter     4:    Energy =   0.0509
Level     0,  Iter     5:    Energy =   0.0539
Level     0,  Iter     6:    Energy =   0.0563
Level     0,  Iter     7:    Energy =   0.0591
Level     0,  Iter     8:    Energy =   0.0613
Level     0,  Iter     9:    Energy =   0.0633
Level     0,  Iter    10:    Energy =   0.0652
Level     0,  Iter    11:    Energy =   0.0660
Level     0,  Iter    12:    Energy =   0.0664
Level     0,  Iter    13:    Energy =   0.0668
Level     0,  Iter    14:    Energy =   0.0674
Level     0,  Iter    15:    Energy =   0.0675
Level     0,  Iter    16:    Energy =   0.0681
Level     0,  Iter    17:    Energy =   0.0681
Level     0,  Iter    18:    Energy =   0.0687
Level     0,  Iter    19:    Energy =   0.0687
Level     0,  Iter    20:    Energy =   0.0693
Level     0,  Iter    21:    Energy =   0.0693
Level     0,  Iter    22:    Energy =   0.0699
Level     0,  Iter    23:    Energy =   0.0699
Level     0,  Iter    24:    Energy =   0.0704
Level     0,  Iter    25:    Energy =   0.0703
Level     0,  Iter    26:    Energy =   0.0707
Level     0,  Iter    27:    Energy =   0.0706
Level     0,  Iter    28:    Energy =   0.0709
Level     0,  Iter    29:    Energy =   0.0708
Level     0,  Iter    30:    Energy =   0.0710
Level     0,  Iter    31:    Energy =   0.0710
Level     0,  Iter    32:    Energy =   0.0712
Level     0,  Iter    33:    Energy =   0.0711
Level     0,  Iter    34:    Energy =   0.0714
Level     0,  Iter    35:    Energy =   0.0714
Level     0,  Iter    36:    Energy =   0.0715
Level     0,  Iter    37:    Energy =   0.0715
Level     0,  Iter    38:    Energy =   0.0717
Level     0,  Iter    39:    Energy =   0.0717
Level     0,  Iter    40:    Energy =   0.0718
Level     0,  Iter    41:    Energy =   0.0719
Level     0,  Iter    42:    Energy =   0.0718
Level     0,  Iter    43:    Energy =   0.0719
Level     0,  Iter    44:    Energy =   0.0718
Level     0,  Iter    45:    Energy =   0.0719
Level     0,  Iter    46:    Energy =   0.0720
Level     0,  Iter    47:    Energy =   0.0720
Level     0,  Iter    48:    Energy =   0.0721
Level     0,  Iter    49:    Energy =   0.0720
Level     0,  Iter    50:    Energy =   0.0721
Level     0,  Iter    51:    Energy =   0.0721
Level     0,  Iter    52:    Energy =   0.0721
Level     0,  Iter    53:    Energy =   0.0721
Level     0,  Iter    54:    Energy =   0.0720
Level     0,  Iter    55:    Energy =   0.0721
Level     0,  Iter    56:    Energy =   0.0721
Level     0,  Iter    57:    Energy =   0.0721
Level     0,  Iter    58:    Energy =   0.0722
Level     0,  Iter    59:    Energy =   0.0722
END OF LEVEL     0    DetJac Range:   0.3306  to   1.9442 
  Avg. Gradient Time  : 0.0064s  37.16% 
  Avg. Gaussian Time  : 0.0082s  47.51% 
  Avg. Iteration Time : 0.0173s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19422, 1.2012], [0.491046, 0.487539, 0.490386]
Level     1,  Iter     0:    Energy =   0.0464
Level     1,  Iter     1:    Energy =   0.0503
Level     1,  Iter     2:    Energy =   0.0529
Level     1,  Iter     3:    Energy =   0.0549
Level     1,  Iter     4:    Energy =   0.0564
Level     1,  Iter     5:    Energy =   0.0580
Level     1,  Iter     6:    Energy =   0.0595
Level     1,  Iter     7:    Energy =   0.0607
Level     1,  Iter     8:    Energy =   0.0616
Level     1,  Iter     9:    Energy =   0.0624
Level     1,  Iter    10:    Energy =   0.0631
Level     1,  Iter    11:    Energy =   0.0636
Level     1,  Iter    12:    Energy =   0.0641
Level     1,  Iter    13:    Energy =   0.0647
Level     1,  Iter    14:    Energy =   0.0652
Level     1,  Iter    15:    Energy =   0.0658
Level     1,  Iter    16:    Energy =   0.0665
Level     1,  Iter    17:    Energy =   0.0670
Level     1,  Iter    18:    Energy =   0.0676
Level     1,  Iter    19:    Energy =   0.0680
Level     1,  Iter    20:    Energy =   0.0685
Level     1,  Iter    21:    Energy =   0.0686
Level     1,  Iter    22:    Energy =   0.0688
Level     1,  Iter    23:    Energy =   0.0690
Level     1,  Iter    24:    Energy =   0.0692
Level     1,  Iter    25:    Energy =   0.0693
Level     1,  Iter    26:    Energy =   0.0694
Level     1,  Iter    27:    Energy =   0.0693
Level     1,  Iter    28:    Energy =   0.0694
Level     1,  Iter    29:    Energy =   0.0694
Level     1,  Iter    30:    Energy =   0.0695
Level     1,  Iter    31:    Energy =   0.0696
Level     1,  Iter    32:    Energy =   0.0697
Level     1,  Iter    33:    Energy =   0.0698
Level     1,  Iter    34:    Energy =   0.0699
Level     1,  Iter    35:    Energy =   0.0699
Level     1,  Iter    36:    Energy =   0.0701
Level     1,  Iter    37:    Energy =   0.0701
Level     1,  Iter    38:    Energy =   0.0701
Level     1,  Iter    39:    Energy =   0.0702
Level     1,  Iter    40:    Energy =   0.0702
Level     1,  Iter    41:    Energy =   0.0702
Level     1,  Iter    42:    Energy =   0.0702
Level     1,  Iter    43:    Energy =   0.0702
Level     1,  Iter    44:    Energy =   0.0703
Level     1,  Iter    45:    Energy =   0.0703
Level     1,  Iter    46:    Energy =   0.0704
Level     1,  Iter    47:    Energy =   0.0704
Level     1,  Iter    48:    Energy =   0.0704
Level     1,  Iter    49:    Energy =   0.0704
Level     1,  Iter    50:    Energy =   0.0704
Level     1,  Iter    51:    Energy =   0.0704
Level     1,  Iter    52:    Energy =   0.0704
Level     1,  Iter    53:    Energy =   0.0705
Level     1,  Iter    54:    Energy =   0.0705
Level     1,  Iter    55:    Energy =   0.0705
Level     1,  Iter    56:    Energy =   0.0705
Level     1,  Iter    57:    Energy =   0.0705
Level     1,  Iter    58:    Energy =   0.0705
Level     1,  Iter    59:    Energy =   0.0705
END OF LEVEL     1    DetJac Range:   0.0200  to   3.4722 
  Avg. Gradient Time  : 0.0359s  39.82% 
  Avg. Gaussian Time  : 0.0433s  48.12% 
  Avg. Iteration Time : 0.0900s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0358
Level     2,  Iter     1:    Energy =   0.0377
Level     2,  Iter     2:    Energy =   0.0394
Level     2,  Iter     3:    Energy =   0.0413
Level     2,  Iter     4:    Energy =   0.0429
Level     2,  Iter     5:    Energy =   0.0443
Level     2,  Iter     6:    Energy =   0.0454
Level     2,  Iter     7:    Energy =   0.0465
Level     2,  Iter     8:    Energy =   0.0474
Level     2,  Iter     9:    Energy =   0.0479
Level     2,  Iter    10:    Energy =   0.0485
Level     2,  Iter    11:    Energy =   0.0490
Level     2,  Iter    12:    Energy =   0.0495
Level     2,  Iter    13:    Energy =   0.0500
Level     2,  Iter    14:    Energy =   0.0504
Level     2,  Iter    15:    Energy =   0.0507
Level     2,  Iter    16:    Energy =   0.0510
Level     2,  Iter    17:    Energy =   0.0513
Level     2,  Iter    18:    Energy =   0.0515
Level     2,  Iter    19:    Energy =   0.0518
END OF LEVEL     2    DetJac Range:   0.0202  to   4.4137 
  Avg. Gradient Time  : 0.2482s  37.40% 
  Avg. Gaussian Time  : 0.3446s  51.93% 
  Avg. Iteration Time : 0.6637s 

real	0m22.345s
user	0m39.140s
sys	0m2.372s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 1'
CHUNK 0.894231 0.9 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 1
====================================
         PROGRESS: 0.894231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 4 successful
------------------------------------------------
[0m
****************************************
Starting stage 5: Boostrapped joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 5: Boostrapped joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 13, 5], [61, 63, 44] (169092 pixels)
Computing mask based on input segmentations
  Skipping 85356 out of 169092 voxels.
.......................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
76:88:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 337643
tc: 16821
mean intensity : sample #  192.511:27410
center location: (34.7355,44.553,25.3471) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2153
tc: 16821
center location: (26.156,35.7756,15.5797) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2670
tc: 16821
center location: (31.3006,42.9913,25.6996) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6598
tc: 16821
center location: (42.6068,45.4648,25.8511) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 322
tc: 16821
center location: (54.0991,49.8338,32.753) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3775
tc: 16821
center location: (45.0993,47.2654,29.7445) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 522
tc: 16821
center location: (39.783,51.5958,27.6432) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 19
tc: 16821
center location: (54.0491,41.3239,24.7468) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 762
tc: 16821
center location: (31.372,53.8032,46.1621) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
76:88:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 337643
tc: 16821
center location: (34.7355,44.553,25.3471) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2153
tc: 16821
center location: (26.156,35.7756,15.5797) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2670
tc: 16821
center location: (31.3006,42.9913,25.6996) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6598
tc: 16821
center location: (42.6068,45.4648,25.8511) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 322
tc: 16821
center location: (54.0991,49.8338,32.753) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3775
tc: 16821
center location: (45.0993,47.2654,29.7445) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 522
tc: 16821
center location: (39.783,51.5958,27.6432) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 19
tc: 16821
center location: (54.0491,41.3239,24.7468) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 762
tc: 16821
center location: (31.372,53.8032,46.1621) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc left bootstrap heur
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.dV6yjRUD/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.dV6yjRUD/sag_seg_%02d.png
++ ls /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/qa.png
+ convert /tmp/ashs.dV6yjRUD/qa.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.dV6yjRUD/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_usegray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.dV6yjRUD/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.dV6yjRUD/sag_seg_%02d.png
++ ls /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/qa.png
+ convert /tmp/ashs.dV6yjRUD/qa.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.dV6yjRUD/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_nogray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.dV6yjRUD/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.dV6yjRUD/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.dV6yjRUD/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.dV6yjRUD/sag_seg_%02d.png
++ ls /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.dV6yjRUD/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.dV6yjRUD/cor_tse_00.png /tmp/ashs.dV6yjRUD/cor_tse_01.png /tmp/ashs.dV6yjRUD/cor_tse_02.png /tmp/ashs.dV6yjRUD/cor_tse_03.png /tmp/ashs.dV6yjRUD/cor_tse_04.png /tmp/ashs.dV6yjRUD/sag_tse_00.png /tmp/ashs.dV6yjRUD/sag_tse_01.png /tmp/ashs.dV6yjRUD/cor_mprage_00.png /tmp/ashs.dV6yjRUD/cor_mprage_01.png /tmp/ashs.dV6yjRUD/cor_mprage_02.png /tmp/ashs.dV6yjRUD/cor_mprage_03.png /tmp/ashs.dV6yjRUD/cor_mprage_04.png /tmp/ashs.dV6yjRUD/sag_mprage_00.png /tmp/ashs.dV6yjRUD/sag_mprage_01.png /tmp/ashs.dV6yjRUD/cor_seg_00.png /tmp/ashs.dV6yjRUD/cor_seg_03.png /tmp/ashs.dV6yjRUD/cor_seg_06.png /tmp/ashs.dV6yjRUD/cor_seg_09.png /tmp/ashs.dV6yjRUD/cor_seg_12.png /tmp/ashs.dV6yjRUD/sag_seg_00.png /tmp/ashs.dV6yjRUD/sag_seg_03.png /tmp/ashs.dV6yjRUD/qa.png
+ convert /tmp/ashs.dV6yjRUD/qa.png -bordercolor Black -border 1x1 /tmp/ashs.dV6yjRUD/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:left /tmp/ashs.dV6yjRUD/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.9 0.925
+ echo 'CHUNK 0.9 0.925 1'
CHUNK 0.9 0.925 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.9 0.925 1
====================================
         PROGRESS: 0.9               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [8, 16, 4], [65, 55, 43] (153725 pixels)
Computing mask based on input segmentations
  Skipping 71247 out of 153725 voxels.
.........................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
79:86:51
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 330096
tc: 16398
mean intensity : sample #  202.851:27052
center location: (40.3697,45.2406,24.451) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 1767
tc: 16398
center location: (49.3256,34.6021,14.7991) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2610
tc: 16398
center location: (43.8697,42.9833,24.7076) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6903
tc: 16398
center location: (31.5988,46.2104,24.6234) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 304
tc: 16398
center location: (18.9261,52.0982,31.8491) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3714
tc: 16398
center location: (28.7256,48.3518,28.4627) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 449
tc: 16398
center location: (31.5444,52.1618,27.0722) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 15
tc: 16398
center location: (21.9201,45.3998,20.808) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 636
tc: 16398
center location: (41.6279,56.2823,43.3797) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
79:86:51
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 330096
tc: 16398
center location: (40.3697,45.2406,24.451) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 1767
tc: 16398
center location: (49.3256,34.6021,14.7991) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2610
tc: 16398
center location: (43.8697,42.9833,24.7076) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6903
tc: 16398
center location: (31.5988,46.2104,24.6234) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 304
tc: 16398
center location: (18.9261,52.0982,31.8491) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3714
tc: 16398
center location: (28.7256,48.3518,28.4627) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 449
tc: 16398
center location: (31.5444,52.1618,27.0722) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 15
tc: 16398
center location: (21.9201,45.3998,20.808) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 636
tc: 16398
center location: (41.6279,56.2823,43.3797) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc right bootstrap heur
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.edmX5dWV/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.edmX5dWV/sag_seg_%02d.png
++ ls /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/qa.png
+ convert /tmp/ashs.edmX5dWV/qa.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.edmX5dWV/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_usegray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.edmX5dWV/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.edmX5dWV/sag_seg_%02d.png
++ ls /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/qa.png
+ convert /tmp/ashs.edmX5dWV/qa.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.edmX5dWV/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_nogray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.edmX5dWV/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.edmX5dWV/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.edmX5dWV/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.edmX5dWV/sag_seg_%02d.png
++ ls /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.edmX5dWV/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.edmX5dWV/cor_tse_00.png /tmp/ashs.edmX5dWV/cor_tse_01.png /tmp/ashs.edmX5dWV/cor_tse_02.png /tmp/ashs.edmX5dWV/cor_tse_03.png /tmp/ashs.edmX5dWV/cor_tse_04.png /tmp/ashs.edmX5dWV/sag_tse_00.png /tmp/ashs.edmX5dWV/sag_tse_01.png /tmp/ashs.edmX5dWV/cor_mprage_00.png /tmp/ashs.edmX5dWV/cor_mprage_01.png /tmp/ashs.edmX5dWV/cor_mprage_02.png /tmp/ashs.edmX5dWV/cor_mprage_03.png /tmp/ashs.edmX5dWV/cor_mprage_04.png /tmp/ashs.edmX5dWV/sag_mprage_00.png /tmp/ashs.edmX5dWV/sag_mprage_01.png /tmp/ashs.edmX5dWV/cor_seg_00.png /tmp/ashs.edmX5dWV/cor_seg_03.png /tmp/ashs.edmX5dWV/cor_seg_06.png /tmp/ashs.edmX5dWV/cor_seg_09.png /tmp/ashs.edmX5dWV/cor_seg_12.png /tmp/ashs.edmX5dWV/sag_seg_00.png /tmp/ashs.edmX5dWV/sag_seg_03.png /tmp/ashs.edmX5dWV/qa.png
+ convert /tmp/ashs.edmX5dWV/qa.png -bordercolor Black -border 1x1 /tmp/ashs.edmX5dWV/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ montage -label 27137:right /tmp/ashs.edmX5dWV/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.925 0.95
+ echo 'CHUNK 0.925 0.95 1'
CHUNK 0.925 0.95 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.925 0.95 1
====================================
         PROGRESS: 0.925               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 5 successful
------------------------------------------------
[0m
****************************************
Starting stage 6: Final QA
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 6: Final QA
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion
+ WQA=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ ASHS_LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/gray_left.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/masv_left.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/final_left.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/bc_left.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 8] [76, 88, 41]
Resampling #1 to have[304, 352, 41] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [5.34906, -28.838, -32.4077]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [5.18399, -28.7804, -32.5602]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 64
Quantile 0.99 maps to 672
Scaling #2 by 0.419408 and adding -26.8421
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [267.625, 202.625, 9]
  Reference voxel [152, 176, 20.5] => moving voxel [305.625, 246.625, 29.5]
  Reference voxel [303, 351, 40] => moving voxel [343.375, 290.375, 49]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 8]
  Reference voxel [152, 176, 20.5] => moving voxel [37.625, 43.625, 28.5]
  Reference voxel [303, 351, 40] => moving voxel [75.375, 87.375, 48]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 352, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 352, 1];  bb = {[-38.2104 21.8887 11.2336], [-4.96041 60.3887 12.3336]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 225.641];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 352, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 352, 1];  bb = {[-38.2104 21.8887 11.2336], [-4.96041 60.3887 12.3336]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [304, 352, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [304, 352, 1];  bb = {[-38.2104 21.8887 11.2336], [-4.96041 60.3887 12.3336]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [304, 352, 1];  bb = {[-38.2104 21.8887 11.2336], [-4.96041 60.3887 12.3336]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 225.641];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/gray_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/masv_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/final_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/bc_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/gray_right.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/masv_right.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/final_right.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/bc_right.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 6] [79, 86, 41]
Resampling #1 to have[316, 344, 41] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [-38.7607, -33.737, -27.93]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [-38.9258, -33.6794, -28.0825]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 64
Quantile 0.99 maps to 672
Scaling #2 by 0.419408 and adding -26.8421
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [166.625, 215.625, 7]
  Reference voxel [158, 172, 20.5] => moving voxel [206.125, 258.625, 27.5]
  Reference voxel [315, 343, 40] => moving voxel [245.375, 301.375, 47]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 6]
  Reference voxel [158, 172, 20.5] => moving voxel [39.125, 42.625, 26.5]
  Reference voxel [315, 343, 40] => moving voxel [78.375, 85.375, 46]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [316, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [316, 344, 1];  bb = {[4.5926 26.4431 14.8978], [39.1551 64.0681 15.9978]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 255];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [316, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [316, 344, 1];  bb = {[4.5926 26.4431 14.8978], [39.1551 64.0681 15.9978]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 20 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 20] [316, 344, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [316, 344, 1];  bb = {[4.5926 26.4431 14.8978], [39.1551 64.0681 15.9978]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [316, 344, 1];  bb = {[4.5926 26.4431 14.8978], [39.1551 64.0681 15.9978]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 255];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/gray_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/masv_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/final_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa/bc_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/qa
+ cat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.95 0.98'
CHUNK 0.95 0.98
+ echo 1
+ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.95 0.98
+ echo 'CHUNK 0.95 0.98 1'
CHUNK 0.95 0.98 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.95 0.98 1
====================================
         PROGRESS: 0.95               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 6 successful
------------------------------------------------
[0m
****************************************
Starting stage 7: Statistics and volume computation
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 7: Statistics and volume 
computation
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_extractstats_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  SUBJECT: 27137
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion
+ WSTAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final
+ cat /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ awk '$1 > 0 {split($0,arr,"\""); sub(/[ \t]+/,"_",arr[2]); print $1,arr[2]}'
+ LABIDS=($(cat $TMPDIR/labels.txt | awk '{print $1}'))
++ cat /tmp/ashs.9ZYVDPyZ/labels.txt
++ awk '{print $1}'
+ LABNAMES=($(cat $TMPDIR/labels.txt | awk '{print $2}'))
++ cat /tmp/ashs.9ZYVDPyZ/labels.txt
++ awk '{print $2}'
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      337643     71089.680     76    88    53
    1       1.00000     0.00000     1.00000     1.00000        2153       453.307     36    41    20
    2       2.00000     0.00000     2.00000     2.00000        2670       562.160     37    22    34
    3       3.00000     0.00000     3.00000     3.00000        6598      1389.188     53    31    34
    4       4.00000     0.00000     4.00000     4.00000         322        67.796     17    11    22
    5       5.00000     0.00000     5.00000     5.00000        3775       794.814     40    23    29
    6       6.00000     0.00000     6.00000     6.00000         522       109.905     33    14    23
    7       7.00000     0.00000     7.00000     7.00000          19         4.000      8     8    13
    8       8.00000     0.00000     8.00000     8.00000         762       160.437     27    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=453.307
+ [[ -n 20 ]]
+ echo 27137 left ERC 20 453.307
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=562.160
+ [[ -n 34 ]]
+ echo 27137 left SUB 34 562.160
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1389.188
+ [[ -n 34 ]]
+ echo 27137 left CA1 34 1389.188
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=67.796
+ [[ -n 22 ]]
+ echo 27137 left CA2 22 67.796
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=794.814
+ [[ -n 29 ]]
+ echo 27137 left DG 29 794.814
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=109.905
+ [[ -n 23 ]]
+ echo 27137 left CA3 23 109.905
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.000
+ [[ -n 13 ]]
+ echo 27137 left Cyst 13 4.000
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=160.437
+ [[ -n 4 ]]
+ echo 27137 left Tail 4 160.437
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      330096     69500.683     79    86    51
    1       1.00000     0.00000     1.00000     1.00000        1767       372.036     37    35    20
    2       2.00000     0.00000     2.00000     2.00000        2610       549.527     44    20    33
    3       3.00000     0.00000     3.00000     3.00000        6903      1453.405     58    27    34
    4       4.00000     0.00000     4.00000     4.00000         304        64.006     14    12    23
    5       5.00000     0.00000     5.00000     5.00000        3714       781.971     43    24    28
    6       6.00000     0.00000     6.00000     6.00000         449        94.536     34    18    22
    7       7.00000     0.00000     7.00000     7.00000          15         3.158      7     7    13
    8       8.00000     0.00000     8.00000     8.00000         636       133.908     32    18     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=372.036
+ [[ -n 20 ]]
+ echo 27137 right ERC 20 372.036
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=549.527
+ [[ -n 33 ]]
+ echo 27137 right SUB 33 549.527
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1453.405
+ [[ -n 34 ]]
+ echo 27137 right CA1 34 1453.405
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=64.006
+ [[ -n 23 ]]
+ echo 27137 right CA2 23 64.006
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=781.971
+ [[ -n 28 ]]
+ echo 27137 right DG 28 781.971
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=94.536
+ [[ -n 22 ]]
+ echo 27137 right CA3 22 94.536
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=3.158
+ [[ -n 13 ]]
+ echo 27137 right Cyst 13 3.158
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=133.908
+ [[ -n 5 ]]
+ echo 27137 right Tail 5 133.908
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      337643     71089.680     76    88    53
    1       1.00000     0.00000     1.00000     1.00000        2153       453.307     36    41    20
    2       2.00000     0.00000     2.00000     2.00000        2670       562.160     37    22    34
    3       3.00000     0.00000     3.00000     3.00000        6598      1389.188     53    31    34
    4       4.00000     0.00000     4.00000     4.00000         322        67.796     17    11    22
    5       5.00000     0.00000     5.00000     5.00000        3775       794.814     40    23    29
    6       6.00000     0.00000     6.00000     6.00000         522       109.905     33    14    23
    7       7.00000     0.00000     7.00000     7.00000          19         4.000      8     8    13
    8       8.00000     0.00000     8.00000     8.00000         762       160.437     27    21     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=453.307
+ [[ -n 20 ]]
+ echo 27137 left ERC 20 453.307
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=562.160
+ [[ -n 34 ]]
+ echo 27137 left SUB 34 562.160
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1389.188
+ [[ -n 34 ]]
+ echo 27137 left CA1 34 1389.188
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=67.796
+ [[ -n 22 ]]
+ echo 27137 left CA2 22 67.796
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=794.814
+ [[ -n 29 ]]
+ echo 27137 left DG 29 794.814
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=109.905
+ [[ -n 23 ]]
+ echo 27137 left CA3 23 109.905
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.000
+ [[ -n 13 ]]
+ echo 27137 left Cyst 13 4.000
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=160.437
+ [[ -n 4 ]]
+ echo 27137 left Tail 4 160.437
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      330096     69500.683     79    86    51
    1       1.00000     0.00000     1.00000     1.00000        1767       372.036     37    35    20
    2       2.00000     0.00000     2.00000     2.00000        2610       549.527     44    20    33
    3       3.00000     0.00000     3.00000     3.00000        6903      1453.405     58    27    34
    4       4.00000     0.00000     4.00000     4.00000         304        64.006     14    12    23
    5       5.00000     0.00000     5.00000     5.00000        3714       781.971     43    24    28
    6       6.00000     0.00000     6.00000     6.00000         449        94.536     34    18    22
    7       7.00000     0.00000     7.00000     7.00000          15         3.158      7     7    13
    8       8.00000     0.00000     8.00000     8.00000         636       133.908     32    18     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=372.036
+ [[ -n 20 ]]
+ echo 27137 right ERC 20 372.036
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=33
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=549.527
+ [[ -n 33 ]]
+ echo 27137 right SUB 33 549.527
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1453.405
+ [[ -n 34 ]]
+ echo 27137 right CA1 34 1453.405
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=64.006
+ [[ -n 23 ]]
+ echo 27137 right CA2 23 64.006
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=28
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=781.971
+ [[ -n 28 ]]
+ echo 27137 right DG 28 781.971
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=94.536
+ [[ -n 22 ]]
+ echo 27137 right CA3 22 94.536
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=3.158
+ [[ -n 13 ]]
+ echo 27137 right Cyst 13 3.158
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=133.908
+ [[ -n 5 ]]
+ echo 27137 right Tail 5 133.908
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      337617     71084.206     76    88    53
    1       1.00000     0.00000     1.00000     1.00000        2000       421.094     31    39    22
    2       2.00000     0.00000     2.00000     2.00000        2738       576.477     38    22    35
    3       3.00000     0.00000     3.00000     3.00000        6997      1473.197     54    31    35
    4       4.00000     0.00000     4.00000     4.00000         128        26.950     10     9    18
    5       5.00000     0.00000     5.00000     5.00000        3992       840.503     37    22    30
    6       6.00000     0.00000     6.00000     6.00000         180        37.898     32     9    21
    7       7.00000     0.00000     7.00000     7.00000           3         0.632      8     4    13
    8       8.00000     0.00000     8.00000     8.00000         809       170.332     25    18     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=421.094
+ [[ -n 22 ]]
+ echo 27137 left ERC 22 421.094
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=576.477
+ [[ -n 35 ]]
+ echo 27137 left SUB 35 576.477
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1473.197
+ [[ -n 35 ]]
+ echo 27137 left CA1 35 1473.197
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=18
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=26.950
+ [[ -n 18 ]]
+ echo 27137 left CA2 18 26.950
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=30
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=840.503
+ [[ -n 30 ]]
+ echo 27137 left DG 30 840.503
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=37.898
+ [[ -n 21 ]]
+ echo 27137 left CA3 21 37.898
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.632
+ [[ -n 13 ]]
+ echo 27137 left Cyst 13 0.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=170.332
+ [[ -n 6 ]]
+ echo 27137 left Tail 6 170.332
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      331058     69703.229     79    86    51
    1       1.00000     0.00000     1.00000     1.00000         928       195.388     27    32    19
    2       2.00000     0.00000     2.00000     2.00000        2530       532.684     40    19    35
    3       3.00000     0.00000     3.00000     3.00000        7631      1606.683     59    27    34
    4       4.00000     0.00000     4.00000     4.00000          76        16.002     13     9    19
    5       5.00000     0.00000     5.00000     5.00000        3905       822.186     38    23    29
    6       6.00000     0.00000     6.00000     6.00000         133        28.003     32    12    21
    7       7.00000     0.00000     7.00000     7.00000           4         0.842      4     6     9
    8       8.00000     0.00000     8.00000     8.00000         229        48.215     19    16     7
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=195.388
+ [[ -n 19 ]]
+ echo 27137 right ERC 19 195.388
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=532.684
+ [[ -n 35 ]]
+ echo 27137 right SUB 35 532.684
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1606.683
+ [[ -n 34 ]]
+ echo 27137 right CA1 34 1606.683
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=16.002
+ [[ -n 19 ]]
+ echo 27137 right CA2 19 16.002
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=822.186
+ [[ -n 29 ]]
+ echo 27137 right DG 29 822.186
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=28.003
+ [[ -n 21 ]]
+ echo 27137 right CA3 21 28.003
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=9
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=0.842
+ [[ -n 9 ]]
+ echo 27137 right Cyst 9 0.842
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=7
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=48.215
+ [[ -n 7 ]]
+ echo 27137 right Tail 7 48.215
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      338087     71183.163     76    88    53
    1       1.00000     0.00000     1.00000     1.00000        1842       387.827     27    37    21
    2       2.00000     0.00000     2.00000     2.00000        2705       569.529     38    22    35
    3       3.00000     0.00000     3.00000     3.00000        6762      1423.718     53    30    35
    4       4.00000     0.00000     4.00000     4.00000         127        26.739      8     6    14
    5       5.00000     0.00000     5.00000     5.00000        3783       796.499     36    21    30
    6       6.00000     0.00000     6.00000     6.00000         195        41.057     31    10    21
    7       7.00000     0.00000     7.00000     7.00000          22         4.632      9     7    14
    8       8.00000     0.00000     8.00000     8.00000         941       198.125     24    19     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_left_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=387.827
+ [[ -n 21 ]]
+ echo 27137 left ERC 21 387.827
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=569.529
+ [[ -n 35 ]]
+ echo 27137 left SUB 35 569.529
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=35
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1423.718
+ [[ -n 35 ]]
+ echo 27137 left CA1 35 1423.718
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=26.739
+ [[ -n 14 ]]
+ echo 27137 left CA2 14 26.739
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=30
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=796.499
+ [[ -n 30 ]]
+ echo 27137 left DG 30 796.499
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=41.057
+ [[ -n 21 ]]
+ echo 27137 left CA3 21 41.057
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.632
+ [[ -n 14 ]]
+ echo 27137 left Cyst 14 4.632
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=198.125
+ [[ -n 6 ]]
+ echo 27137 left Tail 6 198.125
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz ]]
+ STATS=/tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      331384     69771.867     79    86    51
    1       1.00000     0.00000     1.00000     1.00000         882       185.702     24    30    19
    2       2.00000     0.00000     2.00000     2.00000        2361       497.101     43    20    34
    3       3.00000     0.00000     3.00000     3.00000        7462      1571.101     59    27    34
    4       4.00000     0.00000     4.00000     4.00000          33         6.948     14     9    15
    5       5.00000     0.00000     5.00000     5.00000        4029       848.293     38    24    29
    6       6.00000     0.00000     6.00000     6.00000         120        25.266     32     8    19
    7       7.00000     0.00000     7.00000     7.00000          16         3.369      7     6    13
    8       8.00000     0.00000     8.00000     8.00000         207        43.583     16    16     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/final/27137_right_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=185.702
+ [[ -n 19 ]]
+ echo 27137 right ERC 19 185.702
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=497.101
+ [[ -n 34 ]]
+ echo 27137 right SUB 34 497.101
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1571.101
+ [[ -n 34 ]]
+ echo 27137 right CA1 34 1571.101
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=15
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=6.948
+ [[ -n 15 ]]
+ echo 27137 right CA2 15 6.948
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=848.293
+ [[ -n 29 ]]
+ echo 27137 right DG 29 848.293
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=19
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=25.266
+ [[ -n 19 ]]
+ echo 27137 right CA3 19 25.266
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=3.369
+ [[ -n 13 ]]
+ echo 27137 right Cyst 13 3.369
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.9ZYVDPyZ/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=43.583
+ [[ -n 6 ]]
+ echo 27137 right Tail 6 43.583
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ [[ -f /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz ]]
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz /tmp/ashs.9ZYVDPyZ/icv.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/mprage.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
++ voxel_size /tmp/ashs.9ZYVDPyZ/icv.nii.gz
+++ c3d /tmp/ashs.9ZYVDPyZ/icv.nii.gz -info-full
+++ sed -e 's/[^0-9\.]/ /g'
+++ grep Spacing
+++ awk '{print $1*$2*$3}'
++ echo 0.343
+ VVOX=0.343
++ c3d /tmp/ashs.9ZYVDPyZ/icv.nii.gz -thresh 0.5 inf 1 0 -dup -lstat
++ tail -n 1
++ awk '{print $6}'
+ VOLUME=3559764
++ echo '0.343 3559764'
++ awk '{print $1*$2}'
+ ICV=1.221e+06
+ echo 27137 1.221e+06
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.98 1.0'
CHUNK 0.98 1.0
+ echo 1
+ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.98 1
+ echo 'CHUNK 0.98 1 1'
CHUNK 0.98 1 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.98 1 1
====================================
         PROGRESS: 0.98               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 7 successful
------------------------------------------------
[0m
Beginning ASHS for:  27137
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/n42_t2.nii
Beginning ASHS for:  27137
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27137/20200213_U-ID48042/Series_033_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 112: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/originalskullstripped: No such file or directory
Beginning ASHS for:  27137
Beginning ASHS for:  27137
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 139: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/DenoiseT1N4T2Utrecht: No such file or directory
Beginning ASHS for:  27137
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 149: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27137/DenoiseT1N4T2Utrecht: No such file or directory
