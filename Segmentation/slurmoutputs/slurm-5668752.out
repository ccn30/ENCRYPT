Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5668752
======
Time: Thu Jan  7 19:32:33 GMT 2021
Running on master node: wbic-cs-40
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-40

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 27241/20200914_U-ID49906 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

mkdir: cannot create directory â€˜/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241â€™: File exists
Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
ASHS started at 19:32:33


 ASHS completed for 27241 at 19:32:33, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  27241
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 164: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht: No such file or directory
ASHS started at 19:32:33
ashs_main execution log
  timestamp:   Thu Jan  7 19:32:33 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 27241 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseBrain
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=27241
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27241/20200914_U-ID49906/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.t84spHRF/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.t84spHRF/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1934.65   GNORM= 27.6984
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1938.104      14.641       0.010
   2    4     -1939.542      12.743       1.000
   3    5     -1944.141       4.263       1.000
   4    6     -1944.609       4.927       1.000
   5    7     -1944.621       2.978       1.000
   6    8     -1944.673       2.128       1.000
   7   10     -1944.693       1.165       0.157
   8   13     -1944.719       0.989       1.836
   9   15     -1944.723       1.020       0.273
  10   17     -1944.725       1.263       0.242
  11   18     -1944.726       0.778       1.000
  12   19     -1944.728       0.686       1.000
  13   20     -1944.728       0.499       1.000
  14   21     -1944.729       1.166       1.000
  15   22     -1944.730       0.697       1.000
  16   23     -1944.730       0.396       1.000
  17   26     -1944.731       0.733       0.629
  18   28     -1944.731       0.247       0.376
  19   33     -1944.731       0.403       0.215
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999866 0.0151749 -0.00619678 0.284834 
-0.0151002 0.999815 0.0119373 -0.411632 
0.00637678 -0.0118421 0.99991 0.323936 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1945.67   GNORM= 107.913
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1986.038      51.404       0.009
   2    3     -1992.793      18.295       1.000
   3    4     -1994.242      15.369       1.000
   4    5     -2002.503      14.084       1.000
   5    7     -2003.264      13.608       0.498
   6    8     -2003.814       4.739       1.000
   7    9     -2003.973       3.838       1.000
   8   10     -2004.086       3.404       1.000
   9   11     -2004.098       3.371       1.000
  10   12     -2004.156       0.234       1.000
  11   13     -2004.157       0.281       1.000
  12   15     -2004.157       0.184       0.199
  13   16     -2004.157       0.059       1.000
  14   17     -2004.157       0.078       1.000
  15   19     -2004.157       0.090       0.475
  16   21     -2004.157       0.048       0.424
  17   22     -2004.158       0.143       1.000
  18   23     -2004.158       0.043       1.000
  19   25     -2004.158       0.094       0.278
  20   27     -2004.158       0.100       0.379
  21   29     -2004.158       0.037       0.322
  22   30     -2004.158       0.032       1.000
  23   32     -2004.158       0.033       0.306
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999923 0.0124065 0.000984342 -0.015387 
-0.0124248 0.999692 0.021503 -0.732054 
-0.000717261 -0.0215136 0.999768 1.29086 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2587.04   GNORM= 108.277
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2592.993      19.078       0.001
   2    4     -2593.309      14.656       1.000
   3    5     -2593.826      20.161       1.000
   4    6     -2595.087      34.852       1.000
   5    7     -2596.677      38.370       1.000
   6    9     -2597.122      34.168       0.297
   7   10     -2597.964      14.247       1.000
   8   11     -2598.115       3.996       1.000
Final RAS Transform: 
0.999947 0.0101927 0.00138951 0.0148786 
-0.0102229 0.999665 0.02377 -0.764779 
-0.00114677 -0.0237829 0.999716 1.41488 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 57.79
Rigid search -> Initial best: -375.862 5.89806e-17 -7.15264e-19 -1.39057e-16 1.74365 43.5692 25.6372
New best: -631.591 0.0466339 0.00759078 0.0670481 -2.61227 50.2728 34.2124
New best: -644.81 0.0715428 0.0724489 -0.0507586 7.22479 55.0463 37.327
New best: -686.439 -0.00384622 0.00132025 0.00363836 7.95543 51.7791 39.4598
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -686.439   GNORM= 74.0318
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -687.770      24.743       0.004
   2    5      -687.804      11.301       0.138
   3    7      -687.837      13.423       0.301
   4    9      -688.079      12.200       5.000
   5   11      -688.417      28.331       0.249
   6   12      -688.529      24.374       1.000
   7   13      -689.000      40.934       1.000
   8   18      -689.002      25.400       0.001
   9   20      -689.080      19.165       5.000
  10   23      -689.114      10.689       0.064
  11   24      -689.134      13.634       1.000
  12   25      -689.177      22.182       1.000
  13   27      -689.201      21.121       0.490
  14   28      -689.242      34.126       1.000
  15   30      -689.245      33.820       0.060
  16   31      -689.284      59.602       1.000
  17   32      -689.328      28.369       1.000
  18   36      -689.335      26.598       0.112
  19   37      -689.378      23.389       1.000
  20   38      -689.401      69.777       1.000
  21   39      -689.443      27.478       1.000
  22   40      -689.453      28.805       1.000
  23   41      -689.462      13.020       1.000
  24   42      -689.472      10.029       1.000
  25   44      -689.501      21.112       0.476
  26   45      -689.508       4.713       1.000
  27   46      -689.509       3.628       1.000
  28   47      -689.509      13.756       1.000
  29   48      -689.510       6.529       1.000
  30   49      -689.511       2.805       1.000
  31   50      -689.513       6.660       1.000
  32   51      -689.515       6.363       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999967 -0.00806664 -0.000542099 7.77265 
0.00806821 0.999963 0.00295538 51.7344 
0.000518239 -0.00295966 0.999995 39.4189 
0 0 0 1 

Final RAS Transform: 
0.999967 -0.00806664 -0.000542099 7.77265 
0.00806821 0.999963 0.00295538 51.7344 
0.000518239 -0.00295966 0.999995 39.4189 
0 0 0 1 

Final RAS Transform: 
0.999967 -0.00806664 -0.000542099 7.77265 
0.00806821 0.999963 0.00295538 51.7344 
0.000518239 -0.00295966 0.999995 39.4189 
0 0 0 1 

Final RAS Transform: 
0.999967 -0.00806664 -0.000542099 7.77265 
0.00806821 0.999963 0.00295538 51.7344 
0.000518239 -0.00295966 0.999995 39.4189 
0 0 0 1 


real	1m28.890s
user	2m19.576s
sys	0m6.632s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 57.79
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -689.513   GNORM= 62.062
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5     -2387.439       5.818       1.370
   2    6     -2395.225       3.154       1.000
   3    8     -2396.006       1.408       0.314
   4   11     -2396.144       2.859       0.234
   5   12     -2397.946       1.799       1.000
   6   15     -2401.857       3.223       0.826
   7   18     -2401.991       3.075       0.042
   8   20     -2403.556       2.553       0.324
   9   21     -2404.824       1.856       1.000
  10   28     -2408.507       3.886       1.059
  11   35     -2408.571       3.433       0.000
  12   36     -2411.901       4.277       1.000
  13   40     -2411.923       1.361       0.019
  14   41     -2411.996       1.504       1.000
  15   48     -2412.210       1.904       0.196
  16   49     -2412.549       2.741       1.000
  17   52     -2413.059       1.469       1.952
  18   54     -2414.002       2.011       5.000
  19   55     -2414.515       1.675       1.000
  20   56     -2417.115       1.528       1.000
  21   58     -2417.151       1.430       0.095
  22   61     -2417.165       1.242       0.121
  23   62     -2417.352       1.477       1.000
  24   64     -2417.398       2.761       0.251
  25   67     -2417.440       2.746       0.051
  26   70     -2417.518       1.740       0.096
  27   75     -2417.555       1.463       0.068
  28   79     -2417.559       1.387       0.009
  29   81     -2417.576       1.966       0.151
  30   82     -2417.625       1.955       1.000
  31   92     -2417.669       3.132       0.098
  32   95     -2417.669       4.921       0.019
  33   99     -2417.835       2.510       4.042
  34  101     -2417.842       1.318       0.462
  35  103     -2417.844       1.341       0.128
  36  104     -2417.851       1.422       1.000
  37  105     -2417.855       0.955       1.000
  38  106     -2417.860       1.319       1.000
  39  108     -2417.862       1.010       0.268
  40  110     -2417.865       0.528       0.461
  41  112     -2417.865       1.073       0.265
  42  113     -2417.865       0.520       1.000
  43  114     -2417.866       0.484       1.000
  44  116     -2417.866       0.534       0.405
  45  117     -2417.866       0.839       1.000
  46  118     -2417.866       0.775       1.000
  47  119     -2417.867       1.062       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
2.05772 -0.247273 0.305193 -16.4147 
-0.160071 2.2369 -0.432652 40.7269 
0.437977 -0.480138 2.04771 37.5094 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2679.35   GNORM= 0.986579
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2679.881       0.860       1.014
   2    3     -2679.940       1.295       1.000
   3    5     -2679.971       0.646       0.219
   4    8     -2679.989       0.707       0.054
   5    9     -2680.053       0.589       1.000
   6   10     -2680.239       1.062       1.000
   7   11     -2680.742       0.910       1.000
   8   17     -2680.743       0.622       0.003
   9   22     -2680.999       0.637       4.823
  10   25     -2681.046       0.860       0.965
  11   26     -2681.367       0.500       1.000
  12   27     -2681.706       0.937       1.000
  13   28     -2681.900       0.543       1.000
  14   29     -2682.038       0.474       1.000
  15   30     -2682.088       0.736       1.000
  16   31     -2682.541       0.643       1.000
  17   34     -2682.803       0.255       0.078
  18   35     -2682.905       1.272       1.000
  19   36     -2682.989       0.451       1.000
  20   38     -2683.099       0.519       5.000
  21   41     -2683.124       0.719       0.088
  22   42     -2683.205       1.502       1.000
  23   43     -2683.245       0.842       1.000
  24   46     -2683.254       0.715       0.089
  25   47     -2683.264       0.464       1.000
  26   48     -2683.273       0.187       1.000
  27   50     -2683.291       0.281       5.000
  28   51     -2683.304       0.590       1.000
  29   55     -2683.323       0.318       0.067
  30   56     -2683.331       0.220       1.000
  31   58     -2683.348       0.519       0.423
  32   60     -2683.406       0.639       0.310
  33   61     -2683.412       0.418       1.000
  34   65     -2683.784       0.478       4.700
  35   69     -2684.492       0.860       1.343
  36   71     -2684.675       1.198       0.462
  37   76     -2684.676       1.551       0.001
  38   78     -2684.686       0.506       0.226
  39   80     -2684.787       0.412       5.000
  40   81     -2684.886       0.399       1.000
Final RAS Transform: 
2.12652 -0.282623 0.0961217 -25.7738 
-0.0941826 2.25505 -0.397393 43.2088 
0.40151 -0.409079 1.98213 34.3453 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.35   GNORM= 0.397383
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2800.397       0.159       2.516
   2    5     -2800.420       0.137       1.588
   3    7     -2800.432       0.133       0.457
   4    8     -2800.439       0.181       1.000
   5   12     -2800.440       0.176       0.004
   6   16     -2800.451       0.129       1.155
   7   19     -2800.454       0.185       1.937
   8   20     -2800.457       0.159       1.000
   9   21     -2800.473       0.417       1.000
  10   23     -2800.501       0.166       0.129
  11   24     -2800.504       0.189       1.000
  12   28     -2800.506       0.244       0.308
  13   32     -2800.507       0.100       0.284
  14   34     -2800.507       0.101       0.246
  15   37     -2800.510       0.090       2.307
  16   38     -2800.514       0.251       1.000
  17   41     -2800.520       0.246       1.948
Final RAS Transform: 
2.13423 -0.284366 0.0950205 -25.6985 
-0.0984218 2.25431 -0.396188 42.8808 
0.401723 -0.410672 1.98755 33.5335 
0 0 0 1 

Final RAS Transform: 
2.13423 -0.284366 0.0950205 -25.6985 
-0.0984218 2.25431 -0.396188 42.8808 
0.401723 -0.410672 1.98755 33.5335 
0 0 0 1 


real	4m27.001s
user	8m11.928s
sys	0m9.096s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 24
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/27241/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 0
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0010
Level     0,  Iter     1:    Energy =   0.0011
Level     0,  Iter     2:    Energy =   0.0014
Level     0,  Iter     3:    Energy =   0.0015
Level     0,  Iter     4:    Energy =   0.0017
Level     0,  Iter     5:    Energy =   0.0022
Level     0,  Iter     6:    Energy =   0.0023
Level     0,  Iter     7:    Energy =   0.0026
Level     0,  Iter     8:    Energy =   0.0029
Level     0,  Iter     9:    Energy =   0.0031
Level     0,  Iter    10:    Energy =   0.0036
Level     0,  Iter    11:    Energy =   0.0036
Level     0,  Iter    12:    Energy =   0.0038
Level     0,  Iter    13:    Energy =   0.0040
Level     0,  Iter    14:    Energy =   0.0042
Level     0,  Iter    15:    Energy =   0.0044
Level     0,  Iter    16:    Energy =   0.0043
Level     0,  Iter    17:    Energy =   0.0044
Level     0,  Iter    18:    Energy =   0.0044
Level     0,  Iter    19:    Energy =   0.0046
Level     0,  Iter    20:    Energy =   0.0046
Level     0,  Iter    21:    Energy =   0.0046
Level     0,  Iter    22:    Energy =   0.0046
Level     0,  Iter    23:    Energy =   0.0048
Level     0,  Iter    24:    Energy =   0.0048
Level     0,  Iter    25:    Energy =   0.0048
Level     0,  Iter    26:    Energy =   0.0048
Level     0,  Iter    27:    Energy =   0.0049
Level     0,  Iter    28:    Energy =   0.0050
Level     0,  Iter    29:    Energy =   0.0050
Level     0,  Iter    30:    Energy =   0.0052
Level     0,  Iter    31:    Energy =   0.0051
Level     0,  Iter    32:    Energy =   0.0051
Level     0,  Iter    33:    Energy =   0.0052
Level     0,  Iter    34:    Energy =   0.0052
Level     0,  Iter    35:    Energy =   0.0054
Level     0,  Iter    36:    Energy =   0.0053
Level     0,  Iter    37:    Energy =   0.0052
Level     0,  Iter    38:    Energy =   0.0054
Level     0,  Iter    39:    Energy =   0.0053
Level     0,  Iter    40:    Energy =   0.0055
Level     0,  Iter    41:    Energy =   0.0054
Level     0,  Iter    42:    Energy =   0.0052
Level     0,  Iter    43:    Energy =   0.0053
Level     0,  Iter    44:    Energy =   0.0052
Level     0,  Iter    45:    Energy =   0.0053
Level     0,  Iter    46:    Energy =   0.0056
Level     0,  Iter    47:    Energy =   0.0057
Level     0,  Iter    48:    Energy =   0.0055
Level     0,  Iter    49:    Energy =   0.0057
Level     0,  Iter    50:    Energy =   0.0057
Level     0,  Iter    51:    Energy =   0.0058
Level     0,  Iter    52:    Energy =   0.0058
Level     0,  Iter    53:    Energy =   0.0058
Level     0,  Iter    54:    Energy =   0.0059
Level     0,  Iter    55:    Energy =   0.0060
Level     0,  Iter    56:    Energy =   0.0061
Level     0,  Iter    57:    Energy =   0.0059
Level     0,  Iter    58:    Energy =   0.0058
Level     0,  Iter    59:    Energy =   0.0059
END OF LEVEL     0    DetJac Range:   0.2446  to   2.4544 
  Avg. Gradient Time  : 0.0202s  37.91% 
  Avg. Gaussian Time  : 0.0261s  49.00% 
  Avg. Iteration Time : 0.0534s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0029
Level     1,  Iter     1:    Energy =   0.0030
Level     1,  Iter     2:    Energy =   0.0030
Level     1,  Iter     3:    Energy =   0.0032
Level     1,  Iter     4:    Energy =   0.0031
Level     1,  Iter     5:    Energy =   0.0034
Level     1,  Iter     6:    Energy =   0.0034
Level     1,  Iter     7:    Energy =   0.0035
Level     1,  Iter     8:    Energy =   0.0035
big value: 1632.116563
Level     1,  Iter     9:    Energy =   0.0035
Level     1,  Iter    10:    Energy =   0.0034
Level     1,  Iter    11:    Energy =   0.0033
Level     1,  Iter    12:    Energy =   0.0035
Level     1,  Iter    13:    Energy =   0.0037
Level     1,  Iter    14:    Energy =   0.0036
Level     1,  Iter    15:    Energy =   0.0035
big value: 6034.794188
Level     1,  Iter    16:    Energy =   0.0037
Level     1,  Iter    17:    Energy =   0.0036
big value: 1331.397963
Level     1,  Iter    18:    Energy =   0.0035
Level     1,  Iter    19:    Energy =   0.0034
Level     1,  Iter    20:    Energy =   0.0033
Level     1,  Iter    21:    Energy =   0.0035
Level     1,  Iter    22:    Energy =   0.0036
Level     1,  Iter    23:    Energy =   0.0036
Level     1,  Iter    24:    Energy =   0.0037
Level     1,  Iter    25:    Energy =   0.0036
Level     1,  Iter    26:    Energy =   0.0035
Level     1,  Iter    27:    Energy =   0.0034
Level     1,  Iter    28:    Energy =   0.0035
Level     1,  Iter    29:    Energy =   0.0034
Level     1,  Iter    30:    Energy =   0.0034
Level     1,  Iter    31:    Energy =   0.0033
Level     1,  Iter    32:    Energy =   0.0032
Level     1,  Iter    33:    Energy =   0.0031
Level     1,  Iter    34:    Energy =   0.0032
big value: 1127.056546
Level     1,  Iter    35:    Energy =   0.0031
Level     1,  Iter    36:    Energy =   0.0030
big value: 1070.125706
Level     1,  Iter    37:    Energy =   0.0030
Level     1,  Iter    38:    Energy =   0.0029
Level     1,  Iter    39:    Energy =   0.0030
Level     1,  Iter    40:    Energy =   0.0029
Level     1,  Iter    41:    Energy =   0.0029
Level     1,  Iter    42:    Energy =   0.0029
Level     1,  Iter    43:    Energy =   0.0031
Level     1,  Iter    44:    Energy =   0.0030
big value: 5784.855579
big value: -1327.417061
Level     1,  Iter    45:    Energy =   0.0031
Level     1,  Iter    46:    Energy =   0.0030
big value: 3075.866103
Level     1,  Iter    47:    Energy =   0.0029
Level     1,  Iter    48:    Energy =   0.0028
Level     1,  Iter    49:    Energy =   0.0028
Level     1,  Iter    50:    Energy =   0.0027
big value: 1062.566100
Level     1,  Iter    51:    Energy =   0.0027
Level     1,  Iter    52:    Energy =   0.0026
Level     1,  Iter    53:    Energy =   0.0025
Level     1,  Iter    54:    Energy =   0.0026
Level     1,  Iter    55:    Energy =   0.0026
Level     1,  Iter    56:    Energy =   0.0027
Level     1,  Iter    57:    Energy =   0.0028
Level     1,  Iter    58:    Energy =   0.0028
Level     1,  Iter    59:    Energy =   0.0027
END OF LEVEL     1    DetJac Range:   0.4507  to   1.6780 
  Avg. Gradient Time  : 0.1622s  39.61% 
  Avg. Gaussian Time  : 0.2058s  50.25% 
  Avg. Iteration Time : 0.4095s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0011
Level     2,  Iter     1:    Energy =   0.0011
big value: -1733.766620
big value: 4981.507239
Level     2,  Iter     2:    Energy =   0.0011
big value: 4955.309504
Level     2,  Iter     3:    Energy =   0.0011
big value: 1499.486269
big value: -5088.511846
big value: 5913.350593
Level     2,  Iter     4:    Energy =   0.0011
Level     2,  Iter     5:    Energy =   0.0011
big value: -1067.252803
big value: -1672.853879
Level     2,  Iter     6:    Energy =   0.0011
big value: 1568.584588
big value: 2028.046139
big value: 1826.350919
Level     2,  Iter     7:    Energy =   0.0011
big value: -15501.946784
big value: 3224.823606
big value: -3036.012985
Level     2,  Iter     8:    Energy =   0.0011
big value: 1644.762974
Level     2,  Iter     9:    Energy =   0.0011
big value: 1872.905164
big value: -1210.882391
big value: -1242.446368
Level     2,  Iter    10:    Energy =   0.0011
big value: 1463.844855
Level     2,  Iter    11:    Energy =   0.0011
big value: 3068.498190
big value: 1599.919370
big value: 1835.987734
Level     2,  Iter    12:    Energy =   0.0011
big value: 1674.520736
big value: 1530.359342
big value: 7038.771944
big value: 1011.042710
Level     2,  Iter    13:    Energy =   0.0011
big value: 2930.656314
big value: 1407.439796
Level     2,  Iter    14:    Energy =   0.0011
big value: -1060.317058
big value: 4033.436697
big value: 2537.998847
Level     2,  Iter    15:    Energy =   0.0010
Level     2,  Iter    16:    Energy =   0.0010
Level     2,  Iter    17:    Energy =   0.0010
Level     2,  Iter    18:    Energy =   0.0010
Level     2,  Iter    19:    Energy =   0.0010
END OF LEVEL     2    DetJac Range:   0.5183  to   1.5132 
  Avg. Gradient Time  : 1.4592s  34.61% 
  Avg. Gaussian Time  : 2.4075s  57.11% 
  Avg. Iteration Time : 4.2159s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]
slurmstepd: error: Job 5668752 exceeded memory limit (7175112 > 7168000), being killed
slurmstepd: error: Exceeded job memory limit
slurmstepd: error: *** JOB 5668752 ON wbic-cs-40 CANCELLED AT 2021-01-07T19:44:33 ***
